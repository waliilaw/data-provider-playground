{"version":3,"file":"141.js","sources":["webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/Batcher.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/Bottleneck.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/BottleneckError.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/DLList.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/Events.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/Group.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/IORedisConnection.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/Job.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/LocalDatastore.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/Queues.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/RedisConnection.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/RedisDatastore.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/Scripts.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/States.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/Sync.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/index.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/bottleneck@2.19.5/node_modules/bottleneck/lib/parser.js","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/@orpc+client@1.10.0/node_modules/@orpc/client/dist/shared/client.Bi0qwEze.mjs","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/@orpc+experimental-publisher@1.10.0/node_modules/@orpc/experimental-publisher/dist/adapters/ioredis.mjs","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/@orpc+experimental-publisher@1.10.0/node_modules/@orpc/experimental-publisher/dist/adapters/memory.mjs","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/@orpc+experimental-publisher@1.10.0/node_modules/@orpc/experimental-publisher/dist/adapters/upstash-redis.mjs","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/@orpc+experimental-publisher@1.10.0/node_modules/@orpc/experimental-publisher/dist/shared/experimental-publisher.BtlOkhPO.mjs","webpack://near-intents_debridge-data-provider/../../node_modules/.bun/decimal.js@10.6.0/node_modules/decimal.js/decimal.mjs"],"sourcesContent":["\"use strict\";\n\nvar Batcher, Events, parser;\nparser = require(\"./parser\");\nEvents = require(\"./Events\");\n\nBatcher = function () {\n  class Batcher {\n    constructor(options = {}) {\n      this.options = options;\n      parser.load(this.options, this.defaults, this);\n      this.Events = new Events(this);\n      this._arr = [];\n\n      this._resetPromise();\n\n      this._lastFlush = Date.now();\n    }\n\n    _resetPromise() {\n      return this._promise = new this.Promise((res, rej) => {\n        return this._resolve = res;\n      });\n    }\n\n    _flush() {\n      clearTimeout(this._timeout);\n      this._lastFlush = Date.now();\n\n      this._resolve();\n\n      this.Events.trigger(\"batch\", this._arr);\n      this._arr = [];\n      return this._resetPromise();\n    }\n\n    add(data) {\n      var ret;\n\n      this._arr.push(data);\n\n      ret = this._promise;\n\n      if (this._arr.length === this.maxSize) {\n        this._flush();\n      } else if (this.maxTime != null && this._arr.length === 1) {\n        this._timeout = setTimeout(() => {\n          return this._flush();\n        }, this.maxTime);\n      }\n\n      return ret;\n    }\n\n  }\n\n  ;\n  Batcher.prototype.defaults = {\n    maxTime: null,\n    maxSize: null,\n    Promise: Promise\n  };\n  return Batcher;\n}.call(void 0);\n\nmodule.exports = Batcher;","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar Bottleneck,\n    DEFAULT_PRIORITY,\n    Events,\n    Job,\n    LocalDatastore,\n    NUM_PRIORITIES,\n    Queues,\n    RedisDatastore,\n    States,\n    Sync,\n    parser,\n    splice = [].splice;\nNUM_PRIORITIES = 10;\nDEFAULT_PRIORITY = 5;\nparser = require(\"./parser\");\nQueues = require(\"./Queues\");\nJob = require(\"./Job\");\nLocalDatastore = require(\"./LocalDatastore\");\nRedisDatastore = require(\"./RedisDatastore\");\nEvents = require(\"./Events\");\nStates = require(\"./States\");\nSync = require(\"./Sync\");\n\nBottleneck = function () {\n  class Bottleneck {\n    constructor(options = {}, ...invalid) {\n      var storeInstanceOptions, storeOptions;\n      this._addToQueue = this._addToQueue.bind(this);\n\n      this._validateOptions(options, invalid);\n\n      parser.load(options, this.instanceDefaults, this);\n      this._queues = new Queues(NUM_PRIORITIES);\n      this._scheduled = {};\n      this._states = new States([\"RECEIVED\", \"QUEUED\", \"RUNNING\", \"EXECUTING\"].concat(this.trackDoneStatus ? [\"DONE\"] : []));\n      this._limiter = null;\n      this.Events = new Events(this);\n      this._submitLock = new Sync(\"submit\", this.Promise);\n      this._registerLock = new Sync(\"register\", this.Promise);\n      storeOptions = parser.load(options, this.storeDefaults, {});\n\n      this._store = function () {\n        if (this.datastore === \"redis\" || this.datastore === \"ioredis\" || this.connection != null) {\n          storeInstanceOptions = parser.load(options, this.redisStoreDefaults, {});\n          return new RedisDatastore(this, storeOptions, storeInstanceOptions);\n        } else if (this.datastore === \"local\") {\n          storeInstanceOptions = parser.load(options, this.localStoreDefaults, {});\n          return new LocalDatastore(this, storeOptions, storeInstanceOptions);\n        } else {\n          throw new Bottleneck.prototype.BottleneckError(`Invalid datastore type: ${this.datastore}`);\n        }\n      }.call(this);\n\n      this._queues.on(\"leftzero\", () => {\n        var ref;\n        return (ref = this._store.heartbeat) != null ? typeof ref.ref === \"function\" ? ref.ref() : void 0 : void 0;\n      });\n\n      this._queues.on(\"zero\", () => {\n        var ref;\n        return (ref = this._store.heartbeat) != null ? typeof ref.unref === \"function\" ? ref.unref() : void 0 : void 0;\n      });\n    }\n\n    _validateOptions(options, invalid) {\n      if (!(options != null && typeof options === \"object\" && invalid.length === 0)) {\n        throw new Bottleneck.prototype.BottleneckError(\"Bottleneck v2 takes a single object argument. Refer to https://github.com/SGrondin/bottleneck#upgrading-to-v2 if you're upgrading from Bottleneck v1.\");\n      }\n    }\n\n    ready() {\n      return this._store.ready;\n    }\n\n    clients() {\n      return this._store.clients;\n    }\n\n    channel() {\n      return `b_${this.id}`;\n    }\n\n    channel_client() {\n      return `b_${this.id}_${this._store.clientId}`;\n    }\n\n    publish(message) {\n      return this._store.__publish__(message);\n    }\n\n    disconnect(flush = true) {\n      return this._store.__disconnect__(flush);\n    }\n\n    chain(_limiter) {\n      this._limiter = _limiter;\n      return this;\n    }\n\n    queued(priority) {\n      return this._queues.queued(priority);\n    }\n\n    clusterQueued() {\n      return this._store.__queued__();\n    }\n\n    empty() {\n      return this.queued() === 0 && this._submitLock.isEmpty();\n    }\n\n    running() {\n      return this._store.__running__();\n    }\n\n    done() {\n      return this._store.__done__();\n    }\n\n    jobStatus(id) {\n      return this._states.jobStatus(id);\n    }\n\n    jobs(status) {\n      return this._states.statusJobs(status);\n    }\n\n    counts() {\n      return this._states.statusCounts();\n    }\n\n    _randomIndex() {\n      return Math.random().toString(36).slice(2);\n    }\n\n    check(weight = 1) {\n      return this._store.__check__(weight);\n    }\n\n    _clearGlobalState(index) {\n      if (this._scheduled[index] != null) {\n        clearTimeout(this._scheduled[index].expiration);\n        delete this._scheduled[index];\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    _free(index, job, options, eventInfo) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        var e, running;\n\n        try {\n          var _ref = yield _this._store.__free__(index, options.weight);\n\n          running = _ref.running;\n\n          _this.Events.trigger(\"debug\", `Freed ${options.id}`, eventInfo);\n\n          if (running === 0 && _this.empty()) {\n            return _this.Events.trigger(\"idle\");\n          }\n        } catch (error1) {\n          e = error1;\n          return _this.Events.trigger(\"error\", e);\n        }\n      })();\n    }\n\n    _run(index, job, wait) {\n      var clearGlobalState, free, run;\n      job.doRun();\n      clearGlobalState = this._clearGlobalState.bind(this, index);\n      run = this._run.bind(this, index, job);\n      free = this._free.bind(this, index, job);\n      return this._scheduled[index] = {\n        timeout: setTimeout(() => {\n          return job.doExecute(this._limiter, clearGlobalState, run, free);\n        }, wait),\n        expiration: job.options.expiration != null ? setTimeout(function () {\n          return job.doExpire(clearGlobalState, run, free);\n        }, wait + job.options.expiration) : void 0,\n        job: job\n      };\n    }\n\n    _drainOne(capacity) {\n      return this._registerLock.schedule(() => {\n        var args, index, next, options, queue;\n\n        if (this.queued() === 0) {\n          return this.Promise.resolve(null);\n        }\n\n        queue = this._queues.getFirst();\n\n        var _next2 = next = queue.first();\n\n        options = _next2.options;\n        args = _next2.args;\n\n        if (capacity != null && options.weight > capacity) {\n          return this.Promise.resolve(null);\n        }\n\n        this.Events.trigger(\"debug\", `Draining ${options.id}`, {\n          args,\n          options\n        });\n        index = this._randomIndex();\n        return this._store.__register__(index, options.weight, options.expiration).then(({\n          success,\n          wait,\n          reservoir\n        }) => {\n          var empty;\n          this.Events.trigger(\"debug\", `Drained ${options.id}`, {\n            success,\n            args,\n            options\n          });\n\n          if (success) {\n            queue.shift();\n            empty = this.empty();\n\n            if (empty) {\n              this.Events.trigger(\"empty\");\n            }\n\n            if (reservoir === 0) {\n              this.Events.trigger(\"depleted\", empty);\n            }\n\n            this._run(index, next, wait);\n\n            return this.Promise.resolve(options.weight);\n          } else {\n            return this.Promise.resolve(null);\n          }\n        });\n      });\n    }\n\n    _drainAll(capacity, total = 0) {\n      return this._drainOne(capacity).then(drained => {\n        var newCapacity;\n\n        if (drained != null) {\n          newCapacity = capacity != null ? capacity - drained : capacity;\n          return this._drainAll(newCapacity, total + drained);\n        } else {\n          return this.Promise.resolve(total);\n        }\n      }).catch(e => {\n        return this.Events.trigger(\"error\", e);\n      });\n    }\n\n    _dropAllQueued(message) {\n      return this._queues.shiftAll(function (job) {\n        return job.doDrop({\n          message\n        });\n      });\n    }\n\n    stop(options = {}) {\n      var done, waitForExecuting;\n      options = parser.load(options, this.stopDefaults);\n\n      waitForExecuting = at => {\n        var finished;\n\n        finished = () => {\n          var counts;\n          counts = this._states.counts;\n          return counts[0] + counts[1] + counts[2] + counts[3] === at;\n        };\n\n        return new this.Promise((resolve, reject) => {\n          if (finished()) {\n            return resolve();\n          } else {\n            return this.on(\"done\", () => {\n              if (finished()) {\n                this.removeAllListeners(\"done\");\n                return resolve();\n              }\n            });\n          }\n        });\n      };\n\n      done = options.dropWaitingJobs ? (this._run = function (index, next) {\n        return next.doDrop({\n          message: options.dropErrorMessage\n        });\n      }, this._drainOne = () => {\n        return this.Promise.resolve(null);\n      }, this._registerLock.schedule(() => {\n        return this._submitLock.schedule(() => {\n          var k, ref, v;\n          ref = this._scheduled;\n\n          for (k in ref) {\n            v = ref[k];\n\n            if (this.jobStatus(v.job.options.id) === \"RUNNING\") {\n              clearTimeout(v.timeout);\n              clearTimeout(v.expiration);\n              v.job.doDrop({\n                message: options.dropErrorMessage\n              });\n            }\n          }\n\n          this._dropAllQueued(options.dropErrorMessage);\n\n          return waitForExecuting(0);\n        });\n      })) : this.schedule({\n        priority: NUM_PRIORITIES - 1,\n        weight: 0\n      }, () => {\n        return waitForExecuting(1);\n      });\n\n      this._receive = function (job) {\n        return job._reject(new Bottleneck.prototype.BottleneckError(options.enqueueErrorMessage));\n      };\n\n      this.stop = () => {\n        return this.Promise.reject(new Bottleneck.prototype.BottleneckError(\"stop() has already been called\"));\n      };\n\n      return done;\n    }\n\n    _addToQueue(job) {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        var args, blocked, error, options, reachedHWM, shifted, strategy;\n        args = job.args;\n        options = job.options;\n\n        try {\n          var _ref2 = yield _this2._store.__submit__(_this2.queued(), options.weight);\n\n          reachedHWM = _ref2.reachedHWM;\n          blocked = _ref2.blocked;\n          strategy = _ref2.strategy;\n        } catch (error1) {\n          error = error1;\n\n          _this2.Events.trigger(\"debug\", `Could not queue ${options.id}`, {\n            args,\n            options,\n            error\n          });\n\n          job.doDrop({\n            error\n          });\n          return false;\n        }\n\n        if (blocked) {\n          job.doDrop();\n          return true;\n        } else if (reachedHWM) {\n          shifted = strategy === Bottleneck.prototype.strategy.LEAK ? _this2._queues.shiftLastFrom(options.priority) : strategy === Bottleneck.prototype.strategy.OVERFLOW_PRIORITY ? _this2._queues.shiftLastFrom(options.priority + 1) : strategy === Bottleneck.prototype.strategy.OVERFLOW ? job : void 0;\n\n          if (shifted != null) {\n            shifted.doDrop();\n          }\n\n          if (shifted == null || strategy === Bottleneck.prototype.strategy.OVERFLOW) {\n            if (shifted == null) {\n              job.doDrop();\n            }\n\n            return reachedHWM;\n          }\n        }\n\n        job.doQueue(reachedHWM, blocked);\n\n        _this2._queues.push(job);\n\n        yield _this2._drainAll();\n        return reachedHWM;\n      })();\n    }\n\n    _receive(job) {\n      if (this._states.jobStatus(job.options.id) != null) {\n        job._reject(new Bottleneck.prototype.BottleneckError(`A job with the same id already exists (id=${job.options.id})`));\n\n        return false;\n      } else {\n        job.doReceive();\n        return this._submitLock.schedule(this._addToQueue, job);\n      }\n    }\n\n    submit(...args) {\n      var cb, fn, job, options, ref, ref1, task;\n\n      if (typeof args[0] === \"function\") {\n        var _ref3, _ref4, _splice$call, _splice$call2;\n\n        ref = args, (_ref3 = ref, _ref4 = _toArray(_ref3), fn = _ref4[0], args = _ref4.slice(1), _ref3), (_splice$call = splice.call(args, -1), _splice$call2 = _slicedToArray(_splice$call, 1), cb = _splice$call2[0], _splice$call);\n        options = parser.load({}, this.jobDefaults);\n      } else {\n        var _ref5, _ref6, _splice$call3, _splice$call4;\n\n        ref1 = args, (_ref5 = ref1, _ref6 = _toArray(_ref5), options = _ref6[0], fn = _ref6[1], args = _ref6.slice(2), _ref5), (_splice$call3 = splice.call(args, -1), _splice$call4 = _slicedToArray(_splice$call3, 1), cb = _splice$call4[0], _splice$call3);\n        options = parser.load(options, this.jobDefaults);\n      }\n\n      task = (...args) => {\n        return new this.Promise(function (resolve, reject) {\n          return fn(...args, function (...args) {\n            return (args[0] != null ? reject : resolve)(args);\n          });\n        });\n      };\n\n      job = new Job(task, args, options, this.jobDefaults, this.rejectOnDrop, this.Events, this._states, this.Promise);\n      job.promise.then(function (args) {\n        return typeof cb === \"function\" ? cb(...args) : void 0;\n      }).catch(function (args) {\n        if (Array.isArray(args)) {\n          return typeof cb === \"function\" ? cb(...args) : void 0;\n        } else {\n          return typeof cb === \"function\" ? cb(args) : void 0;\n        }\n      });\n      return this._receive(job);\n    }\n\n    schedule(...args) {\n      var job, options, task;\n\n      if (typeof args[0] === \"function\") {\n        var _args = args;\n\n        var _args2 = _toArray(_args);\n\n        task = _args2[0];\n        args = _args2.slice(1);\n        options = {};\n      } else {\n        var _args3 = args;\n\n        var _args4 = _toArray(_args3);\n\n        options = _args4[0];\n        task = _args4[1];\n        args = _args4.slice(2);\n      }\n\n      job = new Job(task, args, options, this.jobDefaults, this.rejectOnDrop, this.Events, this._states, this.Promise);\n\n      this._receive(job);\n\n      return job.promise;\n    }\n\n    wrap(fn) {\n      var schedule, wrapped;\n      schedule = this.schedule.bind(this);\n\n      wrapped = function wrapped(...args) {\n        return schedule(fn.bind(this), ...args);\n      };\n\n      wrapped.withOptions = function (options, ...args) {\n        return schedule(options, fn, ...args);\n      };\n\n      return wrapped;\n    }\n\n    updateSettings(options = {}) {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        yield _this3._store.__updateSettings__(parser.overwrite(options, _this3.storeDefaults));\n        parser.overwrite(options, _this3.instanceDefaults, _this3);\n        return _this3;\n      })();\n    }\n\n    currentReservoir() {\n      return this._store.__currentReservoir__();\n    }\n\n    incrementReservoir(incr = 0) {\n      return this._store.__incrementReservoir__(incr);\n    }\n\n  }\n\n  ;\n  Bottleneck.default = Bottleneck;\n  Bottleneck.Events = Events;\n  Bottleneck.version = Bottleneck.prototype.version = require(\"./version.json\").version;\n  Bottleneck.strategy = Bottleneck.prototype.strategy = {\n    LEAK: 1,\n    OVERFLOW: 2,\n    OVERFLOW_PRIORITY: 4,\n    BLOCK: 3\n  };\n  Bottleneck.BottleneckError = Bottleneck.prototype.BottleneckError = require(\"./BottleneckError\");\n  Bottleneck.Group = Bottleneck.prototype.Group = require(\"./Group\");\n  Bottleneck.RedisConnection = Bottleneck.prototype.RedisConnection = require(\"./RedisConnection\");\n  Bottleneck.IORedisConnection = Bottleneck.prototype.IORedisConnection = require(\"./IORedisConnection\");\n  Bottleneck.Batcher = Bottleneck.prototype.Batcher = require(\"./Batcher\");\n  Bottleneck.prototype.jobDefaults = {\n    priority: DEFAULT_PRIORITY,\n    weight: 1,\n    expiration: null,\n    id: \"<no-id>\"\n  };\n  Bottleneck.prototype.storeDefaults = {\n    maxConcurrent: null,\n    minTime: 0,\n    highWater: null,\n    strategy: Bottleneck.prototype.strategy.LEAK,\n    penalty: null,\n    reservoir: null,\n    reservoirRefreshInterval: null,\n    reservoirRefreshAmount: null,\n    reservoirIncreaseInterval: null,\n    reservoirIncreaseAmount: null,\n    reservoirIncreaseMaximum: null\n  };\n  Bottleneck.prototype.localStoreDefaults = {\n    Promise: Promise,\n    timeout: null,\n    heartbeatInterval: 250\n  };\n  Bottleneck.prototype.redisStoreDefaults = {\n    Promise: Promise,\n    timeout: null,\n    heartbeatInterval: 5000,\n    clientTimeout: 10000,\n    Redis: null,\n    clientOptions: {},\n    clusterNodes: null,\n    clearDatastore: false,\n    connection: null\n  };\n  Bottleneck.prototype.instanceDefaults = {\n    datastore: \"local\",\n    connection: null,\n    id: \"<no-id>\",\n    rejectOnDrop: true,\n    trackDoneStatus: false,\n    Promise: Promise\n  };\n  Bottleneck.prototype.stopDefaults = {\n    enqueueErrorMessage: \"This limiter has been stopped and cannot accept new jobs.\",\n    dropWaitingJobs: true,\n    dropErrorMessage: \"This limiter has been stopped.\"\n  };\n  return Bottleneck;\n}.call(void 0);\n\nmodule.exports = Bottleneck;","\"use strict\";\n\nvar BottleneckError;\nBottleneckError = class BottleneckError extends Error {};\nmodule.exports = BottleneckError;","\"use strict\";\n\nvar DLList;\nDLList = class DLList {\n  constructor(incr, decr) {\n    this.incr = incr;\n    this.decr = decr;\n    this._first = null;\n    this._last = null;\n    this.length = 0;\n  }\n\n  push(value) {\n    var node;\n    this.length++;\n\n    if (typeof this.incr === \"function\") {\n      this.incr();\n    }\n\n    node = {\n      value,\n      prev: this._last,\n      next: null\n    };\n\n    if (this._last != null) {\n      this._last.next = node;\n      this._last = node;\n    } else {\n      this._first = this._last = node;\n    }\n\n    return void 0;\n  }\n\n  shift() {\n    var value;\n\n    if (this._first == null) {\n      return;\n    } else {\n      this.length--;\n\n      if (typeof this.decr === \"function\") {\n        this.decr();\n      }\n    }\n\n    value = this._first.value;\n\n    if ((this._first = this._first.next) != null) {\n      this._first.prev = null;\n    } else {\n      this._last = null;\n    }\n\n    return value;\n  }\n\n  first() {\n    if (this._first != null) {\n      return this._first.value;\n    }\n  }\n\n  getArray() {\n    var node, ref, results;\n    node = this._first;\n    results = [];\n\n    while (node != null) {\n      results.push((ref = node, node = node.next, ref.value));\n    }\n\n    return results;\n  }\n\n  forEachShift(cb) {\n    var node;\n    node = this.shift();\n\n    while (node != null) {\n      cb(node), node = this.shift();\n    }\n\n    return void 0;\n  }\n\n  debug() {\n    var node, ref, ref1, ref2, results;\n    node = this._first;\n    results = [];\n\n    while (node != null) {\n      results.push((ref = node, node = node.next, {\n        value: ref.value,\n        prev: (ref1 = ref.prev) != null ? ref1.value : void 0,\n        next: (ref2 = ref.next) != null ? ref2.value : void 0\n      }));\n    }\n\n    return results;\n  }\n\n};\nmodule.exports = DLList;","\"use strict\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar Events;\nEvents = class Events {\n  constructor(instance) {\n    this.instance = instance;\n    this._events = {};\n\n    if (this.instance.on != null || this.instance.once != null || this.instance.removeAllListeners != null) {\n      throw new Error(\"An Emitter already exists for this object\");\n    }\n\n    this.instance.on = (name, cb) => {\n      return this._addListener(name, \"many\", cb);\n    };\n\n    this.instance.once = (name, cb) => {\n      return this._addListener(name, \"once\", cb);\n    };\n\n    this.instance.removeAllListeners = (name = null) => {\n      if (name != null) {\n        return delete this._events[name];\n      } else {\n        return this._events = {};\n      }\n    };\n  }\n\n  _addListener(name, status, cb) {\n    var base;\n\n    if ((base = this._events)[name] == null) {\n      base[name] = [];\n    }\n\n    this._events[name].push({\n      cb,\n      status\n    });\n\n    return this.instance;\n  }\n\n  listenerCount(name) {\n    if (this._events[name] != null) {\n      return this._events[name].length;\n    } else {\n      return 0;\n    }\n  }\n\n  trigger(name, ...args) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var e, promises;\n\n      try {\n        if (name !== \"debug\") {\n          _this.trigger(\"debug\", `Event triggered: ${name}`, args);\n        }\n\n        if (_this._events[name] == null) {\n          return;\n        }\n\n        _this._events[name] = _this._events[name].filter(function (listener) {\n          return listener.status !== \"none\";\n        });\n        promises = _this._events[name].map(\n        /*#__PURE__*/\n        function () {\n          var _ref = _asyncToGenerator(function* (listener) {\n            var e, returned;\n\n            if (listener.status === \"none\") {\n              return;\n            }\n\n            if (listener.status === \"once\") {\n              listener.status = \"none\";\n            }\n\n            try {\n              returned = typeof listener.cb === \"function\" ? listener.cb(...args) : void 0;\n\n              if (typeof (returned != null ? returned.then : void 0) === \"function\") {\n                return yield returned;\n              } else {\n                return returned;\n              }\n            } catch (error) {\n              e = error;\n\n              if (\"name\" !== \"error\") {\n                _this.trigger(\"error\", e);\n              }\n\n              return null;\n            }\n          });\n\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n        return (yield Promise.all(promises)).find(function (x) {\n          return x != null;\n        });\n      } catch (error) {\n        e = error;\n\n        if (\"name\" !== \"error\") {\n          _this.trigger(\"error\", e);\n        }\n\n        return null;\n      }\n    })();\n  }\n\n};\nmodule.exports = Events;","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar Events, Group, IORedisConnection, RedisConnection, Scripts, parser;\nparser = require(\"./parser\");\nEvents = require(\"./Events\");\nRedisConnection = require(\"./RedisConnection\");\nIORedisConnection = require(\"./IORedisConnection\");\nScripts = require(\"./Scripts\");\n\nGroup = function () {\n  class Group {\n    constructor(limiterOptions = {}) {\n      this.deleteKey = this.deleteKey.bind(this);\n      this.limiterOptions = limiterOptions;\n      parser.load(this.limiterOptions, this.defaults, this);\n      this.Events = new Events(this);\n      this.instances = {};\n      this.Bottleneck = require(\"./Bottleneck\");\n\n      this._startAutoCleanup();\n\n      this.sharedConnection = this.connection != null;\n\n      if (this.connection == null) {\n        if (this.limiterOptions.datastore === \"redis\") {\n          this.connection = new RedisConnection(Object.assign({}, this.limiterOptions, {\n            Events: this.Events\n          }));\n        } else if (this.limiterOptions.datastore === \"ioredis\") {\n          this.connection = new IORedisConnection(Object.assign({}, this.limiterOptions, {\n            Events: this.Events\n          }));\n        }\n      }\n    }\n\n    key(key = \"\") {\n      var ref;\n      return (ref = this.instances[key]) != null ? ref : (() => {\n        var limiter;\n        limiter = this.instances[key] = new this.Bottleneck(Object.assign(this.limiterOptions, {\n          id: `${this.id}-${key}`,\n          timeout: this.timeout,\n          connection: this.connection\n        }));\n        this.Events.trigger(\"created\", limiter, key);\n        return limiter;\n      })();\n    }\n\n    deleteKey(key = \"\") {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        var deleted, instance;\n        instance = _this.instances[key];\n\n        if (_this.connection) {\n          deleted = yield _this.connection.__runCommand__(['del', ...Scripts.allKeys(`${_this.id}-${key}`)]);\n        }\n\n        if (instance != null) {\n          delete _this.instances[key];\n          yield instance.disconnect();\n        }\n\n        return instance != null || deleted > 0;\n      })();\n    }\n\n    limiters() {\n      var k, ref, results, v;\n      ref = this.instances;\n      results = [];\n\n      for (k in ref) {\n        v = ref[k];\n        results.push({\n          key: k,\n          limiter: v\n        });\n      }\n\n      return results;\n    }\n\n    keys() {\n      return Object.keys(this.instances);\n    }\n\n    clusterKeys() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        var cursor, end, found, i, k, keys, len, next, start;\n\n        if (_this2.connection == null) {\n          return _this2.Promise.resolve(_this2.keys());\n        }\n\n        keys = [];\n        cursor = null;\n        start = `b_${_this2.id}-`.length;\n        end = \"_settings\".length;\n\n        while (cursor !== 0) {\n          var _ref = yield _this2.connection.__runCommand__([\"scan\", cursor != null ? cursor : 0, \"match\", `b_${_this2.id}-*_settings`, \"count\", 10000]);\n\n          var _ref2 = _slicedToArray(_ref, 2);\n\n          next = _ref2[0];\n          found = _ref2[1];\n          cursor = ~~next;\n\n          for (i = 0, len = found.length; i < len; i++) {\n            k = found[i];\n            keys.push(k.slice(start, -end));\n          }\n        }\n\n        return keys;\n      })();\n    }\n\n    _startAutoCleanup() {\n      var _this3 = this;\n\n      var base;\n      clearInterval(this.interval);\n      return typeof (base = this.interval = setInterval(\n      /*#__PURE__*/\n      _asyncToGenerator(function* () {\n        var e, k, ref, results, time, v;\n        time = Date.now();\n        ref = _this3.instances;\n        results = [];\n\n        for (k in ref) {\n          v = ref[k];\n\n          try {\n            if (yield v._store.__groupCheck__(time)) {\n              results.push(_this3.deleteKey(k));\n            } else {\n              results.push(void 0);\n            }\n          } catch (error) {\n            e = error;\n            results.push(v.Events.trigger(\"error\", e));\n          }\n        }\n\n        return results;\n      }), this.timeout / 2)).unref === \"function\" ? base.unref() : void 0;\n    }\n\n    updateSettings(options = {}) {\n      parser.overwrite(options, this.defaults, this);\n      parser.overwrite(options, options, this.limiterOptions);\n\n      if (options.timeout != null) {\n        return this._startAutoCleanup();\n      }\n    }\n\n    disconnect(flush = true) {\n      var ref;\n\n      if (!this.sharedConnection) {\n        return (ref = this.connection) != null ? ref.disconnect(flush) : void 0;\n      }\n    }\n\n  }\n\n  ;\n  Group.prototype.defaults = {\n    timeout: 1000 * 60 * 5,\n    connection: null,\n    Promise: Promise,\n    id: \"group-key\"\n  };\n  return Group;\n}.call(void 0);\n\nmodule.exports = Group;","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar Events, IORedisConnection, Scripts, parser;\nparser = require(\"./parser\");\nEvents = require(\"./Events\");\nScripts = require(\"./Scripts\");\n\nIORedisConnection = function () {\n  class IORedisConnection {\n    constructor(options = {}) {\n      parser.load(options, this.defaults, this);\n\n      if (this.Redis == null) {\n        this.Redis = eval(\"require\")(\"ioredis\"); // Obfuscated or else Webpack/Angular will try to inline the optional ioredis module. To override this behavior: pass the ioredis module to Bottleneck as the 'Redis' option.\n      }\n\n      if (this.Events == null) {\n        this.Events = new Events(this);\n      }\n\n      this.terminated = false;\n\n      if (this.clusterNodes != null) {\n        this.client = new this.Redis.Cluster(this.clusterNodes, this.clientOptions);\n        this.subscriber = new this.Redis.Cluster(this.clusterNodes, this.clientOptions);\n      } else if (this.client != null && this.client.duplicate == null) {\n        this.subscriber = new this.Redis.Cluster(this.client.startupNodes, this.client.options);\n      } else {\n        if (this.client == null) {\n          this.client = new this.Redis(this.clientOptions);\n        }\n\n        this.subscriber = this.client.duplicate();\n      }\n\n      this.limiters = {};\n      this.ready = this.Promise.all([this._setup(this.client, false), this._setup(this.subscriber, true)]).then(() => {\n        this._loadScripts();\n\n        return {\n          client: this.client,\n          subscriber: this.subscriber\n        };\n      });\n    }\n\n    _setup(client, sub) {\n      client.setMaxListeners(0);\n      return new this.Promise((resolve, reject) => {\n        client.on(\"error\", e => {\n          return this.Events.trigger(\"error\", e);\n        });\n\n        if (sub) {\n          client.on(\"message\", (channel, message) => {\n            var ref;\n            return (ref = this.limiters[channel]) != null ? ref._store.onMessage(channel, message) : void 0;\n          });\n        }\n\n        if (client.status === \"ready\") {\n          return resolve();\n        } else {\n          return client.once(\"ready\", resolve);\n        }\n      });\n    }\n\n    _loadScripts() {\n      return Scripts.names.forEach(name => {\n        return this.client.defineCommand(name, {\n          lua: Scripts.payload(name)\n        });\n      });\n    }\n\n    __runCommand__(cmd) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        var _, deleted;\n\n        yield _this.ready;\n\n        var _ref = yield _this.client.pipeline([cmd]).exec();\n\n        var _ref2 = _slicedToArray(_ref, 1);\n\n        var _ref2$ = _slicedToArray(_ref2[0], 2);\n\n        _ = _ref2$[0];\n        deleted = _ref2$[1];\n        return deleted;\n      })();\n    }\n\n    __addLimiter__(instance) {\n      return this.Promise.all([instance.channel(), instance.channel_client()].map(channel => {\n        return new this.Promise((resolve, reject) => {\n          return this.subscriber.subscribe(channel, () => {\n            this.limiters[channel] = instance;\n            return resolve();\n          });\n        });\n      }));\n    }\n\n    __removeLimiter__(instance) {\n      var _this2 = this;\n\n      return [instance.channel(), instance.channel_client()].forEach(\n      /*#__PURE__*/\n      function () {\n        var _ref3 = _asyncToGenerator(function* (channel) {\n          if (!_this2.terminated) {\n            yield _this2.subscriber.unsubscribe(channel);\n          }\n\n          return delete _this2.limiters[channel];\n        });\n\n        return function (_x) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    }\n\n    __scriptArgs__(name, id, args, cb) {\n      var keys;\n      keys = Scripts.keys(name, id);\n      return [keys.length].concat(keys, args, cb);\n    }\n\n    __scriptFn__(name) {\n      return this.client[name].bind(this.client);\n    }\n\n    disconnect(flush = true) {\n      var i, k, len, ref;\n      ref = Object.keys(this.limiters);\n\n      for (i = 0, len = ref.length; i < len; i++) {\n        k = ref[i];\n        clearInterval(this.limiters[k]._store.heartbeat);\n      }\n\n      this.limiters = {};\n      this.terminated = true;\n\n      if (flush) {\n        return this.Promise.all([this.client.quit(), this.subscriber.quit()]);\n      } else {\n        this.client.disconnect();\n        this.subscriber.disconnect();\n        return this.Promise.resolve();\n      }\n    }\n\n  }\n\n  ;\n  IORedisConnection.prototype.datastore = \"ioredis\";\n  IORedisConnection.prototype.defaults = {\n    Redis: null,\n    clientOptions: {},\n    clusterNodes: null,\n    client: null,\n    Promise: Promise,\n    Events: null\n  };\n  return IORedisConnection;\n}.call(void 0);\n\nmodule.exports = IORedisConnection;","\"use strict\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar BottleneckError, DEFAULT_PRIORITY, Job, NUM_PRIORITIES, parser;\nNUM_PRIORITIES = 10;\nDEFAULT_PRIORITY = 5;\nparser = require(\"./parser\");\nBottleneckError = require(\"./BottleneckError\");\nJob = class Job {\n  constructor(task, args, options, jobDefaults, rejectOnDrop, Events, _states, Promise) {\n    this.task = task;\n    this.args = args;\n    this.rejectOnDrop = rejectOnDrop;\n    this.Events = Events;\n    this._states = _states;\n    this.Promise = Promise;\n    this.options = parser.load(options, jobDefaults);\n    this.options.priority = this._sanitizePriority(this.options.priority);\n\n    if (this.options.id === jobDefaults.id) {\n      this.options.id = `${this.options.id}-${this._randomIndex()}`;\n    }\n\n    this.promise = new this.Promise((_resolve, _reject) => {\n      this._resolve = _resolve;\n      this._reject = _reject;\n    });\n    this.retryCount = 0;\n  }\n\n  _sanitizePriority(priority) {\n    var sProperty;\n    sProperty = ~~priority !== priority ? DEFAULT_PRIORITY : priority;\n\n    if (sProperty < 0) {\n      return 0;\n    } else if (sProperty > NUM_PRIORITIES - 1) {\n      return NUM_PRIORITIES - 1;\n    } else {\n      return sProperty;\n    }\n  }\n\n  _randomIndex() {\n    return Math.random().toString(36).slice(2);\n  }\n\n  doDrop({\n    error,\n    message = \"This job has been dropped by Bottleneck\"\n  } = {}) {\n    if (this._states.remove(this.options.id)) {\n      if (this.rejectOnDrop) {\n        this._reject(error != null ? error : new BottleneckError(message));\n      }\n\n      this.Events.trigger(\"dropped\", {\n        args: this.args,\n        options: this.options,\n        task: this.task,\n        promise: this.promise\n      });\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  _assertStatus(expected) {\n    var status;\n    status = this._states.jobStatus(this.options.id);\n\n    if (!(status === expected || expected === \"DONE\" && status === null)) {\n      throw new BottleneckError(`Invalid job status ${status}, expected ${expected}. Please open an issue at https://github.com/SGrondin/bottleneck/issues`);\n    }\n  }\n\n  doReceive() {\n    this._states.start(this.options.id);\n\n    return this.Events.trigger(\"received\", {\n      args: this.args,\n      options: this.options\n    });\n  }\n\n  doQueue(reachedHWM, blocked) {\n    this._assertStatus(\"RECEIVED\");\n\n    this._states.next(this.options.id);\n\n    return this.Events.trigger(\"queued\", {\n      args: this.args,\n      options: this.options,\n      reachedHWM,\n      blocked\n    });\n  }\n\n  doRun() {\n    if (this.retryCount === 0) {\n      this._assertStatus(\"QUEUED\");\n\n      this._states.next(this.options.id);\n    } else {\n      this._assertStatus(\"EXECUTING\");\n    }\n\n    return this.Events.trigger(\"scheduled\", {\n      args: this.args,\n      options: this.options\n    });\n  }\n\n  doExecute(chained, clearGlobalState, run, free) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var error, eventInfo, passed;\n\n      if (_this.retryCount === 0) {\n        _this._assertStatus(\"RUNNING\");\n\n        _this._states.next(_this.options.id);\n      } else {\n        _this._assertStatus(\"EXECUTING\");\n      }\n\n      eventInfo = {\n        args: _this.args,\n        options: _this.options,\n        retryCount: _this.retryCount\n      };\n\n      _this.Events.trigger(\"executing\", eventInfo);\n\n      try {\n        passed = yield chained != null ? chained.schedule(_this.options, _this.task, ..._this.args) : _this.task(..._this.args);\n\n        if (clearGlobalState()) {\n          _this.doDone(eventInfo);\n\n          yield free(_this.options, eventInfo);\n\n          _this._assertStatus(\"DONE\");\n\n          return _this._resolve(passed);\n        }\n      } catch (error1) {\n        error = error1;\n        return _this._onFailure(error, eventInfo, clearGlobalState, run, free);\n      }\n    })();\n  }\n\n  doExpire(clearGlobalState, run, free) {\n    var error, eventInfo;\n\n    if (this._states.jobStatus(this.options.id === \"RUNNING\")) {\n      this._states.next(this.options.id);\n    }\n\n    this._assertStatus(\"EXECUTING\");\n\n    eventInfo = {\n      args: this.args,\n      options: this.options,\n      retryCount: this.retryCount\n    };\n    error = new BottleneckError(`This job timed out after ${this.options.expiration} ms.`);\n    return this._onFailure(error, eventInfo, clearGlobalState, run, free);\n  }\n\n  _onFailure(error, eventInfo, clearGlobalState, run, free) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var retry, retryAfter;\n\n      if (clearGlobalState()) {\n        retry = yield _this2.Events.trigger(\"failed\", error, eventInfo);\n\n        if (retry != null) {\n          retryAfter = ~~retry;\n\n          _this2.Events.trigger(\"retry\", `Retrying ${_this2.options.id} after ${retryAfter} ms`, eventInfo);\n\n          _this2.retryCount++;\n          return run(retryAfter);\n        } else {\n          _this2.doDone(eventInfo);\n\n          yield free(_this2.options, eventInfo);\n\n          _this2._assertStatus(\"DONE\");\n\n          return _this2._reject(error);\n        }\n      }\n    })();\n  }\n\n  doDone(eventInfo) {\n    this._assertStatus(\"EXECUTING\");\n\n    this._states.next(this.options.id);\n\n    return this.Events.trigger(\"done\", eventInfo);\n  }\n\n};\nmodule.exports = Job;","\"use strict\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar BottleneckError, LocalDatastore, parser;\nparser = require(\"./parser\");\nBottleneckError = require(\"./BottleneckError\");\nLocalDatastore = class LocalDatastore {\n  constructor(instance, storeOptions, storeInstanceOptions) {\n    this.instance = instance;\n    this.storeOptions = storeOptions;\n    this.clientId = this.instance._randomIndex();\n    parser.load(storeInstanceOptions, storeInstanceOptions, this);\n    this._nextRequest = this._lastReservoirRefresh = this._lastReservoirIncrease = Date.now();\n    this._running = 0;\n    this._done = 0;\n    this._unblockTime = 0;\n    this.ready = this.Promise.resolve();\n    this.clients = {};\n\n    this._startHeartbeat();\n  }\n\n  _startHeartbeat() {\n    var base;\n\n    if (this.heartbeat == null && (this.storeOptions.reservoirRefreshInterval != null && this.storeOptions.reservoirRefreshAmount != null || this.storeOptions.reservoirIncreaseInterval != null && this.storeOptions.reservoirIncreaseAmount != null)) {\n      return typeof (base = this.heartbeat = setInterval(() => {\n        var amount, incr, maximum, now, reservoir;\n        now = Date.now();\n\n        if (this.storeOptions.reservoirRefreshInterval != null && now >= this._lastReservoirRefresh + this.storeOptions.reservoirRefreshInterval) {\n          this._lastReservoirRefresh = now;\n          this.storeOptions.reservoir = this.storeOptions.reservoirRefreshAmount;\n\n          this.instance._drainAll(this.computeCapacity());\n        }\n\n        if (this.storeOptions.reservoirIncreaseInterval != null && now >= this._lastReservoirIncrease + this.storeOptions.reservoirIncreaseInterval) {\n          var _this$storeOptions = this.storeOptions;\n          amount = _this$storeOptions.reservoirIncreaseAmount;\n          maximum = _this$storeOptions.reservoirIncreaseMaximum;\n          reservoir = _this$storeOptions.reservoir;\n          this._lastReservoirIncrease = now;\n          incr = maximum != null ? Math.min(amount, maximum - reservoir) : amount;\n\n          if (incr > 0) {\n            this.storeOptions.reservoir += incr;\n            return this.instance._drainAll(this.computeCapacity());\n          }\n        }\n      }, this.heartbeatInterval)).unref === \"function\" ? base.unref() : void 0;\n    } else {\n      return clearInterval(this.heartbeat);\n    }\n  }\n\n  __publish__(message) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.yieldLoop();\n      return _this.instance.Events.trigger(\"message\", message.toString());\n    })();\n  }\n\n  __disconnect__(flush) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.yieldLoop();\n      clearInterval(_this2.heartbeat);\n      return _this2.Promise.resolve();\n    })();\n  }\n\n  yieldLoop(t = 0) {\n    return new this.Promise(function (resolve, reject) {\n      return setTimeout(resolve, t);\n    });\n  }\n\n  computePenalty() {\n    var ref;\n    return (ref = this.storeOptions.penalty) != null ? ref : 15 * this.storeOptions.minTime || 5000;\n  }\n\n  __updateSettings__(options) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this3.yieldLoop();\n      parser.overwrite(options, options, _this3.storeOptions);\n\n      _this3._startHeartbeat();\n\n      _this3.instance._drainAll(_this3.computeCapacity());\n\n      return true;\n    })();\n  }\n\n  __running__() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this4.yieldLoop();\n      return _this4._running;\n    })();\n  }\n\n  __queued__() {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this5.yieldLoop();\n      return _this5.instance.queued();\n    })();\n  }\n\n  __done__() {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this6.yieldLoop();\n      return _this6._done;\n    })();\n  }\n\n  __groupCheck__(time) {\n    var _this7 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this7.yieldLoop();\n      return _this7._nextRequest + _this7.timeout < time;\n    })();\n  }\n\n  computeCapacity() {\n    var maxConcurrent, reservoir;\n    var _this$storeOptions2 = this.storeOptions;\n    maxConcurrent = _this$storeOptions2.maxConcurrent;\n    reservoir = _this$storeOptions2.reservoir;\n\n    if (maxConcurrent != null && reservoir != null) {\n      return Math.min(maxConcurrent - this._running, reservoir);\n    } else if (maxConcurrent != null) {\n      return maxConcurrent - this._running;\n    } else if (reservoir != null) {\n      return reservoir;\n    } else {\n      return null;\n    }\n  }\n\n  conditionsCheck(weight) {\n    var capacity;\n    capacity = this.computeCapacity();\n    return capacity == null || weight <= capacity;\n  }\n\n  __incrementReservoir__(incr) {\n    var _this8 = this;\n\n    return _asyncToGenerator(function* () {\n      var reservoir;\n      yield _this8.yieldLoop();\n      reservoir = _this8.storeOptions.reservoir += incr;\n\n      _this8.instance._drainAll(_this8.computeCapacity());\n\n      return reservoir;\n    })();\n  }\n\n  __currentReservoir__() {\n    var _this9 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this9.yieldLoop();\n      return _this9.storeOptions.reservoir;\n    })();\n  }\n\n  isBlocked(now) {\n    return this._unblockTime >= now;\n  }\n\n  check(weight, now) {\n    return this.conditionsCheck(weight) && this._nextRequest - now <= 0;\n  }\n\n  __check__(weight) {\n    var _this10 = this;\n\n    return _asyncToGenerator(function* () {\n      var now;\n      yield _this10.yieldLoop();\n      now = Date.now();\n      return _this10.check(weight, now);\n    })();\n  }\n\n  __register__(index, weight, expiration) {\n    var _this11 = this;\n\n    return _asyncToGenerator(function* () {\n      var now, wait;\n      yield _this11.yieldLoop();\n      now = Date.now();\n\n      if (_this11.conditionsCheck(weight)) {\n        _this11._running += weight;\n\n        if (_this11.storeOptions.reservoir != null) {\n          _this11.storeOptions.reservoir -= weight;\n        }\n\n        wait = Math.max(_this11._nextRequest - now, 0);\n        _this11._nextRequest = now + wait + _this11.storeOptions.minTime;\n        return {\n          success: true,\n          wait,\n          reservoir: _this11.storeOptions.reservoir\n        };\n      } else {\n        return {\n          success: false\n        };\n      }\n    })();\n  }\n\n  strategyIsBlock() {\n    return this.storeOptions.strategy === 3;\n  }\n\n  __submit__(queueLength, weight) {\n    var _this12 = this;\n\n    return _asyncToGenerator(function* () {\n      var blocked, now, reachedHWM;\n      yield _this12.yieldLoop();\n\n      if (_this12.storeOptions.maxConcurrent != null && weight > _this12.storeOptions.maxConcurrent) {\n        throw new BottleneckError(`Impossible to add a job having a weight of ${weight} to a limiter having a maxConcurrent setting of ${_this12.storeOptions.maxConcurrent}`);\n      }\n\n      now = Date.now();\n      reachedHWM = _this12.storeOptions.highWater != null && queueLength === _this12.storeOptions.highWater && !_this12.check(weight, now);\n      blocked = _this12.strategyIsBlock() && (reachedHWM || _this12.isBlocked(now));\n\n      if (blocked) {\n        _this12._unblockTime = now + _this12.computePenalty();\n        _this12._nextRequest = _this12._unblockTime + _this12.storeOptions.minTime;\n\n        _this12.instance._dropAllQueued();\n      }\n\n      return {\n        reachedHWM,\n        blocked,\n        strategy: _this12.storeOptions.strategy\n      };\n    })();\n  }\n\n  __free__(index, weight) {\n    var _this13 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this13.yieldLoop();\n      _this13._running -= weight;\n      _this13._done += weight;\n\n      _this13.instance._drainAll(_this13.computeCapacity());\n\n      return {\n        running: _this13._running\n      };\n    })();\n  }\n\n};\nmodule.exports = LocalDatastore;","\"use strict\";\n\nvar DLList, Events, Queues;\nDLList = require(\"./DLList\");\nEvents = require(\"./Events\");\nQueues = class Queues {\n  constructor(num_priorities) {\n    var i;\n    this.Events = new Events(this);\n    this._length = 0;\n\n    this._lists = function () {\n      var j, ref, results;\n      results = [];\n\n      for (i = j = 1, ref = num_priorities; 1 <= ref ? j <= ref : j >= ref; i = 1 <= ref ? ++j : --j) {\n        results.push(new DLList(() => {\n          return this.incr();\n        }, () => {\n          return this.decr();\n        }));\n      }\n\n      return results;\n    }.call(this);\n  }\n\n  incr() {\n    if (this._length++ === 0) {\n      return this.Events.trigger(\"leftzero\");\n    }\n  }\n\n  decr() {\n    if (--this._length === 0) {\n      return this.Events.trigger(\"zero\");\n    }\n  }\n\n  push(job) {\n    return this._lists[job.options.priority].push(job);\n  }\n\n  queued(priority) {\n    if (priority != null) {\n      return this._lists[priority].length;\n    } else {\n      return this._length;\n    }\n  }\n\n  shiftAll(fn) {\n    return this._lists.forEach(function (list) {\n      return list.forEachShift(fn);\n    });\n  }\n\n  getFirst(arr = this._lists) {\n    var j, len, list;\n\n    for (j = 0, len = arr.length; j < len; j++) {\n      list = arr[j];\n\n      if (list.length > 0) {\n        return list;\n      }\n    }\n\n    return [];\n  }\n\n  shiftLastFrom(priority) {\n    return this.getFirst(this._lists.slice(priority).reverse()).shift();\n  }\n\n};\nmodule.exports = Queues;","\"use strict\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar Events, RedisConnection, Scripts, parser;\nparser = require(\"./parser\");\nEvents = require(\"./Events\");\nScripts = require(\"./Scripts\");\n\nRedisConnection = function () {\n  class RedisConnection {\n    constructor(options = {}) {\n      parser.load(options, this.defaults, this);\n\n      if (this.Redis == null) {\n        this.Redis = eval(\"require\")(\"redis\"); // Obfuscated or else Webpack/Angular will try to inline the optional redis module. To override this behavior: pass the redis module to Bottleneck as the 'Redis' option.\n      }\n\n      if (this.Events == null) {\n        this.Events = new Events(this);\n      }\n\n      this.terminated = false;\n\n      if (this.client == null) {\n        this.client = this.Redis.createClient(this.clientOptions);\n      }\n\n      this.subscriber = this.client.duplicate();\n      this.limiters = {};\n      this.shas = {};\n      this.ready = this.Promise.all([this._setup(this.client, false), this._setup(this.subscriber, true)]).then(() => {\n        return this._loadScripts();\n      }).then(() => {\n        return {\n          client: this.client,\n          subscriber: this.subscriber\n        };\n      });\n    }\n\n    _setup(client, sub) {\n      client.setMaxListeners(0);\n      return new this.Promise((resolve, reject) => {\n        client.on(\"error\", e => {\n          return this.Events.trigger(\"error\", e);\n        });\n\n        if (sub) {\n          client.on(\"message\", (channel, message) => {\n            var ref;\n            return (ref = this.limiters[channel]) != null ? ref._store.onMessage(channel, message) : void 0;\n          });\n        }\n\n        if (client.ready) {\n          return resolve();\n        } else {\n          return client.once(\"ready\", resolve);\n        }\n      });\n    }\n\n    _loadScript(name) {\n      return new this.Promise((resolve, reject) => {\n        var payload;\n        payload = Scripts.payload(name);\n        return this.client.multi([[\"script\", \"load\", payload]]).exec((err, replies) => {\n          if (err != null) {\n            return reject(err);\n          }\n\n          this.shas[name] = replies[0];\n          return resolve(replies[0]);\n        });\n      });\n    }\n\n    _loadScripts() {\n      return this.Promise.all(Scripts.names.map(k => {\n        return this._loadScript(k);\n      }));\n    }\n\n    __runCommand__(cmd) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        yield _this.ready;\n        return new _this.Promise((resolve, reject) => {\n          return _this.client.multi([cmd]).exec_atomic(function (err, replies) {\n            if (err != null) {\n              return reject(err);\n            } else {\n              return resolve(replies[0]);\n            }\n          });\n        });\n      })();\n    }\n\n    __addLimiter__(instance) {\n      return this.Promise.all([instance.channel(), instance.channel_client()].map(channel => {\n        return new this.Promise((resolve, reject) => {\n          var handler;\n\n          handler = chan => {\n            if (chan === channel) {\n              this.subscriber.removeListener(\"subscribe\", handler);\n              this.limiters[channel] = instance;\n              return resolve();\n            }\n          };\n\n          this.subscriber.on(\"subscribe\", handler);\n          return this.subscriber.subscribe(channel);\n        });\n      }));\n    }\n\n    __removeLimiter__(instance) {\n      var _this2 = this;\n\n      return this.Promise.all([instance.channel(), instance.channel_client()].map(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(function* (channel) {\n          if (!_this2.terminated) {\n            yield new _this2.Promise((resolve, reject) => {\n              return _this2.subscriber.unsubscribe(channel, function (err, chan) {\n                if (err != null) {\n                  return reject(err);\n                }\n\n                if (chan === channel) {\n                  return resolve();\n                }\n              });\n            });\n          }\n\n          return delete _this2.limiters[channel];\n        });\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()));\n    }\n\n    __scriptArgs__(name, id, args, cb) {\n      var keys;\n      keys = Scripts.keys(name, id);\n      return [this.shas[name], keys.length].concat(keys, args, cb);\n    }\n\n    __scriptFn__(name) {\n      return this.client.evalsha.bind(this.client);\n    }\n\n    disconnect(flush = true) {\n      var i, k, len, ref;\n      ref = Object.keys(this.limiters);\n\n      for (i = 0, len = ref.length; i < len; i++) {\n        k = ref[i];\n        clearInterval(this.limiters[k]._store.heartbeat);\n      }\n\n      this.limiters = {};\n      this.terminated = true;\n      this.client.end(flush);\n      this.subscriber.end(flush);\n      return this.Promise.resolve();\n    }\n\n  }\n\n  ;\n  RedisConnection.prototype.datastore = \"redis\";\n  RedisConnection.prototype.defaults = {\n    Redis: null,\n    clientOptions: {},\n    client: null,\n    Promise: Promise,\n    Events: null\n  };\n  return RedisConnection;\n}.call(void 0);\n\nmodule.exports = RedisConnection;","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar BottleneckError, IORedisConnection, RedisConnection, RedisDatastore, parser;\nparser = require(\"./parser\");\nBottleneckError = require(\"./BottleneckError\");\nRedisConnection = require(\"./RedisConnection\");\nIORedisConnection = require(\"./IORedisConnection\");\nRedisDatastore = class RedisDatastore {\n  constructor(instance, storeOptions, storeInstanceOptions) {\n    this.instance = instance;\n    this.storeOptions = storeOptions;\n    this.originalId = this.instance.id;\n    this.clientId = this.instance._randomIndex();\n    parser.load(storeInstanceOptions, storeInstanceOptions, this);\n    this.clients = {};\n    this.capacityPriorityCounters = {};\n    this.sharedConnection = this.connection != null;\n\n    if (this.connection == null) {\n      this.connection = this.instance.datastore === \"redis\" ? new RedisConnection({\n        Redis: this.Redis,\n        clientOptions: this.clientOptions,\n        Promise: this.Promise,\n        Events: this.instance.Events\n      }) : this.instance.datastore === \"ioredis\" ? new IORedisConnection({\n        Redis: this.Redis,\n        clientOptions: this.clientOptions,\n        clusterNodes: this.clusterNodes,\n        Promise: this.Promise,\n        Events: this.instance.Events\n      }) : void 0;\n    }\n\n    this.instance.connection = this.connection;\n    this.instance.datastore = this.connection.datastore;\n    this.ready = this.connection.ready.then(clients => {\n      this.clients = clients;\n      return this.runScript(\"init\", this.prepareInitSettings(this.clearDatastore));\n    }).then(() => {\n      return this.connection.__addLimiter__(this.instance);\n    }).then(() => {\n      return this.runScript(\"register_client\", [this.instance.queued()]);\n    }).then(() => {\n      var base;\n\n      if (typeof (base = this.heartbeat = setInterval(() => {\n        return this.runScript(\"heartbeat\", []).catch(e => {\n          return this.instance.Events.trigger(\"error\", e);\n        });\n      }, this.heartbeatInterval)).unref === \"function\") {\n        base.unref();\n      }\n\n      return this.clients;\n    });\n  }\n\n  __publish__(message) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var client;\n\n      var _ref = yield _this.ready;\n\n      client = _ref.client;\n      return client.publish(_this.instance.channel(), `message:${message.toString()}`);\n    })();\n  }\n\n  onMessage(channel, message) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var capacity, counter, data, drained, e, newCapacity, pos, priorityClient, rawCapacity, type;\n\n      try {\n        pos = message.indexOf(\":\");\n        var _ref2 = [message.slice(0, pos), message.slice(pos + 1)];\n        type = _ref2[0];\n        data = _ref2[1];\n\n        if (type === \"capacity\") {\n          return yield _this2.instance._drainAll(data.length > 0 ? ~~data : void 0);\n        } else if (type === \"capacity-priority\") {\n          var _data$split = data.split(\":\");\n\n          var _data$split2 = _slicedToArray(_data$split, 3);\n\n          rawCapacity = _data$split2[0];\n          priorityClient = _data$split2[1];\n          counter = _data$split2[2];\n          capacity = rawCapacity.length > 0 ? ~~rawCapacity : void 0;\n\n          if (priorityClient === _this2.clientId) {\n            drained = yield _this2.instance._drainAll(capacity);\n            newCapacity = capacity != null ? capacity - (drained || 0) : \"\";\n            return yield _this2.clients.client.publish(_this2.instance.channel(), `capacity-priority:${newCapacity}::${counter}`);\n          } else if (priorityClient === \"\") {\n            clearTimeout(_this2.capacityPriorityCounters[counter]);\n            delete _this2.capacityPriorityCounters[counter];\n            return _this2.instance._drainAll(capacity);\n          } else {\n            return _this2.capacityPriorityCounters[counter] = setTimeout(\n            /*#__PURE__*/\n            _asyncToGenerator(function* () {\n              var e;\n\n              try {\n                delete _this2.capacityPriorityCounters[counter];\n                yield _this2.runScript(\"blacklist_client\", [priorityClient]);\n                return yield _this2.instance._drainAll(capacity);\n              } catch (error) {\n                e = error;\n                return _this2.instance.Events.trigger(\"error\", e);\n              }\n            }), 1000);\n          }\n        } else if (type === \"message\") {\n          return _this2.instance.Events.trigger(\"message\", data);\n        } else if (type === \"blocked\") {\n          return yield _this2.instance._dropAllQueued();\n        }\n      } catch (error) {\n        e = error;\n        return _this2.instance.Events.trigger(\"error\", e);\n      }\n    })();\n  }\n\n  __disconnect__(flush) {\n    clearInterval(this.heartbeat);\n\n    if (this.sharedConnection) {\n      return this.connection.__removeLimiter__(this.instance);\n    } else {\n      return this.connection.disconnect(flush);\n    }\n  }\n\n  runScript(name, args) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!(name === \"init\" || name === \"register_client\")) {\n        yield _this3.ready;\n      }\n\n      return new _this3.Promise((resolve, reject) => {\n        var all_args, arr;\n        all_args = [Date.now(), _this3.clientId].concat(args);\n\n        _this3.instance.Events.trigger(\"debug\", `Calling Redis script: ${name}.lua`, all_args);\n\n        arr = _this3.connection.__scriptArgs__(name, _this3.originalId, all_args, function (err, replies) {\n          if (err != null) {\n            return reject(err);\n          }\n\n          return resolve(replies);\n        });\n        return _this3.connection.__scriptFn__(name)(...arr);\n      }).catch(e => {\n        if (e.message === \"SETTINGS_KEY_NOT_FOUND\") {\n          if (name === \"heartbeat\") {\n            return _this3.Promise.resolve();\n          } else {\n            return _this3.runScript(\"init\", _this3.prepareInitSettings(false)).then(() => {\n              return _this3.runScript(name, args);\n            });\n          }\n        } else if (e.message === \"UNKNOWN_CLIENT\") {\n          return _this3.runScript(\"register_client\", [_this3.instance.queued()]).then(() => {\n            return _this3.runScript(name, args);\n          });\n        } else {\n          return _this3.Promise.reject(e);\n        }\n      });\n    })();\n  }\n\n  prepareArray(arr) {\n    var i, len, results, x;\n    results = [];\n\n    for (i = 0, len = arr.length; i < len; i++) {\n      x = arr[i];\n      results.push(x != null ? x.toString() : \"\");\n    }\n\n    return results;\n  }\n\n  prepareObject(obj) {\n    var arr, k, v;\n    arr = [];\n\n    for (k in obj) {\n      v = obj[k];\n      arr.push(k, v != null ? v.toString() : \"\");\n    }\n\n    return arr;\n  }\n\n  prepareInitSettings(clear) {\n    var args;\n    args = this.prepareObject(Object.assign({}, this.storeOptions, {\n      id: this.originalId,\n      version: this.instance.version,\n      groupTimeout: this.timeout,\n      clientTimeout: this.clientTimeout\n    }));\n    args.unshift(clear ? 1 : 0, this.instance.version);\n    return args;\n  }\n\n  convertBool(b) {\n    return !!b;\n  }\n\n  __updateSettings__(options) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this4.runScript(\"update_settings\", _this4.prepareObject(options));\n      return parser.overwrite(options, options, _this4.storeOptions);\n    })();\n  }\n\n  __running__() {\n    return this.runScript(\"running\", []);\n  }\n\n  __queued__() {\n    return this.runScript(\"queued\", []);\n  }\n\n  __done__() {\n    return this.runScript(\"done\", []);\n  }\n\n  __groupCheck__() {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this5.convertBool((yield _this5.runScript(\"group_check\", [])));\n    })();\n  }\n\n  __incrementReservoir__(incr) {\n    return this.runScript(\"increment_reservoir\", [incr]);\n  }\n\n  __currentReservoir__() {\n    return this.runScript(\"current_reservoir\", []);\n  }\n\n  __check__(weight) {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this6.convertBool((yield _this6.runScript(\"check\", _this6.prepareArray([weight]))));\n    })();\n  }\n\n  __register__(index, weight, expiration) {\n    var _this7 = this;\n\n    return _asyncToGenerator(function* () {\n      var reservoir, success, wait;\n\n      var _ref4 = yield _this7.runScript(\"register\", _this7.prepareArray([index, weight, expiration]));\n\n      var _ref5 = _slicedToArray(_ref4, 3);\n\n      success = _ref5[0];\n      wait = _ref5[1];\n      reservoir = _ref5[2];\n      return {\n        success: _this7.convertBool(success),\n        wait,\n        reservoir\n      };\n    })();\n  }\n\n  __submit__(queueLength, weight) {\n    var _this8 = this;\n\n    return _asyncToGenerator(function* () {\n      var blocked, e, maxConcurrent, overweight, reachedHWM, strategy;\n\n      try {\n        var _ref6 = yield _this8.runScript(\"submit\", _this8.prepareArray([queueLength, weight]));\n\n        var _ref7 = _slicedToArray(_ref6, 3);\n\n        reachedHWM = _ref7[0];\n        blocked = _ref7[1];\n        strategy = _ref7[2];\n        return {\n          reachedHWM: _this8.convertBool(reachedHWM),\n          blocked: _this8.convertBool(blocked),\n          strategy\n        };\n      } catch (error) {\n        e = error;\n\n        if (e.message.indexOf(\"OVERWEIGHT\") === 0) {\n          var _e$message$split = e.message.split(\":\");\n\n          var _e$message$split2 = _slicedToArray(_e$message$split, 3);\n\n          overweight = _e$message$split2[0];\n          weight = _e$message$split2[1];\n          maxConcurrent = _e$message$split2[2];\n          throw new BottleneckError(`Impossible to add a job having a weight of ${weight} to a limiter having a maxConcurrent setting of ${maxConcurrent}`);\n        } else {\n          throw e;\n        }\n      }\n    })();\n  }\n\n  __free__(index, weight) {\n    var _this9 = this;\n\n    return _asyncToGenerator(function* () {\n      var running;\n      running = yield _this9.runScript(\"free\", _this9.prepareArray([index]));\n      return {\n        running\n      };\n    })();\n  }\n\n};\nmodule.exports = RedisDatastore;","\"use strict\";\n\nvar headers, lua, templates;\nlua = require(\"./lua.json\");\nheaders = {\n  refs: lua[\"refs.lua\"],\n  validate_keys: lua[\"validate_keys.lua\"],\n  validate_client: lua[\"validate_client.lua\"],\n  refresh_expiration: lua[\"refresh_expiration.lua\"],\n  process_tick: lua[\"process_tick.lua\"],\n  conditions_check: lua[\"conditions_check.lua\"],\n  get_time: lua[\"get_time.lua\"]\n};\n\nexports.allKeys = function (id) {\n  return [\n  /*\n  HASH\n  */\n  `b_${id}_settings`,\n  /*\n  HASH\n  job index -> weight\n  */\n  `b_${id}_job_weights`,\n  /*\n  ZSET\n  job index -> expiration\n  */\n  `b_${id}_job_expirations`,\n  /*\n  HASH\n  job index -> client\n  */\n  `b_${id}_job_clients`,\n  /*\n  ZSET\n  client -> sum running\n  */\n  `b_${id}_client_running`,\n  /*\n  HASH\n  client -> num queued\n  */\n  `b_${id}_client_num_queued`,\n  /*\n  ZSET\n  client -> last job registered\n  */\n  `b_${id}_client_last_registered`,\n  /*\n  ZSET\n  client -> last seen\n  */\n  `b_${id}_client_last_seen`];\n};\n\ntemplates = {\n  init: {\n    keys: exports.allKeys,\n    headers: [\"process_tick\"],\n    refresh_expiration: true,\n    code: lua[\"init.lua\"]\n  },\n  group_check: {\n    keys: exports.allKeys,\n    headers: [],\n    refresh_expiration: false,\n    code: lua[\"group_check.lua\"]\n  },\n  register_client: {\n    keys: exports.allKeys,\n    headers: [\"validate_keys\"],\n    refresh_expiration: false,\n    code: lua[\"register_client.lua\"]\n  },\n  blacklist_client: {\n    keys: exports.allKeys,\n    headers: [\"validate_keys\", \"validate_client\"],\n    refresh_expiration: false,\n    code: lua[\"blacklist_client.lua\"]\n  },\n  heartbeat: {\n    keys: exports.allKeys,\n    headers: [\"validate_keys\", \"validate_client\", \"process_tick\"],\n    refresh_expiration: false,\n    code: lua[\"heartbeat.lua\"]\n  },\n  update_settings: {\n    keys: exports.allKeys,\n    headers: [\"validate_keys\", \"validate_client\", \"process_tick\"],\n    refresh_expiration: true,\n    code: lua[\"update_settings.lua\"]\n  },\n  running: {\n    keys: exports.allKeys,\n    headers: [\"validate_keys\", \"validate_client\", \"process_tick\"],\n    refresh_expiration: false,\n    code: lua[\"running.lua\"]\n  },\n  queued: {\n    keys: exports.allKeys,\n    headers: [\"validate_keys\", \"validate_client\"],\n    refresh_expiration: false,\n    code: lua[\"queued.lua\"]\n  },\n  done: {\n    keys: exports.allKeys,\n    headers: [\"validate_keys\", \"validate_client\", \"process_tick\"],\n    refresh_expiration: false,\n    code: lua[\"done.lua\"]\n  },\n  check: {\n    keys: exports.allKeys,\n    headers: [\"validate_keys\", \"validate_client\", \"process_tick\", \"conditions_check\"],\n    refresh_expiration: false,\n    code: lua[\"check.lua\"]\n  },\n  submit: {\n    keys: exports.allKeys,\n    headers: [\"validate_keys\", \"validate_client\", \"process_tick\", \"conditions_check\"],\n    refresh_expiration: true,\n    code: lua[\"submit.lua\"]\n  },\n  register: {\n    keys: exports.allKeys,\n    headers: [\"validate_keys\", \"validate_client\", \"process_tick\", \"conditions_check\"],\n    refresh_expiration: true,\n    code: lua[\"register.lua\"]\n  },\n  free: {\n    keys: exports.allKeys,\n    headers: [\"validate_keys\", \"validate_client\", \"process_tick\"],\n    refresh_expiration: true,\n    code: lua[\"free.lua\"]\n  },\n  current_reservoir: {\n    keys: exports.allKeys,\n    headers: [\"validate_keys\", \"validate_client\", \"process_tick\"],\n    refresh_expiration: false,\n    code: lua[\"current_reservoir.lua\"]\n  },\n  increment_reservoir: {\n    keys: exports.allKeys,\n    headers: [\"validate_keys\", \"validate_client\", \"process_tick\"],\n    refresh_expiration: true,\n    code: lua[\"increment_reservoir.lua\"]\n  }\n};\nexports.names = Object.keys(templates);\n\nexports.keys = function (name, id) {\n  return templates[name].keys(id);\n};\n\nexports.payload = function (name) {\n  var template;\n  template = templates[name];\n  return Array.prototype.concat(headers.refs, template.headers.map(function (h) {\n    return headers[h];\n  }), template.refresh_expiration ? headers.refresh_expiration : \"\", template.code).join(\"\\n\");\n};","\"use strict\";\n\nvar BottleneckError, States;\nBottleneckError = require(\"./BottleneckError\");\nStates = class States {\n  constructor(status1) {\n    this.status = status1;\n    this._jobs = {};\n    this.counts = this.status.map(function () {\n      return 0;\n    });\n  }\n\n  next(id) {\n    var current, next;\n    current = this._jobs[id];\n    next = current + 1;\n\n    if (current != null && next < this.status.length) {\n      this.counts[current]--;\n      this.counts[next]++;\n      return this._jobs[id]++;\n    } else if (current != null) {\n      this.counts[current]--;\n      return delete this._jobs[id];\n    }\n  }\n\n  start(id) {\n    var initial;\n    initial = 0;\n    this._jobs[id] = initial;\n    return this.counts[initial]++;\n  }\n\n  remove(id) {\n    var current;\n    current = this._jobs[id];\n\n    if (current != null) {\n      this.counts[current]--;\n      delete this._jobs[id];\n    }\n\n    return current != null;\n  }\n\n  jobStatus(id) {\n    var ref;\n    return (ref = this.status[this._jobs[id]]) != null ? ref : null;\n  }\n\n  statusJobs(status) {\n    var k, pos, ref, results, v;\n\n    if (status != null) {\n      pos = this.status.indexOf(status);\n\n      if (pos < 0) {\n        throw new BottleneckError(`status must be one of ${this.status.join(', ')}`);\n      }\n\n      ref = this._jobs;\n      results = [];\n\n      for (k in ref) {\n        v = ref[k];\n\n        if (v === pos) {\n          results.push(k);\n        }\n      }\n\n      return results;\n    } else {\n      return Object.keys(this._jobs);\n    }\n  }\n\n  statusCounts() {\n    return this.counts.reduce((acc, v, i) => {\n      acc[this.status[i]] = v;\n      return acc;\n    }, {});\n  }\n\n};\nmodule.exports = States;","\"use strict\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar DLList, Sync;\nDLList = require(\"./DLList\");\nSync = class Sync {\n  constructor(name, Promise) {\n    this.schedule = this.schedule.bind(this);\n    this.name = name;\n    this.Promise = Promise;\n    this._running = 0;\n    this._queue = new DLList();\n  }\n\n  isEmpty() {\n    return this._queue.length === 0;\n  }\n\n  _tryToRun() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var args, cb, error, reject, resolve, returned, task;\n\n      if (_this._running < 1 && _this._queue.length > 0) {\n        _this._running++;\n\n        var _this$_queue$shift = _this._queue.shift();\n\n        task = _this$_queue$shift.task;\n        args = _this$_queue$shift.args;\n        resolve = _this$_queue$shift.resolve;\n        reject = _this$_queue$shift.reject;\n        cb = yield _asyncToGenerator(function* () {\n          try {\n            returned = yield task(...args);\n            return function () {\n              return resolve(returned);\n            };\n          } catch (error1) {\n            error = error1;\n            return function () {\n              return reject(error);\n            };\n          }\n        })();\n        _this._running--;\n\n        _this._tryToRun();\n\n        return cb();\n      }\n    })();\n  }\n\n  schedule(task, ...args) {\n    var promise, reject, resolve;\n    resolve = reject = null;\n    promise = new this.Promise(function (_resolve, _reject) {\n      resolve = _resolve;\n      return reject = _reject;\n    });\n\n    this._queue.push({\n      task,\n      args,\n      resolve,\n      reject\n    });\n\n    this._tryToRun();\n\n    return promise;\n  }\n\n};\nmodule.exports = Sync;","\"use strict\";\n\nmodule.exports = require(\"./Bottleneck\");","\"use strict\";\n\nexports.load = function (received, defaults, onto = {}) {\n  var k, ref, v;\n\n  for (k in defaults) {\n    v = defaults[k];\n    onto[k] = (ref = received[k]) != null ? ref : v;\n  }\n\n  return onto;\n};\n\nexports.overwrite = function (received, defaults, onto = {}) {\n  var k, v;\n\n  for (k in received) {\n    v = received[k];\n\n    if (defaults[k] !== void 0) {\n      onto[k] = v;\n    }\n  }\n\n  return onto;\n};","import { toArray, runWithSpan, ORPC_NAME, isAsyncIteratorObject, asyncIteratorWithSpan, intercept, getGlobalOtelConfig, isObject, value, stringifyJSON } from '@orpc/shared';\nimport { mergeStandardHeaders, ErrorEvent } from '@orpc/standard-server';\nimport { C as COMMON_ORPC_ERROR_DEFS, d as isORPCErrorStatus, e as isORPCErrorJson, g as createORPCErrorFromJson, c as ORPCError, m as mapEventIterator, t as toORPCError } from './client.DLfp86aF.mjs';\nimport { toStandardHeaders as toStandardHeaders$1 } from '@orpc/standard-server-fetch';\n\nclass CompositeStandardLinkPlugin {\n  plugins;\n  constructor(plugins = []) {\n    this.plugins = [...plugins].sort((a, b) => (a.order ?? 0) - (b.order ?? 0));\n  }\n  init(options) {\n    for (const plugin of this.plugins) {\n      plugin.init?.(options);\n    }\n  }\n}\n\nclass StandardLink {\n  constructor(codec, sender, options = {}) {\n    this.codec = codec;\n    this.sender = sender;\n    const plugin = new CompositeStandardLinkPlugin(options.plugins);\n    plugin.init(options);\n    this.interceptors = toArray(options.interceptors);\n    this.clientInterceptors = toArray(options.clientInterceptors);\n  }\n  interceptors;\n  clientInterceptors;\n  call(path, input, options) {\n    return runWithSpan(\n      { name: `${ORPC_NAME}.${path.join(\"/\")}`, signal: options.signal },\n      (span) => {\n        span?.setAttribute(\"rpc.system\", ORPC_NAME);\n        span?.setAttribute(\"rpc.method\", path.join(\".\"));\n        if (isAsyncIteratorObject(input)) {\n          input = asyncIteratorWithSpan(\n            { name: \"consume_event_iterator_input\", signal: options.signal },\n            input\n          );\n        }\n        return intercept(this.interceptors, { ...options, path, input }, async ({ path: path2, input: input2, ...options2 }) => {\n          const otelConfig = getGlobalOtelConfig();\n          let otelContext;\n          const currentSpan = otelConfig?.trace.getActiveSpan() ?? span;\n          if (currentSpan && otelConfig) {\n            otelContext = otelConfig?.trace.setSpan(otelConfig.context.active(), currentSpan);\n          }\n          const request = await runWithSpan(\n            { name: \"encode_request\", context: otelContext },\n            () => this.codec.encode(path2, input2, options2)\n          );\n          const response = await intercept(\n            this.clientInterceptors,\n            { ...options2, input: input2, path: path2, request },\n            ({ input: input3, path: path3, request: request2, ...options3 }) => {\n              return runWithSpan(\n                { name: \"send_request\", signal: options3.signal, context: otelContext },\n                () => this.sender.call(request2, options3, path3, input3)\n              );\n            }\n          );\n          const output = await runWithSpan(\n            { name: \"decode_response\", context: otelContext },\n            () => this.codec.decode(response, options2, path2, input2)\n          );\n          if (isAsyncIteratorObject(output)) {\n            return asyncIteratorWithSpan(\n              { name: \"consume_event_iterator_output\", signal: options2.signal },\n              output\n            );\n          }\n          return output;\n        });\n      }\n    );\n  }\n}\n\nconst STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES = {\n  BIGINT: 0,\n  DATE: 1,\n  NAN: 2,\n  UNDEFINED: 3,\n  URL: 4,\n  REGEXP: 5,\n  SET: 6,\n  MAP: 7\n};\nclass StandardRPCJsonSerializer {\n  customSerializers;\n  constructor(options = {}) {\n    this.customSerializers = options.customJsonSerializers ?? [];\n    if (this.customSerializers.length !== new Set(this.customSerializers.map((custom) => custom.type)).size) {\n      throw new Error(\"Custom serializer type must be unique.\");\n    }\n  }\n  serialize(data, segments = [], meta = [], maps = [], blobs = []) {\n    for (const custom of this.customSerializers) {\n      if (custom.condition(data)) {\n        const result = this.serialize(custom.serialize(data), segments, meta, maps, blobs);\n        meta.push([custom.type, ...segments]);\n        return result;\n      }\n    }\n    if (data instanceof Blob) {\n      maps.push(segments);\n      blobs.push(data);\n      return [data, meta, maps, blobs];\n    }\n    if (typeof data === \"bigint\") {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.BIGINT, ...segments]);\n      return [data.toString(), meta, maps, blobs];\n    }\n    if (data instanceof Date) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.DATE, ...segments]);\n      if (Number.isNaN(data.getTime())) {\n        return [null, meta, maps, blobs];\n      }\n      return [data.toISOString(), meta, maps, blobs];\n    }\n    if (Number.isNaN(data)) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.NAN, ...segments]);\n      return [null, meta, maps, blobs];\n    }\n    if (data instanceof URL) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.URL, ...segments]);\n      return [data.toString(), meta, maps, blobs];\n    }\n    if (data instanceof RegExp) {\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.REGEXP, ...segments]);\n      return [data.toString(), meta, maps, blobs];\n    }\n    if (data instanceof Set) {\n      const result = this.serialize(Array.from(data), segments, meta, maps, blobs);\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.SET, ...segments]);\n      return result;\n    }\n    if (data instanceof Map) {\n      const result = this.serialize(Array.from(data.entries()), segments, meta, maps, blobs);\n      meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.MAP, ...segments]);\n      return result;\n    }\n    if (Array.isArray(data)) {\n      const json = data.map((v, i) => {\n        if (v === void 0) {\n          meta.push([STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.UNDEFINED, ...segments, i]);\n          return v;\n        }\n        return this.serialize(v, [...segments, i], meta, maps, blobs)[0];\n      });\n      return [json, meta, maps, blobs];\n    }\n    if (isObject(data)) {\n      const json = {};\n      for (const k in data) {\n        if (k === \"toJSON\" && typeof data[k] === \"function\") {\n          continue;\n        }\n        json[k] = this.serialize(data[k], [...segments, k], meta, maps, blobs)[0];\n      }\n      return [json, meta, maps, blobs];\n    }\n    return [data, meta, maps, blobs];\n  }\n  deserialize(json, meta, maps, getBlob) {\n    const ref = { data: json };\n    if (maps && getBlob) {\n      maps.forEach((segments, i) => {\n        let currentRef = ref;\n        let preSegment = \"data\";\n        segments.forEach((segment) => {\n          currentRef = currentRef[preSegment];\n          preSegment = segment;\n        });\n        currentRef[preSegment] = getBlob(i);\n      });\n    }\n    for (const item of meta) {\n      const type = item[0];\n      let currentRef = ref;\n      let preSegment = \"data\";\n      for (let i = 1; i < item.length; i++) {\n        currentRef = currentRef[preSegment];\n        preSegment = item[i];\n      }\n      for (const custom of this.customSerializers) {\n        if (custom.type === type) {\n          currentRef[preSegment] = custom.deserialize(currentRef[preSegment]);\n          break;\n        }\n      }\n      switch (type) {\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.BIGINT:\n          currentRef[preSegment] = BigInt(currentRef[preSegment]);\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.DATE:\n          currentRef[preSegment] = new Date(currentRef[preSegment] ?? \"Invalid Date\");\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.NAN:\n          currentRef[preSegment] = Number.NaN;\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.UNDEFINED:\n          currentRef[preSegment] = void 0;\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.URL:\n          currentRef[preSegment] = new URL(currentRef[preSegment]);\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.REGEXP: {\n          const [, pattern, flags] = currentRef[preSegment].match(/^\\/(.*)\\/([a-z]*)$/);\n          currentRef[preSegment] = new RegExp(pattern, flags);\n          break;\n        }\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.SET:\n          currentRef[preSegment] = new Set(currentRef[preSegment]);\n          break;\n        case STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES.MAP:\n          currentRef[preSegment] = new Map(currentRef[preSegment]);\n          break;\n      }\n    }\n    return ref.data;\n  }\n}\n\nfunction toHttpPath(path) {\n  return `/${path.map(encodeURIComponent).join(\"/\")}`;\n}\nfunction toStandardHeaders(headers) {\n  if (typeof headers.forEach === \"function\") {\n    return toStandardHeaders$1(headers);\n  }\n  return headers;\n}\nfunction getMalformedResponseErrorCode(status) {\n  return Object.entries(COMMON_ORPC_ERROR_DEFS).find(([, def]) => def.status === status)?.[0] ?? \"MALFORMED_ORPC_ERROR_RESPONSE\";\n}\n\nclass StandardRPCLinkCodec {\n  constructor(serializer, options) {\n    this.serializer = serializer;\n    this.baseUrl = options.url;\n    this.maxUrlLength = options.maxUrlLength ?? 2083;\n    this.fallbackMethod = options.fallbackMethod ?? \"POST\";\n    this.expectedMethod = options.method ?? this.fallbackMethod;\n    this.headers = options.headers ?? {};\n  }\n  baseUrl;\n  maxUrlLength;\n  fallbackMethod;\n  expectedMethod;\n  headers;\n  async encode(path, input, options) {\n    let headers = toStandardHeaders(await value(this.headers, options, path, input));\n    if (options.lastEventId !== void 0) {\n      headers = mergeStandardHeaders(headers, { \"last-event-id\": options.lastEventId });\n    }\n    const expectedMethod = await value(this.expectedMethod, options, path, input);\n    const baseUrl = await value(this.baseUrl, options, path, input);\n    const url = new URL(baseUrl);\n    url.pathname = `${url.pathname.replace(/\\/$/, \"\")}${toHttpPath(path)}`;\n    const serialized = this.serializer.serialize(input);\n    if (expectedMethod === \"GET\" && !(serialized instanceof FormData) && !isAsyncIteratorObject(serialized)) {\n      const maxUrlLength = await value(this.maxUrlLength, options, path, input);\n      const getUrl = new URL(url);\n      getUrl.searchParams.append(\"data\", stringifyJSON(serialized));\n      if (getUrl.toString().length <= maxUrlLength) {\n        return {\n          body: void 0,\n          method: expectedMethod,\n          headers,\n          url: getUrl,\n          signal: options.signal\n        };\n      }\n    }\n    return {\n      url,\n      method: expectedMethod === \"GET\" ? this.fallbackMethod : expectedMethod,\n      headers,\n      body: serialized,\n      signal: options.signal\n    };\n  }\n  async decode(response) {\n    const isOk = !isORPCErrorStatus(response.status);\n    const deserialized = await (async () => {\n      let isBodyOk = false;\n      try {\n        const body = await response.body();\n        isBodyOk = true;\n        return this.serializer.deserialize(body);\n      } catch (error) {\n        if (!isBodyOk) {\n          throw new Error(\"Cannot parse response body, please check the response body and content-type.\", {\n            cause: error\n          });\n        }\n        throw new Error(\"Invalid RPC response format.\", {\n          cause: error\n        });\n      }\n    })();\n    if (!isOk) {\n      if (isORPCErrorJson(deserialized)) {\n        throw createORPCErrorFromJson(deserialized);\n      }\n      throw new ORPCError(getMalformedResponseErrorCode(response.status), {\n        status: response.status,\n        data: { ...response, body: deserialized }\n      });\n    }\n    return deserialized;\n  }\n}\n\nclass StandardRPCSerializer {\n  constructor(jsonSerializer) {\n    this.jsonSerializer = jsonSerializer;\n  }\n  serialize(data) {\n    if (isAsyncIteratorObject(data)) {\n      return mapEventIterator(data, {\n        value: async (value) => this.#serialize(value, false),\n        error: async (e) => {\n          return new ErrorEvent({\n            data: this.#serialize(toORPCError(e).toJSON(), false),\n            cause: e\n          });\n        }\n      });\n    }\n    return this.#serialize(data, true);\n  }\n  #serialize(data, enableFormData) {\n    const [json, meta_, maps, blobs] = this.jsonSerializer.serialize(data);\n    const meta = meta_.length === 0 ? void 0 : meta_;\n    if (!enableFormData || blobs.length === 0) {\n      return {\n        json,\n        meta\n      };\n    }\n    const form = new FormData();\n    form.set(\"data\", stringifyJSON({ json, meta, maps }));\n    blobs.forEach((blob, i) => {\n      form.set(i.toString(), blob);\n    });\n    return form;\n  }\n  deserialize(data) {\n    if (isAsyncIteratorObject(data)) {\n      return mapEventIterator(data, {\n        value: async (value) => this.#deserialize(value),\n        error: async (e) => {\n          if (!(e instanceof ErrorEvent)) {\n            return e;\n          }\n          const deserialized = this.#deserialize(e.data);\n          if (isORPCErrorJson(deserialized)) {\n            return createORPCErrorFromJson(deserialized, { cause: e });\n          }\n          return new ErrorEvent({\n            data: deserialized,\n            cause: e\n          });\n        }\n      });\n    }\n    return this.#deserialize(data);\n  }\n  #deserialize(data) {\n    if (data === void 0) {\n      return void 0;\n    }\n    if (!(data instanceof FormData)) {\n      return this.jsonSerializer.deserialize(data.json, data.meta ?? []);\n    }\n    const serialized = JSON.parse(data.get(\"data\"));\n    return this.jsonSerializer.deserialize(\n      serialized.json,\n      serialized.meta ?? [],\n      serialized.maps,\n      (i) => data.get(i.toString())\n    );\n  }\n}\n\nclass StandardRPCLink extends StandardLink {\n  constructor(linkClient, options) {\n    const jsonSerializer = new StandardRPCJsonSerializer(options);\n    const serializer = new StandardRPCSerializer(jsonSerializer);\n    const linkCodec = new StandardRPCLinkCodec(serializer, options);\n    super(linkCodec, linkClient, options);\n  }\n}\n\nexport { CompositeStandardLinkPlugin as C, StandardLink as S, STANDARD_RPC_JSON_SERIALIZER_BUILT_IN_TYPES as a, StandardRPCJsonSerializer as b, StandardRPCLink as c, StandardRPCLinkCodec as d, StandardRPCSerializer as e, toStandardHeaders as f, getMalformedResponseErrorCode as g, toHttpPath as t };\n","import { StandardRPCJsonSerializer } from '@orpc/client/standard';\nimport { fallback, stringifyJSON, once } from '@orpc/shared';\nimport { getEventMeta, withEventMeta } from '@orpc/standard-server';\nimport { P as Publisher } from '../shared/experimental-publisher.BtlOkhPO.mjs';\n\nclass IORedisPublisher extends Publisher {\n  commander;\n  listener;\n  prefix;\n  serializer;\n  retentionSeconds;\n  subscriptionPromiseMap = /* @__PURE__ */ new Map();\n  listenersMap = /* @__PURE__ */ new Map();\n  onErrorsMap = /* @__PURE__ */ new Map();\n  redisListenerAndOnError;\n  get isResumeEnabled() {\n    return Number.isFinite(this.retentionSeconds) && this.retentionSeconds > 0;\n  }\n  /**\n   * The exactness of the `XTRIM` command.\n   *\n   * @internal\n   */\n  xtrimExactness = \"~\";\n  /**\n   * Useful for measuring memory usage.\n   *\n   * @internal\n   *\n   */\n  get size() {\n    let size = this.redisListenerAndOnError ? 1 : 0;\n    for (const listeners of this.listenersMap) {\n      size += listeners[1].length || 1;\n    }\n    for (const onErrors of this.onErrorsMap) {\n      size += onErrors[1].length || 1;\n    }\n    return size;\n  }\n  constructor({ commander, listener, resumeRetentionSeconds, prefix, ...options }) {\n    super(options);\n    this.commander = commander;\n    this.listener = listener;\n    this.prefix = fallback(prefix, \"orpc:publisher:\");\n    this.retentionSeconds = resumeRetentionSeconds ?? Number.NaN;\n    this.serializer = new StandardRPCJsonSerializer(options);\n  }\n  lastCleanupTimeMap = /* @__PURE__ */ new Map();\n  async publish(event, payload) {\n    const key = this.prefixKey(event);\n    const serialized = this.serializePayload(payload);\n    let id;\n    if (this.isResumeEnabled) {\n      const now = Date.now();\n      for (const [mapKey, lastCleanupTime] of this.lastCleanupTimeMap) {\n        if (lastCleanupTime + this.retentionSeconds * 1e3 < now) {\n          this.lastCleanupTimeMap.delete(mapKey);\n        }\n      }\n      if (!this.lastCleanupTimeMap.has(key)) {\n        this.lastCleanupTimeMap.set(key, now);\n        const result = await this.commander.multi().xadd(key, \"*\", \"data\", stringifyJSON(serialized)).xtrim(key, \"MINID\", this.xtrimExactness, `${now - this.retentionSeconds * 1e3}-0`).expire(key, this.retentionSeconds * 2).exec();\n        if (result) {\n          for (const [error] of result) {\n            if (error) {\n              throw error;\n            }\n          }\n        }\n        id = result[0][1];\n      } else {\n        const result = await this.commander.xadd(key, \"*\", \"data\", stringifyJSON(serialized));\n        id = result;\n      }\n    }\n    await this.commander.publish(key, stringifyJSON({ ...serialized, id }));\n  }\n  async subscribeListener(event, originalListener, { lastEventId, onError } = {}) {\n    const key = this.prefixKey(event);\n    let pendingPayloads = [];\n    const resumePayloadIds = /* @__PURE__ */ new Set();\n    const listener = (payload) => {\n      if (pendingPayloads) {\n        pendingPayloads.push(payload);\n        return;\n      }\n      const payloadId = getEventMeta(payload)?.id;\n      if (payloadId !== void 0 && resumePayloadIds.has(payloadId)) {\n        return;\n      }\n      originalListener(payload);\n    };\n    if (!this.redisListenerAndOnError) {\n      const redisOnError = (error) => {\n        for (const [_, onErrors] of this.onErrorsMap) {\n          for (const onError2 of onErrors) {\n            onError2(error);\n          }\n        }\n      };\n      const redisListener = (channel, message) => {\n        try {\n          const listeners2 = this.listenersMap.get(channel);\n          if (listeners2) {\n            const { id, ...rest } = JSON.parse(message);\n            const payload = this.deserializePayload(id, rest);\n            for (const listener2 of listeners2) {\n              listener2(payload);\n            }\n          }\n        } catch (error) {\n          const onErrors = this.onErrorsMap.get(channel);\n          if (onErrors) {\n            for (const onError2 of onErrors) {\n              onError2(error);\n            }\n          }\n        }\n      };\n      this.redisListenerAndOnError = { listener: redisListener, onError: redisOnError };\n      this.listener.on(\"message\", redisListener);\n      this.listener.on(\"error\", redisOnError);\n    }\n    const subscriptionPromise = this.subscriptionPromiseMap.get(key);\n    if (subscriptionPromise) {\n      await subscriptionPromise;\n    }\n    let listeners = this.listenersMap.get(key);\n    if (!listeners) {\n      try {\n        const promise = this.listener.subscribe(key);\n        this.subscriptionPromiseMap.set(key, promise);\n        await promise;\n        this.listenersMap.set(key, listeners = []);\n      } finally {\n        this.subscriptionPromiseMap.delete(key);\n        if (this.listenersMap.size === 0) {\n          this.listener.off(\"message\", this.redisListenerAndOnError.listener);\n          this.listener.off(\"error\", this.redisListenerAndOnError.onError);\n          this.redisListenerAndOnError = void 0;\n        }\n      }\n    }\n    listeners.push(listener);\n    if (onError) {\n      let onErrors = this.onErrorsMap.get(key);\n      if (!onErrors) {\n        this.onErrorsMap.set(key, onErrors = []);\n      }\n      onErrors.push(onError);\n    }\n    void (async () => {\n      try {\n        if (this.isResumeEnabled && typeof lastEventId === \"string\") {\n          const results = await this.commander.xread(\"STREAMS\", key, lastEventId);\n          if (results && results[0]) {\n            const [_, items] = results[0];\n            for (const [id, fields] of items) {\n              const serialized = fields[1];\n              const payload = this.deserializePayload(id, JSON.parse(serialized));\n              resumePayloadIds.add(id);\n              originalListener(payload);\n            }\n          }\n        }\n      } catch (error) {\n        onError?.(error);\n      } finally {\n        const pending = pendingPayloads;\n        pendingPayloads = void 0;\n        for (const payload of pending) {\n          listener(payload);\n        }\n      }\n    })();\n    const cleanupListeners = once(() => {\n      listeners.splice(listeners.indexOf(listener), 1);\n      if (onError) {\n        const onErrors = this.onErrorsMap.get(key);\n        if (onErrors) {\n          const index = onErrors.indexOf(onError);\n          if (index !== -1) {\n            onErrors.splice(index, 1);\n          }\n        }\n      }\n    });\n    return async () => {\n      cleanupListeners();\n      if (listeners.length === 0) {\n        this.listenersMap.delete(key);\n        this.onErrorsMap.delete(key);\n        if (this.redisListenerAndOnError && this.listenersMap.size === 0) {\n          this.listener.off(\"message\", this.redisListenerAndOnError.listener);\n          this.listener.off(\"error\", this.redisListenerAndOnError.onError);\n          this.redisListenerAndOnError = void 0;\n        }\n        await this.listener.unsubscribe(key);\n      }\n    };\n  }\n  prefixKey(key) {\n    return `${this.prefix}${key}`;\n  }\n  serializePayload(payload) {\n    const eventMeta = getEventMeta(payload);\n    const [json, meta] = this.serializer.serialize(payload);\n    return { json, meta, eventMeta };\n  }\n  deserializePayload(id, { json, meta, eventMeta }) {\n    return withEventMeta(\n      this.serializer.deserialize(json, meta),\n      id === void 0 ? { ...eventMeta } : { ...eventMeta, id }\n    );\n  }\n}\n\nexport { IORedisPublisher };\n","import { EventPublisher, SequentialIdGenerator, compareSequentialIds } from '@orpc/shared';\nimport { withEventMeta, getEventMeta } from '@orpc/standard-server';\nimport { P as Publisher } from '../shared/experimental-publisher.BtlOkhPO.mjs';\n\nclass MemoryPublisher extends Publisher {\n  eventPublisher = new EventPublisher();\n  idGenerator = new SequentialIdGenerator();\n  retentionSeconds;\n  eventsMap = /* @__PURE__ */ new Map();\n  /**\n   * Useful for measuring memory usage.\n   *\n   * @internal\n   *\n   */\n  get size() {\n    let size = this.eventPublisher.size;\n    for (const events of this.eventsMap) {\n      size += events[1].length || 1;\n    }\n    return size;\n  }\n  get isResumeEnabled() {\n    return Number.isFinite(this.retentionSeconds) && this.retentionSeconds > 0;\n  }\n  constructor({ resumeRetentionSeconds, ...options } = {}) {\n    super(options);\n    this.retentionSeconds = resumeRetentionSeconds ?? Number.NaN;\n  }\n  async publish(event, payload) {\n    this.cleanup();\n    if (this.isResumeEnabled) {\n      const now = Date.now();\n      const expiresAt = now + this.retentionSeconds * 1e3;\n      let events = this.eventsMap.get(event);\n      if (!events) {\n        this.eventsMap.set(event, events = []);\n      }\n      payload = withEventMeta(payload, { ...getEventMeta(payload), id: this.idGenerator.generate() });\n      events.push({ expiresAt, payload });\n    }\n    this.eventPublisher.publish(event, payload);\n  }\n  async subscribeListener(event, listener, options) {\n    if (this.isResumeEnabled && typeof options?.lastEventId === \"string\") {\n      const events = this.eventsMap.get(event);\n      if (events) {\n        for (const { payload } of events) {\n          const id = getEventMeta(payload)?.id;\n          if (typeof id === \"string\" && compareSequentialIds(id, options.lastEventId) > 0) {\n            listener(payload);\n          }\n        }\n      }\n    }\n    const syncUnsub = this.eventPublisher.subscribe(event, listener);\n    return async () => {\n      syncUnsub();\n    };\n  }\n  lastCleanupTime = null;\n  cleanup() {\n    if (!this.isResumeEnabled) {\n      return;\n    }\n    const now = Date.now();\n    if (this.lastCleanupTime !== null && this.lastCleanupTime + this.retentionSeconds * 1e3 > now) {\n      return;\n    }\n    this.lastCleanupTime = now;\n    for (const [event, events] of this.eventsMap) {\n      const validEvents = events.filter((event2) => event2.expiresAt > now);\n      if (validEvents.length > 0) {\n        this.eventsMap.set(event, validEvents);\n      } else {\n        this.eventsMap.delete(event);\n      }\n    }\n  }\n}\n\nexport { MemoryPublisher };\n","import { StandardRPCJsonSerializer } from '@orpc/client/standard';\nimport { fallback, once } from '@orpc/shared';\nimport { getEventMeta, withEventMeta } from '@orpc/standard-server';\nimport { P as Publisher } from '../shared/experimental-publisher.BtlOkhPO.mjs';\n\nclass UpstashRedisPublisher extends Publisher {\n  constructor(redis, { resumeRetentionSeconds, prefix, ...options } = {}) {\n    super(options);\n    this.redis = redis;\n    this.prefix = fallback(prefix, \"orpc:publisher:\");\n    this.retentionSeconds = resumeRetentionSeconds ?? Number.NaN;\n    this.serializer = new StandardRPCJsonSerializer(options);\n  }\n  prefix;\n  serializer;\n  retentionSeconds;\n  listenersMap = /* @__PURE__ */ new Map();\n  onErrorsMap = /* @__PURE__ */ new Map();\n  subscriptionPromiseMap = /* @__PURE__ */ new Map();\n  subscriptionsMap = /* @__PURE__ */ new Map();\n  // Upstash subscription objects\n  get isResumeEnabled() {\n    return Number.isFinite(this.retentionSeconds) && this.retentionSeconds > 0;\n  }\n  /**\n   * The exactness of the `XTRIM` command.\n   *\n   * @internal\n   */\n  xtrimExactness = \"~\";\n  /**\n   * Useful for measuring memory usage.\n   *\n   * @internal\n   *\n   */\n  get size() {\n    let size = 0;\n    for (const listeners of this.listenersMap) {\n      size += listeners[1].length || 1;\n    }\n    for (const onErrors of this.onErrorsMap) {\n      size += onErrors[1].length || 1;\n    }\n    return size;\n  }\n  lastCleanupTimeMap = /* @__PURE__ */ new Map();\n  async publish(event, payload) {\n    const key = this.prefixKey(event);\n    const serialized = this.serializePayload(payload);\n    let id;\n    if (this.isResumeEnabled) {\n      const now = Date.now();\n      for (const [mapKey, lastCleanupTime] of this.lastCleanupTimeMap) {\n        if (lastCleanupTime + this.retentionSeconds * 1e3 < now) {\n          this.lastCleanupTimeMap.delete(mapKey);\n        }\n      }\n      if (!this.lastCleanupTimeMap.has(key)) {\n        this.lastCleanupTimeMap.set(key, now);\n        const results = await this.redis.multi().xadd(key, \"*\", { data: serialized }).xtrim(key, { strategy: \"MINID\", exactness: this.xtrimExactness, threshold: `${now - this.retentionSeconds * 1e3}-0` }).expire(key, this.retentionSeconds * 2).exec();\n        id = results[0];\n      } else {\n        const result = await this.redis.xadd(key, \"*\", { data: serialized });\n        id = result;\n      }\n    }\n    await this.redis.publish(key, { ...serialized, id });\n  }\n  async subscribeListener(event, originalListener, { lastEventId, onError } = {}) {\n    const key = this.prefixKey(event);\n    let pendingPayloads = [];\n    const resumePayloadIds = /* @__PURE__ */ new Set();\n    const listener = (payload) => {\n      if (pendingPayloads) {\n        pendingPayloads.push(payload);\n        return;\n      }\n      const payloadId = getEventMeta(payload)?.id;\n      if (payloadId !== void 0 && resumePayloadIds.has(payloadId)) {\n        return;\n      }\n      originalListener(payload);\n    };\n    const subscriptionPromise = this.subscriptionPromiseMap.get(key);\n    if (subscriptionPromise) {\n      await subscriptionPromise;\n    }\n    let subscription = this.subscriptionsMap.get(key);\n    if (!subscription) {\n      const dispatchErrorForKey = (error) => {\n        const onErrors = this.onErrorsMap.get(key);\n        if (onErrors) {\n          for (const onError2 of onErrors) {\n            onError2(error);\n          }\n        }\n      };\n      subscription = this.redis.subscribe(key);\n      subscription.on(\"message\", (event2) => {\n        try {\n          const listeners2 = this.listenersMap.get(event2.channel);\n          if (listeners2) {\n            const { id, ...rest } = event2.message;\n            const payload = this.deserializePayload(id, rest);\n            for (const listener2 of listeners2) {\n              listener2(payload);\n            }\n          }\n        } catch (error) {\n          dispatchErrorForKey(error);\n        }\n      });\n      let resolvePromise;\n      let rejectPromise;\n      const promise = new Promise((resolve, reject) => {\n        resolvePromise = resolve;\n        rejectPromise = reject;\n      });\n      subscription.on(\"error\", (error) => {\n        rejectPromise(error);\n        dispatchErrorForKey(error);\n      });\n      subscription.on(\"subscribe\", () => {\n        resolvePromise();\n      });\n      try {\n        this.subscriptionPromiseMap.set(key, promise);\n        await promise;\n        this.subscriptionsMap.set(key, subscription);\n      } finally {\n        this.subscriptionPromiseMap.delete(key);\n      }\n    }\n    let listeners = this.listenersMap.get(key);\n    if (!listeners) {\n      this.listenersMap.set(key, listeners = []);\n    }\n    listeners.push(listener);\n    if (onError) {\n      let onErrors = this.onErrorsMap.get(key);\n      if (!onErrors) {\n        this.onErrorsMap.set(key, onErrors = []);\n      }\n      onErrors.push(onError);\n    }\n    void (async () => {\n      try {\n        if (this.isResumeEnabled && typeof lastEventId === \"string\") {\n          const results = await this.redis.xread(key, lastEventId);\n          if (results && results[0]) {\n            const [_, items] = results[0];\n            for (const [id, fields] of items) {\n              const serialized = fields[1];\n              const payload = this.deserializePayload(id, serialized);\n              resumePayloadIds.add(id);\n              originalListener(payload);\n            }\n          }\n        }\n      } catch (error) {\n        onError?.(error);\n      } finally {\n        const pending = pendingPayloads;\n        pendingPayloads = void 0;\n        for (const payload of pending) {\n          listener(payload);\n        }\n      }\n    })();\n    const cleanupListeners = once(() => {\n      listeners.splice(listeners.indexOf(listener), 1);\n      if (onError) {\n        const onErrors = this.onErrorsMap.get(key);\n        if (onErrors) {\n          onErrors.splice(onErrors.indexOf(onError), 1);\n        }\n      }\n    });\n    return async () => {\n      cleanupListeners();\n      if (listeners.length === 0) {\n        this.listenersMap.delete(key);\n        this.onErrorsMap.delete(key);\n        const subscription2 = this.subscriptionsMap.get(key);\n        if (subscription2) {\n          this.subscriptionsMap.delete(key);\n          await subscription2.unsubscribe();\n        }\n      }\n    };\n  }\n  prefixKey(key) {\n    return `${this.prefix}${key}`;\n  }\n  serializePayload(payload) {\n    const eventMeta = getEventMeta(payload);\n    const [json, meta] = this.serializer.serialize(payload);\n    return { json, meta, eventMeta };\n  }\n  deserializePayload(id, { json, meta, eventMeta }) {\n    return withEventMeta(\n      this.serializer.deserialize(json, meta),\n      id === void 0 ? { ...eventMeta } : { ...eventMeta, id }\n    );\n  }\n}\n\nexport { UpstashRedisPublisher };\n","import { AsyncIteratorClass } from '@orpc/shared';\n\nclass Publisher {\n  maxBufferedEvents;\n  constructor(options = {}) {\n    this.maxBufferedEvents = options.maxBufferedEvents ?? 100;\n  }\n  subscribe(event, listenerOrOptions, listenerOptions) {\n    if (typeof listenerOrOptions === \"function\") {\n      return this.subscribeListener(event, listenerOrOptions, listenerOptions);\n    }\n    const signal = listenerOrOptions?.signal;\n    const maxBufferedEvents = listenerOrOptions?.maxBufferedEvents ?? this.maxBufferedEvents;\n    signal?.throwIfAborted();\n    const bufferedEvents = [];\n    const pullResolvers = [];\n    let subscriptionError;\n    const unsubscribePromise = this.subscribe(event, (payload) => {\n      const resolver = pullResolvers.shift();\n      if (resolver) {\n        resolver[0]({ done: false, value: payload });\n      } else {\n        bufferedEvents.push(payload);\n        if (bufferedEvents.length > maxBufferedEvents) {\n          bufferedEvents.shift();\n        }\n      }\n    }, {\n      lastEventId: listenerOrOptions?.lastEventId,\n      onError: (error) => {\n        subscriptionError = { error };\n        pullResolvers.forEach((resolver) => resolver[1](error));\n        signal?.removeEventListener(\"abort\", abortListener);\n        pullResolvers.length = 0;\n        bufferedEvents.length = 0;\n        unsubscribePromise.then((unsubscribe) => unsubscribe()).catch(() => {\n        });\n      }\n    });\n    function abortListener(event2) {\n      pullResolvers.forEach((resolver) => resolver[1](event2.target.reason));\n      pullResolvers.length = 0;\n      bufferedEvents.length = 0;\n      unsubscribePromise.then((unsubscribe) => unsubscribe()).catch(() => {\n      });\n    }\n    signal?.addEventListener(\"abort\", abortListener, { once: true });\n    return new AsyncIteratorClass(async () => {\n      if (subscriptionError) {\n        throw subscriptionError.error;\n      }\n      if (signal?.aborted) {\n        throw signal.reason;\n      }\n      await unsubscribePromise;\n      if (bufferedEvents.length > 0) {\n        return { done: false, value: bufferedEvents.shift() };\n      }\n      return new Promise((resolve, reject) => {\n        pullResolvers.push([resolve, reject]);\n      });\n    }, async () => {\n      pullResolvers.forEach((resolver) => resolver[0]({ done: true, value: void 0 }));\n      signal?.removeEventListener(\"abort\", abortListener);\n      pullResolvers.length = 0;\n      bufferedEvents.length = 0;\n      await unsubscribePromise.then((unsubscribe) => unsubscribe());\n    });\n  }\n}\n\nexport { Publisher as P };\n","/*!\r\n *  decimal.js v10.6.0\r\n *  An arbitrary-precision Decimal type for JavaScript.\r\n *  https://github.com/MikeMcl/decimal.js\r\n *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *  MIT Licence\r\n */\r\n\r\n\r\n// -----------------------------------  EDITABLE DEFAULTS  ------------------------------------ //\r\n\r\n\r\n  // The maximum exponent magnitude.\r\n  // The limit on the value of `toExpNeg`, `toExpPos`, `minE` and `maxE`.\r\nvar EXP_LIMIT = 9e15,                      // 0 to 9e15\r\n\r\n  // The limit on the value of `precision`, and on the value of the first argument to\r\n  // `toDecimalPlaces`, `toExponential`, `toFixed`, `toPrecision` and `toSignificantDigits`.\r\n  MAX_DIGITS = 1e9,                        // 0 to 1e9\r\n\r\n  // Base conversion alphabet.\r\n  NUMERALS = '0123456789abcdef',\r\n\r\n  // The natural logarithm of 10 (1025 digits).\r\n  LN10 = '2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058',\r\n\r\n  // Pi (1025 digits).\r\n  PI = '3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789',\r\n\r\n\r\n  // The initial configuration properties of the Decimal constructor.\r\n  DEFAULTS = {\r\n\r\n    // These values must be integers within the stated ranges (inclusive).\r\n    // Most of these values can be changed at run-time using the `Decimal.config` method.\r\n\r\n    // The maximum number of significant digits of the result of a calculation or base conversion.\r\n    // E.g. `Decimal.config({ precision: 20 });`\r\n    precision: 20,                         // 1 to MAX_DIGITS\r\n\r\n    // The rounding mode used when rounding to `precision`.\r\n    //\r\n    // ROUND_UP         0 Away from zero.\r\n    // ROUND_DOWN       1 Towards zero.\r\n    // ROUND_CEIL       2 Towards +Infinity.\r\n    // ROUND_FLOOR      3 Towards -Infinity.\r\n    // ROUND_HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n    // ROUND_HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n    // ROUND_HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n    // ROUND_HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n    // ROUND_HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n    //\r\n    // E.g.\r\n    // `Decimal.rounding = 4;`\r\n    // `Decimal.rounding = Decimal.ROUND_HALF_UP;`\r\n    rounding: 4,                           // 0 to 8\r\n\r\n    // The modulo mode used when calculating the modulus: a mod n.\r\n    // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n    // The remainder (r) is calculated as: r = a - n * q.\r\n    //\r\n    // UP         0 The remainder is positive if the dividend is negative, else is negative.\r\n    // DOWN       1 The remainder has the same sign as the dividend (JavaScript %).\r\n    // FLOOR      3 The remainder has the same sign as the divisor (Python %).\r\n    // HALF_EVEN  6 The IEEE 754 remainder function.\r\n    // EUCLID     9 Euclidian division. q = sign(n) * floor(a / abs(n)). Always positive.\r\n    //\r\n    // Truncated division (1), floored division (3), the IEEE 754 remainder (6), and Euclidian\r\n    // division (9) are commonly used for the modulus operation. The other rounding modes can also\r\n    // be used, but they may not give useful results.\r\n    modulo: 1,                             // 0 to 9\r\n\r\n    // The exponent value at and beneath which `toString` returns exponential notation.\r\n    // JavaScript numbers: -7\r\n    toExpNeg: -7,                          // 0 to -EXP_LIMIT\r\n\r\n    // The exponent value at and above which `toString` returns exponential notation.\r\n    // JavaScript numbers: 21\r\n    toExpPos:  21,                         // 0 to EXP_LIMIT\r\n\r\n    // The minimum exponent value, beneath which underflow to zero occurs.\r\n    // JavaScript numbers: -324  (5e-324)\r\n    minE: -EXP_LIMIT,                      // -1 to -EXP_LIMIT\r\n\r\n    // The maximum exponent value, above which overflow to Infinity occurs.\r\n    // JavaScript numbers: 308  (1.7976931348623157e+308)\r\n    maxE: EXP_LIMIT,                       // 1 to EXP_LIMIT\r\n\r\n    // Whether to use cryptographically-secure random number generation, if available.\r\n    crypto: false                          // true/false\r\n  },\r\n\r\n\r\n// ----------------------------------- END OF EDITABLE DEFAULTS ------------------------------- //\r\n\r\n\r\n  inexact, quadrant,\r\n  external = true,\r\n\r\n  decimalError = '[DecimalError] ',\r\n  invalidArgument = decimalError + 'Invalid argument: ',\r\n  precisionLimitExceeded = decimalError + 'Precision limit exceeded',\r\n  cryptoUnavailable = decimalError + 'crypto unavailable',\r\n  tag = '[object Decimal]',\r\n\r\n  mathfloor = Math.floor,\r\n  mathpow = Math.pow,\r\n\r\n  isBinary = /^0b([01]+(\\.[01]*)?|\\.[01]+)(p[+-]?\\d+)?$/i,\r\n  isHex = /^0x([0-9a-f]+(\\.[0-9a-f]*)?|\\.[0-9a-f]+)(p[+-]?\\d+)?$/i,\r\n  isOctal = /^0o([0-7]+(\\.[0-7]*)?|\\.[0-7]+)(p[+-]?\\d+)?$/i,\r\n  isDecimal = /^(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i,\r\n\r\n  BASE = 1e7,\r\n  LOG_BASE = 7,\r\n  MAX_SAFE_INTEGER = 9007199254740991,\r\n\r\n  LN10_PRECISION = LN10.length - 1,\r\n  PI_PRECISION = PI.length - 1,\r\n\r\n  // Decimal.prototype object\r\n  P = { toStringTag: tag };\r\n\r\n\r\n// Decimal prototype methods\r\n\r\n\r\n/*\r\n *  absoluteValue             abs\r\n *  ceil\r\n *  clampedTo                 clamp\r\n *  comparedTo                cmp\r\n *  cosine                    cos\r\n *  cubeRoot                  cbrt\r\n *  decimalPlaces             dp\r\n *  dividedBy                 div\r\n *  dividedToIntegerBy        divToInt\r\n *  equals                    eq\r\n *  floor\r\n *  greaterThan               gt\r\n *  greaterThanOrEqualTo      gte\r\n *  hyperbolicCosine          cosh\r\n *  hyperbolicSine            sinh\r\n *  hyperbolicTangent         tanh\r\n *  inverseCosine             acos\r\n *  inverseHyperbolicCosine   acosh\r\n *  inverseHyperbolicSine     asinh\r\n *  inverseHyperbolicTangent  atanh\r\n *  inverseSine               asin\r\n *  inverseTangent            atan\r\n *  isFinite\r\n *  isInteger                 isInt\r\n *  isNaN\r\n *  isNegative                isNeg\r\n *  isPositive                isPos\r\n *  isZero\r\n *  lessThan                  lt\r\n *  lessThanOrEqualTo         lte\r\n *  logarithm                 log\r\n *  [maximum]                 [max]\r\n *  [minimum]                 [min]\r\n *  minus                     sub\r\n *  modulo                    mod\r\n *  naturalExponential        exp\r\n *  naturalLogarithm          ln\r\n *  negated                   neg\r\n *  plus                      add\r\n *  precision                 sd\r\n *  round\r\n *  sine                      sin\r\n *  squareRoot                sqrt\r\n *  tangent                   tan\r\n *  times                     mul\r\n *  toBinary\r\n *  toDecimalPlaces           toDP\r\n *  toExponential\r\n *  toFixed\r\n *  toFraction\r\n *  toHexadecimal             toHex\r\n *  toNearest\r\n *  toNumber\r\n *  toOctal\r\n *  toPower                   pow\r\n *  toPrecision\r\n *  toSignificantDigits       toSD\r\n *  toString\r\n *  truncated                 trunc\r\n *  valueOf                   toJSON\r\n */\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the absolute value of this Decimal.\r\n *\r\n */\r\nP.absoluteValue = P.abs = function () {\r\n  var x = new this.constructor(this);\r\n  if (x.s < 0) x.s = 1;\r\n  return finalise(x);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the value of this Decimal rounded to a whole number in the\r\n * direction of positive Infinity.\r\n *\r\n */\r\nP.ceil = function () {\r\n  return finalise(new this.constructor(this), this.e + 1, 2);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the value of this Decimal clamped to the range\r\n * delineated by `min` and `max`.\r\n *\r\n * min {number|string|bigint|Decimal}\r\n * max {number|string|bigint|Decimal}\r\n *\r\n */\r\nP.clampedTo = P.clamp = function (min, max) {\r\n  var k,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n  min = new Ctor(min);\r\n  max = new Ctor(max);\r\n  if (!min.s || !max.s) return new Ctor(NaN);\r\n  if (min.gt(max)) throw Error(invalidArgument + max);\r\n  k = x.cmp(min);\r\n  return k < 0 ? min : x.cmp(max) > 0 ? max : new Ctor(x);\r\n};\r\n\r\n\r\n/*\r\n * Return\r\n *   1    if the value of this Decimal is greater than the value of `y`,\r\n *  -1    if the value of this Decimal is less than the value of `y`,\r\n *   0    if they have the same value,\r\n *   NaN  if the value of either Decimal is NaN.\r\n *\r\n */\r\nP.comparedTo = P.cmp = function (y) {\r\n  var i, j, xdL, ydL,\r\n    x = this,\r\n    xd = x.d,\r\n    yd = (y = new x.constructor(y)).d,\r\n    xs = x.s,\r\n    ys = y.s;\r\n\r\n  // Either NaN or Infinity?\r\n  if (!xd || !yd) {\r\n    return !xs || !ys ? NaN : xs !== ys ? xs : xd === yd ? 0 : !xd ^ xs < 0 ? 1 : -1;\r\n  }\r\n\r\n  // Either zero?\r\n  if (!xd[0] || !yd[0]) return xd[0] ? xs : yd[0] ? -ys : 0;\r\n\r\n  // Signs differ?\r\n  if (xs !== ys) return xs;\r\n\r\n  // Compare exponents.\r\n  if (x.e !== y.e) return x.e > y.e ^ xs < 0 ? 1 : -1;\r\n\r\n  xdL = xd.length;\r\n  ydL = yd.length;\r\n\r\n  // Compare digit by digit.\r\n  for (i = 0, j = xdL < ydL ? xdL : ydL; i < j; ++i) {\r\n    if (xd[i] !== yd[i]) return xd[i] > yd[i] ^ xs < 0 ? 1 : -1;\r\n  }\r\n\r\n  // Compare lengths.\r\n  return xdL === ydL ? 0 : xdL > ydL ^ xs < 0 ? 1 : -1;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the cosine of the value in radians of this Decimal.\r\n *\r\n * Domain: [-Infinity, Infinity]\r\n * Range: [-1, 1]\r\n *\r\n * cos(0)         = 1\r\n * cos(-0)        = 1\r\n * cos(Infinity)  = NaN\r\n * cos(-Infinity) = NaN\r\n * cos(NaN)       = NaN\r\n *\r\n */\r\nP.cosine = P.cos = function () {\r\n  var pr, rm,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (!x.d) return new Ctor(NaN);\r\n\r\n  // cos(0) = cos(-0) = 1\r\n  if (!x.d[0]) return new Ctor(1);\r\n\r\n  pr = Ctor.precision;\r\n  rm = Ctor.rounding;\r\n  Ctor.precision = pr + Math.max(x.e, x.sd()) + LOG_BASE;\r\n  Ctor.rounding = 1;\r\n\r\n  x = cosine(Ctor, toLessThanHalfPi(Ctor, x));\r\n\r\n  Ctor.precision = pr;\r\n  Ctor.rounding = rm;\r\n\r\n  return finalise(quadrant == 2 || quadrant == 3 ? x.neg() : x, pr, rm, true);\r\n};\r\n\r\n\r\n/*\r\n *\r\n * Return a new Decimal whose value is the cube root of the value of this Decimal, rounded to\r\n * `precision` significant digits using rounding mode `rounding`.\r\n *\r\n *  cbrt(0)  =  0\r\n *  cbrt(-0) = -0\r\n *  cbrt(1)  =  1\r\n *  cbrt(-1) = -1\r\n *  cbrt(N)  =  N\r\n *  cbrt(-I) = -I\r\n *  cbrt(I)  =  I\r\n *\r\n * Math.cbrt(x) = (x < 0 ? -Math.pow(-x, 1/3) : Math.pow(x, 1/3))\r\n *\r\n */\r\nP.cubeRoot = P.cbrt = function () {\r\n  var e, m, n, r, rep, s, sd, t, t3, t3plusx,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (!x.isFinite() || x.isZero()) return new Ctor(x);\r\n  external = false;\r\n\r\n  // Initial estimate.\r\n  s = x.s * mathpow(x.s * x, 1 / 3);\r\n\r\n   // Math.cbrt underflow/overflow?\r\n   // Pass x to Math.pow as integer, then adjust the exponent of the result.\r\n  if (!s || Math.abs(s) == 1 / 0) {\r\n    n = digitsToString(x.d);\r\n    e = x.e;\r\n\r\n    // Adjust n exponent so it is a multiple of 3 away from x exponent.\r\n    if (s = (e - n.length + 1) % 3) n += (s == 1 || s == -2 ? '0' : '00');\r\n    s = mathpow(n, 1 / 3);\r\n\r\n    // Rarely, e may be one less than the result exponent value.\r\n    e = mathfloor((e + 1) / 3) - (e % 3 == (e < 0 ? -1 : 2));\r\n\r\n    if (s == 1 / 0) {\r\n      n = '5e' + e;\r\n    } else {\r\n      n = s.toExponential();\r\n      n = n.slice(0, n.indexOf('e') + 1) + e;\r\n    }\r\n\r\n    r = new Ctor(n);\r\n    r.s = x.s;\r\n  } else {\r\n    r = new Ctor(s.toString());\r\n  }\r\n\r\n  sd = (e = Ctor.precision) + 3;\r\n\r\n  // Halley's method.\r\n  // TODO? Compare Newton's method.\r\n  for (;;) {\r\n    t = r;\r\n    t3 = t.times(t).times(t);\r\n    t3plusx = t3.plus(x);\r\n    r = divide(t3plusx.plus(x).times(t), t3plusx.plus(t3), sd + 2, 1);\r\n\r\n    // TODO? Replace with for-loop and checkRoundingDigits.\r\n    if (digitsToString(t.d).slice(0, sd) === (n = digitsToString(r.d)).slice(0, sd)) {\r\n      n = n.slice(sd - 3, sd + 1);\r\n\r\n      // The 4th rounding digit may be in error by -1 so if the 4 rounding digits are 9999 or 4999\r\n      // , i.e. approaching a rounding boundary, continue the iteration.\r\n      if (n == '9999' || !rep && n == '4999') {\r\n\r\n        // On the first iteration only, check to see if rounding up gives the exact result as the\r\n        // nines may infinitely repeat.\r\n        if (!rep) {\r\n          finalise(t, e + 1, 0);\r\n\r\n          if (t.times(t).times(t).eq(x)) {\r\n            r = t;\r\n            break;\r\n          }\r\n        }\r\n\r\n        sd += 4;\r\n        rep = 1;\r\n      } else {\r\n\r\n        // If the rounding digits are null, 0{0,4} or 50{0,3}, check for an exact result.\r\n        // If not, then there are further digits and m will be truthy.\r\n        if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n          // Truncate to the first rounding digit.\r\n          finalise(r, e + 1, 1);\r\n          m = !r.times(r).times(r).eq(x);\r\n        }\r\n\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  external = true;\r\n\r\n  return finalise(r, e, Ctor.rounding, m);\r\n};\r\n\r\n\r\n/*\r\n * Return the number of decimal places of the value of this Decimal.\r\n *\r\n */\r\nP.decimalPlaces = P.dp = function () {\r\n  var w,\r\n    d = this.d,\r\n    n = NaN;\r\n\r\n  if (d) {\r\n    w = d.length - 1;\r\n    n = (w - mathfloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n    // Subtract the number of trailing zeros of the last word.\r\n    w = d[w];\r\n    if (w) for (; w % 10 == 0; w /= 10) n--;\r\n    if (n < 0) n = 0;\r\n  }\r\n\r\n  return n;\r\n};\r\n\r\n\r\n/*\r\n *  n / 0 = I\r\n *  n / N = N\r\n *  n / I = 0\r\n *  0 / n = 0\r\n *  0 / 0 = N\r\n *  0 / N = N\r\n *  0 / I = 0\r\n *  N / n = N\r\n *  N / 0 = N\r\n *  N / N = N\r\n *  N / I = N\r\n *  I / n = I\r\n *  I / 0 = I\r\n *  I / N = N\r\n *  I / I = N\r\n *\r\n * Return a new Decimal whose value is the value of this Decimal divided by `y`, rounded to\r\n * `precision` significant digits using rounding mode `rounding`.\r\n *\r\n */\r\nP.dividedBy = P.div = function (y) {\r\n  return divide(this, new this.constructor(y));\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the integer part of dividing the value of this Decimal\r\n * by the value of `y`, rounded to `precision` significant digits using rounding mode `rounding`.\r\n *\r\n */\r\nP.dividedToIntegerBy = P.divToInt = function (y) {\r\n  var x = this,\r\n    Ctor = x.constructor;\r\n  return finalise(divide(x, new Ctor(y), 0, 1, 1), Ctor.precision, Ctor.rounding);\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Decimal is equal to the value of `y`, otherwise return false.\r\n *\r\n */\r\nP.equals = P.eq = function (y) {\r\n  return this.cmp(y) === 0;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the value of this Decimal rounded to a whole number in the\r\n * direction of negative Infinity.\r\n *\r\n */\r\nP.floor = function () {\r\n  return finalise(new this.constructor(this), this.e + 1, 3);\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Decimal is greater than the value of `y`, otherwise return\r\n * false.\r\n *\r\n */\r\nP.greaterThan = P.gt = function (y) {\r\n  return this.cmp(y) > 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Decimal is greater than or equal to the value of `y`,\r\n * otherwise return false.\r\n *\r\n */\r\nP.greaterThanOrEqualTo = P.gte = function (y) {\r\n  var k = this.cmp(y);\r\n  return k == 1 || k === 0;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the hyperbolic cosine of the value in radians of this\r\n * Decimal.\r\n *\r\n * Domain: [-Infinity, Infinity]\r\n * Range: [1, Infinity]\r\n *\r\n * cosh(x) = 1 + x^2/2! + x^4/4! + x^6/6! + ...\r\n *\r\n * cosh(0)         = 1\r\n * cosh(-0)        = 1\r\n * cosh(Infinity)  = Infinity\r\n * cosh(-Infinity) = Infinity\r\n * cosh(NaN)       = NaN\r\n *\r\n *  x        time taken (ms)   result\r\n * 1000      9                 9.8503555700852349694e+433\r\n * 10000     25                4.4034091128314607936e+4342\r\n * 100000    171               1.4033316802130615897e+43429\r\n * 1000000   3817              1.5166076984010437725e+434294\r\n * 10000000  abandoned after 2 minute wait\r\n *\r\n * TODO? Compare performance of cosh(x) = 0.5 * (exp(x) + exp(-x))\r\n *\r\n */\r\nP.hyperbolicCosine = P.cosh = function () {\r\n  var k, n, pr, rm, len,\r\n    x = this,\r\n    Ctor = x.constructor,\r\n    one = new Ctor(1);\r\n\r\n  if (!x.isFinite()) return new Ctor(x.s ? 1 / 0 : NaN);\r\n  if (x.isZero()) return one;\r\n\r\n  pr = Ctor.precision;\r\n  rm = Ctor.rounding;\r\n  Ctor.precision = pr + Math.max(x.e, x.sd()) + 4;\r\n  Ctor.rounding = 1;\r\n  len = x.d.length;\r\n\r\n  // Argument reduction: cos(4x) = 1 - 8cos^2(x) + 8cos^4(x) + 1\r\n  // i.e. cos(x) = 1 - cos^2(x/4)(8 - 8cos^2(x/4))\r\n\r\n  // Estimate the optimum number of times to use the argument reduction.\r\n  // TODO? Estimation reused from cosine() and may not be optimal here.\r\n  if (len < 32) {\r\n    k = Math.ceil(len / 3);\r\n    n = (1 / tinyPow(4, k)).toString();\r\n  } else {\r\n    k = 16;\r\n    n = '2.3283064365386962890625e-10';\r\n  }\r\n\r\n  x = taylorSeries(Ctor, 1, x.times(n), new Ctor(1), true);\r\n\r\n  // Reverse argument reduction\r\n  var cosh2_x,\r\n    i = k,\r\n    d8 = new Ctor(8);\r\n  for (; i--;) {\r\n    cosh2_x = x.times(x);\r\n    x = one.minus(cosh2_x.times(d8.minus(cosh2_x.times(d8))));\r\n  }\r\n\r\n  return finalise(x, Ctor.precision = pr, Ctor.rounding = rm, true);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the hyperbolic sine of the value in radians of this\r\n * Decimal.\r\n *\r\n * Domain: [-Infinity, Infinity]\r\n * Range: [-Infinity, Infinity]\r\n *\r\n * sinh(x) = x + x^3/3! + x^5/5! + x^7/7! + ...\r\n *\r\n * sinh(0)         = 0\r\n * sinh(-0)        = -0\r\n * sinh(Infinity)  = Infinity\r\n * sinh(-Infinity) = -Infinity\r\n * sinh(NaN)       = NaN\r\n *\r\n * x        time taken (ms)\r\n * 10       2 ms\r\n * 100      5 ms\r\n * 1000     14 ms\r\n * 10000    82 ms\r\n * 100000   886 ms            1.4033316802130615897e+43429\r\n * 200000   2613 ms\r\n * 300000   5407 ms\r\n * 400000   8824 ms\r\n * 500000   13026 ms          8.7080643612718084129e+217146\r\n * 1000000  48543 ms\r\n *\r\n * TODO? Compare performance of sinh(x) = 0.5 * (exp(x) - exp(-x))\r\n *\r\n */\r\nP.hyperbolicSine = P.sinh = function () {\r\n  var k, pr, rm, len,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (!x.isFinite() || x.isZero()) return new Ctor(x);\r\n\r\n  pr = Ctor.precision;\r\n  rm = Ctor.rounding;\r\n  Ctor.precision = pr + Math.max(x.e, x.sd()) + 4;\r\n  Ctor.rounding = 1;\r\n  len = x.d.length;\r\n\r\n  if (len < 3) {\r\n    x = taylorSeries(Ctor, 2, x, x, true);\r\n  } else {\r\n\r\n    // Alternative argument reduction: sinh(3x) = sinh(x)(3 + 4sinh^2(x))\r\n    // i.e. sinh(x) = sinh(x/3)(3 + 4sinh^2(x/3))\r\n    // 3 multiplications and 1 addition\r\n\r\n    // Argument reduction: sinh(5x) = sinh(x)(5 + sinh^2(x)(20 + 16sinh^2(x)))\r\n    // i.e. sinh(x) = sinh(x/5)(5 + sinh^2(x/5)(20 + 16sinh^2(x/5)))\r\n    // 4 multiplications and 2 additions\r\n\r\n    // Estimate the optimum number of times to use the argument reduction.\r\n    k = 1.4 * Math.sqrt(len);\r\n    k = k > 16 ? 16 : k | 0;\r\n\r\n    x = x.times(1 / tinyPow(5, k));\r\n    x = taylorSeries(Ctor, 2, x, x, true);\r\n\r\n    // Reverse argument reduction\r\n    var sinh2_x,\r\n      d5 = new Ctor(5),\r\n      d16 = new Ctor(16),\r\n      d20 = new Ctor(20);\r\n    for (; k--;) {\r\n      sinh2_x = x.times(x);\r\n      x = x.times(d5.plus(sinh2_x.times(d16.times(sinh2_x).plus(d20))));\r\n    }\r\n  }\r\n\r\n  Ctor.precision = pr;\r\n  Ctor.rounding = rm;\r\n\r\n  return finalise(x, pr, rm, true);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the hyperbolic tangent of the value in radians of this\r\n * Decimal.\r\n *\r\n * Domain: [-Infinity, Infinity]\r\n * Range: [-1, 1]\r\n *\r\n * tanh(x) = sinh(x) / cosh(x)\r\n *\r\n * tanh(0)         = 0\r\n * tanh(-0)        = -0\r\n * tanh(Infinity)  = 1\r\n * tanh(-Infinity) = -1\r\n * tanh(NaN)       = NaN\r\n *\r\n */\r\nP.hyperbolicTangent = P.tanh = function () {\r\n  var pr, rm,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (!x.isFinite()) return new Ctor(x.s);\r\n  if (x.isZero()) return new Ctor(x);\r\n\r\n  pr = Ctor.precision;\r\n  rm = Ctor.rounding;\r\n  Ctor.precision = pr + 7;\r\n  Ctor.rounding = 1;\r\n\r\n  return divide(x.sinh(), x.cosh(), Ctor.precision = pr, Ctor.rounding = rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the arccosine (inverse cosine) in radians of the value of\r\n * this Decimal.\r\n *\r\n * Domain: [-1, 1]\r\n * Range: [0, pi]\r\n *\r\n * acos(x) = pi/2 - asin(x)\r\n *\r\n * acos(0)       = pi/2\r\n * acos(-0)      = pi/2\r\n * acos(1)       = 0\r\n * acos(-1)      = pi\r\n * acos(1/2)     = pi/3\r\n * acos(-1/2)    = 2*pi/3\r\n * acos(|x| > 1) = NaN\r\n * acos(NaN)     = NaN\r\n *\r\n */\r\nP.inverseCosine = P.acos = function () {\r\n  var x = this,\r\n    Ctor = x.constructor,\r\n    k = x.abs().cmp(1),\r\n    pr = Ctor.precision,\r\n    rm = Ctor.rounding;\r\n\r\n  if (k !== -1) {\r\n    return k === 0\r\n      // |x| is 1\r\n      ? x.isNeg() ? getPi(Ctor, pr, rm) : new Ctor(0)\r\n      // |x| > 1 or x is NaN\r\n      : new Ctor(NaN);\r\n  }\r\n\r\n  if (x.isZero()) return getPi(Ctor, pr + 4, rm).times(0.5);\r\n\r\n  // TODO? Special case acos(0.5) = pi/3 and acos(-0.5) = 2*pi/3\r\n\r\n  Ctor.precision = pr + 6;\r\n  Ctor.rounding = 1;\r\n\r\n  // See https://github.com/MikeMcl/decimal.js/pull/217\r\n  x = new Ctor(1).minus(x).div(x.plus(1)).sqrt().atan();\r\n\r\n  Ctor.precision = pr;\r\n  Ctor.rounding = rm;\r\n\r\n  return x.times(2);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the inverse of the hyperbolic cosine in radians of the\r\n * value of this Decimal.\r\n *\r\n * Domain: [1, Infinity]\r\n * Range: [0, Infinity]\r\n *\r\n * acosh(x) = ln(x + sqrt(x^2 - 1))\r\n *\r\n * acosh(x < 1)     = NaN\r\n * acosh(NaN)       = NaN\r\n * acosh(Infinity)  = Infinity\r\n * acosh(-Infinity) = NaN\r\n * acosh(0)         = NaN\r\n * acosh(-0)        = NaN\r\n * acosh(1)         = 0\r\n * acosh(-1)        = NaN\r\n *\r\n */\r\nP.inverseHyperbolicCosine = P.acosh = function () {\r\n  var pr, rm,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (x.lte(1)) return new Ctor(x.eq(1) ? 0 : NaN);\r\n  if (!x.isFinite()) return new Ctor(x);\r\n\r\n  pr = Ctor.precision;\r\n  rm = Ctor.rounding;\r\n  Ctor.precision = pr + Math.max(Math.abs(x.e), x.sd()) + 4;\r\n  Ctor.rounding = 1;\r\n  external = false;\r\n\r\n  x = x.times(x).minus(1).sqrt().plus(x);\r\n\r\n  external = true;\r\n  Ctor.precision = pr;\r\n  Ctor.rounding = rm;\r\n\r\n  return x.ln();\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the inverse of the hyperbolic sine in radians of the value\r\n * of this Decimal.\r\n *\r\n * Domain: [-Infinity, Infinity]\r\n * Range: [-Infinity, Infinity]\r\n *\r\n * asinh(x) = ln(x + sqrt(x^2 + 1))\r\n *\r\n * asinh(NaN)       = NaN\r\n * asinh(Infinity)  = Infinity\r\n * asinh(-Infinity) = -Infinity\r\n * asinh(0)         = 0\r\n * asinh(-0)        = -0\r\n *\r\n */\r\nP.inverseHyperbolicSine = P.asinh = function () {\r\n  var pr, rm,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (!x.isFinite() || x.isZero()) return new Ctor(x);\r\n\r\n  pr = Ctor.precision;\r\n  rm = Ctor.rounding;\r\n  Ctor.precision = pr + 2 * Math.max(Math.abs(x.e), x.sd()) + 6;\r\n  Ctor.rounding = 1;\r\n  external = false;\r\n\r\n  x = x.times(x).plus(1).sqrt().plus(x);\r\n\r\n  external = true;\r\n  Ctor.precision = pr;\r\n  Ctor.rounding = rm;\r\n\r\n  return x.ln();\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the inverse of the hyperbolic tangent in radians of the\r\n * value of this Decimal.\r\n *\r\n * Domain: [-1, 1]\r\n * Range: [-Infinity, Infinity]\r\n *\r\n * atanh(x) = 0.5 * ln((1 + x) / (1 - x))\r\n *\r\n * atanh(|x| > 1)   = NaN\r\n * atanh(NaN)       = NaN\r\n * atanh(Infinity)  = NaN\r\n * atanh(-Infinity) = NaN\r\n * atanh(0)         = 0\r\n * atanh(-0)        = -0\r\n * atanh(1)         = Infinity\r\n * atanh(-1)        = -Infinity\r\n *\r\n */\r\nP.inverseHyperbolicTangent = P.atanh = function () {\r\n  var pr, rm, wpr, xsd,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (!x.isFinite()) return new Ctor(NaN);\r\n  if (x.e >= 0) return new Ctor(x.abs().eq(1) ? x.s / 0 : x.isZero() ? x : NaN);\r\n\r\n  pr = Ctor.precision;\r\n  rm = Ctor.rounding;\r\n  xsd = x.sd();\r\n\r\n  if (Math.max(xsd, pr) < 2 * -x.e - 1) return finalise(new Ctor(x), pr, rm, true);\r\n\r\n  Ctor.precision = wpr = xsd - x.e;\r\n\r\n  x = divide(x.plus(1), new Ctor(1).minus(x), wpr + pr, 1);\r\n\r\n  Ctor.precision = pr + 4;\r\n  Ctor.rounding = 1;\r\n\r\n  x = x.ln();\r\n\r\n  Ctor.precision = pr;\r\n  Ctor.rounding = rm;\r\n\r\n  return x.times(0.5);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the arcsine (inverse sine) in radians of the value of this\r\n * Decimal.\r\n *\r\n * Domain: [-Infinity, Infinity]\r\n * Range: [-pi/2, pi/2]\r\n *\r\n * asin(x) = 2*atan(x/(1 + sqrt(1 - x^2)))\r\n *\r\n * asin(0)       = 0\r\n * asin(-0)      = -0\r\n * asin(1/2)     = pi/6\r\n * asin(-1/2)    = -pi/6\r\n * asin(1)       = pi/2\r\n * asin(-1)      = -pi/2\r\n * asin(|x| > 1) = NaN\r\n * asin(NaN)     = NaN\r\n *\r\n * TODO? Compare performance of Taylor series.\r\n *\r\n */\r\nP.inverseSine = P.asin = function () {\r\n  var halfPi, k,\r\n    pr, rm,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (x.isZero()) return new Ctor(x);\r\n\r\n  k = x.abs().cmp(1);\r\n  pr = Ctor.precision;\r\n  rm = Ctor.rounding;\r\n\r\n  if (k !== -1) {\r\n\r\n    // |x| is 1\r\n    if (k === 0) {\r\n      halfPi = getPi(Ctor, pr + 4, rm).times(0.5);\r\n      halfPi.s = x.s;\r\n      return halfPi;\r\n    }\r\n\r\n    // |x| > 1 or x is NaN\r\n    return new Ctor(NaN);\r\n  }\r\n\r\n  // TODO? Special case asin(1/2) = pi/6 and asin(-1/2) = -pi/6\r\n\r\n  Ctor.precision = pr + 6;\r\n  Ctor.rounding = 1;\r\n\r\n  x = x.div(new Ctor(1).minus(x.times(x)).sqrt().plus(1)).atan();\r\n\r\n  Ctor.precision = pr;\r\n  Ctor.rounding = rm;\r\n\r\n  return x.times(2);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the arctangent (inverse tangent) in radians of the value\r\n * of this Decimal.\r\n *\r\n * Domain: [-Infinity, Infinity]\r\n * Range: [-pi/2, pi/2]\r\n *\r\n * atan(x) = x - x^3/3 + x^5/5 - x^7/7 + ...\r\n *\r\n * atan(0)         = 0\r\n * atan(-0)        = -0\r\n * atan(1)         = pi/4\r\n * atan(-1)        = -pi/4\r\n * atan(Infinity)  = pi/2\r\n * atan(-Infinity) = -pi/2\r\n * atan(NaN)       = NaN\r\n *\r\n */\r\nP.inverseTangent = P.atan = function () {\r\n  var i, j, k, n, px, t, r, wpr, x2,\r\n    x = this,\r\n    Ctor = x.constructor,\r\n    pr = Ctor.precision,\r\n    rm = Ctor.rounding;\r\n\r\n  if (!x.isFinite()) {\r\n    if (!x.s) return new Ctor(NaN);\r\n    if (pr + 4 <= PI_PRECISION) {\r\n      r = getPi(Ctor, pr + 4, rm).times(0.5);\r\n      r.s = x.s;\r\n      return r;\r\n    }\r\n  } else if (x.isZero()) {\r\n    return new Ctor(x);\r\n  } else if (x.abs().eq(1) && pr + 4 <= PI_PRECISION) {\r\n    r = getPi(Ctor, pr + 4, rm).times(0.25);\r\n    r.s = x.s;\r\n    return r;\r\n  }\r\n\r\n  Ctor.precision = wpr = pr + 10;\r\n  Ctor.rounding = 1;\r\n\r\n  // TODO? if (x >= 1 && pr <= PI_PRECISION) atan(x) = halfPi * x.s - atan(1 / x);\r\n\r\n  // Argument reduction\r\n  // Ensure |x| < 0.42\r\n  // atan(x) = 2 * atan(x / (1 + sqrt(1 + x^2)))\r\n\r\n  k = Math.min(28, wpr / LOG_BASE + 2 | 0);\r\n\r\n  for (i = k; i; --i) x = x.div(x.times(x).plus(1).sqrt().plus(1));\r\n\r\n  external = false;\r\n\r\n  j = Math.ceil(wpr / LOG_BASE);\r\n  n = 1;\r\n  x2 = x.times(x);\r\n  r = new Ctor(x);\r\n  px = x;\r\n\r\n  // atan(x) = x - x^3/3 + x^5/5 - x^7/7 + ...\r\n  for (; i !== -1;) {\r\n    px = px.times(x2);\r\n    t = r.minus(px.div(n += 2));\r\n\r\n    px = px.times(x2);\r\n    r = t.plus(px.div(n += 2));\r\n\r\n    if (r.d[j] !== void 0) for (i = j; r.d[i] === t.d[i] && i--;);\r\n  }\r\n\r\n  if (k) r = r.times(2 << (k - 1));\r\n\r\n  external = true;\r\n\r\n  return finalise(r, Ctor.precision = pr, Ctor.rounding = rm, true);\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Decimal is a finite number, otherwise return false.\r\n *\r\n */\r\nP.isFinite = function () {\r\n  return !!this.d;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Decimal is an integer, otherwise return false.\r\n *\r\n */\r\nP.isInteger = P.isInt = function () {\r\n  return !!this.d && mathfloor(this.e / LOG_BASE) > this.d.length - 2;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Decimal is NaN, otherwise return false.\r\n *\r\n */\r\nP.isNaN = function () {\r\n  return !this.s;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Decimal is negative, otherwise return false.\r\n *\r\n */\r\nP.isNegative = P.isNeg = function () {\r\n  return this.s < 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Decimal is positive, otherwise return false.\r\n *\r\n */\r\nP.isPositive = P.isPos = function () {\r\n  return this.s > 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Decimal is 0 or -0, otherwise return false.\r\n *\r\n */\r\nP.isZero = function () {\r\n  return !!this.d && this.d[0] === 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Decimal is less than `y`, otherwise return false.\r\n *\r\n */\r\nP.lessThan = P.lt = function (y) {\r\n  return this.cmp(y) < 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Decimal is less than or equal to `y`, otherwise return false.\r\n *\r\n */\r\nP.lessThanOrEqualTo = P.lte = function (y) {\r\n  return this.cmp(y) < 1;\r\n};\r\n\r\n\r\n/*\r\n * Return the logarithm of the value of this Decimal to the specified base, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n * If no base is specified, return log[10](arg).\r\n *\r\n * log[base](arg) = ln(arg) / ln(base)\r\n *\r\n * The result will always be correctly rounded if the base of the log is 10, and 'almost always'\r\n * otherwise:\r\n *\r\n * Depending on the rounding mode, the result may be incorrectly rounded if the first fifteen\r\n * rounding digits are [49]99999999999999 or [50]00000000000000. In that case, the maximum error\r\n * between the result and the correctly rounded result will be one ulp (unit in the last place).\r\n *\r\n * log[-b](a)       = NaN\r\n * log[0](a)        = NaN\r\n * log[1](a)        = NaN\r\n * log[NaN](a)      = NaN\r\n * log[Infinity](a) = NaN\r\n * log[b](0)        = -Infinity\r\n * log[b](-0)       = -Infinity\r\n * log[b](-a)       = NaN\r\n * log[b](1)        = 0\r\n * log[b](Infinity) = Infinity\r\n * log[b](NaN)      = NaN\r\n *\r\n * [base] {number|string|bigint|Decimal} The base of the logarithm.\r\n *\r\n */\r\nP.logarithm = P.log = function (base) {\r\n  var isBase10, d, denominator, k, inf, num, sd, r,\r\n    arg = this,\r\n    Ctor = arg.constructor,\r\n    pr = Ctor.precision,\r\n    rm = Ctor.rounding,\r\n    guard = 5;\r\n\r\n  // Default base is 10.\r\n  if (base == null) {\r\n    base = new Ctor(10);\r\n    isBase10 = true;\r\n  } else {\r\n    base = new Ctor(base);\r\n    d = base.d;\r\n\r\n    // Return NaN if base is negative, or non-finite, or is 0 or 1.\r\n    if (base.s < 0 || !d || !d[0] || base.eq(1)) return new Ctor(NaN);\r\n\r\n    isBase10 = base.eq(10);\r\n  }\r\n\r\n  d = arg.d;\r\n\r\n  // Is arg negative, non-finite, 0 or 1?\r\n  if (arg.s < 0 || !d || !d[0] || arg.eq(1)) {\r\n    return new Ctor(d && !d[0] ? -1 / 0 : arg.s != 1 ? NaN : d ? 0 : 1 / 0);\r\n  }\r\n\r\n  // The result will have a non-terminating decimal expansion if base is 10 and arg is not an\r\n  // integer power of 10.\r\n  if (isBase10) {\r\n    if (d.length > 1) {\r\n      inf = true;\r\n    } else {\r\n      for (k = d[0]; k % 10 === 0;) k /= 10;\r\n      inf = k !== 1;\r\n    }\r\n  }\r\n\r\n  external = false;\r\n  sd = pr + guard;\r\n  num = naturalLogarithm(arg, sd);\r\n  denominator = isBase10 ? getLn10(Ctor, sd + 10) : naturalLogarithm(base, sd);\r\n\r\n  // The result will have 5 rounding digits.\r\n  r = divide(num, denominator, sd, 1);\r\n\r\n  // If at a rounding boundary, i.e. the result's rounding digits are [49]9999 or [50]0000,\r\n  // calculate 10 further digits.\r\n  //\r\n  // If the result is known to have an infinite decimal expansion, repeat this until it is clear\r\n  // that the result is above or below the boundary. Otherwise, if after calculating the 10\r\n  // further digits, the last 14 are nines, round up and assume the result is exact.\r\n  // Also assume the result is exact if the last 14 are zero.\r\n  //\r\n  // Example of a result that will be incorrectly rounded:\r\n  // log[1048576](4503599627370502) = 2.60000000000000009610279511444746...\r\n  // The above result correctly rounded using ROUND_CEIL to 1 decimal place should be 2.7, but it\r\n  // will be given as 2.6 as there are 15 zeros immediately after the requested decimal place, so\r\n  // the exact result would be assumed to be 2.6, which rounded using ROUND_CEIL to 1 decimal\r\n  // place is still 2.6.\r\n  if (checkRoundingDigits(r.d, k = pr, rm)) {\r\n\r\n    do {\r\n      sd += 10;\r\n      num = naturalLogarithm(arg, sd);\r\n      denominator = isBase10 ? getLn10(Ctor, sd + 10) : naturalLogarithm(base, sd);\r\n      r = divide(num, denominator, sd, 1);\r\n\r\n      if (!inf) {\r\n\r\n        // Check for 14 nines from the 2nd rounding digit, as the first may be 4.\r\n        if (+digitsToString(r.d).slice(k + 1, k + 15) + 1 == 1e14) {\r\n          r = finalise(r, pr + 1, 0);\r\n        }\r\n\r\n        break;\r\n      }\r\n    } while (checkRoundingDigits(r.d, k += 10, rm));\r\n  }\r\n\r\n  external = true;\r\n\r\n  return finalise(r, pr, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the maximum of the arguments and the value of this Decimal.\r\n *\r\n * arguments {number|string|bigint|Decimal}\r\n *\r\nP.max = function () {\r\n  Array.prototype.push.call(arguments, this);\r\n  return maxOrMin(this.constructor, arguments, -1);\r\n};\r\n */\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the minimum of the arguments and the value of this Decimal.\r\n *\r\n * arguments {number|string|bigint|Decimal}\r\n *\r\nP.min = function () {\r\n  Array.prototype.push.call(arguments, this);\r\n  return maxOrMin(this.constructor, arguments, 1);\r\n};\r\n */\r\n\r\n\r\n/*\r\n *  n - 0 = n\r\n *  n - N = N\r\n *  n - I = -I\r\n *  0 - n = -n\r\n *  0 - 0 = 0\r\n *  0 - N = N\r\n *  0 - I = -I\r\n *  N - n = N\r\n *  N - 0 = N\r\n *  N - N = N\r\n *  N - I = N\r\n *  I - n = I\r\n *  I - 0 = I\r\n *  I - N = N\r\n *  I - I = N\r\n *\r\n * Return a new Decimal whose value is the value of this Decimal minus `y`, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n */\r\nP.minus = P.sub = function (y) {\r\n  var d, e, i, j, k, len, pr, rm, xd, xe, xLTy, yd,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  y = new Ctor(y);\r\n\r\n  // If either is not finite...\r\n  if (!x.d || !y.d) {\r\n\r\n    // Return NaN if either is NaN.\r\n    if (!x.s || !y.s) y = new Ctor(NaN);\r\n\r\n    // Return y negated if x is finite and y is Infinity.\r\n    else if (x.d) y.s = -y.s;\r\n\r\n    // Return x if y is finite and x is Infinity.\r\n    // Return x if both are Infinity with different signs.\r\n    // Return NaN if both are Infinity with the same sign.\r\n    else y = new Ctor(y.d || x.s !== y.s ? x : NaN);\r\n\r\n    return y;\r\n  }\r\n\r\n  // If signs differ...\r\n  if (x.s != y.s) {\r\n    y.s = -y.s;\r\n    return x.plus(y);\r\n  }\r\n\r\n  xd = x.d;\r\n  yd = y.d;\r\n  pr = Ctor.precision;\r\n  rm = Ctor.rounding;\r\n\r\n  // If either is zero...\r\n  if (!xd[0] || !yd[0]) {\r\n\r\n    // Return y negated if x is zero and y is non-zero.\r\n    if (yd[0]) y.s = -y.s;\r\n\r\n    // Return x if y is zero and x is non-zero.\r\n    else if (xd[0]) y = new Ctor(x);\r\n\r\n    // Return zero if both are zero.\r\n    // From IEEE 754 (2008) 6.3: 0 - 0 = -0 - -0 = -0 when rounding to -Infinity.\r\n    else return new Ctor(rm === 3 ? -0 : 0);\r\n\r\n    return external ? finalise(y, pr, rm) : y;\r\n  }\r\n\r\n  // x and y are finite, non-zero numbers with the same sign.\r\n\r\n  // Calculate base 1e7 exponents.\r\n  e = mathfloor(y.e / LOG_BASE);\r\n  xe = mathfloor(x.e / LOG_BASE);\r\n\r\n  xd = xd.slice();\r\n  k = xe - e;\r\n\r\n  // If base 1e7 exponents differ...\r\n  if (k) {\r\n    xLTy = k < 0;\r\n\r\n    if (xLTy) {\r\n      d = xd;\r\n      k = -k;\r\n      len = yd.length;\r\n    } else {\r\n      d = yd;\r\n      e = xe;\r\n      len = xd.length;\r\n    }\r\n\r\n    // Numbers with massively different exponents would result in a very high number of\r\n    // zeros needing to be prepended, but this can be avoided while still ensuring correct\r\n    // rounding by limiting the number of zeros to `Math.ceil(pr / LOG_BASE) + 2`.\r\n    i = Math.max(Math.ceil(pr / LOG_BASE), len) + 2;\r\n\r\n    if (k > i) {\r\n      k = i;\r\n      d.length = 1;\r\n    }\r\n\r\n    // Prepend zeros to equalise exponents.\r\n    d.reverse();\r\n    for (i = k; i--;) d.push(0);\r\n    d.reverse();\r\n\r\n  // Base 1e7 exponents equal.\r\n  } else {\r\n\r\n    // Check digits to determine which is the bigger number.\r\n\r\n    i = xd.length;\r\n    len = yd.length;\r\n    xLTy = i < len;\r\n    if (xLTy) len = i;\r\n\r\n    for (i = 0; i < len; i++) {\r\n      if (xd[i] != yd[i]) {\r\n        xLTy = xd[i] < yd[i];\r\n        break;\r\n      }\r\n    }\r\n\r\n    k = 0;\r\n  }\r\n\r\n  if (xLTy) {\r\n    d = xd;\r\n    xd = yd;\r\n    yd = d;\r\n    y.s = -y.s;\r\n  }\r\n\r\n  len = xd.length;\r\n\r\n  // Append zeros to `xd` if shorter.\r\n  // Don't add zeros to `yd` if shorter as subtraction only needs to start at `yd` length.\r\n  for (i = yd.length - len; i > 0; --i) xd[len++] = 0;\r\n\r\n  // Subtract yd from xd.\r\n  for (i = yd.length; i > k;) {\r\n\r\n    if (xd[--i] < yd[i]) {\r\n      for (j = i; j && xd[--j] === 0;) xd[j] = BASE - 1;\r\n      --xd[j];\r\n      xd[i] += BASE;\r\n    }\r\n\r\n    xd[i] -= yd[i];\r\n  }\r\n\r\n  // Remove trailing zeros.\r\n  for (; xd[--len] === 0;) xd.pop();\r\n\r\n  // Remove leading zeros and adjust exponent accordingly.\r\n  for (; xd[0] === 0; xd.shift()) --e;\r\n\r\n  // Zero?\r\n  if (!xd[0]) return new Ctor(rm === 3 ? -0 : 0);\r\n\r\n  y.d = xd;\r\n  y.e = getBase10Exponent(xd, e);\r\n\r\n  return external ? finalise(y, pr, rm) : y;\r\n};\r\n\r\n\r\n/*\r\n *   n % 0 =  N\r\n *   n % N =  N\r\n *   n % I =  n\r\n *   0 % n =  0\r\n *  -0 % n = -0\r\n *   0 % 0 =  N\r\n *   0 % N =  N\r\n *   0 % I =  0\r\n *   N % n =  N\r\n *   N % 0 =  N\r\n *   N % N =  N\r\n *   N % I =  N\r\n *   I % n =  N\r\n *   I % 0 =  N\r\n *   I % N =  N\r\n *   I % I =  N\r\n *\r\n * Return a new Decimal whose value is the value of this Decimal modulo `y`, rounded to\r\n * `precision` significant digits using rounding mode `rounding`.\r\n *\r\n * The result depends on the modulo mode.\r\n *\r\n */\r\nP.modulo = P.mod = function (y) {\r\n  var q,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  y = new Ctor(y);\r\n\r\n  // Return NaN if x is Infinity or NaN, or y is NaN or 0.\r\n  if (!x.d || !y.s || y.d && !y.d[0]) return new Ctor(NaN);\r\n\r\n  // Return x if y is Infinity or x is 0.\r\n  if (!y.d || x.d && !x.d[0]) {\r\n    return finalise(new Ctor(x), Ctor.precision, Ctor.rounding);\r\n  }\r\n\r\n  // Prevent rounding of intermediate calculations.\r\n  external = false;\r\n\r\n  if (Ctor.modulo == 9) {\r\n\r\n    // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n    // result = x - q * y    where  0 <= result < abs(y)\r\n    q = divide(x, y.abs(), 0, 3, 1);\r\n    q.s *= y.s;\r\n  } else {\r\n    q = divide(x, y, 0, Ctor.modulo, 1);\r\n  }\r\n\r\n  q = q.times(y);\r\n\r\n  external = true;\r\n\r\n  return x.minus(q);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the natural exponential of the value of this Decimal,\r\n * i.e. the base e raised to the power the value of this Decimal, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n */\r\nP.naturalExponential = P.exp = function () {\r\n  return naturalExponential(this);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the natural logarithm of the value of this Decimal,\r\n * rounded to `precision` significant digits using rounding mode `rounding`.\r\n *\r\n */\r\nP.naturalLogarithm = P.ln = function () {\r\n  return naturalLogarithm(this);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the value of this Decimal negated, i.e. as if multiplied by\r\n * -1.\r\n *\r\n */\r\nP.negated = P.neg = function () {\r\n  var x = new this.constructor(this);\r\n  x.s = -x.s;\r\n  return finalise(x);\r\n};\r\n\r\n\r\n/*\r\n *  n + 0 = n\r\n *  n + N = N\r\n *  n + I = I\r\n *  0 + n = n\r\n *  0 + 0 = 0\r\n *  0 + N = N\r\n *  0 + I = I\r\n *  N + n = N\r\n *  N + 0 = N\r\n *  N + N = N\r\n *  N + I = N\r\n *  I + n = I\r\n *  I + 0 = I\r\n *  I + N = N\r\n *  I + I = I\r\n *\r\n * Return a new Decimal whose value is the value of this Decimal plus `y`, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n */\r\nP.plus = P.add = function (y) {\r\n  var carry, d, e, i, k, len, pr, rm, xd, yd,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  y = new Ctor(y);\r\n\r\n  // If either is not finite...\r\n  if (!x.d || !y.d) {\r\n\r\n    // Return NaN if either is NaN.\r\n    if (!x.s || !y.s) y = new Ctor(NaN);\r\n\r\n    // Return x if y is finite and x is Infinity.\r\n    // Return x if both are Infinity with the same sign.\r\n    // Return NaN if both are Infinity with different signs.\r\n    // Return y if x is finite and y is Infinity.\r\n    else if (!x.d) y = new Ctor(y.d || x.s === y.s ? x : NaN);\r\n\r\n    return y;\r\n  }\r\n\r\n   // If signs differ...\r\n  if (x.s != y.s) {\r\n    y.s = -y.s;\r\n    return x.minus(y);\r\n  }\r\n\r\n  xd = x.d;\r\n  yd = y.d;\r\n  pr = Ctor.precision;\r\n  rm = Ctor.rounding;\r\n\r\n  // If either is zero...\r\n  if (!xd[0] || !yd[0]) {\r\n\r\n    // Return x if y is zero.\r\n    // Return y if y is non-zero.\r\n    if (!yd[0]) y = new Ctor(x);\r\n\r\n    return external ? finalise(y, pr, rm) : y;\r\n  }\r\n\r\n  // x and y are finite, non-zero numbers with the same sign.\r\n\r\n  // Calculate base 1e7 exponents.\r\n  k = mathfloor(x.e / LOG_BASE);\r\n  e = mathfloor(y.e / LOG_BASE);\r\n\r\n  xd = xd.slice();\r\n  i = k - e;\r\n\r\n  // If base 1e7 exponents differ...\r\n  if (i) {\r\n\r\n    if (i < 0) {\r\n      d = xd;\r\n      i = -i;\r\n      len = yd.length;\r\n    } else {\r\n      d = yd;\r\n      e = k;\r\n      len = xd.length;\r\n    }\r\n\r\n    // Limit number of zeros prepended to max(ceil(pr / LOG_BASE), len) + 1.\r\n    k = Math.ceil(pr / LOG_BASE);\r\n    len = k > len ? k + 1 : len + 1;\r\n\r\n    if (i > len) {\r\n      i = len;\r\n      d.length = 1;\r\n    }\r\n\r\n    // Prepend zeros to equalise exponents. Note: Faster to use reverse then do unshifts.\r\n    d.reverse();\r\n    for (; i--;) d.push(0);\r\n    d.reverse();\r\n  }\r\n\r\n  len = xd.length;\r\n  i = yd.length;\r\n\r\n  // If yd is longer than xd, swap xd and yd so xd points to the longer array.\r\n  if (len - i < 0) {\r\n    i = len;\r\n    d = yd;\r\n    yd = xd;\r\n    xd = d;\r\n  }\r\n\r\n  // Only start adding at yd.length - 1 as the further digits of xd can be left as they are.\r\n  for (carry = 0; i;) {\r\n    carry = (xd[--i] = xd[i] + yd[i] + carry) / BASE | 0;\r\n    xd[i] %= BASE;\r\n  }\r\n\r\n  if (carry) {\r\n    xd.unshift(carry);\r\n    ++e;\r\n  }\r\n\r\n  // Remove trailing zeros.\r\n  // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n  for (len = xd.length; xd[--len] == 0;) xd.pop();\r\n\r\n  y.d = xd;\r\n  y.e = getBase10Exponent(xd, e);\r\n\r\n  return external ? finalise(y, pr, rm) : y;\r\n};\r\n\r\n\r\n/*\r\n * Return the number of significant digits of the value of this Decimal.\r\n *\r\n * [z] {boolean|number} Whether to count integer-part trailing zeros: true, false, 1 or 0.\r\n *\r\n */\r\nP.precision = P.sd = function (z) {\r\n  var k,\r\n    x = this;\r\n\r\n  if (z !== void 0 && z !== !!z && z !== 1 && z !== 0) throw Error(invalidArgument + z);\r\n\r\n  if (x.d) {\r\n    k = getPrecision(x.d);\r\n    if (z && x.e + 1 > k) k = x.e + 1;\r\n  } else {\r\n    k = NaN;\r\n  }\r\n\r\n  return k;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the value of this Decimal rounded to a whole number using\r\n * rounding mode `rounding`.\r\n *\r\n */\r\nP.round = function () {\r\n  var x = this,\r\n    Ctor = x.constructor;\r\n\r\n  return finalise(new Ctor(x), x.e + 1, Ctor.rounding);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the sine of the value in radians of this Decimal.\r\n *\r\n * Domain: [-Infinity, Infinity]\r\n * Range: [-1, 1]\r\n *\r\n * sin(x) = x - x^3/3! + x^5/5! - ...\r\n *\r\n * sin(0)         = 0\r\n * sin(-0)        = -0\r\n * sin(Infinity)  = NaN\r\n * sin(-Infinity) = NaN\r\n * sin(NaN)       = NaN\r\n *\r\n */\r\nP.sine = P.sin = function () {\r\n  var pr, rm,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (!x.isFinite()) return new Ctor(NaN);\r\n  if (x.isZero()) return new Ctor(x);\r\n\r\n  pr = Ctor.precision;\r\n  rm = Ctor.rounding;\r\n  Ctor.precision = pr + Math.max(x.e, x.sd()) + LOG_BASE;\r\n  Ctor.rounding = 1;\r\n\r\n  x = sine(Ctor, toLessThanHalfPi(Ctor, x));\r\n\r\n  Ctor.precision = pr;\r\n  Ctor.rounding = rm;\r\n\r\n  return finalise(quadrant > 2 ? x.neg() : x, pr, rm, true);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the square root of this Decimal, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n *  sqrt(-n) =  N\r\n *  sqrt(N)  =  N\r\n *  sqrt(-I) =  N\r\n *  sqrt(I)  =  I\r\n *  sqrt(0)  =  0\r\n *  sqrt(-0) = -0\r\n *\r\n */\r\nP.squareRoot = P.sqrt = function () {\r\n  var m, n, sd, r, rep, t,\r\n    x = this,\r\n    d = x.d,\r\n    e = x.e,\r\n    s = x.s,\r\n    Ctor = x.constructor;\r\n\r\n  // Negative/NaN/Infinity/zero?\r\n  if (s !== 1 || !d || !d[0]) {\r\n    return new Ctor(!s || s < 0 && (!d || d[0]) ? NaN : d ? x : 1 / 0);\r\n  }\r\n\r\n  external = false;\r\n\r\n  // Initial estimate.\r\n  s = Math.sqrt(+x);\r\n\r\n  // Math.sqrt underflow/overflow?\r\n  // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n  if (s == 0 || s == 1 / 0) {\r\n    n = digitsToString(d);\r\n\r\n    if ((n.length + e) % 2 == 0) n += '0';\r\n    s = Math.sqrt(n);\r\n    e = mathfloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n    if (s == 1 / 0) {\r\n      n = '5e' + e;\r\n    } else {\r\n      n = s.toExponential();\r\n      n = n.slice(0, n.indexOf('e') + 1) + e;\r\n    }\r\n\r\n    r = new Ctor(n);\r\n  } else {\r\n    r = new Ctor(s.toString());\r\n  }\r\n\r\n  sd = (e = Ctor.precision) + 3;\r\n\r\n  // Newton-Raphson iteration.\r\n  for (;;) {\r\n    t = r;\r\n    r = t.plus(divide(x, t, sd + 2, 1)).times(0.5);\r\n\r\n    // TODO? Replace with for-loop and checkRoundingDigits.\r\n    if (digitsToString(t.d).slice(0, sd) === (n = digitsToString(r.d)).slice(0, sd)) {\r\n      n = n.slice(sd - 3, sd + 1);\r\n\r\n      // The 4th rounding digit may be in error by -1 so if the 4 rounding digits are 9999 or\r\n      // 4999, i.e. approaching a rounding boundary, continue the iteration.\r\n      if (n == '9999' || !rep && n == '4999') {\r\n\r\n        // On the first iteration only, check to see if rounding up gives the exact result as the\r\n        // nines may infinitely repeat.\r\n        if (!rep) {\r\n          finalise(t, e + 1, 0);\r\n\r\n          if (t.times(t).eq(x)) {\r\n            r = t;\r\n            break;\r\n          }\r\n        }\r\n\r\n        sd += 4;\r\n        rep = 1;\r\n      } else {\r\n\r\n        // If the rounding digits are null, 0{0,4} or 50{0,3}, check for an exact result.\r\n        // If not, then there are further digits and m will be truthy.\r\n        if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n          // Truncate to the first rounding digit.\r\n          finalise(r, e + 1, 1);\r\n          m = !r.times(r).eq(x);\r\n        }\r\n\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  external = true;\r\n\r\n  return finalise(r, e, Ctor.rounding, m);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the tangent of the value in radians of this Decimal.\r\n *\r\n * Domain: [-Infinity, Infinity]\r\n * Range: [-Infinity, Infinity]\r\n *\r\n * tan(0)         = 0\r\n * tan(-0)        = -0\r\n * tan(Infinity)  = NaN\r\n * tan(-Infinity) = NaN\r\n * tan(NaN)       = NaN\r\n *\r\n */\r\nP.tangent = P.tan = function () {\r\n  var pr, rm,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (!x.isFinite()) return new Ctor(NaN);\r\n  if (x.isZero()) return new Ctor(x);\r\n\r\n  pr = Ctor.precision;\r\n  rm = Ctor.rounding;\r\n  Ctor.precision = pr + 10;\r\n  Ctor.rounding = 1;\r\n\r\n  x = x.sin();\r\n  x.s = 1;\r\n  x = divide(x, new Ctor(1).minus(x.times(x)).sqrt(), pr + 10, 0);\r\n\r\n  Ctor.precision = pr;\r\n  Ctor.rounding = rm;\r\n\r\n  return finalise(quadrant == 2 || quadrant == 4 ? x.neg() : x, pr, rm, true);\r\n};\r\n\r\n\r\n/*\r\n *  n * 0 = 0\r\n *  n * N = N\r\n *  n * I = I\r\n *  0 * n = 0\r\n *  0 * 0 = 0\r\n *  0 * N = N\r\n *  0 * I = N\r\n *  N * n = N\r\n *  N * 0 = N\r\n *  N * N = N\r\n *  N * I = N\r\n *  I * n = I\r\n *  I * 0 = N\r\n *  I * N = N\r\n *  I * I = I\r\n *\r\n * Return a new Decimal whose value is this Decimal times `y`, rounded to `precision` significant\r\n * digits using rounding mode `rounding`.\r\n *\r\n */\r\nP.times = P.mul = function (y) {\r\n  var carry, e, i, k, r, rL, t, xdL, ydL,\r\n    x = this,\r\n    Ctor = x.constructor,\r\n    xd = x.d,\r\n    yd = (y = new Ctor(y)).d;\r\n\r\n  y.s *= x.s;\r\n\r\n   // If either is NaN, Infinity or 0...\r\n  if (!xd || !xd[0] || !yd || !yd[0]) {\r\n\r\n    return new Ctor(!y.s || xd && !xd[0] && !yd || yd && !yd[0] && !xd\r\n\r\n      // Return NaN if either is NaN.\r\n      // Return NaN if x is 0 and y is Infinity, or y is 0 and x is Infinity.\r\n      ? NaN\r\n\r\n      // Return Infinity if either is Infinity.\r\n      // Return 0 if either is 0.\r\n      : !xd || !yd ? y.s / 0 : y.s * 0);\r\n  }\r\n\r\n  e = mathfloor(x.e / LOG_BASE) + mathfloor(y.e / LOG_BASE);\r\n  xdL = xd.length;\r\n  ydL = yd.length;\r\n\r\n  // Ensure xd points to the longer array.\r\n  if (xdL < ydL) {\r\n    r = xd;\r\n    xd = yd;\r\n    yd = r;\r\n    rL = xdL;\r\n    xdL = ydL;\r\n    ydL = rL;\r\n  }\r\n\r\n  // Initialise the result array with zeros.\r\n  r = [];\r\n  rL = xdL + ydL;\r\n  for (i = rL; i--;) r.push(0);\r\n\r\n  // Multiply!\r\n  for (i = ydL; --i >= 0;) {\r\n    carry = 0;\r\n    for (k = xdL + i; k > i;) {\r\n      t = r[k] + yd[i] * xd[k - i - 1] + carry;\r\n      r[k--] = t % BASE | 0;\r\n      carry = t / BASE | 0;\r\n    }\r\n\r\n    r[k] = (r[k] + carry) % BASE | 0;\r\n  }\r\n\r\n  // Remove trailing zeros.\r\n  for (; !r[--rL];) r.pop();\r\n\r\n  if (carry) ++e;\r\n  else r.shift();\r\n\r\n  y.d = r;\r\n  y.e = getBase10Exponent(r, e);\r\n\r\n  return external ? finalise(y, Ctor.precision, Ctor.rounding) : y;\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Decimal in base 2, round to `sd` significant\r\n * digits using rounding mode `rm`.\r\n *\r\n * If the optional `sd` argument is present then return binary exponential notation.\r\n *\r\n * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.\r\n * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n *\r\n */\r\nP.toBinary = function (sd, rm) {\r\n  return toStringBinary(this, 2, sd, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the value of this Decimal rounded to a maximum of `dp`\r\n * decimal places using rounding mode `rm` or `rounding` if `rm` is omitted.\r\n *\r\n * If `dp` is omitted, return a new Decimal whose value is the value of this Decimal.\r\n *\r\n * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.\r\n * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n *\r\n */\r\nP.toDecimalPlaces = P.toDP = function (dp, rm) {\r\n  var x = this,\r\n    Ctor = x.constructor;\r\n\r\n  x = new Ctor(x);\r\n  if (dp === void 0) return x;\r\n\r\n  checkInt32(dp, 0, MAX_DIGITS);\r\n\r\n  if (rm === void 0) rm = Ctor.rounding;\r\n  else checkInt32(rm, 0, 8);\r\n\r\n  return finalise(x, dp + x.e + 1, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Decimal in exponential notation rounded to\r\n * `dp` fixed decimal places using rounding mode `rounding`.\r\n *\r\n * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.\r\n * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n *\r\n */\r\nP.toExponential = function (dp, rm) {\r\n  var str,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (dp === void 0) {\r\n    str = finiteToString(x, true);\r\n  } else {\r\n    checkInt32(dp, 0, MAX_DIGITS);\r\n\r\n    if (rm === void 0) rm = Ctor.rounding;\r\n    else checkInt32(rm, 0, 8);\r\n\r\n    x = finalise(new Ctor(x), dp + 1, rm);\r\n    str = finiteToString(x, true, dp + 1);\r\n  }\r\n\r\n  return x.isNeg() && !x.isZero() ? '-' + str : str;\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Decimal in normal (fixed-point) notation to\r\n * `dp` fixed decimal places and rounded using rounding mode `rm` or `rounding` if `rm` is\r\n * omitted.\r\n *\r\n * As with JavaScript numbers, (-0).toFixed(0) is '0', but e.g. (-0.00001).toFixed(0) is '-0'.\r\n *\r\n * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.\r\n * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n *\r\n * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.\r\n * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\r\n * (-0).toFixed(3) is '0.000'.\r\n * (-0.5).toFixed(0) is '-0'.\r\n *\r\n */\r\nP.toFixed = function (dp, rm) {\r\n  var str, y,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (dp === void 0) {\r\n    str = finiteToString(x);\r\n  } else {\r\n    checkInt32(dp, 0, MAX_DIGITS);\r\n\r\n    if (rm === void 0) rm = Ctor.rounding;\r\n    else checkInt32(rm, 0, 8);\r\n\r\n    y = finalise(new Ctor(x), dp + x.e + 1, rm);\r\n    str = finiteToString(y, false, dp + y.e + 1);\r\n  }\r\n\r\n  // To determine whether to add the minus sign look at the value before it was rounded,\r\n  // i.e. look at `x` rather than `y`.\r\n  return x.isNeg() && !x.isZero() ? '-' + str : str;\r\n};\r\n\r\n\r\n/*\r\n * Return an array representing the value of this Decimal as a simple fraction with an integer\r\n * numerator and an integer denominator.\r\n *\r\n * The denominator will be a positive non-zero value less than or equal to the specified maximum\r\n * denominator. If a maximum denominator is not specified, the denominator will be the lowest\r\n * value necessary to represent the number exactly.\r\n *\r\n * [maxD] {number|string|bigint|Decimal} Maximum denominator. Integer >= 1 and < Infinity.\r\n *\r\n */\r\nP.toFraction = function (maxD) {\r\n  var d, d0, d1, d2, e, k, n, n0, n1, pr, q, r,\r\n    x = this,\r\n    xd = x.d,\r\n    Ctor = x.constructor;\r\n\r\n  if (!xd) return new Ctor(x);\r\n\r\n  n1 = d0 = new Ctor(1);\r\n  d1 = n0 = new Ctor(0);\r\n\r\n  d = new Ctor(d1);\r\n  e = d.e = getPrecision(xd) - x.e - 1;\r\n  k = e % LOG_BASE;\r\n  d.d[0] = mathpow(10, k < 0 ? LOG_BASE + k : k);\r\n\r\n  if (maxD == null) {\r\n\r\n    // d is 10**e, the minimum max-denominator needed.\r\n    maxD = e > 0 ? d : n1;\r\n  } else {\r\n    n = new Ctor(maxD);\r\n    if (!n.isInt() || n.lt(n1)) throw Error(invalidArgument + n);\r\n    maxD = n.gt(d) ? (e > 0 ? d : n1) : n;\r\n  }\r\n\r\n  external = false;\r\n  n = new Ctor(digitsToString(xd));\r\n  pr = Ctor.precision;\r\n  Ctor.precision = e = xd.length * LOG_BASE * 2;\r\n\r\n  for (;;)  {\r\n    q = divide(n, d, 0, 1, 1);\r\n    d2 = d0.plus(q.times(d1));\r\n    if (d2.cmp(maxD) == 1) break;\r\n    d0 = d1;\r\n    d1 = d2;\r\n    d2 = n1;\r\n    n1 = n0.plus(q.times(d2));\r\n    n0 = d2;\r\n    d2 = d;\r\n    d = n.minus(q.times(d2));\r\n    n = d2;\r\n  }\r\n\r\n  d2 = divide(maxD.minus(d0), d1, 0, 1, 1);\r\n  n0 = n0.plus(d2.times(n1));\r\n  d0 = d0.plus(d2.times(d1));\r\n  n0.s = n1.s = x.s;\r\n\r\n  // Determine which fraction is closer to x, n0/d0 or n1/d1?\r\n  r = divide(n1, d1, e, 1).minus(x).abs().cmp(divide(n0, d0, e, 1).minus(x).abs()) < 1\r\n      ? [n1, d1] : [n0, d0];\r\n\r\n  Ctor.precision = pr;\r\n  external = true;\r\n\r\n  return r;\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Decimal in base 16, round to `sd` significant\r\n * digits using rounding mode `rm`.\r\n *\r\n * If the optional `sd` argument is present then return binary exponential notation.\r\n *\r\n * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.\r\n * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n *\r\n */\r\nP.toHexadecimal = P.toHex = function (sd, rm) {\r\n  return toStringBinary(this, 16, sd, rm);\r\n};\r\n\r\n\r\n/*\r\n * Returns a new Decimal whose value is the nearest multiple of `y` in the direction of rounding\r\n * mode `rm`, or `Decimal.rounding` if `rm` is omitted, to the value of this Decimal.\r\n *\r\n * The return value will always have the same sign as this Decimal, unless either this Decimal\r\n * or `y` is NaN, in which case the return value will be also be NaN.\r\n *\r\n * The return value is not affected by the value of `precision`.\r\n *\r\n * y {number|string|bigint|Decimal} The magnitude to round to a multiple of.\r\n * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n *\r\n * 'toNearest() rounding mode not an integer: {rm}'\r\n * 'toNearest() rounding mode out of range: {rm}'\r\n *\r\n */\r\nP.toNearest = function (y, rm) {\r\n  var x = this,\r\n    Ctor = x.constructor;\r\n\r\n  x = new Ctor(x);\r\n\r\n  if (y == null) {\r\n\r\n    // If x is not finite, return x.\r\n    if (!x.d) return x;\r\n\r\n    y = new Ctor(1);\r\n    rm = Ctor.rounding;\r\n  } else {\r\n    y = new Ctor(y);\r\n    if (rm === void 0) {\r\n      rm = Ctor.rounding;\r\n    } else {\r\n      checkInt32(rm, 0, 8);\r\n    }\r\n\r\n    // If x is not finite, return x if y is not NaN, else NaN.\r\n    if (!x.d) return y.s ? x : y;\r\n\r\n    // If y is not finite, return Infinity with the sign of x if y is Infinity, else NaN.\r\n    if (!y.d) {\r\n      if (y.s) y.s = x.s;\r\n      return y;\r\n    }\r\n  }\r\n\r\n  // If y is not zero, calculate the nearest multiple of y to x.\r\n  if (y.d[0]) {\r\n    external = false;\r\n    x = divide(x, y, 0, rm, 1).times(y);\r\n    external = true;\r\n    finalise(x);\r\n\r\n  // If y is zero, return zero with the sign of x.\r\n  } else {\r\n    y.s = x.s;\r\n    x = y;\r\n  }\r\n\r\n  return x;\r\n};\r\n\r\n\r\n/*\r\n * Return the value of this Decimal converted to a number primitive.\r\n * Zero keeps its sign.\r\n *\r\n */\r\nP.toNumber = function () {\r\n  return +this;\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Decimal in base 8, round to `sd` significant\r\n * digits using rounding mode `rm`.\r\n *\r\n * If the optional `sd` argument is present then return binary exponential notation.\r\n *\r\n * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.\r\n * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n *\r\n */\r\nP.toOctal = function (sd, rm) {\r\n  return toStringBinary(this, 8, sd, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the value of this Decimal raised to the power `y`, rounded\r\n * to `precision` significant digits using rounding mode `rounding`.\r\n *\r\n * ECMAScript compliant.\r\n *\r\n *   pow(x, NaN)                           = NaN\r\n *   pow(x, 0)                            = 1\r\n\r\n *   pow(NaN, non-zero)                    = NaN\r\n *   pow(abs(x) > 1, +Infinity)            = +Infinity\r\n *   pow(abs(x) > 1, -Infinity)            = +0\r\n *   pow(abs(x) == 1, Infinity)           = NaN\r\n *   pow(abs(x) < 1, +Infinity)            = +0\r\n *   pow(abs(x) < 1, -Infinity)            = +Infinity\r\n *   pow(+Infinity, y > 0)                 = +Infinity\r\n *   pow(+Infinity, y < 0)                 = +0\r\n *   pow(-Infinity, odd integer > 0)       = -Infinity\r\n *   pow(-Infinity, even integer > 0)      = +Infinity\r\n *   pow(-Infinity, odd integer < 0)       = -0\r\n *   pow(-Infinity, even integer < 0)      = +0\r\n *   pow(+0, y > 0)                        = +0\r\n *   pow(+0, y < 0)                        = +Infinity\r\n *   pow(-0, odd integer > 0)              = -0\r\n *   pow(-0, even integer > 0)             = +0\r\n *   pow(-0, odd integer < 0)              = -Infinity\r\n *   pow(-0, even integer < 0)             = +Infinity\r\n *   pow(finite x < 0, finite non-integer) = NaN\r\n *\r\n * For non-integer or very large exponents pow(x, y) is calculated using\r\n *\r\n *   x^y = exp(y*ln(x))\r\n *\r\n * Assuming the first 15 rounding digits are each equally likely to be any digit 0-9, the\r\n * probability of an incorrectly rounded result\r\n * P([49]9{14} | [50]0{14}) = 2 * 0.2 * 10^-14 = 4e-15 = 1/2.5e+14\r\n * i.e. 1 in 250,000,000,000,000\r\n *\r\n * If a result is incorrectly rounded the maximum error will be 1 ulp (unit in last place).\r\n *\r\n * y {number|string|bigint|Decimal} The power to which to raise this Decimal.\r\n *\r\n */\r\nP.toPower = P.pow = function (y) {\r\n  var e, k, pr, r, rm, s,\r\n    x = this,\r\n    Ctor = x.constructor,\r\n    yn = +(y = new Ctor(y));\r\n\r\n  // Either Infinity, NaN or 0?\r\n  if (!x.d || !y.d || !x.d[0] || !y.d[0]) return new Ctor(mathpow(+x, yn));\r\n\r\n  x = new Ctor(x);\r\n\r\n  if (x.eq(1)) return x;\r\n\r\n  pr = Ctor.precision;\r\n  rm = Ctor.rounding;\r\n\r\n  if (y.eq(1)) return finalise(x, pr, rm);\r\n\r\n  // y exponent\r\n  e = mathfloor(y.e / LOG_BASE);\r\n\r\n  // If y is a small integer use the 'exponentiation by squaring' algorithm.\r\n  if (e >= y.d.length - 1 && (k = yn < 0 ? -yn : yn) <= MAX_SAFE_INTEGER) {\r\n    r = intPow(Ctor, x, k, pr);\r\n    return y.s < 0 ? new Ctor(1).div(r) : finalise(r, pr, rm);\r\n  }\r\n\r\n  s = x.s;\r\n\r\n  // if x is negative\r\n  if (s < 0) {\r\n\r\n    // if y is not an integer\r\n    if (e < y.d.length - 1) return new Ctor(NaN);\r\n\r\n    // Result is positive if x is negative and the last digit of integer y is even.\r\n    if ((y.d[e] & 1) == 0) s = 1;\r\n\r\n    // if x.eq(-1)\r\n    if (x.e == 0 && x.d[0] == 1 && x.d.length == 1) {\r\n      x.s = s;\r\n      return x;\r\n    }\r\n  }\r\n\r\n  // Estimate result exponent.\r\n  // x^y = 10^e,  where e = y * log10(x)\r\n  // log10(x) = log10(x_significand) + x_exponent\r\n  // log10(x_significand) = ln(x_significand) / ln(10)\r\n  k = mathpow(+x, yn);\r\n  e = k == 0 || !isFinite(k)\r\n    ? mathfloor(yn * (Math.log('0.' + digitsToString(x.d)) / Math.LN10 + x.e + 1))\r\n    : new Ctor(k + '').e;\r\n\r\n  // Exponent estimate may be incorrect e.g. x: 0.999999999999999999, y: 2.29, e: 0, r.e: -1.\r\n\r\n  // Overflow/underflow?\r\n  if (e > Ctor.maxE + 1 || e < Ctor.minE - 1) return new Ctor(e > 0 ? s / 0 : 0);\r\n\r\n  external = false;\r\n  Ctor.rounding = x.s = 1;\r\n\r\n  // Estimate the extra guard digits needed to ensure five correct rounding digits from\r\n  // naturalLogarithm(x). Example of failure without these extra digits (precision: 10):\r\n  // new Decimal(2.32456).pow('2087987436534566.46411')\r\n  // should be 1.162377823e+764914905173815, but is 1.162355823e+764914905173815\r\n  k = Math.min(12, (e + '').length);\r\n\r\n  // r = x^y = exp(y*ln(x))\r\n  r = naturalExponential(y.times(naturalLogarithm(x, pr + k)), pr);\r\n\r\n  // r may be Infinity, e.g. (0.9999999999999999).pow(-1e+40)\r\n  if (r.d) {\r\n\r\n    // Truncate to the required precision plus five rounding digits.\r\n    r = finalise(r, pr + 5, 1);\r\n\r\n    // If the rounding digits are [49]9999 or [50]0000 increase the precision by 10 and recalculate\r\n    // the result.\r\n    if (checkRoundingDigits(r.d, pr, rm)) {\r\n      e = pr + 10;\r\n\r\n      // Truncate to the increased precision plus five rounding digits.\r\n      r = finalise(naturalExponential(y.times(naturalLogarithm(x, e + k)), e), e + 5, 1);\r\n\r\n      // Check for 14 nines from the 2nd rounding digit (the first rounding digit may be 4 or 9).\r\n      if (+digitsToString(r.d).slice(pr + 1, pr + 15) + 1 == 1e14) {\r\n        r = finalise(r, pr + 1, 0);\r\n      }\r\n    }\r\n  }\r\n\r\n  r.s = s;\r\n  external = true;\r\n  Ctor.rounding = rm;\r\n\r\n  return finalise(r, pr, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Decimal rounded to `sd` significant digits\r\n * using rounding mode `rounding`.\r\n *\r\n * Return exponential notation if `sd` is less than the number of digits necessary to represent\r\n * the integer part of the value in normal notation.\r\n *\r\n * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.\r\n * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n *\r\n */\r\nP.toPrecision = function (sd, rm) {\r\n  var str,\r\n    x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (sd === void 0) {\r\n    str = finiteToString(x, x.e <= Ctor.toExpNeg || x.e >= Ctor.toExpPos);\r\n  } else {\r\n    checkInt32(sd, 1, MAX_DIGITS);\r\n\r\n    if (rm === void 0) rm = Ctor.rounding;\r\n    else checkInt32(rm, 0, 8);\r\n\r\n    x = finalise(new Ctor(x), sd, rm);\r\n    str = finiteToString(x, sd <= x.e || x.e <= Ctor.toExpNeg, sd);\r\n  }\r\n\r\n  return x.isNeg() && !x.isZero() ? '-' + str : str;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the value of this Decimal rounded to a maximum of `sd`\r\n * significant digits using rounding mode `rm`, or to `precision` and `rounding` respectively if\r\n * omitted.\r\n *\r\n * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.\r\n * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n *\r\n * 'toSD() digits out of range: {sd}'\r\n * 'toSD() digits not an integer: {sd}'\r\n * 'toSD() rounding mode not an integer: {rm}'\r\n * 'toSD() rounding mode out of range: {rm}'\r\n *\r\n */\r\nP.toSignificantDigits = P.toSD = function (sd, rm) {\r\n  var x = this,\r\n    Ctor = x.constructor;\r\n\r\n  if (sd === void 0) {\r\n    sd = Ctor.precision;\r\n    rm = Ctor.rounding;\r\n  } else {\r\n    checkInt32(sd, 1, MAX_DIGITS);\r\n\r\n    if (rm === void 0) rm = Ctor.rounding;\r\n    else checkInt32(rm, 0, 8);\r\n  }\r\n\r\n  return finalise(new Ctor(x), sd, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Decimal.\r\n *\r\n * Return exponential notation if this Decimal has a positive exponent equal to or greater than\r\n * `toExpPos`, or a negative exponent equal to or less than `toExpNeg`.\r\n *\r\n */\r\nP.toString = function () {\r\n  var x = this,\r\n    Ctor = x.constructor,\r\n    str = finiteToString(x, x.e <= Ctor.toExpNeg || x.e >= Ctor.toExpPos);\r\n\r\n  return x.isNeg() && !x.isZero() ? '-' + str : str;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the value of this Decimal truncated to a whole number.\r\n *\r\n */\r\nP.truncated = P.trunc = function () {\r\n  return finalise(new this.constructor(this), this.e + 1, 1);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Decimal.\r\n * Unlike `toString`, negative zero will include the minus sign.\r\n *\r\n */\r\nP.valueOf = P.toJSON = function () {\r\n  var x = this,\r\n    Ctor = x.constructor,\r\n    str = finiteToString(x, x.e <= Ctor.toExpNeg || x.e >= Ctor.toExpPos);\r\n\r\n  return x.isNeg() ? '-' + str : str;\r\n};\r\n\r\n\r\n// Helper functions for Decimal.prototype (P) and/or Decimal methods, and their callers.\r\n\r\n\r\n/*\r\n *  digitsToString           P.cubeRoot, P.logarithm, P.squareRoot, P.toFraction, P.toPower,\r\n *                           finiteToString, naturalExponential, naturalLogarithm\r\n *  checkInt32               P.toDecimalPlaces, P.toExponential, P.toFixed, P.toNearest,\r\n *                           P.toPrecision, P.toSignificantDigits, toStringBinary, random\r\n *  checkRoundingDigits      P.logarithm, P.toPower, naturalExponential, naturalLogarithm\r\n *  convertBase              toStringBinary, parseOther\r\n *  cos                      P.cos\r\n *  divide                   P.atanh, P.cubeRoot, P.dividedBy, P.dividedToIntegerBy,\r\n *                           P.logarithm, P.modulo, P.squareRoot, P.tan, P.tanh, P.toFraction,\r\n *                           P.toNearest, toStringBinary, naturalExponential, naturalLogarithm,\r\n *                           taylorSeries, atan2, parseOther\r\n *  finalise                 P.absoluteValue, P.atan, P.atanh, P.ceil, P.cos, P.cosh,\r\n *                           P.cubeRoot, P.dividedToIntegerBy, P.floor, P.logarithm, P.minus,\r\n *                           P.modulo, P.negated, P.plus, P.round, P.sin, P.sinh, P.squareRoot,\r\n *                           P.tan, P.times, P.toDecimalPlaces, P.toExponential, P.toFixed,\r\n *                           P.toNearest, P.toPower, P.toPrecision, P.toSignificantDigits,\r\n *                           P.truncated, divide, getLn10, getPi, naturalExponential,\r\n *                           naturalLogarithm, ceil, floor, round, trunc\r\n *  finiteToString           P.toExponential, P.toFixed, P.toPrecision, P.toString, P.valueOf,\r\n *                           toStringBinary\r\n *  getBase10Exponent        P.minus, P.plus, P.times, parseOther\r\n *  getLn10                  P.logarithm, naturalLogarithm\r\n *  getPi                    P.acos, P.asin, P.atan, toLessThanHalfPi, atan2\r\n *  getPrecision             P.precision, P.toFraction\r\n *  getZeroString            digitsToString, finiteToString\r\n *  intPow                   P.toPower, parseOther\r\n *  isOdd                    toLessThanHalfPi\r\n *  maxOrMin                 max, min\r\n *  naturalExponential       P.naturalExponential, P.toPower\r\n *  naturalLogarithm         P.acosh, P.asinh, P.atanh, P.logarithm, P.naturalLogarithm,\r\n *                           P.toPower, naturalExponential\r\n *  nonFiniteToString        finiteToString, toStringBinary\r\n *  parseDecimal             Decimal\r\n *  parseOther               Decimal\r\n *  sin                      P.sin\r\n *  taylorSeries             P.cosh, P.sinh, cos, sin\r\n *  toLessThanHalfPi         P.cos, P.sin\r\n *  toStringBinary           P.toBinary, P.toHexadecimal, P.toOctal\r\n *  truncate                 intPow\r\n *\r\n *  Throws:                  P.logarithm, P.precision, P.toFraction, checkInt32, getLn10, getPi,\r\n *                           naturalLogarithm, config, parseOther, random, Decimal\r\n */\r\n\r\n\r\nfunction digitsToString(d) {\r\n  var i, k, ws,\r\n    indexOfLastWord = d.length - 1,\r\n    str = '',\r\n    w = d[0];\r\n\r\n  if (indexOfLastWord > 0) {\r\n    str += w;\r\n    for (i = 1; i < indexOfLastWord; i++) {\r\n      ws = d[i] + '';\r\n      k = LOG_BASE - ws.length;\r\n      if (k) str += getZeroString(k);\r\n      str += ws;\r\n    }\r\n\r\n    w = d[i];\r\n    ws = w + '';\r\n    k = LOG_BASE - ws.length;\r\n    if (k) str += getZeroString(k);\r\n  } else if (w === 0) {\r\n    return '0';\r\n  }\r\n\r\n  // Remove trailing zeros of last w.\r\n  for (; w % 10 === 0;) w /= 10;\r\n\r\n  return str + w;\r\n}\r\n\r\n\r\nfunction checkInt32(i, min, max) {\r\n  if (i !== ~~i || i < min || i > max) {\r\n    throw Error(invalidArgument + i);\r\n  }\r\n}\r\n\r\n\r\n/*\r\n * Check 5 rounding digits if `repeating` is null, 4 otherwise.\r\n * `repeating == null` if caller is `log` or `pow`,\r\n * `repeating != null` if caller is `naturalLogarithm` or `naturalExponential`.\r\n */\r\nfunction checkRoundingDigits(d, i, rm, repeating) {\r\n  var di, k, r, rd;\r\n\r\n  // Get the length of the first word of the array d.\r\n  for (k = d[0]; k >= 10; k /= 10) --i;\r\n\r\n  // Is the rounding digit in the first word of d?\r\n  if (--i < 0) {\r\n    i += LOG_BASE;\r\n    di = 0;\r\n  } else {\r\n    di = Math.ceil((i + 1) / LOG_BASE);\r\n    i %= LOG_BASE;\r\n  }\r\n\r\n  // i is the index (0 - 6) of the rounding digit.\r\n  // E.g. if within the word 3487563 the first rounding digit is 5,\r\n  // then i = 4, k = 1000, rd = 3487563 % 1000 = 563\r\n  k = mathpow(10, LOG_BASE - i);\r\n  rd = d[di] % k | 0;\r\n\r\n  if (repeating == null) {\r\n    if (i < 3) {\r\n      if (i == 0) rd = rd / 100 | 0;\r\n      else if (i == 1) rd = rd / 10 | 0;\r\n      r = rm < 4 && rd == 99999 || rm > 3 && rd == 49999 || rd == 50000 || rd == 0;\r\n    } else {\r\n      r = (rm < 4 && rd + 1 == k || rm > 3 && rd + 1 == k / 2) &&\r\n        (d[di + 1] / k / 100 | 0) == mathpow(10, i - 2) - 1 ||\r\n          (rd == k / 2 || rd == 0) && (d[di + 1] / k / 100 | 0) == 0;\r\n    }\r\n  } else {\r\n    if (i < 4) {\r\n      if (i == 0) rd = rd / 1000 | 0;\r\n      else if (i == 1) rd = rd / 100 | 0;\r\n      else if (i == 2) rd = rd / 10 | 0;\r\n      r = (repeating || rm < 4) && rd == 9999 || !repeating && rm > 3 && rd == 4999;\r\n    } else {\r\n      r = ((repeating || rm < 4) && rd + 1 == k ||\r\n      (!repeating && rm > 3) && rd + 1 == k / 2) &&\r\n        (d[di + 1] / k / 1000 | 0) == mathpow(10, i - 3) - 1;\r\n    }\r\n  }\r\n\r\n  return r;\r\n}\r\n\r\n\r\n// Convert string of `baseIn` to an array of numbers of `baseOut`.\r\n// Eg. convertBase('255', 10, 16) returns [15, 15].\r\n// Eg. convertBase('ff', 16, 10) returns [2, 5, 5].\r\nfunction convertBase(str, baseIn, baseOut) {\r\n  var j,\r\n    arr = [0],\r\n    arrL,\r\n    i = 0,\r\n    strL = str.length;\r\n\r\n  for (; i < strL;) {\r\n    for (arrL = arr.length; arrL--;) arr[arrL] *= baseIn;\r\n    arr[0] += NUMERALS.indexOf(str.charAt(i++));\r\n    for (j = 0; j < arr.length; j++) {\r\n      if (arr[j] > baseOut - 1) {\r\n        if (arr[j + 1] === void 0) arr[j + 1] = 0;\r\n        arr[j + 1] += arr[j] / baseOut | 0;\r\n        arr[j] %= baseOut;\r\n      }\r\n    }\r\n  }\r\n\r\n  return arr.reverse();\r\n}\r\n\r\n\r\n/*\r\n * cos(x) = 1 - x^2/2! + x^4/4! - ...\r\n * |x| < pi/2\r\n *\r\n */\r\nfunction cosine(Ctor, x) {\r\n  var k, len, y;\r\n\r\n  if (x.isZero()) return x;\r\n\r\n  // Argument reduction: cos(4x) = 8*(cos^4(x) - cos^2(x)) + 1\r\n  // i.e. cos(x) = 8*(cos^4(x/4) - cos^2(x/4)) + 1\r\n\r\n  // Estimate the optimum number of times to use the argument reduction.\r\n  len = x.d.length;\r\n  if (len < 32) {\r\n    k = Math.ceil(len / 3);\r\n    y = (1 / tinyPow(4, k)).toString();\r\n  } else {\r\n    k = 16;\r\n    y = '2.3283064365386962890625e-10';\r\n  }\r\n\r\n  Ctor.precision += k;\r\n\r\n  x = taylorSeries(Ctor, 1, x.times(y), new Ctor(1));\r\n\r\n  // Reverse argument reduction\r\n  for (var i = k; i--;) {\r\n    var cos2x = x.times(x);\r\n    x = cos2x.times(cos2x).minus(cos2x).times(8).plus(1);\r\n  }\r\n\r\n  Ctor.precision -= k;\r\n\r\n  return x;\r\n}\r\n\r\n\r\n/*\r\n * Perform division in the specified base.\r\n */\r\nvar divide = (function () {\r\n\r\n  // Assumes non-zero x and k, and hence non-zero result.\r\n  function multiplyInteger(x, k, base) {\r\n    var temp,\r\n      carry = 0,\r\n      i = x.length;\r\n\r\n    for (x = x.slice(); i--;) {\r\n      temp = x[i] * k + carry;\r\n      x[i] = temp % base | 0;\r\n      carry = temp / base | 0;\r\n    }\r\n\r\n    if (carry) x.unshift(carry);\r\n\r\n    return x;\r\n  }\r\n\r\n  function compare(a, b, aL, bL) {\r\n    var i, r;\r\n\r\n    if (aL != bL) {\r\n      r = aL > bL ? 1 : -1;\r\n    } else {\r\n      for (i = r = 0; i < aL; i++) {\r\n        if (a[i] != b[i]) {\r\n          r = a[i] > b[i] ? 1 : -1;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return r;\r\n  }\r\n\r\n  function subtract(a, b, aL, base) {\r\n    var i = 0;\r\n\r\n    // Subtract b from a.\r\n    for (; aL--;) {\r\n      a[aL] -= i;\r\n      i = a[aL] < b[aL] ? 1 : 0;\r\n      a[aL] = i * base + a[aL] - b[aL];\r\n    }\r\n\r\n    // Remove leading zeros.\r\n    for (; !a[0] && a.length > 1;) a.shift();\r\n  }\r\n\r\n  return function (x, y, pr, rm, dp, base) {\r\n    var cmp, e, i, k, logBase, more, prod, prodL, q, qd, rem, remL, rem0, sd, t, xi, xL, yd0,\r\n      yL, yz,\r\n      Ctor = x.constructor,\r\n      sign = x.s == y.s ? 1 : -1,\r\n      xd = x.d,\r\n      yd = y.d;\r\n\r\n    // Either NaN, Infinity or 0?\r\n    if (!xd || !xd[0] || !yd || !yd[0]) {\r\n\r\n      return new Ctor(// Return NaN if either NaN, or both Infinity or 0.\r\n        !x.s || !y.s || (xd ? yd && xd[0] == yd[0] : !yd) ? NaN :\r\n\r\n        // Return 0 if x is 0 or y is Infinity, or return Infinity as y is 0.\r\n        xd && xd[0] == 0 || !yd ? sign * 0 : sign / 0);\r\n    }\r\n\r\n    if (base) {\r\n      logBase = 1;\r\n      e = x.e - y.e;\r\n    } else {\r\n      base = BASE;\r\n      logBase = LOG_BASE;\r\n      e = mathfloor(x.e / logBase) - mathfloor(y.e / logBase);\r\n    }\r\n\r\n    yL = yd.length;\r\n    xL = xd.length;\r\n    q = new Ctor(sign);\r\n    qd = q.d = [];\r\n\r\n    // Result exponent may be one less than e.\r\n    // The digit array of a Decimal from toStringBinary may have trailing zeros.\r\n    for (i = 0; yd[i] == (xd[i] || 0); i++);\r\n\r\n    if (yd[i] > (xd[i] || 0)) e--;\r\n\r\n    if (pr == null) {\r\n      sd = pr = Ctor.precision;\r\n      rm = Ctor.rounding;\r\n    } else if (dp) {\r\n      sd = pr + (x.e - y.e) + 1;\r\n    } else {\r\n      sd = pr;\r\n    }\r\n\r\n    if (sd < 0) {\r\n      qd.push(1);\r\n      more = true;\r\n    } else {\r\n\r\n      // Convert precision in number of base 10 digits to base 1e7 digits.\r\n      sd = sd / logBase + 2 | 0;\r\n      i = 0;\r\n\r\n      // divisor < 1e7\r\n      if (yL == 1) {\r\n        k = 0;\r\n        yd = yd[0];\r\n        sd++;\r\n\r\n        // k is the carry.\r\n        for (; (i < xL || k) && sd--; i++) {\r\n          t = k * base + (xd[i] || 0);\r\n          qd[i] = t / yd | 0;\r\n          k = t % yd | 0;\r\n        }\r\n\r\n        more = k || i < xL;\r\n\r\n      // divisor >= 1e7\r\n      } else {\r\n\r\n        // Normalise xd and yd so highest order digit of yd is >= base/2\r\n        k = base / (yd[0] + 1) | 0;\r\n\r\n        if (k > 1) {\r\n          yd = multiplyInteger(yd, k, base);\r\n          xd = multiplyInteger(xd, k, base);\r\n          yL = yd.length;\r\n          xL = xd.length;\r\n        }\r\n\r\n        xi = yL;\r\n        rem = xd.slice(0, yL);\r\n        remL = rem.length;\r\n\r\n        // Add zeros to make remainder as long as divisor.\r\n        for (; remL < yL;) rem[remL++] = 0;\r\n\r\n        yz = yd.slice();\r\n        yz.unshift(0);\r\n        yd0 = yd[0];\r\n\r\n        if (yd[1] >= base / 2) ++yd0;\r\n\r\n        do {\r\n          k = 0;\r\n\r\n          // Compare divisor and remainder.\r\n          cmp = compare(yd, rem, yL, remL);\r\n\r\n          // If divisor < remainder.\r\n          if (cmp < 0) {\r\n\r\n            // Calculate trial digit, k.\r\n            rem0 = rem[0];\r\n            if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n            // k will be how many times the divisor goes into the current remainder.\r\n            k = rem0 / yd0 | 0;\r\n\r\n            //  Algorithm:\r\n            //  1. product = divisor * trial digit (k)\r\n            //  2. if product > remainder: product -= divisor, k--\r\n            //  3. remainder -= product\r\n            //  4. if product was < remainder at 2:\r\n            //    5. compare new remainder and divisor\r\n            //    6. If remainder > divisor: remainder -= divisor, k++\r\n\r\n            if (k > 1) {\r\n              if (k >= base) k = base - 1;\r\n\r\n              // product = divisor * trial digit.\r\n              prod = multiplyInteger(yd, k, base);\r\n              prodL = prod.length;\r\n              remL = rem.length;\r\n\r\n              // Compare product and remainder.\r\n              cmp = compare(prod, rem, prodL, remL);\r\n\r\n              // product > remainder.\r\n              if (cmp == 1) {\r\n                k--;\r\n\r\n                // Subtract divisor from product.\r\n                subtract(prod, yL < prodL ? yz : yd, prodL, base);\r\n              }\r\n            } else {\r\n\r\n              // cmp is -1.\r\n              // If k is 0, there is no need to compare yd and rem again below, so change cmp to 1\r\n              // to avoid it. If k is 1 there is a need to compare yd and rem again below.\r\n              if (k == 0) cmp = k = 1;\r\n              prod = yd.slice();\r\n            }\r\n\r\n            prodL = prod.length;\r\n            if (prodL < remL) prod.unshift(0);\r\n\r\n            // Subtract product from remainder.\r\n            subtract(rem, prod, remL, base);\r\n\r\n            // If product was < previous remainder.\r\n            if (cmp == -1) {\r\n              remL = rem.length;\r\n\r\n              // Compare divisor and new remainder.\r\n              cmp = compare(yd, rem, yL, remL);\r\n\r\n              // If divisor < new remainder, subtract divisor from remainder.\r\n              if (cmp < 1) {\r\n                k++;\r\n\r\n                // Subtract divisor from remainder.\r\n                subtract(rem, yL < remL ? yz : yd, remL, base);\r\n              }\r\n            }\r\n\r\n            remL = rem.length;\r\n          } else if (cmp === 0) {\r\n            k++;\r\n            rem = [0];\r\n          }    // if cmp === 1, k will be 0\r\n\r\n          // Add the next digit, k, to the result array.\r\n          qd[i++] = k;\r\n\r\n          // Update the remainder.\r\n          if (cmp && rem[0]) {\r\n            rem[remL++] = xd[xi] || 0;\r\n          } else {\r\n            rem = [xd[xi]];\r\n            remL = 1;\r\n          }\r\n\r\n        } while ((xi++ < xL || rem[0] !== void 0) && sd--);\r\n\r\n        more = rem[0] !== void 0;\r\n      }\r\n\r\n      // Leading zero?\r\n      if (!qd[0]) qd.shift();\r\n    }\r\n\r\n    // logBase is 1 when divide is being used for base conversion.\r\n    if (logBase == 1) {\r\n      q.e = e;\r\n      inexact = more;\r\n    } else {\r\n\r\n      // To calculate q.e, first get the number of digits of qd[0].\r\n      for (i = 1, k = qd[0]; k >= 10; k /= 10) i++;\r\n      q.e = i + e * logBase - 1;\r\n\r\n      finalise(q, dp ? pr + q.e + 1 : pr, rm, more);\r\n    }\r\n\r\n    return q;\r\n  };\r\n})();\r\n\r\n\r\n/*\r\n * Round `x` to `sd` significant digits using rounding mode `rm`.\r\n * Check for over/under-flow.\r\n */\r\n function finalise(x, sd, rm, isTruncated) {\r\n  var digits, i, j, k, rd, roundUp, w, xd, xdi,\r\n    Ctor = x.constructor;\r\n\r\n  // Don't round if sd is null or undefined.\r\n  out: if (sd != null) {\r\n    xd = x.d;\r\n\r\n    // Infinity/NaN.\r\n    if (!xd) return x;\r\n\r\n    // rd: the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n    // w: the word of xd containing rd, a base 1e7 number.\r\n    // xdi: the index of w within xd.\r\n    // digits: the number of digits of w.\r\n    // i: what would be the index of rd within w if all the numbers were 7 digits long (i.e. if\r\n    // they had leading zeros)\r\n    // j: if > 0, the actual index of rd within w (if < 0, rd is a leading zero).\r\n\r\n    // Get the length of the first word of the digits array xd.\r\n    for (digits = 1, k = xd[0]; k >= 10; k /= 10) digits++;\r\n    i = sd - digits;\r\n\r\n    // Is the rounding digit in the first word of xd?\r\n    if (i < 0) {\r\n      i += LOG_BASE;\r\n      j = sd;\r\n      w = xd[xdi = 0];\r\n\r\n      // Get the rounding digit at index j of w.\r\n      rd = w / mathpow(10, digits - j - 1) % 10 | 0;\r\n    } else {\r\n      xdi = Math.ceil((i + 1) / LOG_BASE);\r\n      k = xd.length;\r\n      if (xdi >= k) {\r\n        if (isTruncated) {\r\n\r\n          // Needed by `naturalExponential`, `naturalLogarithm` and `squareRoot`.\r\n          for (; k++ <= xdi;) xd.push(0);\r\n          w = rd = 0;\r\n          digits = 1;\r\n          i %= LOG_BASE;\r\n          j = i - LOG_BASE + 1;\r\n        } else {\r\n          break out;\r\n        }\r\n      } else {\r\n        w = k = xd[xdi];\r\n\r\n        // Get the number of digits of w.\r\n        for (digits = 1; k >= 10; k /= 10) digits++;\r\n\r\n        // Get the index of rd within w.\r\n        i %= LOG_BASE;\r\n\r\n        // Get the index of rd within w, adjusted for leading zeros.\r\n        // The number of leading zeros of w is given by LOG_BASE - digits.\r\n        j = i - LOG_BASE + digits;\r\n\r\n        // Get the rounding digit at index j of w.\r\n        rd = j < 0 ? 0 : w / mathpow(10, digits - j - 1) % 10 | 0;\r\n      }\r\n    }\r\n\r\n    // Are there any non-zero digits after the rounding digit?\r\n    isTruncated = isTruncated || sd < 0 ||\r\n      xd[xdi + 1] !== void 0 || (j < 0 ? w : w % mathpow(10, digits - j - 1));\r\n\r\n    // The expression `w % mathpow(10, digits - j - 1)` returns all the digits of w to the right\r\n    // of the digit at (left-to-right) index j, e.g. if w is 908714 and j is 2, the expression\r\n    // will give 714.\r\n\r\n    roundUp = rm < 4\r\n      ? (rd || isTruncated) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n      : rd > 5 || rd == 5 && (rm == 4 || isTruncated || rm == 6 &&\r\n\r\n        // Check whether the digit to the left of the rounding digit is odd.\r\n        ((i > 0 ? j > 0 ? w / mathpow(10, digits - j) : 0 : xd[xdi - 1]) % 10) & 1 ||\r\n          rm == (x.s < 0 ? 8 : 7));\r\n\r\n    if (sd < 1 || !xd[0]) {\r\n      xd.length = 0;\r\n      if (roundUp) {\r\n\r\n        // Convert sd to decimal places.\r\n        sd -= x.e + 1;\r\n\r\n        // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n        xd[0] = mathpow(10, (LOG_BASE - sd % LOG_BASE) % LOG_BASE);\r\n        x.e = -sd || 0;\r\n      } else {\r\n\r\n        // Zero.\r\n        xd[0] = x.e = 0;\r\n      }\r\n\r\n      return x;\r\n    }\r\n\r\n    // Remove excess digits.\r\n    if (i == 0) {\r\n      xd.length = xdi;\r\n      k = 1;\r\n      xdi--;\r\n    } else {\r\n      xd.length = xdi + 1;\r\n      k = mathpow(10, LOG_BASE - i);\r\n\r\n      // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n      // j > 0 means i > number of leading zeros of w.\r\n      xd[xdi] = j > 0 ? (w / mathpow(10, digits - j) % mathpow(10, j) | 0) * k : 0;\r\n    }\r\n\r\n    if (roundUp) {\r\n      for (;;) {\r\n\r\n        // Is the digit to be rounded up in the first word of xd?\r\n        if (xdi == 0) {\r\n\r\n          // i will be the length of xd[0] before k is added.\r\n          for (i = 1, j = xd[0]; j >= 10; j /= 10) i++;\r\n          j = xd[0] += k;\r\n          for (k = 1; j >= 10; j /= 10) k++;\r\n\r\n          // if i != k the length has increased.\r\n          if (i != k) {\r\n            x.e++;\r\n            if (xd[0] == BASE) xd[0] = 1;\r\n          }\r\n\r\n          break;\r\n        } else {\r\n          xd[xdi] += k;\r\n          if (xd[xdi] != BASE) break;\r\n          xd[xdi--] = 0;\r\n          k = 1;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Remove trailing zeros.\r\n    for (i = xd.length; xd[--i] === 0;) xd.pop();\r\n  }\r\n\r\n  if (external) {\r\n\r\n    // Overflow?\r\n    if (x.e > Ctor.maxE) {\r\n\r\n      // Infinity.\r\n      x.d = null;\r\n      x.e = NaN;\r\n\r\n    // Underflow?\r\n    } else if (x.e < Ctor.minE) {\r\n\r\n      // Zero.\r\n      x.e = 0;\r\n      x.d = [0];\r\n      // Ctor.underflow = true;\r\n    } // else Ctor.underflow = false;\r\n  }\r\n\r\n  return x;\r\n}\r\n\r\n\r\nfunction finiteToString(x, isExp, sd) {\r\n  if (!x.isFinite()) return nonFiniteToString(x);\r\n  var k,\r\n    e = x.e,\r\n    str = digitsToString(x.d),\r\n    len = str.length;\r\n\r\n  if (isExp) {\r\n    if (sd && (k = sd - len) > 0) {\r\n      str = str.charAt(0) + '.' + str.slice(1) + getZeroString(k);\r\n    } else if (len > 1) {\r\n      str = str.charAt(0) + '.' + str.slice(1);\r\n    }\r\n\r\n    str = str + (x.e < 0 ? 'e' : 'e+') + x.e;\r\n  } else if (e < 0) {\r\n    str = '0.' + getZeroString(-e - 1) + str;\r\n    if (sd && (k = sd - len) > 0) str += getZeroString(k);\r\n  } else if (e >= len) {\r\n    str += getZeroString(e + 1 - len);\r\n    if (sd && (k = sd - e - 1) > 0) str = str + '.' + getZeroString(k);\r\n  } else {\r\n    if ((k = e + 1) < len) str = str.slice(0, k) + '.' + str.slice(k);\r\n    if (sd && (k = sd - len) > 0) {\r\n      if (e + 1 === len) str += '.';\r\n      str += getZeroString(k);\r\n    }\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n\r\n// Calculate the base 10 exponent from the base 1e7 exponent.\r\nfunction getBase10Exponent(digits, e) {\r\n  var w = digits[0];\r\n\r\n  // Add the number of digits of the first word of the digits array.\r\n  for ( e *= LOG_BASE; w >= 10; w /= 10) e++;\r\n  return e;\r\n}\r\n\r\n\r\nfunction getLn10(Ctor, sd, pr) {\r\n  if (sd > LN10_PRECISION) {\r\n\r\n    // Reset global state in case the exception is caught.\r\n    external = true;\r\n    if (pr) Ctor.precision = pr;\r\n    throw Error(precisionLimitExceeded);\r\n  }\r\n  return finalise(new Ctor(LN10), sd, 1, true);\r\n}\r\n\r\n\r\nfunction getPi(Ctor, sd, rm) {\r\n  if (sd > PI_PRECISION) throw Error(precisionLimitExceeded);\r\n  return finalise(new Ctor(PI), sd, rm, true);\r\n}\r\n\r\n\r\nfunction getPrecision(digits) {\r\n  var w = digits.length - 1,\r\n    len = w * LOG_BASE + 1;\r\n\r\n  w = digits[w];\r\n\r\n  // If non-zero...\r\n  if (w) {\r\n\r\n    // Subtract the number of trailing zeros of the last word.\r\n    for (; w % 10 == 0; w /= 10) len--;\r\n\r\n    // Add the number of digits of the first word.\r\n    for (w = digits[0]; w >= 10; w /= 10) len++;\r\n  }\r\n\r\n  return len;\r\n}\r\n\r\n\r\nfunction getZeroString(k) {\r\n  var zs = '';\r\n  for (; k--;) zs += '0';\r\n  return zs;\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the value of Decimal `x` to the power `n`, where `n` is an\r\n * integer of type number.\r\n *\r\n * Implements 'exponentiation by squaring'. Called by `pow` and `parseOther`.\r\n *\r\n */\r\nfunction intPow(Ctor, x, n, pr) {\r\n  var isTruncated,\r\n    r = new Ctor(1),\r\n\r\n    // Max n of 9007199254740991 takes 53 loop iterations.\r\n    // Maximum digits array length; leaves [28, 34] guard digits.\r\n    k = Math.ceil(pr / LOG_BASE + 4);\r\n\r\n  external = false;\r\n\r\n  for (;;) {\r\n    if (n % 2) {\r\n      r = r.times(x);\r\n      if (truncate(r.d, k)) isTruncated = true;\r\n    }\r\n\r\n    n = mathfloor(n / 2);\r\n    if (n === 0) {\r\n\r\n      // To ensure correct rounding when r.d is truncated, increment the last word if it is zero.\r\n      n = r.d.length - 1;\r\n      if (isTruncated && r.d[n] === 0) ++r.d[n];\r\n      break;\r\n    }\r\n\r\n    x = x.times(x);\r\n    truncate(x.d, k);\r\n  }\r\n\r\n  external = true;\r\n\r\n  return r;\r\n}\r\n\r\n\r\nfunction isOdd(n) {\r\n  return n.d[n.d.length - 1] & 1;\r\n}\r\n\r\n\r\n/*\r\n * Handle `max` (`n` is -1) and `min` (`n` is 1).\r\n */\r\nfunction maxOrMin(Ctor, args, n) {\r\n  var k, y,\r\n    x = new Ctor(args[0]),\r\n    i = 0;\r\n\r\n  for (; ++i < args.length;) {\r\n    y = new Ctor(args[i]);\r\n\r\n    // NaN?\r\n    if (!y.s) {\r\n      x = y;\r\n      break;\r\n    }\r\n\r\n    k = x.cmp(y);\r\n\r\n    if (k === n || k === 0 && x.s === n) {\r\n      x = y;\r\n    }\r\n  }\r\n\r\n  return x;\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the natural exponential of `x` rounded to `sd` significant\r\n * digits.\r\n *\r\n * Taylor/Maclaurin series.\r\n *\r\n * exp(x) = x^0/0! + x^1/1! + x^2/2! + x^3/3! + ...\r\n *\r\n * Argument reduction:\r\n *   Repeat x = x / 32, k += 5, until |x| < 0.1\r\n *   exp(x) = exp(x / 2^k)^(2^k)\r\n *\r\n * Previously, the argument was initially reduced by\r\n * exp(x) = exp(r) * 10^k  where r = x - k * ln10, k = floor(x / ln10)\r\n * to first put r in the range [0, ln10], before dividing by 32 until |x| < 0.1, but this was\r\n * found to be slower than just dividing repeatedly by 32 as above.\r\n *\r\n * Max integer argument: exp('20723265836946413') = 6.3e+9000000000000000\r\n * Min integer argument: exp('-20723265836946411') = 1.2e-9000000000000000\r\n * (Math object integer min/max: Math.exp(709) = 8.2e+307, Math.exp(-745) = 5e-324)\r\n *\r\n *  exp(Infinity)  = Infinity\r\n *  exp(-Infinity) = 0\r\n *  exp(NaN)       = NaN\r\n *  exp(0)        = 1\r\n *\r\n *  exp(x) is non-terminating for any finite, non-zero x.\r\n *\r\n *  The result will always be correctly rounded.\r\n *\r\n */\r\nfunction naturalExponential(x, sd) {\r\n  var denominator, guard, j, pow, sum, t, wpr,\r\n    rep = 0,\r\n    i = 0,\r\n    k = 0,\r\n    Ctor = x.constructor,\r\n    rm = Ctor.rounding,\r\n    pr = Ctor.precision;\r\n\r\n  // 0/NaN/Infinity?\r\n  if (!x.d || !x.d[0] || x.e > 17) {\r\n\r\n    return new Ctor(x.d\r\n      ? !x.d[0] ? 1 : x.s < 0 ? 0 : 1 / 0\r\n      : x.s ? x.s < 0 ? 0 : x : 0 / 0);\r\n  }\r\n\r\n  if (sd == null) {\r\n    external = false;\r\n    wpr = pr;\r\n  } else {\r\n    wpr = sd;\r\n  }\r\n\r\n  t = new Ctor(0.03125);\r\n\r\n  // while abs(x) >= 0.1\r\n  while (x.e > -2) {\r\n\r\n    // x = x / 2^5\r\n    x = x.times(t);\r\n    k += 5;\r\n  }\r\n\r\n  // Use 2 * log10(2^k) + 5 (empirically derived) to estimate the increase in precision\r\n  // necessary to ensure the first 4 rounding digits are correct.\r\n  guard = Math.log(mathpow(2, k)) / Math.LN10 * 2 + 5 | 0;\r\n  wpr += guard;\r\n  denominator = pow = sum = new Ctor(1);\r\n  Ctor.precision = wpr;\r\n\r\n  for (;;) {\r\n    pow = finalise(pow.times(x), wpr, 1);\r\n    denominator = denominator.times(++i);\r\n    t = sum.plus(divide(pow, denominator, wpr, 1));\r\n\r\n    if (digitsToString(t.d).slice(0, wpr) === digitsToString(sum.d).slice(0, wpr)) {\r\n      j = k;\r\n      while (j--) sum = finalise(sum.times(sum), wpr, 1);\r\n\r\n      // Check to see if the first 4 rounding digits are [49]999.\r\n      // If so, repeat the summation with a higher precision, otherwise\r\n      // e.g. with precision: 18, rounding: 1\r\n      // exp(18.404272462595034083567793919843761) = 98372560.1229999999 (should be 98372560.123)\r\n      // `wpr - guard` is the index of first rounding digit.\r\n      if (sd == null) {\r\n\r\n        if (rep < 3 && checkRoundingDigits(sum.d, wpr - guard, rm, rep)) {\r\n          Ctor.precision = wpr += 10;\r\n          denominator = pow = t = new Ctor(1);\r\n          i = 0;\r\n          rep++;\r\n        } else {\r\n          return finalise(sum, Ctor.precision = pr, rm, external = true);\r\n        }\r\n      } else {\r\n        Ctor.precision = pr;\r\n        return sum;\r\n      }\r\n    }\r\n\r\n    sum = t;\r\n  }\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the natural logarithm of `x` rounded to `sd` significant\r\n * digits.\r\n *\r\n *  ln(-n)        = NaN\r\n *  ln(0)         = -Infinity\r\n *  ln(-0)        = -Infinity\r\n *  ln(1)         = 0\r\n *  ln(Infinity)  = Infinity\r\n *  ln(-Infinity) = NaN\r\n *  ln(NaN)       = NaN\r\n *\r\n *  ln(n) (n != 1) is non-terminating.\r\n *\r\n */\r\nfunction naturalLogarithm(y, sd) {\r\n  var c, c0, denominator, e, numerator, rep, sum, t, wpr, x1, x2,\r\n    n = 1,\r\n    guard = 10,\r\n    x = y,\r\n    xd = x.d,\r\n    Ctor = x.constructor,\r\n    rm = Ctor.rounding,\r\n    pr = Ctor.precision;\r\n\r\n  // Is x negative or Infinity, NaN, 0 or 1?\r\n  if (x.s < 0 || !xd || !xd[0] || !x.e && xd[0] == 1 && xd.length == 1) {\r\n    return new Ctor(xd && !xd[0] ? -1 / 0 : x.s != 1 ? NaN : xd ? 0 : x);\r\n  }\r\n\r\n  if (sd == null) {\r\n    external = false;\r\n    wpr = pr;\r\n  } else {\r\n    wpr = sd;\r\n  }\r\n\r\n  Ctor.precision = wpr += guard;\r\n  c = digitsToString(xd);\r\n  c0 = c.charAt(0);\r\n\r\n  if (Math.abs(e = x.e) < 1.5e15) {\r\n\r\n    // Argument reduction.\r\n    // The series converges faster the closer the argument is to 1, so using\r\n    // ln(a^b) = b * ln(a),   ln(a) = ln(a^b) / b\r\n    // multiply the argument by itself until the leading digits of the significand are 7, 8, 9,\r\n    // 10, 11, 12 or 13, recording the number of multiplications so the sum of the series can\r\n    // later be divided by this number, then separate out the power of 10 using\r\n    // ln(a*10^b) = ln(a) + b*ln(10).\r\n\r\n    // max n is 21 (gives 0.9, 1.0 or 1.1) (9e15 / 21 = 4.2e14).\r\n    //while (c0 < 9 && c0 != 1 || c0 == 1 && c.charAt(1) > 1) {\r\n    // max n is 6 (gives 0.7 - 1.3)\r\n    while (c0 < 7 && c0 != 1 || c0 == 1 && c.charAt(1) > 3) {\r\n      x = x.times(y);\r\n      c = digitsToString(x.d);\r\n      c0 = c.charAt(0);\r\n      n++;\r\n    }\r\n\r\n    e = x.e;\r\n\r\n    if (c0 > 1) {\r\n      x = new Ctor('0.' + c);\r\n      e++;\r\n    } else {\r\n      x = new Ctor(c0 + '.' + c.slice(1));\r\n    }\r\n  } else {\r\n\r\n    // The argument reduction method above may result in overflow if the argument y is a massive\r\n    // number with exponent >= 1500000000000000 (9e15 / 6 = 1.5e15), so instead recall this\r\n    // function using ln(x*10^e) = ln(x) + e*ln(10).\r\n    t = getLn10(Ctor, wpr + 2, pr).times(e + '');\r\n    x = naturalLogarithm(new Ctor(c0 + '.' + c.slice(1)), wpr - guard).plus(t);\r\n    Ctor.precision = pr;\r\n\r\n    return sd == null ? finalise(x, pr, rm, external = true) : x;\r\n  }\r\n\r\n  // x1 is x reduced to a value near 1.\r\n  x1 = x;\r\n\r\n  // Taylor series.\r\n  // ln(y) = ln((1 + x)/(1 - x)) = 2(x + x^3/3 + x^5/5 + x^7/7 + ...)\r\n  // where x = (y - 1)/(y + 1)    (|x| < 1)\r\n  sum = numerator = x = divide(x.minus(1), x.plus(1), wpr, 1);\r\n  x2 = finalise(x.times(x), wpr, 1);\r\n  denominator = 3;\r\n\r\n  for (;;) {\r\n    numerator = finalise(numerator.times(x2), wpr, 1);\r\n    t = sum.plus(divide(numerator, new Ctor(denominator), wpr, 1));\r\n\r\n    if (digitsToString(t.d).slice(0, wpr) === digitsToString(sum.d).slice(0, wpr)) {\r\n      sum = sum.times(2);\r\n\r\n      // Reverse the argument reduction. Check that e is not 0 because, besides preventing an\r\n      // unnecessary calculation, -0 + 0 = +0 and to ensure correct rounding -0 needs to stay -0.\r\n      if (e !== 0) sum = sum.plus(getLn10(Ctor, wpr + 2, pr).times(e + ''));\r\n      sum = divide(sum, new Ctor(n), wpr, 1);\r\n\r\n      // Is rm > 3 and the first 4 rounding digits 4999, or rm < 4 (or the summation has\r\n      // been repeated previously) and the first 4 rounding digits 9999?\r\n      // If so, restart the summation with a higher precision, otherwise\r\n      // e.g. with precision: 12, rounding: 1\r\n      // ln(135520028.6126091714265381533) = 18.7246299999 when it should be 18.72463.\r\n      // `wpr - guard` is the index of first rounding digit.\r\n      if (sd == null) {\r\n        if (checkRoundingDigits(sum.d, wpr - guard, rm, rep)) {\r\n          Ctor.precision = wpr += guard;\r\n          t = numerator = x = divide(x1.minus(1), x1.plus(1), wpr, 1);\r\n          x2 = finalise(x.times(x), wpr, 1);\r\n          denominator = rep = 1;\r\n        } else {\r\n          return finalise(sum, Ctor.precision = pr, rm, external = true);\r\n        }\r\n      } else {\r\n        Ctor.precision = pr;\r\n        return sum;\r\n      }\r\n    }\r\n\r\n    sum = t;\r\n    denominator += 2;\r\n  }\r\n}\r\n\r\n\r\n// Infinity, NaN.\r\nfunction nonFiniteToString(x) {\r\n  // Unsigned.\r\n  return String(x.s * x.s / 0);\r\n}\r\n\r\n\r\n/*\r\n * Parse the value of a new Decimal `x` from string `str`.\r\n */\r\nfunction parseDecimal(x, str) {\r\n  var e, i, len;\r\n\r\n  // TODO BigInt str: no need to check for decimal point, exponential form or leading zeros.\r\n  // Decimal point?\r\n  if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n  // Exponential form?\r\n  if ((i = str.search(/e/i)) > 0) {\r\n\r\n    // Determine exponent.\r\n    if (e < 0) e = i;\r\n    e += +str.slice(i + 1);\r\n    str = str.substring(0, i);\r\n  } else if (e < 0) {\r\n\r\n    // Integer.\r\n    e = str.length;\r\n  }\r\n\r\n  // Determine leading zeros.\r\n  for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n  // Determine trailing zeros.\r\n  for (len = str.length; str.charCodeAt(len - 1) === 48; --len);\r\n  str = str.slice(i, len);\r\n\r\n  if (str) {\r\n    len -= i;\r\n    x.e = e = e - i - 1;\r\n    x.d = [];\r\n\r\n    // Transform base\r\n\r\n    // e is the base 10 exponent.\r\n    // i is where to slice str to get the first word of the digits array.\r\n    i = (e + 1) % LOG_BASE;\r\n    if (e < 0) i += LOG_BASE;\r\n\r\n    if (i < len) {\r\n      if (i) x.d.push(+str.slice(0, i));\r\n      for (len -= LOG_BASE; i < len;) x.d.push(+str.slice(i, i += LOG_BASE));\r\n      str = str.slice(i);\r\n      i = LOG_BASE - str.length;\r\n    } else {\r\n      i -= len;\r\n    }\r\n\r\n    for (; i--;) str += '0';\r\n    x.d.push(+str);\r\n\r\n    if (external) {\r\n\r\n      // Overflow?\r\n      if (x.e > x.constructor.maxE) {\r\n\r\n        // Infinity.\r\n        x.d = null;\r\n        x.e = NaN;\r\n\r\n      // Underflow?\r\n      } else if (x.e < x.constructor.minE) {\r\n\r\n        // Zero.\r\n        x.e = 0;\r\n        x.d = [0];\r\n        // x.constructor.underflow = true;\r\n      } // else x.constructor.underflow = false;\r\n    }\r\n  } else {\r\n\r\n    // Zero.\r\n    x.e = 0;\r\n    x.d = [0];\r\n  }\r\n\r\n  return x;\r\n}\r\n\r\n\r\n/*\r\n * Parse the value of a new Decimal `x` from a string `str`, which is not a decimal value.\r\n */\r\nfunction parseOther(x, str) {\r\n  var base, Ctor, divisor, i, isFloat, len, p, xd, xe;\r\n\r\n  if (str.indexOf('_') > -1) {\r\n    str = str.replace(/(\\d)_(?=\\d)/g, '$1');\r\n    if (isDecimal.test(str)) return parseDecimal(x, str);\r\n  } else if (str === 'Infinity' || str === 'NaN') {\r\n    if (!+str) x.s = NaN;\r\n    x.e = NaN;\r\n    x.d = null;\r\n    return x;\r\n  }\r\n\r\n  if (isHex.test(str))  {\r\n    base = 16;\r\n    str = str.toLowerCase();\r\n  } else if (isBinary.test(str))  {\r\n    base = 2;\r\n  } else if (isOctal.test(str))  {\r\n    base = 8;\r\n  } else {\r\n    throw Error(invalidArgument + str);\r\n  }\r\n\r\n  // Is there a binary exponent part?\r\n  i = str.search(/p/i);\r\n\r\n  if (i > 0) {\r\n    p = +str.slice(i + 1);\r\n    str = str.substring(2, i);\r\n  } else {\r\n    str = str.slice(2);\r\n  }\r\n\r\n  // Convert `str` as an integer then divide the result by `base` raised to a power such that the\r\n  // fraction part will be restored.\r\n  i = str.indexOf('.');\r\n  isFloat = i >= 0;\r\n  Ctor = x.constructor;\r\n\r\n  if (isFloat) {\r\n    str = str.replace('.', '');\r\n    len = str.length;\r\n    i = len - i;\r\n\r\n    // log[10](16) = 1.2041... , log[10](88) = 1.9444....\r\n    divisor = intPow(Ctor, new Ctor(base), i, i * 2);\r\n  }\r\n\r\n  xd = convertBase(str, base, BASE);\r\n  xe = xd.length - 1;\r\n\r\n  // Remove trailing zeros.\r\n  for (i = xe; xd[i] === 0; --i) xd.pop();\r\n  if (i < 0) return new Ctor(x.s * 0);\r\n  x.e = getBase10Exponent(xd, xe);\r\n  x.d = xd;\r\n  external = false;\r\n\r\n  // At what precision to perform the division to ensure exact conversion?\r\n  // maxDecimalIntegerPartDigitCount = ceil(log[10](b) * otherBaseIntegerPartDigitCount)\r\n  // log[10](2) = 0.30103, log[10](8) = 0.90309, log[10](16) = 1.20412\r\n  // E.g. ceil(1.2 * 3) = 4, so up to 4 decimal digits are needed to represent 3 hex int digits.\r\n  // maxDecimalFractionPartDigitCount = {Hex:4|Oct:3|Bin:1} * otherBaseFractionPartDigitCount\r\n  // Therefore using 4 * the number of digits of str will always be enough.\r\n  if (isFloat) x = divide(x, divisor, len * 4);\r\n\r\n  // Multiply by the binary exponent part if present.\r\n  if (p) x = x.times(Math.abs(p) < 54 ? mathpow(2, p) : Decimal.pow(2, p));\r\n  external = true;\r\n\r\n  return x;\r\n}\r\n\r\n\r\n/*\r\n * sin(x) = x - x^3/3! + x^5/5! - ...\r\n * |x| < pi/2\r\n *\r\n */\r\nfunction sine(Ctor, x) {\r\n  var k,\r\n    len = x.d.length;\r\n\r\n  if (len < 3) {\r\n    return x.isZero() ? x : taylorSeries(Ctor, 2, x, x);\r\n  }\r\n\r\n  // Argument reduction: sin(5x) = 16*sin^5(x) - 20*sin^3(x) + 5*sin(x)\r\n  // i.e. sin(x) = 16*sin^5(x/5) - 20*sin^3(x/5) + 5*sin(x/5)\r\n  // and  sin(x) = sin(x/5)(5 + sin^2(x/5)(16sin^2(x/5) - 20))\r\n\r\n  // Estimate the optimum number of times to use the argument reduction.\r\n  k = 1.4 * Math.sqrt(len);\r\n  k = k > 16 ? 16 : k | 0;\r\n\r\n  x = x.times(1 / tinyPow(5, k));\r\n  x = taylorSeries(Ctor, 2, x, x);\r\n\r\n  // Reverse argument reduction\r\n  var sin2_x,\r\n    d5 = new Ctor(5),\r\n    d16 = new Ctor(16),\r\n    d20 = new Ctor(20);\r\n  for (; k--;) {\r\n    sin2_x = x.times(x);\r\n    x = x.times(d5.plus(sin2_x.times(d16.times(sin2_x).minus(d20))));\r\n  }\r\n\r\n  return x;\r\n}\r\n\r\n\r\n// Calculate Taylor series for `cos`, `cosh`, `sin` and `sinh`.\r\nfunction taylorSeries(Ctor, n, x, y, isHyperbolic) {\r\n  var j, t, u, x2,\r\n    i = 1,\r\n    pr = Ctor.precision,\r\n    k = Math.ceil(pr / LOG_BASE);\r\n\r\n  external = false;\r\n  x2 = x.times(x);\r\n  u = new Ctor(y);\r\n\r\n  for (;;) {\r\n    t = divide(u.times(x2), new Ctor(n++ * n++), pr, 1);\r\n    u = isHyperbolic ? y.plus(t) : y.minus(t);\r\n    y = divide(t.times(x2), new Ctor(n++ * n++), pr, 1);\r\n    t = u.plus(y);\r\n\r\n    if (t.d[k] !== void 0) {\r\n      for (j = k; t.d[j] === u.d[j] && j--;);\r\n      if (j == -1) break;\r\n    }\r\n\r\n    j = u;\r\n    u = y;\r\n    y = t;\r\n    t = j;\r\n    i++;\r\n  }\r\n\r\n  external = true;\r\n  t.d.length = k + 1;\r\n\r\n  return t;\r\n}\r\n\r\n\r\n// Exponent e must be positive and non-zero.\r\nfunction tinyPow(b, e) {\r\n  var n = b;\r\n  while (--e) n *= b;\r\n  return n;\r\n}\r\n\r\n\r\n// Return the absolute value of `x` reduced to less than or equal to half pi.\r\nfunction toLessThanHalfPi(Ctor, x) {\r\n  var t,\r\n    isNeg = x.s < 0,\r\n    pi = getPi(Ctor, Ctor.precision, 1),\r\n    halfPi = pi.times(0.5);\r\n\r\n  x = x.abs();\r\n\r\n  if (x.lte(halfPi)) {\r\n    quadrant = isNeg ? 4 : 1;\r\n    return x;\r\n  }\r\n\r\n  t = x.divToInt(pi);\r\n\r\n  if (t.isZero()) {\r\n    quadrant = isNeg ? 3 : 2;\r\n  } else {\r\n    x = x.minus(t.times(pi));\r\n\r\n    // 0 <= x < pi\r\n    if (x.lte(halfPi)) {\r\n      quadrant = isOdd(t) ? (isNeg ? 2 : 3) : (isNeg ? 4 : 1);\r\n      return x;\r\n    }\r\n\r\n    quadrant = isOdd(t) ? (isNeg ? 1 : 4) : (isNeg ? 3 : 2);\r\n  }\r\n\r\n  return x.minus(pi).abs();\r\n}\r\n\r\n\r\n/*\r\n * Return the value of Decimal `x` as a string in base `baseOut`.\r\n *\r\n * If the optional `sd` argument is present include a binary exponent suffix.\r\n */\r\nfunction toStringBinary(x, baseOut, sd, rm) {\r\n  var base, e, i, k, len, roundUp, str, xd, y,\r\n    Ctor = x.constructor,\r\n    isExp = sd !== void 0;\r\n\r\n  if (isExp) {\r\n    checkInt32(sd, 1, MAX_DIGITS);\r\n    if (rm === void 0) rm = Ctor.rounding;\r\n    else checkInt32(rm, 0, 8);\r\n  } else {\r\n    sd = Ctor.precision;\r\n    rm = Ctor.rounding;\r\n  }\r\n\r\n  if (!x.isFinite()) {\r\n    str = nonFiniteToString(x);\r\n  } else {\r\n    str = finiteToString(x);\r\n    i = str.indexOf('.');\r\n\r\n    // Use exponential notation according to `toExpPos` and `toExpNeg`? No, but if required:\r\n    // maxBinaryExponent = floor((decimalExponent + 1) * log[2](10))\r\n    // minBinaryExponent = floor(decimalExponent * log[2](10))\r\n    // log[2](10) = 3.321928094887362347870319429489390175864\r\n\r\n    if (isExp) {\r\n      base = 2;\r\n      if (baseOut == 16) {\r\n        sd = sd * 4 - 3;\r\n      } else if (baseOut == 8) {\r\n        sd = sd * 3 - 2;\r\n      }\r\n    } else {\r\n      base = baseOut;\r\n    }\r\n\r\n    // Convert the number as an integer then divide the result by its base raised to a power such\r\n    // that the fraction part will be restored.\r\n\r\n    // Non-integer.\r\n    if (i >= 0) {\r\n      str = str.replace('.', '');\r\n      y = new Ctor(1);\r\n      y.e = str.length - i;\r\n      y.d = convertBase(finiteToString(y), 10, base);\r\n      y.e = y.d.length;\r\n    }\r\n\r\n    xd = convertBase(str, 10, base);\r\n    e = len = xd.length;\r\n\r\n    // Remove trailing zeros.\r\n    for (; xd[--len] == 0;) xd.pop();\r\n\r\n    if (!xd[0]) {\r\n      str = isExp ? '0p+0' : '0';\r\n    } else {\r\n      if (i < 0) {\r\n        e--;\r\n      } else {\r\n        x = new Ctor(x);\r\n        x.d = xd;\r\n        x.e = e;\r\n        x = divide(x, y, sd, rm, 0, base);\r\n        xd = x.d;\r\n        e = x.e;\r\n        roundUp = inexact;\r\n      }\r\n\r\n      // The rounding digit, i.e. the digit after the digit that may be rounded up.\r\n      i = xd[sd];\r\n      k = base / 2;\r\n      roundUp = roundUp || xd[sd + 1] !== void 0;\r\n\r\n      roundUp = rm < 4\r\n        ? (i !== void 0 || roundUp) && (rm === 0 || rm === (x.s < 0 ? 3 : 2))\r\n        : i > k || i === k && (rm === 4 || roundUp || rm === 6 && xd[sd - 1] & 1 ||\r\n          rm === (x.s < 0 ? 8 : 7));\r\n\r\n      xd.length = sd;\r\n\r\n      if (roundUp) {\r\n\r\n        // Rounding up may mean the previous digit has to be rounded up and so on.\r\n        for (; ++xd[--sd] > base - 1;) {\r\n          xd[sd] = 0;\r\n          if (!sd) {\r\n            ++e;\r\n            xd.unshift(1);\r\n          }\r\n        }\r\n      }\r\n\r\n      // Determine trailing zeros.\r\n      for (len = xd.length; !xd[len - 1]; --len);\r\n\r\n      // E.g. [4, 11, 15] becomes 4bf.\r\n      for (i = 0, str = ''; i < len; i++) str += NUMERALS.charAt(xd[i]);\r\n\r\n      // Add binary exponent suffix?\r\n      if (isExp) {\r\n        if (len > 1) {\r\n          if (baseOut == 16 || baseOut == 8) {\r\n            i = baseOut == 16 ? 4 : 3;\r\n            for (--len; len % i; len++) str += '0';\r\n            xd = convertBase(str, base, baseOut);\r\n            for (len = xd.length; !xd[len - 1]; --len);\r\n\r\n            // xd[0] will always be be 1\r\n            for (i = 1, str = '1.'; i < len; i++) str += NUMERALS.charAt(xd[i]);\r\n          } else {\r\n            str = str.charAt(0) + '.' + str.slice(1);\r\n          }\r\n        }\r\n\r\n        str =  str + (e < 0 ? 'p' : 'p+') + e;\r\n      } else if (e < 0) {\r\n        for (; ++e;) str = '0' + str;\r\n        str = '0.' + str;\r\n      } else {\r\n        if (++e > len) for (e -= len; e-- ;) str += '0';\r\n        else if (e < len) str = str.slice(0, e) + '.' + str.slice(e);\r\n      }\r\n    }\r\n\r\n    str = (baseOut == 16 ? '0x' : baseOut == 2 ? '0b' : baseOut == 8 ? '0o' : '') + str;\r\n  }\r\n\r\n  return x.s < 0 ? '-' + str : str;\r\n}\r\n\r\n\r\n// Does not strip trailing zeros.\r\nfunction truncate(arr, len) {\r\n  if (arr.length > len) {\r\n    arr.length = len;\r\n    return true;\r\n  }\r\n}\r\n\r\n\r\n// Decimal methods\r\n\r\n\r\n/*\r\n *  abs\r\n *  acos\r\n *  acosh\r\n *  add\r\n *  asin\r\n *  asinh\r\n *  atan\r\n *  atanh\r\n *  atan2\r\n *  cbrt\r\n *  ceil\r\n *  clamp\r\n *  clone\r\n *  config\r\n *  cos\r\n *  cosh\r\n *  div\r\n *  exp\r\n *  floor\r\n *  hypot\r\n *  ln\r\n *  log\r\n *  log2\r\n *  log10\r\n *  max\r\n *  min\r\n *  mod\r\n *  mul\r\n *  pow\r\n *  random\r\n *  round\r\n *  set\r\n *  sign\r\n *  sin\r\n *  sinh\r\n *  sqrt\r\n *  sub\r\n *  sum\r\n *  tan\r\n *  tanh\r\n *  trunc\r\n */\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the absolute value of `x`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction abs(x) {\r\n  return new this(x).abs();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the arccosine in radians of `x`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction acos(x) {\r\n  return new this(x).acos();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the inverse of the hyperbolic cosine of `x`, rounded to\r\n * `precision` significant digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal} A value in radians.\r\n *\r\n */\r\nfunction acosh(x) {\r\n  return new this(x).acosh();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the sum of `x` and `y`, rounded to `precision` significant\r\n * digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n * y {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction add(x, y) {\r\n  return new this(x).plus(y);\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the arcsine in radians of `x`, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction asin(x) {\r\n  return new this(x).asin();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the inverse of the hyperbolic sine of `x`, rounded to\r\n * `precision` significant digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal} A value in radians.\r\n *\r\n */\r\nfunction asinh(x) {\r\n  return new this(x).asinh();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the arctangent in radians of `x`, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction atan(x) {\r\n  return new this(x).atan();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the inverse of the hyperbolic tangent of `x`, rounded to\r\n * `precision` significant digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal} A value in radians.\r\n *\r\n */\r\nfunction atanh(x) {\r\n  return new this(x).atanh();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the arctangent in radians of `y/x` in the range -pi to pi\r\n * (inclusive), rounded to `precision` significant digits using rounding mode `rounding`.\r\n *\r\n * Domain: [-Infinity, Infinity]\r\n * Range: [-pi, pi]\r\n *\r\n * y {number|string|bigint|Decimal} The y-coordinate.\r\n * x {number|string|bigint|Decimal} The x-coordinate.\r\n *\r\n * atan2(0, -0)               = pi\r\n * atan2(0, +0)               = 0\r\n * atan2(0, -x)               = pi for x > 0\r\n * atan2(0, x)                = 0 for x > 0\r\n * atan2(-y, 0)               = -pi/2 for y > 0\r\n * atan2(y, 0)                = pi/2 for y > 0\r\n * atan2(y, -Infinity)        = pi for finite y > 0\r\n * atan2(y, +Infinity)        = 0 for finite y > 0\r\n * atan2(Infinity, x)         = pi/2 for finite x\r\n * atan2(Infinity, -Infinity) = 3*pi/4\r\n * atan2(Infinity, +Infinity) = pi/4\r\n * atan2(NaN, x) = NaN\r\n * atan2(y, NaN) = NaN\r\n *\r\n */\r\nfunction atan2(y, x) {\r\n  y = new this(y);\r\n  x = new this(x);\r\n  var r,\r\n    pr = this.precision,\r\n    rm = this.rounding,\r\n    wpr = pr + 4;\r\n\r\n  // Either NaN\r\n  if (!y.s || !x.s) {\r\n    r = new this(NaN);\r\n\r\n  // Both Infinity\r\n  } else if (!y.d && !x.d) {\r\n    r = getPi(this, wpr, 1).times(x.s > 0 ? 0.25 : 0.75);\r\n    r.s = y.s;\r\n\r\n  // x is Infinity or y is 0\r\n  } else if (!x.d || y.isZero()) {\r\n    r = x.s < 0 ? getPi(this, pr, rm) : new this(0);\r\n    r.s = y.s;\r\n\r\n  // y is Infinity or x is 0\r\n  } else if (!y.d || x.isZero()) {\r\n    r = getPi(this, wpr, 1).times(0.5);\r\n    r.s = y.s;\r\n\r\n  // Both non-zero and finite\r\n  } else if (x.s < 0) {\r\n    this.precision = wpr;\r\n    this.rounding = 1;\r\n    r = this.atan(divide(y, x, wpr, 1));\r\n    x = getPi(this, wpr, 1);\r\n    this.precision = pr;\r\n    this.rounding = rm;\r\n    r = y.s < 0 ? r.minus(x) : r.plus(x);\r\n  } else {\r\n    r = this.atan(divide(y, x, wpr, 1));\r\n  }\r\n\r\n  return r;\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the cube root of `x`, rounded to `precision` significant\r\n * digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction cbrt(x) {\r\n  return new this(x).cbrt();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is `x` rounded to an integer using `ROUND_CEIL`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction ceil(x) {\r\n  return finalise(x = new this(x), x.e + 1, 2);\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is `x` clamped to the range delineated by `min` and `max`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n * min {number|string|bigint|Decimal}\r\n * max {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction clamp(x, min, max) {\r\n  return new this(x).clamp(min, max);\r\n}\r\n\r\n\r\n/*\r\n * Configure global settings for a Decimal constructor.\r\n *\r\n * `obj` is an object with one or more of the following properties,\r\n *\r\n *   precision  {number}\r\n *   rounding   {number}\r\n *   toExpNeg   {number}\r\n *   toExpPos   {number}\r\n *   maxE       {number}\r\n *   minE       {number}\r\n *   modulo     {number}\r\n *   crypto     {boolean|number}\r\n *   defaults   {true}\r\n *\r\n * E.g. Decimal.config({ precision: 20, rounding: 4 })\r\n *\r\n */\r\nfunction config(obj) {\r\n  if (!obj || typeof obj !== 'object') throw Error(decimalError + 'Object expected');\r\n  var i, p, v,\r\n    useDefaults = obj.defaults === true,\r\n    ps = [\r\n      'precision', 1, MAX_DIGITS,\r\n      'rounding', 0, 8,\r\n      'toExpNeg', -EXP_LIMIT, 0,\r\n      'toExpPos', 0, EXP_LIMIT,\r\n      'maxE', 0, EXP_LIMIT,\r\n      'minE', -EXP_LIMIT, 0,\r\n      'modulo', 0, 9\r\n    ];\r\n\r\n  for (i = 0; i < ps.length; i += 3) {\r\n    if (p = ps[i], useDefaults) this[p] = DEFAULTS[p];\r\n    if ((v = obj[p]) !== void 0) {\r\n      if (mathfloor(v) === v && v >= ps[i + 1] && v <= ps[i + 2]) this[p] = v;\r\n      else throw Error(invalidArgument + p + ': ' + v);\r\n    }\r\n  }\r\n\r\n  if (p = 'crypto', useDefaults) this[p] = DEFAULTS[p];\r\n  if ((v = obj[p]) !== void 0) {\r\n    if (v === true || v === false || v === 0 || v === 1) {\r\n      if (v) {\r\n        if (typeof crypto != 'undefined' && crypto &&\r\n          (crypto.getRandomValues || crypto.randomBytes)) {\r\n          this[p] = true;\r\n        } else {\r\n          throw Error(cryptoUnavailable);\r\n        }\r\n      } else {\r\n        this[p] = false;\r\n      }\r\n    } else {\r\n      throw Error(invalidArgument + p + ': ' + v);\r\n    }\r\n  }\r\n\r\n  return this;\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the cosine of `x`, rounded to `precision` significant\r\n * digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal} A value in radians.\r\n *\r\n */\r\nfunction cos(x) {\r\n  return new this(x).cos();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the hyperbolic cosine of `x`, rounded to precision\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal} A value in radians.\r\n *\r\n */\r\nfunction cosh(x) {\r\n  return new this(x).cosh();\r\n}\r\n\r\n\r\n/*\r\n * Create and return a Decimal constructor with the same configuration properties as this Decimal\r\n * constructor.\r\n *\r\n */\r\nfunction clone(obj) {\r\n  var i, p, ps;\r\n\r\n  /*\r\n   * The Decimal constructor and exported function.\r\n   * Return a new Decimal instance.\r\n   *\r\n   * v {number|string|bigint|Decimal} A numeric value.\r\n   *\r\n   */\r\n  function Decimal(v) {\r\n    var e, i, t,\r\n      x = this;\r\n\r\n    // Decimal called without new.\r\n    if (!(x instanceof Decimal)) return new Decimal(v);\r\n\r\n    // Retain a reference to this Decimal constructor, and shadow Decimal.prototype.constructor\r\n    // which points to Object.\r\n    x.constructor = Decimal;\r\n\r\n    if (isDecimalInstance(v)) {\r\n      x.s = v.s;\r\n\r\n      if (external) {\r\n        if (!v.d || v.e > Decimal.maxE) {\r\n\r\n          // Infinity.\r\n          x.e = NaN;\r\n          x.d = null;\r\n        } else if (v.e < Decimal.minE) {\r\n\r\n          // Zero.\r\n          x.e = 0;\r\n          x.d = [0];\r\n        } else {\r\n          x.e = v.e;\r\n          x.d = v.d.slice();\r\n        }\r\n      } else {\r\n        x.e = v.e;\r\n        x.d = v.d ? v.d.slice() : v.d;\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    t = typeof v;\r\n\r\n    if (t === 'number') {\r\n      if (v === 0) {\r\n        x.s = 1 / v < 0 ? -1 : 1;\r\n        x.e = 0;\r\n        x.d = [0];\r\n        return;\r\n      }\r\n\r\n      if (v < 0) {\r\n        v = -v;\r\n        x.s = -1;\r\n      } else {\r\n        x.s = 1;\r\n      }\r\n\r\n      // Fast path for small integers.\r\n      if (v === ~~v && v < 1e7) {\r\n        for (e = 0, i = v; i >= 10; i /= 10) e++;\r\n\r\n        if (external) {\r\n          if (e > Decimal.maxE) {\r\n            x.e = NaN;\r\n            x.d = null;\r\n          } else if (e < Decimal.minE) {\r\n            x.e = 0;\r\n            x.d = [0];\r\n          } else {\r\n            x.e = e;\r\n            x.d = [v];\r\n          }\r\n        } else {\r\n          x.e = e;\r\n          x.d = [v];\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      // Infinity or NaN?\r\n      if (v * 0 !== 0) {\r\n        if (!v) x.s = NaN;\r\n        x.e = NaN;\r\n        x.d = null;\r\n        return;\r\n      }\r\n\r\n      return parseDecimal(x, v.toString());\r\n    }\r\n\r\n    if (t === 'string') {\r\n      if ((i = v.charCodeAt(0)) === 45) {  // minus sign\r\n        v = v.slice(1);\r\n        x.s = -1;\r\n      } else {\r\n        if (i === 43) v = v.slice(1);  // plus sign\r\n        x.s = 1;\r\n      }\r\n\r\n      return isDecimal.test(v) ? parseDecimal(x, v) : parseOther(x, v);\r\n    }\r\n\r\n    if (t === 'bigint') {\r\n      if (v < 0) {\r\n        v = -v;\r\n        x.s = -1;\r\n      } else {\r\n        x.s = 1;\r\n      }\r\n\r\n      return parseDecimal(x, v.toString());\r\n    }\r\n\r\n    throw Error(invalidArgument + v);\r\n  }\r\n\r\n  Decimal.prototype = P;\r\n\r\n  Decimal.ROUND_UP = 0;\r\n  Decimal.ROUND_DOWN = 1;\r\n  Decimal.ROUND_CEIL = 2;\r\n  Decimal.ROUND_FLOOR = 3;\r\n  Decimal.ROUND_HALF_UP = 4;\r\n  Decimal.ROUND_HALF_DOWN = 5;\r\n  Decimal.ROUND_HALF_EVEN = 6;\r\n  Decimal.ROUND_HALF_CEIL = 7;\r\n  Decimal.ROUND_HALF_FLOOR = 8;\r\n  Decimal.EUCLID = 9;\r\n\r\n  Decimal.config = Decimal.set = config;\r\n  Decimal.clone = clone;\r\n  Decimal.isDecimal = isDecimalInstance;\r\n\r\n  Decimal.abs = abs;\r\n  Decimal.acos = acos;\r\n  Decimal.acosh = acosh;        // ES6\r\n  Decimal.add = add;\r\n  Decimal.asin = asin;\r\n  Decimal.asinh = asinh;        // ES6\r\n  Decimal.atan = atan;\r\n  Decimal.atanh = atanh;        // ES6\r\n  Decimal.atan2 = atan2;\r\n  Decimal.cbrt = cbrt;          // ES6\r\n  Decimal.ceil = ceil;\r\n  Decimal.clamp = clamp;\r\n  Decimal.cos = cos;\r\n  Decimal.cosh = cosh;          // ES6\r\n  Decimal.div = div;\r\n  Decimal.exp = exp;\r\n  Decimal.floor = floor;\r\n  Decimal.hypot = hypot;        // ES6\r\n  Decimal.ln = ln;\r\n  Decimal.log = log;\r\n  Decimal.log10 = log10;        // ES6\r\n  Decimal.log2 = log2;          // ES6\r\n  Decimal.max = max;\r\n  Decimal.min = min;\r\n  Decimal.mod = mod;\r\n  Decimal.mul = mul;\r\n  Decimal.pow = pow;\r\n  Decimal.random = random;\r\n  Decimal.round = round;\r\n  Decimal.sign = sign;          // ES6\r\n  Decimal.sin = sin;\r\n  Decimal.sinh = sinh;          // ES6\r\n  Decimal.sqrt = sqrt;\r\n  Decimal.sub = sub;\r\n  Decimal.sum = sum;\r\n  Decimal.tan = tan;\r\n  Decimal.tanh = tanh;          // ES6\r\n  Decimal.trunc = trunc;        // ES6\r\n\r\n  if (obj === void 0) obj = {};\r\n  if (obj) {\r\n    if (obj.defaults !== true) {\r\n      ps = ['precision', 'rounding', 'toExpNeg', 'toExpPos', 'maxE', 'minE', 'modulo', 'crypto'];\r\n      for (i = 0; i < ps.length;) if (!obj.hasOwnProperty(p = ps[i++])) obj[p] = this[p];\r\n    }\r\n  }\r\n\r\n  Decimal.config(obj);\r\n\r\n  return Decimal;\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is `x` divided by `y`, rounded to `precision` significant\r\n * digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n * y {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction div(x, y) {\r\n  return new this(x).div(y);\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the natural exponential of `x`, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal} The power to which to raise the base of the natural log.\r\n *\r\n */\r\nfunction exp(x) {\r\n  return new this(x).exp();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is `x` round to an integer using `ROUND_FLOOR`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction floor(x) {\r\n  return finalise(x = new this(x), x.e + 1, 3);\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the square root of the sum of the squares of the arguments,\r\n * rounded to `precision` significant digits using rounding mode `rounding`.\r\n *\r\n * hypot(a, b, ...) = sqrt(a^2 + b^2 + ...)\r\n *\r\n * arguments {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction hypot() {\r\n  var i, n,\r\n    t = new this(0);\r\n\r\n  external = false;\r\n\r\n  for (i = 0; i < arguments.length;) {\r\n    n = new this(arguments[i++]);\r\n    if (!n.d) {\r\n      if (n.s) {\r\n        external = true;\r\n        return new this(1 / 0);\r\n      }\r\n      t = n;\r\n    } else if (t.d) {\r\n      t = t.plus(n.times(n));\r\n    }\r\n  }\r\n\r\n  external = true;\r\n\r\n  return t.sqrt();\r\n}\r\n\r\n\r\n/*\r\n * Return true if object is a Decimal instance (where Decimal is any Decimal constructor),\r\n * otherwise return false.\r\n *\r\n */\r\nfunction isDecimalInstance(obj) {\r\n  return obj instanceof Decimal || obj && obj.toStringTag === tag || false;\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the natural logarithm of `x`, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction ln(x) {\r\n  return new this(x).ln();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the log of `x` to the base `y`, or to base 10 if no base\r\n * is specified, rounded to `precision` significant digits using rounding mode `rounding`.\r\n *\r\n * log[y](x)\r\n *\r\n * x {number|string|bigint|Decimal} The argument of the logarithm.\r\n * y {number|string|bigint|Decimal} The base of the logarithm.\r\n *\r\n */\r\nfunction log(x, y) {\r\n  return new this(x).log(y);\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the base 2 logarithm of `x`, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction log2(x) {\r\n  return new this(x).log(2);\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the base 10 logarithm of `x`, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction log10(x) {\r\n  return new this(x).log(10);\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the maximum of the arguments.\r\n *\r\n * arguments {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction max() {\r\n  return maxOrMin(this, arguments, -1);\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the minimum of the arguments.\r\n *\r\n * arguments {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction min() {\r\n  return maxOrMin(this, arguments, 1);\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is `x` modulo `y`, rounded to `precision` significant digits\r\n * using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n * y {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction mod(x, y) {\r\n  return new this(x).mod(y);\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is `x` multiplied by `y`, rounded to `precision` significant\r\n * digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n * y {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction mul(x, y) {\r\n  return new this(x).mul(y);\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is `x` raised to the power `y`, rounded to precision\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal} The base.\r\n * y {number|string|bigint|Decimal} The exponent.\r\n *\r\n */\r\nfunction pow(x, y) {\r\n  return new this(x).pow(y);\r\n}\r\n\r\n\r\n/*\r\n * Returns a new Decimal with a random value equal to or greater than 0 and less than 1, and with\r\n * `sd`, or `Decimal.precision` if `sd` is omitted, significant digits (or less if trailing zeros\r\n * are produced).\r\n *\r\n * [sd] {number} Significant digits. Integer, 0 to MAX_DIGITS inclusive.\r\n *\r\n */\r\nfunction random(sd) {\r\n  var d, e, k, n,\r\n    i = 0,\r\n    r = new this(1),\r\n    rd = [];\r\n\r\n  if (sd === void 0) sd = this.precision;\r\n  else checkInt32(sd, 1, MAX_DIGITS);\r\n\r\n  k = Math.ceil(sd / LOG_BASE);\r\n\r\n  if (!this.crypto) {\r\n    for (; i < k;) rd[i++] = Math.random() * 1e7 | 0;\r\n\r\n  // Browsers supporting crypto.getRandomValues.\r\n  } else if (crypto.getRandomValues) {\r\n    d = crypto.getRandomValues(new Uint32Array(k));\r\n\r\n    for (; i < k;) {\r\n      n = d[i];\r\n\r\n      // 0 <= n < 4294967296\r\n      // Probability n >= 4.29e9, is 4967296 / 4294967296 = 0.00116 (1 in 865).\r\n      if (n >= 4.29e9) {\r\n        d[i] = crypto.getRandomValues(new Uint32Array(1))[0];\r\n      } else {\r\n\r\n        // 0 <= n <= 4289999999\r\n        // 0 <= (n % 1e7) <= 9999999\r\n        rd[i++] = n % 1e7;\r\n      }\r\n    }\r\n\r\n  // Node.js supporting crypto.randomBytes.\r\n  } else if (crypto.randomBytes) {\r\n\r\n    // buffer\r\n    d = crypto.randomBytes(k *= 4);\r\n\r\n    for (; i < k;) {\r\n\r\n      // 0 <= n < 2147483648\r\n      n = d[i] + (d[i + 1] << 8) + (d[i + 2] << 16) + ((d[i + 3] & 0x7f) << 24);\r\n\r\n      // Probability n >= 2.14e9, is 7483648 / 2147483648 = 0.0035 (1 in 286).\r\n      if (n >= 2.14e9) {\r\n        crypto.randomBytes(4).copy(d, i);\r\n      } else {\r\n\r\n        // 0 <= n <= 2139999999\r\n        // 0 <= (n % 1e7) <= 9999999\r\n        rd.push(n % 1e7);\r\n        i += 4;\r\n      }\r\n    }\r\n\r\n    i = k / 4;\r\n  } else {\r\n    throw Error(cryptoUnavailable);\r\n  }\r\n\r\n  k = rd[--i];\r\n  sd %= LOG_BASE;\r\n\r\n  // Convert trailing digits to zeros according to sd.\r\n  if (k && sd) {\r\n    n = mathpow(10, LOG_BASE - sd);\r\n    rd[i] = (k / n | 0) * n;\r\n  }\r\n\r\n  // Remove trailing words which are zero.\r\n  for (; rd[i] === 0; i--) rd.pop();\r\n\r\n  // Zero?\r\n  if (i < 0) {\r\n    e = 0;\r\n    rd = [0];\r\n  } else {\r\n    e = -1;\r\n\r\n    // Remove leading words which are zero and adjust exponent accordingly.\r\n    for (; rd[0] === 0; e -= LOG_BASE) rd.shift();\r\n\r\n    // Count the digits of the first word of rd to determine leading zeros.\r\n    for (k = 1, n = rd[0]; n >= 10; n /= 10) k++;\r\n\r\n    // Adjust the exponent for leading zeros of the first word of rd.\r\n    if (k < LOG_BASE) e -= LOG_BASE - k;\r\n  }\r\n\r\n  r.e = e;\r\n  r.d = rd;\r\n\r\n  return r;\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is `x` rounded to an integer using rounding mode `rounding`.\r\n *\r\n * To emulate `Math.round`, set rounding to 7 (ROUND_HALF_CEIL).\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction round(x) {\r\n  return finalise(x = new this(x), x.e + 1, this.rounding);\r\n}\r\n\r\n\r\n/*\r\n * Return\r\n *   1    if x > 0,\r\n *  -1    if x < 0,\r\n *   0    if x is 0,\r\n *  -0    if x is -0,\r\n *   NaN  otherwise\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction sign(x) {\r\n  x = new this(x);\r\n  return x.d ? (x.d[0] ? x.s : 0 * x.s) : x.s || NaN;\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the sine of `x`, rounded to `precision` significant digits\r\n * using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal} A value in radians.\r\n *\r\n */\r\nfunction sin(x) {\r\n  return new this(x).sin();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the hyperbolic sine of `x`, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal} A value in radians.\r\n *\r\n */\r\nfunction sinh(x) {\r\n  return new this(x).sinh();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the square root of `x`, rounded to `precision` significant\r\n * digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction sqrt(x) {\r\n  return new this(x).sqrt();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is `x` minus `y`, rounded to `precision` significant digits\r\n * using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n * y {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction sub(x, y) {\r\n  return new this(x).sub(y);\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the sum of the arguments, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n * Only the result is rounded, not the intermediate calculations.\r\n *\r\n * arguments {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction sum() {\r\n  var i = 0,\r\n    args = arguments,\r\n    x = new this(args[i]);\r\n\r\n  external = false;\r\n  for (; x.s && ++i < args.length;) x = x.plus(args[i]);\r\n  external = true;\r\n\r\n  return finalise(x, this.precision, this.rounding);\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the tangent of `x`, rounded to `precision` significant\r\n * digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal} A value in radians.\r\n *\r\n */\r\nfunction tan(x) {\r\n  return new this(x).tan();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is the hyperbolic tangent of `x`, rounded to `precision`\r\n * significant digits using rounding mode `rounding`.\r\n *\r\n * x {number|string|bigint|Decimal} A value in radians.\r\n *\r\n */\r\nfunction tanh(x) {\r\n  return new this(x).tanh();\r\n}\r\n\r\n\r\n/*\r\n * Return a new Decimal whose value is `x` truncated to an integer.\r\n *\r\n * x {number|string|bigint|Decimal}\r\n *\r\n */\r\nfunction trunc(x) {\r\n  return finalise(x = new this(x), x.e + 1, 1);\r\n}\r\n\r\n\r\nP[Symbol.for('nodejs.util.inspect.custom')] = P.toString;\r\nP[Symbol.toStringTag] = 'Decimal';\r\n\r\n// Create and configure initial Decimal constructor.\r\nexport var Decimal = P.constructor = clone(DEFAULTS);\r\n\r\n// Create the internal constants from their string values.\r\nLN10 = new Decimal(LN10);\r\nPI = new Decimal(PI);\r\n\r\nexport default Decimal;\r\n"],"names":["Date","clearTimeout","setTimeout","Promise","Symbol","e","TypeError","Object","Array","arguments","r","Math","t","n","o","Error","i","clearInterval","setInterval","Events","IORedisConnection","Scripts","parser","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","asyncGeneratorStep","_asyncToGenerator","options","eval","module","a","RedisConnection","_","s","Set","Blob","Number","URL","RegExp","Map","BigInt","d","m","NaN","isFinite","c","p","String","crypto","Uint32Array"],"mappings":"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"}