"use strict";exports.ids=["553"],exports.modules={9704:function(e,t,r){let n,i,a,s,o,l,u,c,h,f,d,p,m;r.r(t),r.d(t,{Utils:()=>F,List:()=>ea,TestLive:()=>ro,TestServices:()=>rh,Duration:()=>ee,Equal:()=>M,MetricRegistry:()=>t_,ParseResult:()=>ta,Sink:()=>tJ,SynchronizedRef:()=>tX,Mailbox:()=>th,Clock:()=>ef,Data:()=>eD,TDeferred:()=>t3,Micro:()=>ek,JSONSchema:()=>ts,MutableHashMap:()=>eu,Pretty:()=>tA,Function:()=>I,RcMap:()=>tl,FiberRef:()=>eU,SchemaAST:()=>V,ConfigProviderPathPatch:()=>e6,Encoding:()=>e8,NonEmptyIterable:()=>tO,RateLimiter:()=>tN,MutableRef:()=>er,FiberId:()=>en,Random:()=>eP,Scope:()=>eN,Secret:()=>tK,SingleProducerAsyncInput:()=>tV,TPubSub:()=>eZ,Match:()=>td,PrimaryKey:()=>tM,Types:()=>rp,FastCheck:()=>W,ExecutionPlan:()=>e7,PubSub:()=>eW,TSemaphore:()=>re,Unify:()=>rm,flow:()=>rj,SortedMap:()=>tH,Order:()=>j,MutableQueue:()=>eh,hole:()=>rL,Config:()=>e1,MergeState:()=>tp,MetricPolling:()=>tk,LogSpan:()=>em,ScopedCache:()=>tW,TestSized:()=>rc,MergeDecision:()=>eK,ExecutionStrategy:()=>ev,KeyedPool:()=>to,FiberStatus:()=>ex,Stream:()=>tG,Layer:()=>eB,MetricKey:()=>tS,TestClock:()=>rl,MetricLabel:()=>tw,Tracer:()=>eS,pipe:()=>rD,Cause:()=>eC,SubscriptionRef:()=>t0,Runtime:()=>eJ,Symbol:()=>t2,LayerMap:()=>tu,Take:()=>rn,TestAnnotationMap:()=>ra,Number:()=>q,STM:()=>tz,DateTime:()=>e4,Cache:()=>eO,HKT:()=>ti,HashSet:()=>et,Inspectable:()=>N,ScheduleDecision:()=>eM,ModuleVersion:()=>tI,TReentrantLock:()=>t7,ManagedRuntime:()=>tf,Either:()=>D,Boolean:()=>Z,FiberSet:()=>tt,Channel:()=>eY,Readable:()=>ey,DefaultServices:()=>e5,TArray:()=>t6,MetricHook:()=>tb,Record:()=>z,MutableHashSet:()=>tT,Ordering:()=>tC,Schema:()=>tB,FiberRefsPatch:()=>ew,Cron:()=>eL,Array:()=>U,MetricPair:()=>tx,Effectable:()=>eg,Option:()=>L,Effect:()=>ez,Ref:()=>eb,GlobalValue:()=>O,TestConfig:()=>ru,Trie:()=>rd,Pool:()=>tF,Chunk:()=>X,MutableList:()=>ec,TMap:()=>t4,UpstreamPullRequest:()=>rg,MetricKeyType:()=>tv,Reloadable:()=>tD,RcRef:()=>eV,unsafeCoerce:()=>rk,GroupBy:()=>tn,RuntimeFlagsPatch:()=>es,Metric:()=>tg,Supervisor:()=>t1,Schedule:()=>eH,Fiber:()=>eR,FiberMap:()=>te,Queue:()=>eq,Pipeable:()=>R,Deferred:()=>eo,FiberHandle:()=>e9,Request:()=>e$,RedBlackTree:()=>eE,Logger:()=>tc,RegExp:()=>K,Graph:()=>tr,Redacted:()=>tR,ConfigError:()=>e0,Hash:()=>A,Streamable:()=>tQ,TestAnnotations:()=>rs,TSet:()=>rt,Tuple:()=>P,FiberRefs:()=>ed,TSubscriptionRef:()=>rr,TQueue:()=>eQ,TestAnnotation:()=>ri,MetricBoundaries:()=>ty,UpstreamPullStrategy:()=>ry,Context:()=>Y,absurd:()=>rM,Arbitrary:()=>J,ScheduleIntervals:()=>eA,Brand:()=>Q,RequestResolver:()=>tL,ChildExecutorDecision:()=>eX,TPriorityQueue:()=>t5,MergeStrategy:()=>tm,BigDecimal:()=>H,Resource:()=>tP,Exit:()=>el,RuntimeFlags:()=>t$,StreamEmit:()=>tZ,Scheduler:()=>e_,MetricState:()=>tE,TRef:()=>t9,Iterable:()=>$,Predicate:()=>C,BigInt:()=>G,ConfigProvider:()=>e2,Differ:()=>eT,SortedSet:()=>eI,Console:()=>e3,LogLevel:()=>ep,String:()=>ej,Struct:()=>tU,Equivalence:()=>T,Subscribable:()=>tY,HashMap:()=>ei,TRandom:()=>t8,TestContext:()=>rf,RequestBlock:()=>tj,identity:()=>rw,ScheduleInterval:()=>eF,StreamHaltStrategy:()=>eG,ScopedRef:()=>tq});var g,y,b,S,v,w,x,k,_,E,I={};r.r(I),r.d(I,{SK:()=>rP,absurd:()=>rM,apply:()=>rv,compose:()=>rA,constFalse:()=>rI,constNull:()=>rT,constTrue:()=>rE,constUndefined:()=>rO,constVoid:()=>rC,constant:()=>r_,dual:()=>rS,flip:()=>rF,flow:()=>rj,hole:()=>rL,identity:()=>rw,isFunction:()=>rb,pipe:()=>rD,satisfies:()=>rx,tupled:()=>rN,unsafeCoerce:()=>rk,untupled:()=>rR});var T={};r.r(T),r.d(T,{Date:()=>rY,all:()=>r0,array:()=>r6,bigint:()=>rK,boolean:()=>rq,combine:()=>rJ,combineAll:()=>rZ,combineMany:()=>rH,make:()=>r$,mapInput:()=>rQ,number:()=>rW,product:()=>rX,productMany:()=>r1,strict:()=>rU,string:()=>rB,struct:()=>r3,symbol:()=>rV,tuple:()=>r2});var O={};r.r(O),r.d(O,{globalValue:()=>r9});var C={};r.r(C),r.d(C,{all:()=>nj,and:()=>nB,compose:()=>nR,eqv:()=>nq,every:()=>nH,hasProperty:()=>nw,implies:()=>nK,isBigInt:()=>nu,isBoolean:()=>nl,isDate:()=>nT,isError:()=>nE,isFunction:()=>nf,isIterable:()=>nO,isMap:()=>na,isNever:()=>ny,isNotNull:()=>ng,isNotNullable:()=>n_,isNotUndefined:()=>np,isNull:()=>nm,isNullable:()=>nk,isNumber:()=>no,isObject:()=>nv,isPromise:()=>nA,isPromiseLike:()=>nM,isPropertyKey:()=>nh,isReadonlyRecord:()=>nF,isRecord:()=>nC,isRecordOrArray:()=>nS,isRegExp:()=>nN,isSet:()=>ni,isString:()=>ns,isSymbol:()=>nc,isTagged:()=>nx,isTruthy:()=>nn,isTupleOf:()=>nt,isTupleOfAtLeast:()=>nr,isUint8Array:()=>nI,isUndefined:()=>nd,isUnknown:()=>nb,mapInput:()=>ne,nand:()=>nJ,nor:()=>nV,not:()=>nz,or:()=>nU,product:()=>nD,productMany:()=>nL,some:()=>nG,struct:()=>n$,tuple:()=>nP,xor:()=>nW});var F={};r.r(F),r.d(F,{GenKindImpl:()=>nX,GenKindTypeId:()=>nQ,PCGRandom:()=>n6,SingleShotGen:()=>n0,YieldWrap:()=>n5,YieldWrapTypeId:()=>n4,adapter:()=>n2,internalCall:()=>it,isGenKind:()=>nY,isGeneratorFunction:()=>ii,makeGenKind:()=>n1,structuralRegion:()=>n9,structuralRegionState:()=>n7,yieldWrapGet:()=>n8});var A={};r.r(A),r.d(A,{array:()=>iy,cached:()=>ib,combine:()=>iu,hash:()=>io,isHash:()=>ih,number:()=>id,optimize:()=>ic,random:()=>il,string:()=>ip,structure:()=>ig,structureKeys:()=>im,symbol:()=>is});var M={};r.r(M),r.d(M,{equals:()=>iv,equivalence:()=>ik,isEqual:()=>ix,symbol:()=>iS});var N={};r.r(N),r.d(N,{BaseProto:()=>iT,Class:()=>iO,NodeInspectSymbol:()=>i_,format:()=>iI,isRedactable:()=>iM,redact:()=>iD,stringifyCircular:()=>iF,symbolRedactable:()=>iA,toJSON:()=>iE,toStringUnknown:()=>iC,withRedactableContext:()=>iR});var R={};r.r(R),r.d(R,{Class:()=>i$,Prototype:()=>iL,pipeArguments:()=>ij});var D={};r.r(D),r.d(D,{Do:()=>a4,TypeId:()=>aE,all:()=>a1,andThen:()=>aY,ap:()=>a0,bind:()=>a5,bindTo:()=>a8,filterOrLeft:()=>aW,flatMap:()=>aQ,flip:()=>a2,fromNullable:()=>aC,fromOption:()=>aF,gen:()=>a3,getEquivalence:()=>aL,getLeft:()=>aj,getOrElse:()=>aK,getOrNull:()=>aV,getOrThrow:()=>aG,getOrThrowWith:()=>aH,getOrUndefined:()=>aJ,getRight:()=>aD,isEither:()=>aM,isLeft:()=>aN,isRight:()=>aR,left:()=>aO,let:()=>a7,liftPredicate:()=>aB,map:()=>az,mapBoth:()=>aP,mapLeft:()=>a$,match:()=>aU,merge:()=>aq,orElse:()=>aZ,right:()=>aI,transposeMapOption:()=>se,transposeOption:()=>a9,try:()=>aA,void:()=>aT,zipWith:()=>aX});var j={};r.r(j),r.d(j,{Date:()=>sd,all:()=>sm,array:()=>sb,between:()=>sT,bigint:()=>ss,boolean:()=>sa,clamp:()=>sI,combine:()=>sl,combineAll:()=>sh,combineMany:()=>su,empty:()=>sc,greaterThan:()=>sw,greaterThanOrEqualTo:()=>sk,lessThan:()=>sv,lessThanOrEqualTo:()=>sx,make:()=>sr,mapInput:()=>sf,max:()=>sE,min:()=>s_,number:()=>si,product:()=>sp,productMany:()=>sg,reverse:()=>so,string:()=>sn,struct:()=>sS,tuple:()=>sy});var L={};r.r(L),r.d(L,{Do:()=>oS,TypeId:()=>sO,all:()=>ot,andThen:()=>s2,ap:()=>on,as:()=>sY,asVoid:()=>sX,bind:()=>ob,bindTo:()=>og,composeK:()=>s8,contains:()=>op,containsWith:()=>od,exists:()=>om,filter:()=>ol,filterMap:()=>oo,firstSomeOf:()=>sW,flatMap:()=>s1,flatMapNullable:()=>s6,flatten:()=>s3,fromIterable:()=>sj,fromNullable:()=>sq,gen:()=>ow,getEquivalence:()=>ou,getLeft:()=>sP,getOrElse:()=>s$,getOrNull:()=>sV,getOrThrow:()=>sZ,getOrThrowWith:()=>sG,getOrUndefined:()=>sJ,getOrder:()=>oc,getRight:()=>sL,isNone:()=>sM,isOption:()=>sA,isSome:()=>sN,let:()=>oy,lift2:()=>oh,liftNullable:()=>sK,liftPredicate:()=>of,liftThrowable:()=>sH,map:()=>sQ,match:()=>sR,mergeWith:()=>ox,none:()=>sC,orElse:()=>sz,orElseEither:()=>sB,orElseSome:()=>sU,partitionMap:()=>os,product:()=>s9,productMany:()=>oe,reduceCompact:()=>oi,some:()=>sF,tap:()=>s7,toArray:()=>oa,toRefinement:()=>sD,void:()=>s0,zipLeft:()=>s5,zipRight:()=>s4,zipWith:()=>or});var P={};r.r(P),r.d(P,{appendElement:()=>oN,at:()=>oR,getEquivalence:()=>oA,getFirst:()=>o_,getOrder:()=>oM,getSecond:()=>oE,isTupleOf:()=>nt,isTupleOfAtLeast:()=>nr,make:()=>ok,map:()=>oI,mapBoth:()=>oT,mapFirst:()=>oO,mapSecond:()=>oC,swap:()=>oF});var $={};r.r($),r.d($,{append:()=>oU,appendAll:()=>oB,cartesian:()=>lS,cartesianWith:()=>lb,chunksOf:()=>o3,contains:()=>o6,containsWith:()=>o2,countBy:()=>lv,dedupeAdjacent:()=>ly,dedupeAdjacentWith:()=>lg,drop:()=>oZ,empty:()=>le,filter:()=>lc,filterMap:()=>la,filterMapWhile:()=>ls,findFirst:()=>oQ,findLast:()=>oY,flatMap:()=>ln,flatMapNullable:()=>lh,flatten:()=>li,forEach:()=>lp,fromRecord:()=>oP,getLefts:()=>ll,getRights:()=>lu,getSomes:()=>lo,group:()=>o5,groupBy:()=>o8,groupWith:()=>o4,head:()=>oV,intersperse:()=>o1,isEmpty:()=>oq,makeBy:()=>oD,map:()=>lr,of:()=>lt,prepend:()=>o$,prependAll:()=>oz,range:()=>oj,reduce:()=>lm,replicate:()=>oL,scan:()=>oW,size:()=>oK,some:()=>lf,take:()=>oH,takeWhile:()=>oG,unfold:()=>ld,unsafeHead:()=>oJ,zip:()=>oX,zipWith:()=>o0});var z={};r.r(z),r.d(z,{collect:()=>lT,difference:()=>l4,empty:()=>lw,every:()=>l1,filter:()=>lU,filterMap:()=>lz,findFirst:()=>l7,fromEntries:()=>lI,fromIterableBy:()=>lE,fromIterableWith:()=>l_,get:()=>lA,getEquivalence:()=>l5,getLefts:()=>lW,getRights:()=>lq,getSomes:()=>lB,has:()=>lF,intersection:()=>l3,isEmptyReadonlyRecord:()=>lk,isEmptyRecord:()=>lx,isSubrecord:()=>lX,isSubrecordBy:()=>lY,keys:()=>lH,map:()=>lL,mapEntries:()=>l$,mapKeys:()=>lP,modify:()=>lM,modifyOption:()=>lN,partition:()=>lJ,partitionMap:()=>lK,pop:()=>lj,reduce:()=>l0,remove:()=>lD,replace:()=>lQ,replaceOption:()=>lR,separate:()=>lV,set:()=>lZ,singleton:()=>l8,size:()=>lC,some:()=>l2,toEntries:()=>lO,union:()=>l6,values:()=>lG});var U={};r.r(U),r.d(U,{Do:()=>hn,allocate:()=>ue,append:()=>ud,appendAll:()=>up,bind:()=>hi,bindTo:()=>ha,cartesian:()=>hr,cartesianWith:()=>ht,chop:()=>cc,chunksOf:()=>cy,contains:()=>cu,containsWith:()=>co,copy:()=>cm,countBy:()=>uZ,dedupe:()=>c5,dedupeAdjacent:()=>c7,dedupeAdjacentWith:()=>c8,dedupeWith:()=>c4,difference:()=>cT,differenceWith:()=>cI,drop:()=>uB,dropRight:()=>uW,dropWhile:()=>uq,empty:()=>cO,ensure:()=>ua,every:()=>cZ,extend:()=>cY,filter:()=>c$,filterMap:()=>cN,filterMapWhile:()=>cR,findFirst:()=>uJ,findFirstIndex:()=>uK,findFirstWithIndex:()=>uG,findLast:()=>uH,findLastIndex:()=>uV,flatMap:()=>cA,flatMapNullable:()=>cH,flatten:()=>cM,forEach:()=>c3,fromIterable:()=>ui,fromNullable:()=>cV,fromOption:()=>uo,fromRecord:()=>us,get:()=>uE,getEquivalence:()=>c6,getLefts:()=>cL,getOrder:()=>c2,getRights:()=>cP,getSomes:()=>cj,group:()=>cv,groupBy:()=>cw,groupWith:()=>cS,head:()=>uC,headNonEmpty:()=>uF,init:()=>uD,initNonEmpty:()=>uj,insertAt:()=>uQ,intersection:()=>cE,intersectionWith:()=>c_,intersperse:()=>ct,isArray:()=>uy,isEmptyArray:()=>ub,isEmptyReadonlyArray:()=>uS,isNonEmptyArray:()=>uv,isNonEmptyReadonlyArray:()=>uw,join:()=>c9,last:()=>uA,lastNonEmpty:()=>uM,length:()=>ux,let:()=>hs,liftEither:()=>cG,liftNullable:()=>cJ,liftOption:()=>cK,liftPredicate:()=>cq,make:()=>l9,makeBy:()=>ut,map:()=>cF,mapAccum:()=>he,match:()=>ul,matchLeft:()=>uu,matchRight:()=>uc,max:()=>c0,min:()=>cX,modify:()=>u0,modifyNonEmptyHead:()=>cr,modifyNonEmptyLast:()=>ci,modifyOption:()=>u1,of:()=>cC,pad:()=>cg,partition:()=>cz,partitionMap:()=>cD,prepend:()=>uh,prependAll:()=>uf,range:()=>ur,reduce:()=>cB,reduceRight:()=>cW,remove:()=>u2,removeOption:()=>u6,replace:()=>uY,replaceOption:()=>uX,replicate:()=>un,reverse:()=>u3,rotate:()=>cs,scan:()=>um,scanRight:()=>ug,separate:()=>cU,setNonEmptyHead:()=>cn,setNonEmptyLast:()=>ca,some:()=>cQ,sort:()=>u4,sortBy:()=>u8,sortWith:()=>u5,span:()=>uU,split:()=>cd,splitAt:()=>ch,splitNonEmptyAt:()=>cf,splitWhere:()=>cp,tail:()=>uN,tailNonEmpty:()=>uR,take:()=>uL,takeRight:()=>uP,takeWhile:()=>u$,unappend:()=>uO,unfold:()=>c1,union:()=>ck,unionWith:()=>cx,unprepend:()=>uT,unsafeGet:()=>uI,unzip:()=>ce,window:()=>cb,zip:()=>u7,zipWith:()=>u9});var B={};r.r(B),r.d(B,{__commitHash:()=>dL,__type:()=>dD,__version:()=>dj,congruential32:()=>dl,generateN:()=>de,mersenne:()=>df,skipN:()=>dr,uniformArrayIntDistribution:()=>d_,uniformBigIntDistribution:()=>dT,uniformIntDistribution:()=>dR,unsafeGenerateN:()=>f9,unsafeSkipN:()=>dt,unsafeUniformArrayIntDistribution:()=>dk,unsafeUniformBigIntDistribution:()=>dI,unsafeUniformIntDistribution:()=>dN,xoroshiro128plus:()=>dg,xorshift128plus:()=>dp});var W={};r.r(W),r.d(W,{Arbitrary:()=>hS,ExecutionStatus:()=>_,PreconditionFailure:()=>ho,Random:()=>pu,Stream:()=>hh,Value:()=>hy,VerbosityLevel:()=>k,__commitHash:()=>wG,__type:()=>wJ,__version:()=>wH,anything:()=>SX,array:()=>ml,ascii:()=>mO,asciiString:()=>vf,assert:()=>pE,asyncDefaultReportMessage:()=>pb,asyncModelRun:()=>wd,asyncProperty:()=>f5,asyncStringify:()=>pe,asyncToStringMethod:()=>d6,base64:()=>mA,base64String:()=>vm,bigInt:()=>mh,bigInt64Array:()=>ww,bigIntN:()=>mf,bigUint:()=>md,bigUint64Array:()=>wx,bigUintN:()=>mp,boolean:()=>mb,char:()=>mN,char16bits:()=>mR,check:()=>p_,clone:()=>m6,cloneIfNeeded:()=>hm,cloneMethod:()=>hd,commands:()=>wo,compareBooleanFunc:()=>bw,compareFunc:()=>bk,configureGlobal:()=>fX,constant:()=>mq,constantFrom:()=>mx,context:()=>mV,createDepthIdentifier:()=>pY,date:()=>mY,defaultReportMessage:()=>py,dictionary:()=>gh,domain:()=>g9,double:()=>yX,emailAddress:()=>ya,falsy:()=>mk,float:()=>bf,float32Array:()=>Sb,float64Array:()=>Sw,fullUnicode:()=>mL,fullUnicodeString:()=>SJ,func:()=>bI,gen:()=>pD,getDepthContextFor:()=>pQ,hasAsyncToStringMethod:()=>d3,hasCloneMethod:()=>hp,hasToStringMethod:()=>d2,hash:()=>bm,hexa:()=>mz,hexaString:()=>bV,infiniteStream:()=>vc,int16Array:()=>S_,int32Array:()=>SE,int8Array:()=>SI,integer:()=>pG,ipV4:()=>bP,ipV4Extended:()=>bB,ipV6:()=>b9,json:()=>S1,jsonValue:()=>S0,letrec:()=>Sr,limitShrink:()=>wV,lorem:()=>Sl,mapToConstant:()=>g_,maxSafeInteger:()=>bC,maxSafeNat:()=>bA,memo:()=>Sc,mixedCase:()=>Sm,modelRun:()=>wf,nat:()=>gx,noBias:()=>mm,noShrink:()=>bg,object:()=>SQ,oneof:()=>gv,option:()=>gN,pre:()=>hl,property:()=>f7,readConfigureGlobal:()=>f0,record:()=>vs,resetConfigureGlobal:()=>f1,sample:()=>pT,scheduledModelRun:()=>wp,scheduler:()=>wS,schedulerFor:()=>wv,shuffledSubarray:()=>vO,sparseArray:()=>S$,statistics:()=>pO,stream:()=>hf,string:()=>g0,string16bits:()=>vS,stringMatching:()=>wq,stringOf:()=>vw,stringify:()=>d7,subarray:()=>vT,toStringMethod:()=>d1,tuple:()=>fG,uint16Array:()=>ST,uint32Array:()=>SO,uint8Array:()=>SC,uint8ClampedArray:()=>SF,ulid:()=>v$,unicode:()=>mW,unicodeJson:()=>S4,unicodeJsonValue:()=>S3,unicodeString:()=>S6,uniqueArray:()=>ge,uuid:()=>vJ,uuidV:()=>vH,webAuthority:()=>vX,webFragments:()=>v1,webPath:()=>v5,webQueryParameters:()=>v8,webSegment:()=>v2,webUrl:()=>wr});var q={};r.r(q),r.d(q,{Equivalence:()=>xD,Order:()=>xj,between:()=>xU,clamp:()=>xB,decrement:()=>xR,divide:()=>xA,greaterThan:()=>x$,greaterThanOrEqualTo:()=>xz,increment:()=>xN,isNumber:()=>x_,lessThan:()=>xL,lessThanOrEqualTo:()=>xP,max:()=>xq,min:()=>xW,multiply:()=>xC,multiplyAll:()=>xF,negate:()=>xE,nextPow2:()=>xJ,parse:()=>xH,remainder:()=>xV,round:()=>xG,sign:()=>xK,subtract:()=>xO,sum:()=>xI,sumAll:()=>xT,unsafeDivide:()=>xM});var K={};r.r(K),r.d(K,{escape:()=>xQ,isRegExp:()=>xZ});var V={};r.r(V),r.d(V,{AnyKeyword:()=>k1,ArbitraryAnnotationId:()=>x9,AutoTitleAnnotationId:()=>x3,BatchingAnnotationId:()=>ki,BigIntKeyword:()=>_n,BooleanKeyword:()=>_e,BrandAnnotationId:()=>xY,ComposeTransformation:()=>_Y,ConcurrencyAnnotationId:()=>kn,Declaration:()=>kD,DecodingFallbackAnnotationId:()=>ko,DefaultAnnotationId:()=>x8,DescriptionAnnotationId:()=>x4,DocumentationAnnotationId:()=>kr,Enums:()=>_f,EquivalenceAnnotationId:()=>kt,ExamplesAnnotationId:()=>x5,FinalTransformation:()=>_G,IdentifierAnnotationId:()=>x2,IndexSignature:()=>_O,JSONIdentifierAnnotationId:()=>kA,JSONSchemaAnnotationId:()=>x7,Literal:()=>kP,MessageAnnotationId:()=>x0,MissingMessageAnnotationId:()=>x1,NeverKeyword:()=>kG,NumberKeyword:()=>k8,ObjectKeyword:()=>_u,OptionalType:()=>_w,ParseIssueTitleAnnotationId:()=>ka,ParseJsonSchemaId:()=>kR,ParseOptionsAnnotationId:()=>ks,PrettyAnnotationId:()=>ke,PropertySignature:()=>_I,PropertySignatureTransformation:()=>_1,Refinement:()=>_q,SchemaIdAnnotationId:()=>xX,StableFilterAnnotationId:()=>ku,StringKeyword:()=>k3,SurrogateAnnotationId:()=>kl,Suspend:()=>_B,SymbolKeyword:()=>_s,TemplateLiteral:()=>_y,TemplateLiteralSpan:()=>_g,TitleAnnotationId:()=>x6,Transformation:()=>_J,TupleType:()=>_k,Type:()=>_v,TypeLiteral:()=>_C,TypeLiteralTransformation:()=>_6,UndefinedKeyword:()=>kW,Union:()=>_L,UniqueSymbol:()=>kU,UnknownKeyword:()=>kY,VoidKeyword:()=>kV,annotations:()=>_4,anyKeyword:()=>k2,bigIntKeyword:()=>_i,booleanKeyword:()=>_t,compose:()=>EN,composeTransformation:()=>_X,defaultParseOption:()=>_V,encodedAST:()=>Ek,encodedBoundAST:()=>E_,equals:()=>ET,flatten:()=>_D,getAnnotation:()=>kc,getAutoTitleAnnotation:()=>kg,getBatchingAnnotation:()=>k_,getBrandAnnotation:()=>kh,getCompiler:()=>Em,getConcurrencyAnnotation:()=>kk,getDecodingFallbackAnnotation:()=>kT,getDefaultAnnotation:()=>kv,getDescriptionAnnotation:()=>kb,getDocumentationAnnotation:()=>kx,getEncodedParameter:()=>EI,getExamplesAnnotation:()=>kS,getIdentifierAnnotation:()=>ky,getJSONIdentifier:()=>kN,getJSONIdentifierAnnotation:()=>kM,getJSONSchemaAnnotation:()=>kw,getMessageAnnotation:()=>kd,getMissingMessageAnnotation:()=>kp,getNumberIndexedAccess:()=>Ei,getParseIssueTitleAnnotation:()=>kE,getParseOptionsAnnotation:()=>kI,getPropertyKeyIndexedAccess:()=>Es,getPropertySignatures:()=>Er,getSchemaIdAnnotation:()=>kf,getSurrogateAnnotation:()=>kO,getTemplateLiteralCapturingRegExp:()=>Et,getTemplateLiteralRegExp:()=>Ee,getTitleAnnotation:()=>km,getTransformationFrom:()=>Ew,hasStableFilter:()=>kF,isAnyKeyword:()=>k6,isBigIntKeyword:()=>_a,isBooleanKeyword:()=>_r,isComposeTransformation:()=>_0,isDeclaration:()=>kL,isEnums:()=>_d,isFinalTransformation:()=>_Q,isLiteral:()=>k$,isMembers:()=>_$,isNeverKeyword:()=>kQ,isNumberKeyword:()=>k9,isObjectKeyword:()=>_h,isParameter:()=>_T,isRefinement:()=>_K,isStringKeyword:()=>k5,isSuspend:()=>_W,isSymbolKeyword:()=>_l,isTemplateLiteral:()=>_S,isTransformation:()=>_H,isTupleType:()=>_E,isTypeLiteral:()=>_M,isTypeLiteralTransformation:()=>_3,isUndefinedKeyword:()=>kK,isUnion:()=>_z,isUniqueSymbol:()=>kB,isUnknownKeyword:()=>k0,isVoidKeyword:()=>kH,keyof:()=>_5,mapMembers:()=>_P,mutable:()=>Ep,neverKeyword:()=>kZ,null:()=>kz,numberKeyword:()=>k7,objectKeyword:()=>_c,omit:()=>Ec,omitAnnotations:()=>Ey,orUndefined:()=>Eh,partial:()=>Ef,pick:()=>Eu,pickAnnotations:()=>Eg,pruneUndefined:()=>EP,record:()=>El,rename:()=>ER,required:()=>Ed,stringKeyword:()=>k4,symbolKeyword:()=>_o,typeAST:()=>ES,undefinedKeyword:()=>kq,unify:()=>_j,unknownKeyword:()=>kX,voidKeyword:()=>kJ});var J={};r.r(J),r.d(J,{getDescription:()=>EG,make:()=>Ez,makeArrayConstraints:()=>Eq,makeBigIntConstraints:()=>EW,makeDateConstraints:()=>EK,makeLazy:()=>E$,makeNumberConstraints:()=>EB,makeStringConstraints:()=>EU});var H={};r.r(H),r.d(H,{Equivalence:()=>IL,Order:()=>Ik,TypeId:()=>Ia,abs:()=>IN,between:()=>IO,ceil:()=>IX,clamp:()=>IC,digitAt:()=>I2,divide:()=>Iw,equals:()=>IP,floor:()=>I0,format:()=>IK,fromBigInt:()=>I$,fromNumber:()=>IU,fromString:()=>IW,greaterThan:()=>II,greaterThanOrEqualTo:()=>IT,isBigDecimal:()=>Io,isInteger:()=>IH,isNegative:()=>IZ,isPositive:()=>IQ,isZero:()=>IG,lessThan:()=>I_,lessThanOrEqualTo:()=>IE,make:()=>Il,max:()=>IA,min:()=>IF,multiply:()=>Iy,negate:()=>IR,normalize:()=>Ip,remainder:()=>ID,round:()=>I6,roundTerminal:()=>Iv,safeFromNumber:()=>IB,scale:()=>Im,sign:()=>IM,subtract:()=>Ib,sum:()=>Ig,sumAll:()=>I3,toExponential:()=>IV,truncate:()=>I1,unsafeDivide:()=>Ix,unsafeFromNumber:()=>Iz,unsafeFromString:()=>Iq,unsafeMakeNormalized:()=>Iu,unsafeRemainder:()=>Ij,unsafeToNumber:()=>IJ});var G={};r.r(G),r.d(G,{Equivalence:()=>Ts,Order:()=>To,abs:()=>Ty,between:()=>Tf,clamp:()=>Td,decrement:()=>Ta,divide:()=>Tr,fromNumber:()=>TI,fromString:()=>TE,gcd:()=>Tb,greaterThan:()=>Tc,greaterThanOrEqualTo:()=>Th,increment:()=>Ti,isBigInt:()=>I7,lcm:()=>TS,lessThan:()=>Tl,lessThanOrEqualTo:()=>Tu,max:()=>Tm,min:()=>Tp,multiply:()=>Te,multiplyAll:()=>Tk,sign:()=>Tg,sqrt:()=>Tw,subtract:()=>Tt,sum:()=>I9,sumAll:()=>Tx,toNumber:()=>T_,unsafeDivide:()=>Tn,unsafeSqrt:()=>Tv});var Z={};r.r(Z),r.d(Z,{Equivalence:()=>TC,Order:()=>TF,and:()=>TM,eqv:()=>TL,every:()=>T$,implies:()=>TP,isBoolean:()=>TT,match:()=>TO,nand:()=>TN,nor:()=>TD,not:()=>TA,or:()=>TR,some:()=>Tz,xor:()=>Tj});var Q={};r.r(Q),r.d(Q,{BrandTypeId:()=>TU,RefinedConstructorsTypeId:()=>TB,all:()=>TJ,error:()=>TW,errors:()=>Tq,nominal:()=>TV,refined:()=>TK,unbranded:()=>TH});var Y={};r.r(Y),r.d(Y,{GenericTag:()=>Os,Reference:()=>Ok,ReferenceTypeId:()=>Oa,Tag:()=>Ox,TagTypeId:()=>Oi,add:()=>Od,empty:()=>Oh,get:()=>Op,getOption:()=>Oy,getOrElse:()=>Om,isContext:()=>Ol,isReference:()=>Oc,isTag:()=>Ou,make:()=>Of,merge:()=>Ob,mergeAll:()=>OS,omit:()=>Ow,pick:()=>Ov,unsafeGet:()=>Og,unsafeMake:()=>Oo});var X={};r.r(X),r.d(X,{append:()=>Oq,appendAll:()=>OQ,chunksOf:()=>O4,compact:()=>O1,contains:()=>CD,containsWith:()=>Cj,dedupe:()=>Cx,dedupeAdjacent:()=>Ck,difference:()=>CJ,differenceWith:()=>CV,drop:()=>OJ,dropRight:()=>OH,dropWhile:()=>OG,empty:()=>OM,every:()=>CU,filter:()=>OX,filterMap:()=>OY,filterMapWhile:()=>O0,findFirst:()=>CL,findFirstIndex:()=>CP,findLast:()=>C$,findLastIndex:()=>Cz,flatMap:()=>O2,flatten:()=>O3,forEach:()=>O6,fromIterable:()=>OD,get:()=>Oz,getEquivalence:()=>OI,head:()=>O9,headNonEmpty:()=>Ct,intersection:()=>O5,isChunk:()=>OF,isEmpty:()=>O8,isNonEmpty:()=>O7,join:()=>CW,last:()=>Cr,lastNonEmpty:()=>Ci,make:()=>ON,makeBy:()=>CN,map:()=>Ca,mapAccum:()=>Cs,modify:()=>CF,modifyOption:()=>CC,of:()=>OR,partition:()=>Co,partitionMap:()=>Cl,prepend:()=>OK,prependAll:()=>OZ,range:()=>CR,reduce:()=>Cq,reduceRight:()=>CK,remove:()=>CT,removeOption:()=>CO,replace:()=>CA,replaceOption:()=>CM,reverse:()=>O$,separate:()=>Cu,size:()=>Cc,some:()=>CB,sort:()=>Ch,sortWith:()=>Cf,split:()=>Cm,splitAt:()=>Cd,splitNonEmptyAt:()=>Cp,splitWhere:()=>Cg,tail:()=>Cy,tailNonEmpty:()=>Cb,take:()=>OV,takeRight:()=>CS,takeWhile:()=>Cv,toArray:()=>OL,toReadonlyArray:()=>OP,union:()=>Cw,unsafeFromArray:()=>OU,unsafeFromNonEmptyArray:()=>OB,unsafeGet:()=>OW,unsafeHead:()=>Ce,unsafeLast:()=>Cn,unzip:()=>C_,zip:()=>CI,zipWith:()=>CE});var ee={};r.r(ee),r.d(ee,{Equivalence:()=>F_,Order:()=>Fx,between:()=>Fk,clamp:()=>FF,days:()=>Fu,decode:()=>C2,decodeUnknown:()=>C6,divide:()=>FA,equals:()=>Fz,format:()=>FB,formatIso:()=>Fq,fromIso:()=>FK,greaterThan:()=>FP,greaterThanOrEqualTo:()=>F$,hours:()=>Fl,infinity:()=>Fr,isDuration:()=>C7,isFinite:()=>C9,isZero:()=>Fe,lessThan:()=>Fj,lessThanOrEqualTo:()=>FL,match:()=>Fv,matchWith:()=>Fw,max:()=>FO,micros:()=>Fi,millis:()=>Fa,min:()=>FI,minutes:()=>Fo,nanos:()=>Fn,parts:()=>FU,seconds:()=>Fs,subtract:()=>FR,sum:()=>FD,times:()=>FN,toDays:()=>Fm,toHours:()=>Fp,toHrTime:()=>FS,toMillis:()=>Fh,toMinutes:()=>Fd,toNanos:()=>Fy,toSeconds:()=>Ff,toWeeks:()=>Fg,unsafeDivide:()=>FM,unsafeFormatIso:()=>FW,unsafeToNanos:()=>Fb,weeks:()=>Fc,zero:()=>Ft});var et={};r.r(et),r.d(et,{add:()=>Md,beginMutation:()=>Mc,difference:()=>Mm,empty:()=>Me,endMutation:()=>Mh,every:()=>Ma,filter:()=>Mk,flatMap:()=>Mv,forEach:()=>Mw,fromIterable:()=>Mt,has:()=>Mn,intersection:()=>Mg,isHashSet:()=>A9,isSubset:()=>Ms,make:()=>Mr,map:()=>MS,mutate:()=>Mf,partition:()=>M_,reduce:()=>Mx,remove:()=>Mp,size:()=>Mu,some:()=>Mi,toValues:()=>Ml,toggle:()=>Mb,union:()=>My,values:()=>Mo});var er={};r.r(er),r.d(er,{compareAndSet:()=>MO,decrement:()=>MC,decrementAndGet:()=>MF,get:()=>MA,getAndDecrement:()=>MM,getAndIncrement:()=>MN,getAndSet:()=>MR,getAndUpdate:()=>MD,increment:()=>Mj,incrementAndGet:()=>ML,make:()=>MT,set:()=>MP,setAndGet:()=>M$,toggle:()=>MB,update:()=>Mz,updateAndGet:()=>MU});var en={};r.r(en),r.d(en,{FiberIdTypeId:()=>M5,combine:()=>Ni,combineAll:()=>Na,composite:()=>M9,getOrElse:()=>Ns,ids:()=>No,isComposite:()=>Nn,isFiberId:()=>Ne,isNone:()=>Nt,isRuntime:()=>Nr,make:()=>Nl,none:()=>M8,runtime:()=>M7,threadName:()=>Nu,toOption:()=>Nc,toSet:()=>Nh,unsafeMake:()=>Nf});var ei={};r.r(ei),r.d(ei,{beginMutation:()=>NN,compact:()=>NJ,countBy:()=>NM,empty:()=>Np,endMutation:()=>NR,entries:()=>NC,every:()=>NQ,filter:()=>NV,filterMap:()=>NH,findFirst:()=>NG,flatMap:()=>NW,forEach:()=>Nq,fromIterable:()=>Ng,get:()=>Nb,getHash:()=>NS,has:()=>Nw,hasBy:()=>Nk,hasHash:()=>Nx,isEmpty:()=>Ny,isHashMap:()=>Nd,keySet:()=>NI,keys:()=>NE,make:()=>Nm,map:()=>NB,modify:()=>NP,modifyAt:()=>Nj,modifyHash:()=>NL,mutate:()=>ND,reduce:()=>NK,remove:()=>Nz,removeMany:()=>NU,set:()=>N_,size:()=>NA,some:()=>NZ,toEntries:()=>NF,toValues:()=>NO,union:()=>N$,unsafeGet:()=>Nv,values:()=>NT});var ea={};r.r(ea),r.d(ea,{TypeId:()=>NY,append:()=>Rs,appendAll:()=>Ro,compact:()=>RS,cons:()=>Rt,drop:()=>Rh,empty:()=>Rr,every:()=>Rf,filter:()=>Rp,filterMap:()=>Rb,findFirst:()=>Rv,flatMap:()=>Rw,forEach:()=>Rx,fromIterable:()=>Ri,getEquivalence:()=>N0,head:()=>Rk,isCons:()=>N7,isList:()=>N5,isNil:()=>N8,last:()=>R_,make:()=>Ra,map:()=>RE,nil:()=>Re,of:()=>Rn,partition:()=>RI,partitionMap:()=>RT,prepend:()=>Rl,prependAll:()=>Ru,prependAllReversed:()=>Rc,reduce:()=>RO,reduceRight:()=>RC,reverse:()=>RF,size:()=>N9,some:()=>Rd,splitAt:()=>RA,tail:()=>RM,take:()=>RN,toArray:()=>NX,toChunk:()=>RR,unsafeHead:()=>Rj,unsafeLast:()=>RL,unsafeTail:()=>RP});var es={};r.r(es),r.d(es,{andThen:()=>jA,both:()=>jM,disable:()=>jE,disabledSet:()=>jL,either:()=>jN,empty:()=>jx,enable:()=>j_,enabledSet:()=>jj,exclude:()=>jR,includes:()=>jF,inverse:()=>jD,isActive:()=>jT,isDisabled:()=>jC,isEmpty:()=>jI,isEnabled:()=>jO,make:()=>jk,render:()=>jP});var eo={};r.r(eo),r.d(eo,{DeferredTypeId:()=>Ud,await:()=>Ug,complete:()=>Uy,completeWith:()=>Ub,die:()=>U_,dieSync:()=>UE,done:()=>US,fail:()=>Uv,failCause:()=>Ux,failCauseSync:()=>Uk,failSync:()=>Uw,interrupt:()=>UI,interruptWith:()=>UT,isDone:()=>UO,make:()=>Up,makeAs:()=>Um,poll:()=>UC,succeed:()=>UF,sync:()=>UA,unsafeDone:()=>UN,unsafeMake:()=>UM});var el={};r.r(el),r.d(el,{all:()=>UU,as:()=>UP,asVoid:()=>U$,causeOption:()=>Uz,die:()=>UB,exists:()=>UW,fail:()=>Uq,failCause:()=>UK,flatMap:()=>UV,flatMapEffect:()=>UJ,flatten:()=>UH,forEachEffect:()=>UG,fromEither:()=>UZ,fromOption:()=>UQ,getOrElse:()=>UY,interrupt:()=>UX,isExit:()=>UR,isFailure:()=>UD,isInterrupted:()=>UL,isSuccess:()=>Uj,map:()=>U0,mapBoth:()=>U1,mapError:()=>U2,mapErrorCause:()=>U6,match:()=>U3,matchEffect:()=>U4,succeed:()=>U5,void:()=>U8,zip:()=>U7,zipLeft:()=>U9,zipPar:()=>Bt,zipParLeft:()=>Br,zipParRight:()=>Bn,zipRight:()=>Be,zipWith:()=>Bi});var eu={};r.r(eu),r.d(eu,{clear:()=>Bx,empty:()=>Bu,forEach:()=>BE,fromIterable:()=>Bh,get:()=>Bf,has:()=>Bg,isEmpty:()=>B_,keys:()=>Bd,make:()=>Bc,modify:()=>BS,modifyAt:()=>Bv,remove:()=>Bw,set:()=>By,size:()=>Bk,values:()=>Bp});var ec={};r.r(ec),r.d(ec,{append:()=>BP,empty:()=>BC,forEach:()=>Bj,fromIterable:()=>BF,head:()=>BD,isEmpty:()=>BM,length:()=>BN,make:()=>BA,pop:()=>Bz,prepend:()=>BU,reset:()=>BL,shift:()=>B$,tail:()=>BR});var eh={};r.r(eh),r.d(eh,{EmptyMutableQueue:()=>Bq,bounded:()=>BJ,capacity:()=>BY,isEmpty:()=>BZ,isFull:()=>BQ,length:()=>BG,offer:()=>BX,offerAll:()=>B0,poll:()=>B1,pollUpTo:()=>B2,unbounded:()=>BH});var ef={};r.r(ef),r.d(ef,{Clock:()=>qV,ClockTypeId:()=>qz,clockWith:()=>qK,currentTimeMillis:()=>qW,currentTimeNanos:()=>qq,make:()=>qU,sleep:()=>qB});var ed={};r.r(ed),r.d(ed,{FiberRefsSym:()=>q8,delete:()=>q7,empty:()=>Kl,fiberRefs:()=>q9,forkAs:()=>Ke,get:()=>Kt,getOrDefault:()=>Kr,joinAs:()=>Kn,setAll:()=>Ki,unsafeMake:()=>Ko,updateAs:()=>Ka,updateManyAs:()=>Ks});var ep={};r.r(ep),r.d(ep,{All:()=>Ku,Debug:()=>Kp,Error:()=>Kh,Fatal:()=>Kc,Info:()=>Kd,None:()=>Kg,Order:()=>KS,Trace:()=>Km,Warning:()=>Kf,allLevels:()=>Ky,fromLiteral:()=>K_,greaterThan:()=>Kx,greaterThanEqual:()=>Kk,lessThan:()=>Kv,lessThanEqual:()=>Kw,locally:()=>Kb});var em={};r.r(em),r.d(em,{make:()=>KT,render:()=>KO});var eg={};r.r(eg),r.d(eg,{ChannelTypeId:()=>KM,Class:()=>KP,CommitPrototype:()=>KR,EffectPrototype:()=>KN,EffectTypeId:()=>KC,SinkTypeId:()=>KA,StreamTypeId:()=>KF,StructuralClass:()=>K$,StructuralCommitPrototype:()=>KD});var ey={};r.r(ey),r.d(ey,{TypeId:()=>Kz,isReadable:()=>KU,make:()=>KW,map:()=>Kq,mapEffect:()=>KK,unwrap:()=>KV});var eb={};r.r(eb),r.d(eb,{RefTypeId:()=>Ve,get:()=>Vr,getAndSet:()=>Vn,getAndUpdate:()=>Vi,getAndUpdateSome:()=>Va,make:()=>Vt,modify:()=>Vs,modifySome:()=>Vo,set:()=>Vl,setAndGet:()=>Vu,unsafeMake:()=>Vp,update:()=>Vc,updateAndGet:()=>Vh,updateSome:()=>Vf,updateSomeAndGet:()=>Vd});var eS={};r.r(eS),r.d(eS,{DisablePropagation:()=>Vw,ParentSpan:()=>Vg,Tracer:()=>Vy,TracerTypeId:()=>Vm,externalSpan:()=>VS,make:()=>Vb,tracerWith:()=>Vv});var ev={};r.r(ev),r.d(ev,{isParallel:()=>HI,isParallelN:()=>HT,isSequential:()=>HE,match:()=>HO,parallel:()=>Hk,parallelN:()=>H_,sequential:()=>Hx});var ew={};r.r(ew),r.d(ew,{combine:()=>HA,diff:()=>HF,empty:()=>HC,patch:()=>HM});var ex={};r.r(ex),r.d(ex,{FiberStatusTypeId:()=>HW,done:()=>Hq,isDone:()=>HH,isFiberStatus:()=>HJ,isRunning:()=>HG,isSuspended:()=>HZ,running:()=>HK,suspended:()=>HV});var ek={};r.r(ek),r.d(ek,{CurrentConcurrency:()=>ZC,CurrentScheduler:()=>ZF,Do:()=>QW,Error:()=>Q3,MaxOpsBeforeYield:()=>ZO,MicroCauseTypeId:()=>H0,MicroExitTypeId:()=>HY,MicroFiberTypeId:()=>Ga,MicroSchedulerDefault:()=>Zb,MicroScope:()=>Qb,MicroScopeTypeId:()=>Qy,NoSuchElementException:()=>Q5,TaggedError:()=>Q4,TimeoutException:()=>Q8,TypeId:()=>HQ,acquireRelease:()=>QE,acquireUseRelease:()=>QM,addFinalizer:()=>QI,all:()=>QP,andThen:()=>G1,as:()=>GY,asSome:()=>GX,asVoid:()=>G6,async:()=>GH,bind:()=>QK,bindTo:()=>Qq,catchAll:()=>ZX,catchAllCause:()=>ZZ,catchAllDefect:()=>Z0,catchCauseIf:()=>ZY,catchIf:()=>Z4,catchTag:()=>Z5,causeDie:()=>H8,causeFail:()=>H4,causeInterrupt:()=>H9,causeIsDie:()=>Gt,causeIsFail:()=>Ge,causeIsInterrupt:()=>Gr,causeSquash:()=>Gn,causeWithTrace:()=>Gi,context:()=>Zk,delay:()=>Qd,die:()=>Gj,either:()=>Qi,ensuring:()=>QO,exit:()=>G3,exitDie:()=>Zu,exitFail:()=>Zl,exitFailCause:()=>Zs,exitInterrupt:()=>Zo,exitIsDie:()=>Zp,exitIsFail:()=>Zd,exitIsFailure:()=>Zh,exitIsInterrupt:()=>Zf,exitIsSuccess:()=>Zc,exitSucceed:()=>Za,exitVoid:()=>Zm,exitVoidAll:()=>Zg,fail:()=>GO,failCause:()=>GT,failCauseSync:()=>GD,failSync:()=>GL,fiberAwait:()=>Gc,fiberInterrupt:()=>Gf,fiberInterruptAll:()=>Gd,fiberJoin:()=>Gh,filter:()=>QU,filterMap:()=>QB,filterOrFail:()=>ZD,filterOrFailCause:()=>ZR,flatMap:()=>Ze,flatten:()=>Zr,flip:()=>G0,forEach:()=>Qz,forever:()=>ZU,fork:()=>QJ,forkDaemon:()=>QG,forkIn:()=>QZ,forkScoped:()=>QQ,fromEither:()=>G$,fromOption:()=>GP,gen:()=>GZ,ignore:()=>Qt,ignoreLogged:()=>Qr,interrupt:()=>QN,interruptible:()=>Qj,isMicro:()=>HX,isMicroCause:()=>H1,isMicroExit:()=>Zi,let:()=>QV,map:()=>Zn,mapError:()=>Z7,mapErrorCause:()=>Z8,match:()=>Qh,matchCause:()=>Qu,matchCauseEffect:()=>Qo,matchEffect:()=>Qc,never:()=>GG,onError:()=>QF,onExit:()=>QT,onExitIf:()=>QC,onInterrupt:()=>QA,option:()=>Qn,orDie:()=>Z9,orElseSucceed:()=>Qe,promise:()=>GB,provideContext:()=>ZE,provideScope:()=>Qk,provideService:()=>ZI,provideServiceEffect:()=>ZT,race:()=>G7,raceAll:()=>G5,raceAllFirst:()=>G8,raceFirst:()=>G9,repeat:()=>ZP,repeatExit:()=>ZL,replicate:()=>Z$,replicateEffect:()=>Zz,retry:()=>Qa,runFork:()=>QY,runPromise:()=>Q0,runPromiseExit:()=>QX,runSync:()=>Q2,runSyncExit:()=>Q1,sandbox:()=>G4,scheduleAddDelay:()=>ZK,scheduleExponential:()=>Zq,scheduleIntersect:()=>ZG,scheduleRecurs:()=>ZB,scheduleSpaced:()=>ZW,scheduleUnion:()=>ZH,scheduleWithMaxDelay:()=>ZV,scheduleWithMaxElapsed:()=>ZJ,scope:()=>Qx,scopeMake:()=>Qv,scopeUnsafeMake:()=>Qw,scoped:()=>Q_,service:()=>ZS,serviceOption:()=>Zv,sleep:()=>Qf,succeed:()=>GI,succeedNone:()=>GR,succeedSome:()=>GN,suspend:()=>GF,sync:()=>GC,tap:()=>G2,tapDefect:()=>Z3,tapError:()=>Z6,tapErrorCause:()=>Z1,tapErrorCauseIf:()=>Z2,timeout:()=>Qm,timeoutOption:()=>Qg,timeoutOrElse:()=>Qp,try:()=>GU,tryPromise:()=>GW,uninterruptible:()=>QR,uninterruptibleMask:()=>QL,updateContext:()=>Zw,updateService:()=>Zx,void:()=>Gz,when:()=>Zj,whileLoop:()=>Q$,withConcurrency:()=>ZA,withMicroFiber:()=>Gq,withTrace:()=>Qs,yieldFlush:()=>GK,yieldNow:()=>GM,yieldNowWith:()=>GA,zip:()=>ZM,zipWith:()=>ZN});var e_={};r.r(e_),r.d(e_,{ControlledScheduler:()=>Yr,MixedScheduler:()=>Q9,PriorityBuckets:()=>Q7,SyncScheduler:()=>Yt,currentScheduler:()=>Yu,defaultScheduler:()=>Ye,defaultShouldYield:()=>Yi,make:()=>Ya,makeBatched:()=>Ys,makeMatrix:()=>Yn,timer:()=>Yo,timerBatched:()=>Yl,withScheduler:()=>Yc});var eE={};r.r(eE),r.d(eE,{Direction:()=>erR,at:()=>er$,atReversed:()=>erz,empty:()=>erj,findAll:()=>erU,findFirst:()=>erB,first:()=>erW,forEach:()=>er4,forEachBetween:()=>er7,forEachGreaterThanEqual:()=>er5,forEachLessThan:()=>er8,fromIterable:()=>erL,getAt:()=>erq,getOrder:()=>erK,greaterThan:()=>erV,greaterThanEqual:()=>erH,greaterThanEqualReversed:()=>erG,greaterThanReversed:()=>erJ,has:()=>erZ,insert:()=>erQ,isRedBlackTree:()=>erD,keys:()=>erY,keysReversed:()=>erX,last:()=>er0,lessThan:()=>er1,lessThanEqual:()=>er6,lessThanEqualReversed:()=>er3,lessThanReversed:()=>er2,make:()=>erP,reduce:()=>er9,removeFirst:()=>ene,reversed:()=>ent,size:()=>enr,values:()=>enn,valuesReversed:()=>eni});var eI={};r.r(eI),r.d(eI,{add:()=>enf,difference:()=>end,empty:()=>enu,every:()=>enp,filter:()=>enm,flatMap:()=>eng,forEach:()=>eny,fromIterable:()=>enc,getEquivalence:()=>enC,has:()=>enb,intersection:()=>enS,isSortedSet:()=>enl,isSubset:()=>env,make:()=>enh,map:()=>enw,partition:()=>enx,remove:()=>enk,size:()=>en_,some:()=>enE,toggle:()=>enI,union:()=>enT,values:()=>enO});var eT={};r.r(eT),r.d(eT,{TypeId:()=>enB,chunk:()=>enG,combine:()=>enK,diff:()=>enq,empty:()=>enW,environment:()=>enH,hashMap:()=>enZ,hashSet:()=>enQ,make:()=>enJ,orElseEither:()=>enY,patch:()=>enV,readonlyArray:()=>enX,transform:()=>en0,update:()=>en1,updateWith:()=>en2,zip:()=>en6});var eO={};r.r(eO),r.d(eO,{CacheTypeId:()=>eaQ,ConsumerCacheTypeId:()=>eaY,make:()=>eaX,makeCacheStats:()=>ea1,makeEntryStats:()=>ea2,makeWith:()=>ea0});var eC={};r.r(eC),r.d(eC,{CauseTypeId:()=>ea6,ExceededCapacityException:()=>es4,ExceededCapacityExceptionTypeId:()=>ea9,IllegalArgumentException:()=>esG,IllegalArgumentExceptionTypeId:()=>ea5,InterruptedException:()=>esJ,InterruptedExceptionTypeId:()=>ea4,InvalidPubSubCapacityExceptionTypeId:()=>ea7,NoSuchElementException:()=>esQ,NoSuchElementExceptionTypeId:()=>ea8,RuntimeException:()=>esX,RuntimeExceptionTypeId:()=>ea3,TimeoutException:()=>es1,TimeoutExceptionTypeId:()=>ese,UnknownException:()=>es6,UnknownExceptionTypeId:()=>est,YieldableError:()=>esr,andThen:()=>esL,as:()=>esR,contains:()=>es$,defects:()=>esk,die:()=>esa,dieOption:()=>esO,empty:()=>esn,fail:()=>esi,failureOption:()=>esE,failureOrCause:()=>esI,failures:()=>esx,filter:()=>esW,find:()=>esB,flatMap:()=>esj,flatten:()=>esP,flipCauseOption:()=>esT,interrupt:()=>ess,interruptOption:()=>esC,interruptors:()=>es_,isCause:()=>esu,isDie:()=>esS,isDieType:()=>esf,isEmpty:()=>esy,isEmptyType:()=>esc,isExceededCapacityException:()=>es5,isFailType:()=>esh,isFailure:()=>esb,isIllegalArgumentException:()=>esZ,isInterruptType:()=>esd,isInterrupted:()=>esv,isInterruptedException:()=>esH,isInterruptedOnly:()=>esw,isNoSuchElementException:()=>esY,isParallelType:()=>esm,isRuntimeException:()=>es0,isSequentialType:()=>esp,isTimeoutException:()=>es2,isUnknownException:()=>es3,keepDefects:()=>esF,linearize:()=>esA,map:()=>esD,match:()=>esq,originalError:()=>es9,parallel:()=>eso,pretty:()=>es8,prettyErrors:()=>es7,reduce:()=>esK,reduceWithContext:()=>esV,sequential:()=>esl,size:()=>esg,squash:()=>esz,squashWith:()=>esU,stripFailures:()=>esM,stripSomeDefects:()=>esN});var eF={};r.r(eF),r.d(eF,{IntervalTypeId:()=>eou,after:()=>eov,before:()=>eow,empty:()=>eoh,intersect:()=>eoy,isEmpty:()=>eom,isNonEmpty:()=>eog,lessThan:()=>eof,make:()=>eoc,max:()=>eop,min:()=>eod,size:()=>eob,union:()=>eoS});var eA={};r.r(eA),r.d(eA,{IntervalsTypeId:()=>eoM,empty:()=>eoR,end:()=>eo$,fromIterable:()=>eoD,intersect:()=>eoL,isNonEmpty:()=>eoU,lessThan:()=>eoz,make:()=>eoN,max:()=>eoB,start:()=>eoP,union:()=>eoj});var eM={};r.r(eM),r.d(eM,{continue:()=>eoK,continueWith:()=>eoV,done:()=>eoJ,isContinue:()=>eoH,isDone:()=>eoG});var eN={};r.r(eN),r.d(eN,{CloseableScopeTypeId:()=>eoQ,Scope:()=>eoY,ScopeTypeId:()=>eoZ,addFinalizer:()=>eoX,addFinalizerExit:()=>eo0,close:()=>eo1,extend:()=>eo2,fork:()=>eo6,make:()=>eo4,use:()=>eo3});var eR={};r.r(eR),r.d(eR,{FiberTypeId:()=>elN,Order:()=>elD,RuntimeFiberTypeId:()=>elR,all:()=>elB,await:()=>el$,awaitAll:()=>elz,children:()=>elU,done:()=>elW,dump:()=>elq,dumpAll:()=>elK,fail:()=>elV,failCause:()=>elJ,fromEffect:()=>elH,getCurrentFiber:()=>elG,id:()=>elP,inheritAll:()=>elZ,interrupt:()=>elQ,interruptAll:()=>el1,interruptAllAs:()=>el2,interruptAs:()=>elX,interruptAsFork:()=>el0,interruptFork:()=>el6,interrupted:()=>elY,isFiber:()=>elj,isRuntimeFiber:()=>elL,join:()=>el3,joinAll:()=>el4,map:()=>el5,mapEffect:()=>el8,mapFiber:()=>el7,match:()=>el9,never:()=>eue,orElse:()=>eut,orElseEither:()=>eur,poll:()=>eun,pretty:()=>eui,roots:()=>eua,scoped:()=>euo,status:()=>eul,succeed:()=>euu,unsafeRoots:()=>eus,void:()=>euc,zip:()=>euh,zipLeft:()=>euf,zipRight:()=>eud,zipWith:()=>eup});var eD={};r.r(eD),r.d(eD,{Class:()=>eho,Error:()=>ehf,Structural:()=>ehu,TaggedClass:()=>ehl,TaggedError:()=>ehd,array:()=>ehn,case:()=>eha,struct:()=>ehe,tagged:()=>ehs,taggedEnum:()=>ehc,tuple:()=>ehr,unsafeArray:()=>ehi,unsafeStruct:()=>eht});var ej={};r.r(ej),r.d(ej,{Equivalence:()=>efB,Order:()=>efW,at:()=>ede,camelToSnake:()=>edE,capitalize:()=>efH,charAt:()=>edt,charCodeAt:()=>ef7,codePointAt:()=>edr,concat:()=>efK,empty:()=>efq,endsWith:()=>ef8,includes:()=>ef4,indexOf:()=>edn,isEmpty:()=>ef1,isNonEmpty:()=>ef2,isString:()=>efU,kebabToSnake:()=>edT,lastIndexOf:()=>edi,length:()=>ef6,linesIterator:()=>edb,linesWithSeparators:()=>edS,localeCompare:()=>eda,match:()=>eds,matchAll:()=>edo,normalize:()=>edl,padEnd:()=>edu,padStart:()=>edc,pascalToSnake:()=>edI,repeat:()=>edh,replace:()=>efZ,replaceAll:()=>edf,search:()=>edd,slice:()=>ef0,snakeToCamel:()=>edx,snakeToKebab:()=>ed_,snakeToPascal:()=>edk,split:()=>ef3,startsWith:()=>ef5,stripMargin:()=>edw,stripMarginWith:()=>edv,substring:()=>ef9,takeLeft:()=>edg,takeRight:()=>edy,toLocaleLowerCase:()=>edp,toLocaleUpperCase:()=>edm,toLowerCase:()=>efJ,toUpperCase:()=>efV,trim:()=>efQ,trimEnd:()=>efX,trimStart:()=>efY,uncapitalize:()=>efG});var eL={};r.r(eL),r.d(eL,{Equivalence:()=>edV,ParseError:()=>edP,ParseErrorTypeId:()=>edL,TypeId:()=>edM,equals:()=>edG,isCron:()=>edR,isParseError:()=>ed$,make:()=>edD,match:()=>edB,next:()=>edq,parse:()=>edz,sequence:()=>edK,unsafeParse:()=>edU});var eP={};r.r(eP),r.d(eP,{Random:()=>epa,RandomTypeId:()=>ed5,choice:()=>epn,fixed:()=>epo,make:()=>eps,next:()=>ed8,nextBoolean:()=>ed9,nextInt:()=>ed7,nextIntBetween:()=>ept,nextRange:()=>epe,randomWith:()=>epi,shuffle:()=>epr});var e$={};r.r(e$),r.d(e$,{Class:()=>em7,EntryTypeId:()=>ego,RequestTypeId:()=>em3,TaggedClass:()=>em9,complete:()=>ege,completeEffect:()=>egr,fail:()=>egn,failCause:()=>egi,interruptWhenPossible:()=>egt,isEntry:()=>egl,isRequest:()=>em4,makeCache:()=>egs,makeEntry:()=>egu,of:()=>em5,succeed:()=>ega,tagged:()=>em8});var ez={};r.r(ez),r.d(ez,{Do:()=>eb6,EffectTypeId:()=>egc,Service:()=>ewp,Tag:()=>ewd,acquireRelease:()=>eyJ,acquireReleaseInterruptible:()=>eyH,acquireUseRelease:()=>eyG,addFinalizer:()=>eyZ,all:()=>egy,allSuccesses:()=>egS,allWith:()=>egb,allowInterrupt:()=>eyk,andThen:()=>eSg,annotateCurrentSpan:()=>ev3,annotateLogs:()=>eS9,annotateLogsScoped:()=>eve,annotateSpans:()=>ev6,ap:()=>evB,as:()=>eyR,asSome:()=>eyD,asSomeError:()=>eyj,asVoid:()=>eyL,async:()=>egU,asyncEffect:()=>egB,awaitAllChildren:()=>ey9,bind:()=>eb3,bindAll:()=>eb4,bindTo:()=>eb5,blocked:()=>evW,cacheRequestResult:()=>evJ,cached:()=>egp,cachedFunction:()=>egm,cachedInvalidateWithTTL:()=>egd,cachedWithTTL:()=>egf,catch:()=>eg9,catchAll:()=>eye,catchAllCause:()=>eyt,catchAllDefect:()=>eyr,catchIf:()=>eyn,catchSome:()=>eyi,catchSomeCause:()=>eya,catchSomeDefect:()=>eys,catchTag:()=>eyo,catchTags:()=>eyl,cause:()=>eyu,checkInterruptible:()=>ey_,clock:()=>ebx,clockWith:()=>ebk,configProviderWith:()=>eb$,console:()=>ebI,consoleWith:()=>ebT,context:()=>ebB,contextWith:()=>ebW,contextWithEffect:()=>ebq,currentParentSpan:()=>ev5,currentSpan:()=>ev4,custom:()=>egW,daemonChildren:()=>ebe,delay:()=>ebF,descriptor:()=>ebt,descriptorWith:()=>ebr,die:()=>egG,dieMessage:()=>egZ,dieSync:()=>egQ,diffFiberRefs:()=>ebn,disconnect:()=>eyE,dropUntil:()=>egv,dropWhile:()=>egw,either:()=>eb9,ensureErrorType:()=>ewv,ensureRequirementsType:()=>eww,ensureSuccessType:()=>ewS,ensuring:()=>eyQ,ensuringChild:()=>ebi,ensuringChildren:()=>eba,eventually:()=>eyc,every:()=>eg_,exists:()=>egE,exit:()=>eSe,fail:()=>egK,failCause:()=>egJ,failCauseSync:()=>egH,failSync:()=>egV,fiberId:()=>ebs,fiberIdWith:()=>ebo,filter:()=>egI,filterEffectOrElse:()=>eSo,filterEffectOrFail:()=>eSl,filterMap:()=>egT,filterOrDie:()=>eSn,filterOrDieMessage:()=>eSi,filterOrElse:()=>eSa,filterOrFail:()=>eSs,finalizersMask:()=>ey2,findFirst:()=>egO,firstSuccessOf:()=>evu,flatMap:()=>eSm,flatten:()=>eSy,flip:()=>eyP,flipWith:()=>ey$,fn:()=>ewm,fnUntraced:()=>ewb,forEach:()=>egC,forever:()=>eSC,fork:()=>ebl,forkAll:()=>ebc,forkDaemon:()=>ebu,forkIn:()=>ebh,forkScoped:()=>ebf,forkWithErrorHandler:()=>ebd,fromFiber:()=>ebp,fromFiberEffect:()=>ebm,fromNullable:()=>ewl,functionWithSpan:()=>ewa,gen:()=>egY,getFiberRefs:()=>eS$,getRuntimeFlags:()=>evg,head:()=>egF,if:()=>eSr,ignore:()=>eyh,ignoreLogged:()=>eyf,inheritFiberRefs:()=>eSz,interrupt:()=>eyI,interruptWith:()=>eyT,interruptible:()=>eyO,interruptibleMask:()=>eyC,intoDeferred:()=>eSt,isEffect:()=>egh,isFailure:()=>eSH,isSuccess:()=>eSG,iterate:()=>eSF,labelMetrics:()=>evw,labelMetricsScoped:()=>evk,let:()=>eb8,liftPredicate:()=>eyN,linkSpanCurrent:()=>ewe,linkSpans:()=>ev9,locally:()=>eSU,locallyScoped:()=>eSW,locallyScopedWith:()=>eSq,locallyWith:()=>eSB,log:()=>eS0,logAnnotations:()=>evt,logDebug:()=>eS6,logError:()=>eS5,logFatal:()=>eS8,logInfo:()=>eS3,logTrace:()=>eS2,logWarning:()=>eS4,logWithLevel:()=>eS1,loop:()=>eSA,makeLatch:()=>evC,makeSemaphore:()=>evT,makeSpan:()=>ewt,makeSpanScoped:()=>ewr,map:()=>eyz,mapAccum:()=>eyU,mapBoth:()=>eyB,mapError:()=>eyW,mapErrorCause:()=>eyq,mapInputContext:()=>ebK,match:()=>eSZ,matchCause:()=>eSQ,matchCauseEffect:()=>eSY,matchEffect:()=>eSX,merge:()=>eyK,mergeAll:()=>egA,metricLabels:()=>ev_,negate:()=>eyV,never:()=>egX,none:()=>eg0,onError:()=>eyY,onExit:()=>eyX,onInterrupt:()=>eyF,once:()=>egg,option:()=>eb7,optionFromOptional:()=>ewu,orDie:()=>evi,orDieWith:()=>eva,orElse:()=>evs,orElseFail:()=>evo,orElseSucceed:()=>evl,parallelErrors:()=>eyd,parallelFinalizers:()=>ey0,partition:()=>egM,patchFiberRefs:()=>eSK,patchRuntimeFlags:()=>evy,promise:()=>eg1,provide:()=>ebV,provideService:()=>ebJ,provideServiceEffect:()=>ebH,race:()=>eSb,raceAll:()=>eSS,raceFirst:()=>eSv,raceWith:()=>eSw,random:()=>evc,randomWith:()=>evh,reduce:()=>egN,reduceEffect:()=>egj,reduceRight:()=>egD,reduceWhile:()=>egR,repeat:()=>eSM,repeatN:()=>eSN,repeatOrElse:()=>eSR,replicate:()=>egL,replicateEffect:()=>egP,request:()=>evV,retry:()=>eym,retryOrElse:()=>eyy,runCallback:()=>evA,runFork:()=>evF,runPromise:()=>evM,runPromiseExit:()=>evN,runRequestBlock:()=>evq,runSync:()=>evR,runSyncExit:()=>evD,runtime:()=>evm,sandbox:()=>eyp,schedule:()=>eSD,scheduleForked:()=>eSj,scheduleFrom:()=>eSL,scope:()=>ey6,scopeWith:()=>ey3,scoped:()=>ey5,scopedWith:()=>ey4,sequentialFinalizers:()=>ey1,serviceConstants:()=>ebY,serviceFunction:()=>ebG,serviceFunctionEffect:()=>ebZ,serviceFunctions:()=>ebQ,serviceMembers:()=>ebX,serviceOption:()=>eb0,serviceOptional:()=>eb1,setFiberRefs:()=>eSV,sleep:()=>ebA,spanAnnotations:()=>ev8,spanLinks:()=>ev7,step:()=>evK,succeed:()=>eg2,succeedNone:()=>eg6,succeedSome:()=>eg3,summarized:()=>eSx,supervised:()=>ebg,suspend:()=>eg4,sync:()=>eg5,tagMetrics:()=>evv,tagMetricsScoped:()=>evx,takeUntil:()=>egx,takeWhile:()=>egk,tap:()=>eSk,tapBoth:()=>eS_,tapDefect:()=>eSE,tapError:()=>eSI,tapErrorCause:()=>eSO,tapErrorTag:()=>eST,timed:()=>ebM,timedWith:()=>ebN,timeout:()=>ebR,timeoutFail:()=>ebj,timeoutFailCause:()=>ebL,timeoutOption:()=>ebD,timeoutTo:()=>ebP,tracer:()=>evQ,tracerWith:()=>evY,transplant:()=>eby,transposeMapOption:()=>ewh,transposeOption:()=>ewc,try:()=>eyb,tryMap:()=>eyS,tryMapPromise:()=>eyv,tryPromise:()=>eyw,uninterruptible:()=>eyA,uninterruptibleMask:()=>eyM,unless:()=>eSu,unlessEffect:()=>eSc,unsafeMakeLatch:()=>evO,unsafeMakeSemaphore:()=>evI,unsandbox:()=>eyx,updateFiberRefs:()=>eSJ,updateService:()=>eb2,useSpan:()=>ewn,using:()=>ey8,validate:()=>evj,validateAll:()=>eg$,validateFirst:()=>egz,validateWith:()=>evL,void:()=>eg8,when:()=>eSh,whenEffect:()=>eSf,whenFiberRef:()=>eSd,whenLogLevel:()=>evn,whenRef:()=>eSp,whileLoop:()=>eSP,withClock:()=>ebE,withClockScoped:()=>eb_,withConcurrency:()=>ebb,withConfigProvider:()=>ebz,withConfigProviderScoped:()=>ebU,withConsole:()=>ebC,withConsoleScoped:()=>ebO,withEarlyRelease:()=>ey7,withExecutionPlan:()=>eyg,withFiberRuntime:()=>egq,withLogSpan:()=>eS7,withMaxOpsBeforeYield:()=>ebw,withMetric:()=>evE,withParentSpan:()=>ewo,withRandom:()=>evf,withRandomFixed:()=>evd,withRandomScoped:()=>evp,withRequestBatching:()=>evH,withRequestCache:()=>evZ,withRequestCaching:()=>evG,withRuntimeFlagsPatch:()=>evb,withRuntimeFlagsPatchScoped:()=>evS,withScheduler:()=>ebS,withSchedulingPriority:()=>ebv,withSpan:()=>ewi,withSpanScoped:()=>ews,withTracer:()=>evX,withTracerEnabled:()=>ev1,withTracerScoped:()=>ev0,withTracerTiming:()=>ev2,withUnhandledErrorLogLevel:()=>evr,yieldNow:()=>eg7,zip:()=>evP,zipLeft:()=>ev$,zipRight:()=>evz,zipWith:()=>evU});var eU={};r.r(eU),r.d(eU,{FiberRefTypeId:()=>ewx,currentConcurrency:()=>ewV,currentContext:()=>ewZ,currentLogAnnotations:()=>ew1,currentLogLevel:()=>ew6,currentLogSpan:()=>ew4,currentLoggers:()=>ew2,currentMaxOpsBeforeYield:()=>ewY,currentMetricLabels:()=>ew9,currentMinimumLogLevel:()=>ew3,currentRequestBatchingEnabled:()=>ewJ,currentRequestCache:()=>ewH,currentRequestCacheEnabled:()=>ewG,currentRuntimeFlags:()=>ew5,currentScheduler:()=>ew8,currentSchedulingPriority:()=>ewQ,currentSupervisor:()=>ew7,currentTracerEnabled:()=>exe,currentTracerSpanAnnotations:()=>exr,currentTracerSpanLinks:()=>exn,currentTracerTimingEnabled:()=>ext,delete:()=>ewP,get:()=>ewM,getAndSet:()=>ewN,getAndUpdate:()=>ewR,getAndUpdateSome:()=>ewD,getWith:()=>ewj,interruptedCause:()=>exi,make:()=>ewk,makeContext:()=>ewE,makeRuntimeFlags:()=>ewI,makeWith:()=>ew_,modify:()=>ewz,modifySome:()=>ewU,reset:()=>ew$,set:()=>ewL,unhandledErrorLogLevel:()=>ewX,unsafeMake:()=>ewT,unsafeMakeContext:()=>ewC,unsafeMakeHashSet:()=>ewO,unsafeMakePatch:()=>ewA,unsafeMakeSupervisor:()=>ewF,update:()=>ewB,updateAndGet:()=>ewq,updateSome:()=>ewW,updateSomeAndGet:()=>ewK,versionMismatchErrorLogLevel:()=>ew0});var eB={};r.r(eB),r.d(eB,{CurrentMemoMap:()=>exE,LayerTypeId:()=>exk,MemoMapTypeId:()=>ex_,annotateLogs:()=>exO,annotateSpans:()=>exC,build:()=>exF,buildWithMemoMap:()=>ekW,buildWithScope:()=>exA,catchAll:()=>exM,catchAllCause:()=>exN,context:()=>exR,die:()=>exD,dieSync:()=>exj,discard:()=>exL,effect:()=>exP,effectContext:()=>exz,effectDiscard:()=>ex$,empty:()=>exU,extendScope:()=>exB,fail:()=>exW,failCause:()=>exK,failCauseSync:()=>exV,failSync:()=>exq,fiberRefLocallyScopedWith:()=>eki,flatMap:()=>exJ,flatten:()=>exH,fresh:()=>exG,function:()=>exQ,isFresh:()=>exT,isLayer:()=>exI,launch:()=>exY,locally:()=>ekt,locallyEffect:()=>eke,locallyScoped:()=>ekn,locallyWith:()=>ekr,makeMemoMap:()=>ekB,map:()=>exX,mapError:()=>ex0,match:()=>ex1,matchCause:()=>ex2,memoize:()=>ex6,merge:()=>ex3,mergeAll:()=>ex4,mock:()=>exZ,orDie:()=>ex5,orElse:()=>ex8,parentSpan:()=>ekO,passthrough:()=>ex7,project:()=>ex9,provide:()=>ekw,provideMerge:()=>ekx,retry:()=>eka,scope:()=>eks,scoped:()=>eko,scopedContext:()=>eku,scopedDiscard:()=>ekl,service:()=>ekc,setClock:()=>ekI,setConfigProvider:()=>ekT,setRandom:()=>ekC,setRequestBatching:()=>ekF,setRequestCache:()=>ekM,setRequestCaching:()=>ekA,setScheduler:()=>ekN,setTracer:()=>ekD,setTracerEnabled:()=>ekj,setTracerTiming:()=>ekL,setUnhandledErrorLogLevel:()=>ekP,setVersionMismatchErrorLogLevel:()=>ek$,span:()=>ekR,succeed:()=>ekh,succeedContext:()=>ekf,suspend:()=>ekd,sync:()=>ekp,syncContext:()=>ekm,tap:()=>ekg,tapError:()=>eky,tapErrorCause:()=>ekb,toRuntime:()=>ekS,toRuntimeWithMemoMap:()=>ekv,unwrapEffect:()=>ek_,unwrapScoped:()=>ekE,updateService:()=>ekq,withParentSpan:()=>ekU,withSpan:()=>ekz,zipWith:()=>ekk});var eW={};r.r(eW),r.d(eW,{awaitShutdown:()=>e_8,bounded:()=>e_Q,capacity:()=>e_1,dropping:()=>e_Y,isEmpty:()=>e_3,isFull:()=>e_6,isShutdown:()=>e_5,publish:()=>e_7,publishAll:()=>e_9,shutdown:()=>e_4,size:()=>e_2,sliding:()=>e_X,subscribe:()=>eEe,unbounded:()=>e_0});var eq={};r.r(eq),r.d(eq,{BackingQueueTypeId:()=>eEi,DequeueTypeId:()=>eEr,EnqueueTypeId:()=>eEt,QueueStrategyTypeId:()=>eEn,awaitShutdown:()=>eEw,backPressureStrategy:()=>eEl,bounded:()=>eEf,capacity:()=>eEg,dropping:()=>eEd,droppingStrategy:()=>eEu,isDequeue:()=>eEs,isEmpty:()=>eEb,isEnqueue:()=>eEo,isFull:()=>eES,isQueue:()=>eEa,isShutdown:()=>eEv,make:()=>eEh,offer:()=>eEk,offerAll:()=>eEE,poll:()=>eEI,shutdown:()=>eEx,size:()=>eEy,sliding:()=>eEp,slidingStrategy:()=>eEc,take:()=>eET,takeAll:()=>eEO,takeBetween:()=>eEF,takeN:()=>eEA,takeUpTo:()=>eEC,unbounded:()=>eEm,unsafeOffer:()=>eE_});var eK={};r.r(eK),r.d(eK,{Await:()=>eFd,AwaitConst:()=>eFp,Done:()=>eFf,MergeDecisionTypeId:()=>eFh,isMergeDecision:()=>eFm,match:()=>eFg});var eV={};r.r(eV),r.d(eV,{TypeId:()=>eFk,get:()=>eFE,make:()=>eF_});var eJ={};r.r(eJ),r.d(eJ,{FiberFailureCauseId:()=>eFj,FiberFailureId:()=>eFD,defaultRuntime:()=>eFM,defaultRuntimeFlags:()=>eFN,deleteFiberRef:()=>eFJ,disableRuntimeFlag:()=>eFB,enableRuntimeFlag:()=>eFU,isAsyncFiberException:()=>eFL,isFiberFailure:()=>eFP,make:()=>eFR,makeFiberFailure:()=>eF$,provideService:()=>eFq,runCallback:()=>eFC,runFork:()=>eFI,runPromise:()=>eFF,runPromiseExit:()=>eFA,runSync:()=>eFO,runSyncExit:()=>eFT,setFiberRef:()=>eFV,updateContext:()=>eFW,updateFiberRefs:()=>eFK,updateRuntimeFlags:()=>eFz});var eH={};r.r(eH),r.d(eH,{CurrentIterationMetadata:()=>eMv,ScheduleDriverTypeId:()=>eFG,ScheduleTypeId:()=>eFH,addDelay:()=>eFY,addDelayEffect:()=>eFX,andThen:()=>eF0,andThenEither:()=>eF1,as:()=>eF2,asVoid:()=>eF6,bothInOut:()=>eF3,check:()=>eF4,checkEffect:()=>eF5,collectAllInputs:()=>eF8,collectAllOutputs:()=>eF7,collectUntil:()=>eF9,collectUntilEffect:()=>eAe,collectWhile:()=>eAt,collectWhileEffect:()=>eAr,compose:()=>eAn,count:()=>eAo,cron:()=>eAl,dayOfMonth:()=>eAf,dayOfWeek:()=>eAd,delayed:()=>eAp,delayedEffect:()=>eAm,delayedSchedule:()=>eAg,delays:()=>eAy,driver:()=>eAv,duration:()=>eAw,either:()=>eAx,eitherWith:()=>eAk,elapsed:()=>eA_,ensuring:()=>eAE,exponential:()=>eAI,fibonacci:()=>eAT,fixed:()=>eAO,forever:()=>eAC,fromDelay:()=>eAF,fromDelays:()=>eAA,fromFunction:()=>eAM,hourOfDay:()=>eAh,identity:()=>eAN,intersect:()=>eAD,intersectWith:()=>eAj,isSchedule:()=>eFQ,jittered:()=>eAL,jitteredWith:()=>eAP,linear:()=>eA$,makeWithState:()=>eFZ,map:()=>eAz,mapBoth:()=>eAb,mapBothEffect:()=>eAS,mapEffect:()=>eAU,mapInput:()=>eAi,mapInputContext:()=>eAs,mapInputEffect:()=>eAa,minuteOfHour:()=>eAc,modifyDelay:()=>eAB,modifyDelayEffect:()=>eAW,onDecision:()=>eAq,once:()=>eAK,passthrough:()=>eAR,provideContext:()=>eAV,provideService:()=>eAJ,recurUntil:()=>eAH,recurUntilEffect:()=>eAG,recurUntilOption:()=>eAZ,recurUpTo:()=>eAQ,recurWhile:()=>eAY,recurWhileEffect:()=>eAX,recurs:()=>eA0,reduce:()=>eA1,reduceEffect:()=>eA2,repeatForever:()=>eA6,repetitions:()=>eA3,resetAfter:()=>eA4,resetWhen:()=>eA5,run:()=>eA8,secondOfMinute:()=>eAu,spaced:()=>eA7,stop:()=>eA9,succeed:()=>eMe,sync:()=>eMt,tapInput:()=>eMr,tapOutput:()=>eMn,unfold:()=>eMi,union:()=>eMa,unionWith:()=>eMs,untilInput:()=>eMo,untilInputEffect:()=>eMl,untilOutput:()=>eMu,untilOutputEffect:()=>eMc,upTo:()=>eMh,whileInput:()=>eMf,whileInputEffect:()=>eMd,whileOutput:()=>eMp,whileOutputEffect:()=>eMm,windowed:()=>eMg,zipLeft:()=>eMy,zipRight:()=>eMb,zipWith:()=>eMS});var eG={};r.r(eG),r.d(eG,{Both:()=>eMN,Either:()=>eMR,Left:()=>eMA,Right:()=>eMM,fromInput:()=>eMD,isBoth:()=>eMP,isEither:()=>eM$,isLeft:()=>eMj,isRight:()=>eML,match:()=>eMz});var eZ={};r.r(eZ),r.d(eZ,{TPubSubTypeId:()=>ejr,awaitShutdown:()=>ejn,bounded:()=>eji,capacity:()=>eja,dropping:()=>ejs,isEmpty:()=>ejo,isFull:()=>ejl,isShutdown:()=>ejc,publish:()=>ejh,publishAll:()=>ejf,shutdown:()=>eju,size:()=>ejd,sliding:()=>ejp,subscribe:()=>ejm,subscribeScoped:()=>ejg,unbounded:()=>ejy});var eQ={};r.r(eQ),r.d(eQ,{TDequeueTypeId:()=>ejb,TEnqueueTypeId:()=>ejS,awaitShutdown:()=>ejk,bounded:()=>ej_,capacity:()=>ejE,dropping:()=>ejI,isEmpty:()=>ejT,isFull:()=>ejO,isShutdown:()=>ejC,isTDequeue:()=>ejw,isTEnqueue:()=>ejx,isTQueue:()=>ejv,offer:()=>ejF,offerAll:()=>ejA,peek:()=>ejM,peekOption:()=>ejN,poll:()=>ejR,seek:()=>ejD,shutdown:()=>ejj,size:()=>ejL,sliding:()=>ejP,take:()=>ej$,takeAll:()=>ejz,takeBetween:()=>ejU,takeN:()=>ejB,takeUpTo:()=>ejW,unbounded:()=>ejq});var eY={};r.r(eY),r.d(eY,{ChannelException:()=>eWG,ChannelExceptionTypeId:()=>eBn,ChannelTypeId:()=>eBr,acquireReleaseOut:()=>eBs,acquireUseRelease:()=>eBa,as:()=>eBo,asVoid:()=>eBl,buffer:()=>eBu,bufferChunk:()=>eBc,catchAll:()=>eBh,catchAllCause:()=>eBf,collect:()=>eBb,concatAll:()=>eBd,concatAllWith:()=>eBp,concatMap:()=>eBm,concatMapWith:()=>eBg,concatMapWithCustom:()=>eBy,concatOut:()=>eBS,context:()=>eBM,contextWith:()=>eBN,contextWithChannel:()=>eBR,contextWithEffect:()=>eBD,doneCollect:()=>eBI,drain:()=>eBT,embedInput:()=>eBO,emitCollect:()=>eBC,ensuring:()=>eBF,ensuringWith:()=>eBA,fail:()=>eBj,failCause:()=>eBP,failCauseSync:()=>eB$,failSync:()=>eBL,flatMap:()=>eBz,flatten:()=>eBU,foldCauseChannel:()=>eBW,foldChannel:()=>eBB,fromEffect:()=>eBq,fromEither:()=>eBK,fromInput:()=>eBV,fromOption:()=>eBG,fromPubSub:()=>eBJ,fromPubSubScoped:()=>eBH,fromQueue:()=>eBZ,identity:()=>eBQ,interruptWhen:()=>eBY,interruptWhenDeferred:()=>eBX,isChannel:()=>eBi,isChannelException:()=>eWZ,map:()=>eB0,mapEffect:()=>eB1,mapError:()=>eB2,mapErrorCause:()=>eB6,mapInput:()=>eBv,mapInputContext:()=>eWd,mapInputEffect:()=>eBw,mapInputError:()=>eBx,mapInputErrorEffect:()=>eBk,mapInputIn:()=>eB_,mapInputInEffect:()=>eBE,mapOut:()=>eB3,mapOutEffect:()=>eB4,mapOutEffectPar:()=>eB5,mergeAll:()=>eB8,mergeAllUnbounded:()=>eB7,mergeAllUnboundedWith:()=>eB9,mergeAllWith:()=>eWe,mergeMap:()=>eWt,mergeOut:()=>eWr,mergeOutWith:()=>eWn,mergeWith:()=>eWi,never:()=>eWa,orDie:()=>eWs,orDieWith:()=>eWo,orElse:()=>eWl,pipeTo:()=>eWu,pipeToOrFail:()=>eWc,provideContext:()=>eWh,provideLayer:()=>eWf,provideService:()=>eWm,provideSomeLayer:()=>eWp,read:()=>eWg,readOrFail:()=>eWy,readWith:()=>eWb,readWithCause:()=>eWS,repeated:()=>eWv,run:()=>eWw,runCollect:()=>eWx,runDrain:()=>eWk,runScoped:()=>eW_,scoped:()=>eWE,scopedWith:()=>eWI,splitLines:()=>eWT,succeed:()=>eWO,suspend:()=>eWC,sync:()=>eWF,toPubSub:()=>eWA,toPull:()=>eWM,toPullIn:()=>eWN,toQueue:()=>eWR,toSink:()=>eWD,toStream:()=>eWj,unwrap:()=>eWP,unwrapScoped:()=>eW$,unwrapScopedWith:()=>eWz,updateService:()=>eWU,void:()=>eWL,withSpan:()=>eWB,write:()=>eWW,writeAll:()=>eWq,writeChunk:()=>eWK,zip:()=>eWV,zipLeft:()=>eWJ,zipRight:()=>eWH});var eX={};r.r(eX),r.d(eX,{ChildExecutorDecisionTypeId:()=>eWQ,Close:()=>eWX,Continue:()=>eWY,Yield:()=>eW0,isChildExecutorDecision:()=>eW1,isClose:()=>eW6,isContinue:()=>eW2,isYield:()=>eW3,match:()=>eW4});var e0={};r.r(e0),r.d(e0,{And:()=>eW8,ConfigErrorTypeId:()=>eW5,InvalidData:()=>eqe,MissingData:()=>eW9,Or:()=>eW7,SourceUnavailable:()=>eqt,Unsupported:()=>eqr,isAnd:()=>eqi,isConfigError:()=>eqn,isInvalidData:()=>eqs,isMissingData:()=>eqo,isMissingDataOnly:()=>eql,isOr:()=>eqa,isSourceUnavailable:()=>equ,isUnsupported:()=>eqc,prefixed:()=>eqh,reduceWithContext:()=>eqf});var e1={};r.r(e1),r.d(e1,{ConfigTypeId:()=>eqJ,all:()=>eqH,array:()=>eqG,boolean:()=>eqZ,branded:()=>eKu,chunk:()=>eqX,date:()=>eq0,duration:()=>eq5,fail:()=>eq1,hashMap:()=>eKg,hashSet:()=>eKc,integer:()=>eq6,isConfig:()=>eq8,literal:()=>eq3,logLevel:()=>eq4,map:()=>eq7,mapAttempt:()=>eq9,mapOrFail:()=>eKe,nested:()=>eKt,nonEmptyString:()=>eKf,number:()=>eq2,option:()=>eKi,orElse:()=>eKr,orElseIf:()=>eKn,port:()=>eqQ,primitive:()=>eKa,redacted:()=>eKl,repeat:()=>eKs,secret:()=>eKo,string:()=>eKh,succeed:()=>eKd,suspend:()=>eKp,sync:()=>eKm,unwrap:()=>eKy,url:()=>eqY,validate:()=>eKb,withDefault:()=>eKS,withDescription:()=>eKv,zip:()=>eKw,zipWith:()=>eKx});var e2={};r.r(e2),r.d(e2,{ConfigProvider:()=>eKE,ConfigProviderTypeId:()=>eKk,FlatConfigProviderTypeId:()=>eK_,constantCase:()=>eKM,fromEnv:()=>eKO,fromFlat:()=>eKC,fromJson:()=>eKF,fromMap:()=>eKA,kebabCase:()=>eKR,lowerCase:()=>eKD,make:()=>eKI,makeFlat:()=>eKT,mapInputPath:()=>eKN,nested:()=>eKj,orElse:()=>eKL,snakeCase:()=>eK$,unnested:()=>eKP,upperCase:()=>eKz,within:()=>eKU});var e6={};r.r(e6),r.d(e6,{andThen:()=>eKW,empty:()=>eKB,mapName:()=>eKq,nested:()=>eKK,unnested:()=>eKV});var e3={};r.r(e3),r.d(e3,{Console:()=>eKH,TypeId:()=>eKJ,assert:()=>eKY,clear:()=>eKX,consoleWith:()=>eKQ,count:()=>eK0,countReset:()=>eK1,debug:()=>eK2,dir:()=>eK6,dirxml:()=>eK3,error:()=>eK4,group:()=>eK5,info:()=>eK8,log:()=>eK7,setConsole:()=>eKZ,table:()=>eK9,time:()=>eVe,timeLog:()=>eVt,trace:()=>eVr,warn:()=>eVn,withConsole:()=>eKG,withGroup:()=>eVi,withTime:()=>eVa});var e4={};r.r(e4),r.d(e4,{CurrentTimeZone:()=>eJe,Equivalence:()=>eVp,Order:()=>eVm,TimeZoneTypeId:()=>eVo,TypeId:()=>eVs,add:()=>eJm,addDuration:()=>eJd,between:()=>eVJ,clamp:()=>eVg,distance:()=>eVP,distanceDuration:()=>eVz,distanceDurationEither:()=>eV$,endOf:()=>eJb,format:()=>eJv,formatIntl:()=>eJk,formatIso:()=>eJ_,formatIsoDate:()=>eJE,formatIsoDateUtc:()=>eJI,formatIsoOffset:()=>eJT,formatIsoZoned:()=>eJO,formatLocal:()=>eJw,formatUtc:()=>eJx,getPart:()=>eV8,getPartUtc:()=>eV5,greaterThan:()=>eVW,greaterThanOrEqualTo:()=>eVq,isDateTime:()=>eVl,isFuture:()=>eVH,isPast:()=>eVZ,isTimeZone:()=>eVu,isTimeZoneNamed:()=>eVh,isTimeZoneOffset:()=>eVc,isUtc:()=>eVf,isZoned:()=>eVd,layerCurrentZone:()=>eJC,layerCurrentZoneLocal:()=>eJM,layerCurrentZoneNamed:()=>eJA,layerCurrentZoneOffset:()=>eJF,lessThan:()=>eVK,lessThanOrEqualTo:()=>eVV,make:()=>eVw,makeZoned:()=>eVv,makeZonedFromString:()=>eVx,mapEpochMillis:()=>eJu,match:()=>eJf,max:()=>eVB,min:()=>eVU,mutate:()=>eJo,mutateUtc:()=>eJl,nearest:()=>eJS,now:()=>eVk,nowAsDate:()=>eV_,nowInCurrentZone:()=>eJs,removeTime:()=>eV6,setParts:()=>eV7,setPartsUtc:()=>eV9,setZone:()=>eVT,setZoneCurrent:()=>eJt,setZoneNamed:()=>eVj,setZoneOffset:()=>eVO,startOf:()=>eJy,subtract:()=>eJg,subtractDuration:()=>eJp,toDate:()=>eVX,toDateUtc:()=>eVY,toEpochMillis:()=>eV2,toParts:()=>eV3,toPartsUtc:()=>eV4,toUtc:()=>eVI,unsafeFromDate:()=>eVy,unsafeIsFuture:()=>eVG,unsafeIsPast:()=>eVQ,unsafeMake:()=>eVb,unsafeMakeZoned:()=>eVS,unsafeNow:()=>eVE,unsafeSetZoneNamed:()=>eVL,withCurrentZone:()=>eJr,withCurrentZoneLocal:()=>eJn,withCurrentZoneNamed:()=>eJa,withCurrentZoneOffset:()=>eJi,withDate:()=>eJc,withDateUtc:()=>eJh,zoneFromString:()=>eVR,zoneMakeLocal:()=>eVN,zoneMakeNamed:()=>eVA,zoneMakeNamedEffect:()=>eVM,zoneMakeOffset:()=>eVF,zoneToString:()=>eVD,zoneUnsafeMakeNamed:()=>eVC,zonedOffset:()=>eV0,zonedOffsetIso:()=>eV1});var e5={};r.r(e5),r.d(e5,{currentServices:()=>eJR,liveServices:()=>eJN});var e8={};r.r(e8),r.d(e8,{DecodeException:()=>eJ7,DecodeExceptionTypeId:()=>eJ8,EncodeException:()=>eHt,EncodeExceptionTypeId:()=>eHe,decodeBase64:()=>eJQ,decodeBase64String:()=>eJY,decodeBase64Url:()=>eJ0,decodeBase64UrlString:()=>eJ1,decodeHex:()=>eJ6,decodeHexString:()=>eJ3,decodeUriComponent:()=>eJ5,encodeBase64:()=>eJZ,encodeBase64Url:()=>eJX,encodeHex:()=>eJ2,encodeUriComponent:()=>eJ4,isDecodeException:()=>eJ9,isEncodeException:()=>eHr});var e7={};r.r(e7),r.d(e7,{TypeId:()=>eHn,isExecutionPlan:()=>eHi,make:()=>eHa,merge:()=>eHl});var e9={};r.r(e9),r.d(e9,{TypeId:()=>eHu,awaitEmpty:()=>eHO,clear:()=>eHw,get:()=>eHv,isFiberHandle:()=>eHc,join:()=>eHT,make:()=>eHf,makeRuntime:()=>eHd,makeRuntimePromise:()=>eHp,run:()=>eHk,runtime:()=>eHE,runtimePromise:()=>eHI,set:()=>eHb,unsafeGet:()=>eHS,unsafeSet:()=>eHy});var te={};r.r(te),r.d(te,{TypeId:()=>eHC,awaitEmpty:()=>eHY,clear:()=>eHq,get:()=>eHz,has:()=>eHB,isFiberMap:()=>eHF,join:()=>eHQ,make:()=>eHM,makeRuntime:()=>eHN,makeRuntimePromise:()=>eHR,remove:()=>eHW,run:()=>eHV,runtime:()=>eHH,runtimePromise:()=>eHG,set:()=>eHP,size:()=>eHZ,unsafeGet:()=>eH$,unsafeHas:()=>eHU,unsafeSet:()=>eHL});var tt={};r.r(tt),r.d(tt,{TypeId:()=>eHX,add:()=>eH7,awaitEmpty:()=>eGo,clear:()=>eH9,isFiberSet:()=>eH0,join:()=>eGs,make:()=>eH2,makeRuntime:()=>eH6,makeRuntimePromise:()=>eH3,run:()=>eGt,runtime:()=>eGn,runtimePromise:()=>eGi,size:()=>eGa,unsafeAdd:()=>eH8});var tr={};r.r(tr),r.d(tr,{Edge:()=>eGc,TypeId:()=>eGu,Walker:()=>eG1,addEdge:()=>eGj,addNode:()=>eGb,astar:()=>eGX,beginMutation:()=>eGm,bellmanFord:()=>eG0,bfs:()=>eG5,connectedComponents:()=>eGG,dfs:()=>eG4,dfsPostOrder:()=>eG7,dijkstra:()=>eGQ,directed:()=>eGd,edgeCount:()=>eGB,edges:()=>eZe,endMutation:()=>eGg,entries:()=>eG3,externals:()=>eZt,filterEdges:()=>eGR,filterMapEdges:()=>eGM,filterMapNodes:()=>eGA,filterNodes:()=>eGN,findEdge:()=>eG_,findEdges:()=>eGE,findNode:()=>eGx,findNodes:()=>eGk,floydWarshall:()=>eGY,getEdge:()=>eGz,getNode:()=>eGS,hasEdge:()=>eGU,hasNode:()=>eGv,indices:()=>eG2,isAcyclic:()=>eGV,isBipartite:()=>eGJ,isGraph:()=>eGf,mapEdges:()=>eGC,mapNodes:()=>eGO,mutate:()=>eGy,neighbors:()=>eGW,neighborsDirected:()=>eGq,nodeCount:()=>eGw,nodes:()=>eG9,removeEdge:()=>eGP,removeNode:()=>eGL,reverse:()=>eGF,stronglyConnectedComponents:()=>eGZ,toGraphViz:()=>eGK,topo:()=>eG8,undirected:()=>eGp,updateEdge:()=>eGT,updateNode:()=>eGI,values:()=>eG6});var tn={};r.r(tn),r.d(tn,{GroupByTypeId:()=>eZm,evaluate:()=>eZg,filter:()=>eZy,first:()=>eZb,make:()=>eZS});var ti={};r.r(ti);var ta={};r.r(ta),r.d(ta,{ArrayFormatter:()=>eQz,Composite:()=>eZk,Forbidden:()=>eZT,Missing:()=>eZx,ParseError:()=>eZF,ParseErrorTypeId:()=>eZO,Pointer:()=>eZv,Refinement:()=>eZ_,Transformation:()=>eZE,TreeFormatter:()=>eQk,Type:()=>eZI,Unexpected:()=>eZw,asserts:()=>eQi,decode:()=>eZ8,decodeEither:()=>eZ4,decodeOption:()=>eZ3,decodePromise:()=>eZ5,decodeSync:()=>eZ6,decodeUnknown:()=>eZQ,decodeUnknownEither:()=>eZG,decodeUnknownOption:()=>eZH,decodeUnknownPromise:()=>eZZ,decodeUnknownSync:()=>eZJ,eitherOrUndefined:()=>eZ$,encode:()=>eQu,encodeEither:()=>eQo,encodeOption:()=>eQs,encodePromise:()=>eQl,encodeSync:()=>eQa,encodeUnknown:()=>eZ2,encodeUnknownEither:()=>eZ0,encodeUnknownOption:()=>eZX,encodeUnknownPromise:()=>eZ1,encodeUnknownSync:()=>eZY,fail:()=>eZN,flatMap:()=>eZj,fromOption:()=>eZD,getFinalTransformation:()=>eQw,getLiterals:()=>eQm,getOption:()=>eZK,getRefinementExpected:()=>eQR,getSearchTree:()=>eQg,is:()=>eQn,isComposite:()=>eQC,isParseError:()=>eZC,map:()=>eZL,mapBoth:()=>eZz,mapError:()=>eZP,mergeInternalOptions:()=>eZB,orElse:()=>eZU,parseError:()=>eZA,succeed:()=>eZM,try:()=>eZR,validate:()=>eQr,validateEither:()=>eQe,validateOption:()=>eZ9,validatePromise:()=>eQt,validateSync:()=>eZ7});var ts={};r.r(ts),r.d(ts,{fromAST:()=>eQW,make:()=>eQB});var to={};r.r(to),r.d(to,{KeyedPoolTypeId:()=>eYk,get:()=>eYO,invalidate:()=>eYC,make:()=>eY_,makeWith:()=>eYE,makeWithTTL:()=>eYI,makeWithTTLBy:()=>eYT});var tl={};r.r(tl),r.d(tl,{TypeId:()=>eYz,get:()=>eYB,has:()=>eYW,invalidate:()=>eYK,keys:()=>eYq,make:()=>eYU,touch:()=>eYV});var tu={};r.r(tu),r.d(tu,{Service:()=>eYZ,TypeId:()=>eYJ,fromRecord:()=>eYG,make:()=>eYH});var tc={};r.r(tc),r.d(tc,{LoggerTypeId:()=>eYY,add:()=>eY0,addEffect:()=>eY1,addScoped:()=>eY2,batched:()=>eY8,defaultLogger:()=>eXm,filterLogLevel:()=>eY4,isLogger:()=>eXO,json:()=>eXk,jsonLogger:()=>eXg,logFmt:()=>eX_,logfmtLogger:()=>eXy,make:()=>eYX,map:()=>eY5,mapInput:()=>eY6,mapInputOptions:()=>eY3,minimumLogLevel:()=>eXT,none:()=>eXt,pretty:()=>eXE,prettyLogger:()=>eXS,prettyLoggerDefault:()=>eXv,remove:()=>eXr,replace:()=>eXn,replaceEffect:()=>eXi,replaceScoped:()=>eXa,simple:()=>eXs,stringLogger:()=>eXb,structured:()=>eXI,structuredLogger:()=>eXw,succeed:()=>eXo,sync:()=>eXl,test:()=>eXu,tracerLogger:()=>eXx,withConsoleError:()=>eXe,withConsoleLog:()=>eY7,withLeveledConsole:()=>eY9,withMinimumLogLevel:()=>eXc,withSpanAnnotations:()=>eXh,zip:()=>eXf,zipLeft:()=>eXd,zipRight:()=>eXp});var th={};r.r(th),r.d(th,{ReadonlyTypeId:()=>eXB,TypeId:()=>eXU,fromStream:()=>eXG,into:()=>eXV,isMailbox:()=>eXW,isReadonlyMailbox:()=>eXq,make:()=>eXK,toChannel:()=>eXJ,toStream:()=>eXH});var tf={};r.r(tf),r.d(tf,{TypeId:()=>eXY,isManagedRuntime:()=>eXX,make:()=>eX0});var td={};r.r(td),r.d(td,{MatcherTypeId:()=>e0f,SafeRefinementId:()=>e0Z,any:()=>e0R,bigint:()=>e0$,boolean:()=>e0j,date:()=>e0U,defined:()=>e0D,discriminator:()=>e0w,discriminatorStartsWith:()=>e0x,discriminators:()=>e0k,discriminatorsExhaustive:()=>e0_,either:()=>e0J,exhaustive:()=>e0G,instanceOf:()=>e0W,instanceOfUnsafe:()=>e0q,is:()=>e0A,nonEmptyString:()=>e0F,not:()=>e0C,null:()=>e0P,number:()=>e0N,option:()=>e0H,orElse:()=>e0K,orElseAbsurd:()=>e0V,record:()=>e0B,string:()=>e0M,symbol:()=>e0z,tag:()=>e0E,tagStartsWith:()=>e0I,tags:()=>e0T,tagsExhaustive:()=>e0O,type:()=>e0d,typeTags:()=>e0g,undefined:()=>e0L,value:()=>e0p,valueTags:()=>e0m,when:()=>e0b,whenAnd:()=>e0v,whenOr:()=>e0S,withReturnType:()=>e0y});var tp={};r.r(tp),r.d(tp,{BothRunning:()=>e0Y,LeftDone:()=>e0X,MergeStateTypeId:()=>e0Q,RightDone:()=>e00,isBothRunning:()=>e02,isLeftDone:()=>e06,isMergeState:()=>e01,isRightDone:()=>e03,match:()=>e04});var tm={};r.r(tm),r.d(tm,{BackPressure:()=>e08,BufferSliding:()=>e07,MergeStrategyTypeId:()=>e05,isBackPressure:()=>e1e,isBufferSliding:()=>e1t,isMergeStrategy:()=>e09,match:()=>e1r});var tg={};r.r(tg),r.d(tg,{MetricTypeId:()=>e1n,counter:()=>e1o,fiberActive:()=>e1J,fiberFailures:()=>e1K,fiberLifetimes:()=>e1V,fiberStarted:()=>e1W,fiberSuccesses:()=>e1q,frequency:()=>e1l,fromMetricKey:()=>e1c,gauge:()=>e1h,globalMetricRegistry:()=>e1i,histogram:()=>e1f,increment:()=>e1d,incrementBy:()=>e1p,make:()=>e1a,map:()=>e1m,mapInput:()=>e1s,mapType:()=>e1g,modify:()=>e1y,set:()=>e1b,snapshot:()=>e1S,succeed:()=>e1v,summary:()=>e1x,summaryTimestamp:()=>e1k,sync:()=>e1w,tagged:()=>e1_,taggedWithLabels:()=>e1I,taggedWithLabelsInput:()=>e1E,timer:()=>e1T,timerWithBoundaries:()=>e1O,trackAll:()=>e1C,trackDefect:()=>e1F,trackDefectWith:()=>e1A,trackDuration:()=>e1M,trackDurationWith:()=>e1N,trackError:()=>e1R,trackErrorWith:()=>e1D,trackSuccess:()=>e1j,trackSuccessWith:()=>e1L,unsafeSnapshot:()=>e1B,update:()=>e1P,value:()=>e1$,withConstantInput:()=>e1u,withNow:()=>e1z,zip:()=>e1U});var ty={};r.r(ty),r.d(ty,{MetricBoundariesTypeId:()=>e1H,exponential:()=>e1Y,fromIterable:()=>e1Z,isMetricBoundaries:()=>e1G,linear:()=>e1Q});var tb={};r.r(tb),r.d(tb,{MetricHookTypeId:()=>e1X,counter:()=>e11,frequency:()=>e12,gauge:()=>e16,histogram:()=>e13,make:()=>e10,onModify:()=>e18,onUpdate:()=>e15,summary:()=>e14});var tS={};r.r(tS),r.d(tS,{MetricKeyTypeId:()=>e17,counter:()=>e2e,frequency:()=>e2t,gauge:()=>e2r,histogram:()=>e2n,isMetricKey:()=>e19,summary:()=>e2i,tagged:()=>e2a,taggedWithLabels:()=>e2s});var tv={};r.r(tv),r.d(tv,{CounterKeyTypeTypeId:()=>e2l,FrequencyKeyTypeTypeId:()=>e2u,GaugeKeyTypeTypeId:()=>e2c,HistogramKeyTypeTypeId:()=>e2h,MetricKeyTypeTypeId:()=>e2o,SummaryKeyTypeTypeId:()=>e2f,counter:()=>e2d,frequency:()=>e2p,gauge:()=>e2m,histogram:()=>e2g,isCounterKey:()=>e2S,isFrequencyKey:()=>e2v,isGaugeKey:()=>e2w,isHistogramKey:()=>e2x,isMetricKeyType:()=>e2b,isSummaryKey:()=>e2k,summary:()=>e2y});var tw={};r.r(tw),r.d(tw,{MetricLabelTypeId:()=>e2_,isMetricLabel:()=>e2I,make:()=>e2E});var tx={};r.r(tx),r.d(tx,{MetricPairTypeId:()=>e2T,make:()=>e2O,unsafeMake:()=>e2C});var tk={};r.r(tk),r.d(tk,{MetricPollingTypeId:()=>e2D,collectAll:()=>e2L,launch:()=>e2P,make:()=>e2j,poll:()=>e2$,pollAndUpdate:()=>e2z,retry:()=>e2U,zip:()=>e2B});var t_={};r.r(t_),r.d(t_,{MetricRegistryTypeId:()=>e2W,make:()=>e2q});var tE={};r.r(tE),r.d(tE,{CounterStateTypeId:()=>e2V,FrequencyStateTypeId:()=>e2J,GaugeStateTypeId:()=>e2H,HistogramStateTypeId:()=>e2G,MetricStateTypeId:()=>e2K,SummaryStateTypeId:()=>e2Z,counter:()=>e2Q,frequency:()=>e2Y,gauge:()=>e2X,histogram:()=>e20,isCounterState:()=>e26,isFrequencyState:()=>e23,isGaugeState:()=>e24,isHistogramState:()=>e25,isMetricState:()=>e22,isSummaryState:()=>e28,summary:()=>e21});var tI={};r.r(tI),r.d(tI,{getCurrentVersion:()=>e27,setCurrentVersion:()=>e29});var tT={};r.r(tT),r.d(tT,{add:()=>e6s,clear:()=>e6c,empty:()=>e6n,fromIterable:()=>e6i,has:()=>e6o,make:()=>e6a,remove:()=>e6l,size:()=>e6u});var tO={};r.r(tO),r.d(tO,{unprepend:()=>e6h});var tC={};r.r(tC),r.d(tC,{combine:()=>e6p,combineAll:()=>e6g,combineMany:()=>e6m,match:()=>e6d,reverse:()=>e6f});var tF={};r.r(tF),r.d(tF,{PoolTypeId:()=>e6y,get:()=>e6w,invalidate:()=>e6x,isPool:()=>e6b,make:()=>e6S,makeWithTTL:()=>e6v});var tA={};r.r(tA),r.d(tA,{make:()=>e6k,match:()=>e6C});var tM={};r.r(tM),r.d(tM,{symbol:()=>e6A,value:()=>e6M});var tN={};r.r(tN),r.d(tN,{make:()=>e6R,withCost:()=>e6D});var tR={};r.r(tR),r.d(tR,{RedactedTypeId:()=>e6j,getEquivalence:()=>e6U,isRedacted:()=>e6L,make:()=>e6P,unsafeWipe:()=>e6z,value:()=>e6$});var tD={};r.r(tD),r.d(tD,{ReloadableTypeId:()=>e6Y,auto:()=>e6X,autoFromConfig:()=>e60,get:()=>e61,manual:()=>e62,reload:()=>e66,reloadFork:()=>e64,tag:()=>e63});var tj={};r.r(tj),r.d(tj,{empty:()=>e68,mapRequestResolvers:()=>e67,parallel:()=>e69,reduce:()=>e3e,sequential:()=>e3t,single:()=>e65});var tL={};r.r(tL),r.d(tL,{RequestResolverTypeId:()=>e3f,around:()=>e3S,aroundRequests:()=>e3v,batchN:()=>e3w,contextFromEffect:()=>e3d,contextFromServices:()=>e3p,eitherWith:()=>e3k,fromEffect:()=>e3I,fromEffectTagged:()=>e3T,fromFunction:()=>e3_,fromFunctionBatched:()=>e3E,isRequestResolver:()=>e3m,locally:()=>e3A,make:()=>e3g,makeBatched:()=>e3b,makeWithEntry:()=>e3y,mapInputContext:()=>e3x,never:()=>e3O,provideContext:()=>e3C,race:()=>e3F});var tP={};r.r(tP),r.d(tP,{ResourceTypeId:()=>e3L,auto:()=>e3P,get:()=>e3$,manual:()=>e3z,refresh:()=>e3U});var t$={};r.r(t$),r.d(t$,{CooperativeYielding:()=>e3J,Interruption:()=>e3W,None:()=>e3B,OpSupervision:()=>e3q,RuntimeMetrics:()=>e3K,WindDown:()=>e3V,cooperativeYielding:()=>e3H,diff:()=>e3G,differ:()=>e3Z,disable:()=>e3Q,disableAll:()=>e3Y,disableCooperativeYielding:()=>e3X,disableInterruption:()=>e30,disableOpSupervision:()=>e31,disableRuntimeMetrics:()=>e32,disableWindDown:()=>e36,enable:()=>e33,enableAll:()=>e34,enableCooperativeYielding:()=>e35,enableInterruption:()=>e38,enableOpSupervision:()=>e37,enableRuntimeMetrics:()=>e39,enableWindDown:()=>e4e,interruptible:()=>e4t,interruption:()=>e4r,isDisabled:()=>e4i,isEnabled:()=>e4n,make:()=>e4a,none:()=>e4s,opSupervision:()=>e4o,patch:()=>e4l,render:()=>e4u,runtimeMetrics:()=>e4c,toSet:()=>e4h,windDown:()=>e4f});var tz={};r.r(tz),r.d(tz,{Do:()=>e8a,STMTypeId:()=>e4d,acquireUseRelease:()=>e4m,all:()=>e4g,as:()=>e4y,asSome:()=>e4b,asSomeError:()=>e4S,asVoid:()=>e4v,attempt:()=>e4w,bind:()=>e8s,bindTo:()=>e8l,catchAll:()=>e4x,catchSome:()=>e4k,catchTag:()=>e4_,catchTags:()=>e4E,check:()=>e4I,collect:()=>e4T,collectSTM:()=>e4O,commit:()=>e4C,commitEither:()=>e4F,cond:()=>e4A,context:()=>e4M,contextWith:()=>e4N,contextWithSTM:()=>e4R,die:()=>e4j,dieMessage:()=>e4L,dieSync:()=>e4P,either:()=>e4$,ensuring:()=>e4z,eventually:()=>e4U,every:()=>e4B,exists:()=>e4W,fail:()=>e4q,failSync:()=>e4K,fiberId:()=>e4V,filter:()=>e4J,filterNot:()=>e4H,filterOrDie:()=>e4G,filterOrDieMessage:()=>e4Z,filterOrElse:()=>e4Q,filterOrFail:()=>e4Y,firstSuccessOf:()=>e8i,flatMap:()=>e4X,flatten:()=>e40,flip:()=>e41,flipWith:()=>e42,forEach:()=>e44,fromEither:()=>e45,fromOption:()=>e48,gen:()=>e47,head:()=>e49,if:()=>e5e,ignore:()=>e5t,interrupt:()=>e5r,interruptAs:()=>e5n,isFailure:()=>e5i,isSTM:()=>e4p,isSuccess:()=>e5a,iterate:()=>e5s,let:()=>e8o,loop:()=>e5o,map:()=>e5l,mapAttempt:()=>e5u,mapBoth:()=>e5c,mapError:()=>e5h,mapInputContext:()=>e4D,match:()=>e46,matchSTM:()=>e43,merge:()=>e5f,mergeAll:()=>e5d,negate:()=>e5p,none:()=>e5m,option:()=>e5g,orDie:()=>e5y,orDieWith:()=>e5b,orElse:()=>e5S,orElseEither:()=>e5v,orElseFail:()=>e5w,orElseOptional:()=>e5x,orElseSucceed:()=>e5k,orTry:()=>e5_,partition:()=>e5E,provideContext:()=>e5I,provideService:()=>e5O,provideServiceSTM:()=>e5C,provideSomeContext:()=>e5T,reduce:()=>e5F,reduceAll:()=>e5A,reduceRight:()=>e5M,refineOrDie:()=>e5N,refineOrDieWith:()=>e5R,reject:()=>e5D,rejectSTM:()=>e5j,repeatUntil:()=>e5L,repeatWhile:()=>e5P,replicate:()=>e5$,replicateSTM:()=>e5z,replicateSTMDiscard:()=>e5U,retry:()=>e5B,retryUntil:()=>e5W,retryWhile:()=>e5q,some:()=>e5K,succeed:()=>e5V,succeedNone:()=>e5J,succeedSome:()=>e5H,summarized:()=>e5G,suspend:()=>e5Z,sync:()=>e5Q,tap:()=>e5Y,tapBoth:()=>e5X,tapError:()=>e50,try:()=>e51,unless:()=>e52,unlessSTM:()=>e56,unsome:()=>e53,validateAll:()=>e55,validateFirst:()=>e58,void:()=>e54,when:()=>e57,whenSTM:()=>e59,zip:()=>e8e,zipLeft:()=>e8t,zipRight:()=>e8r,zipWith:()=>e8n});var tU={};r.r(tU),r.d(tU,{entries:()=>e8g,evolve:()=>e8d,get:()=>e8p,getEquivalence:()=>e8h,getOrder:()=>e8f,keys:()=>e8m,omit:()=>e8c,pick:()=>e8u});var tB={};r.r(tB),r.d(tB,{Any:()=>e7n,Array:()=>e7v,ArrayEnsure:()=>e7x,ArrayFormatterIssue:()=>tac,BetweenBigDecimalSchemaId:()=>tnM,BetweenBigIntSchemaId:()=>teY,BetweenDateSchemaId:()=>trt,BetweenDurationSchemaId:()=>ttA,BetweenSchemaId:()=>tev,BigDecimal:()=>tnc,BigDecimalFromNumber:()=>tnh,BigDecimalFromSelf:()=>tnu,BigInt:()=>te4,BigIntFromNumber:()=>tti,BigIntFromSelf:()=>e7i,Boolean:()=>e7l,BooleanFromString:()=>tiJ,BooleanFromUnknown:()=>tiV,BrandSchemaId:()=>e83,Capitalize:()=>e9X,Capitalized:()=>e9K,CapitalizedSchemaId:()=>e9W,Cause:()=>tig,CauseFromSelf:()=>tid,Char:()=>e9G,Chunk:()=>tn$,ChunkFromSelf:()=>tnP,Class:()=>tn1,Config:()=>tiH,Data:()=>tnZ,DataFromSelf:()=>tnG,Date:()=>tro,DateFromNumber:()=>trl,DateFromSelf:()=>tri,DateFromSelfSchemaId:()=>trn,DateFromString:()=>trs,DateTimeUtc:()=>trd,DateTimeUtcFromDate:()=>trf,DateTimeUtcFromNumber:()=>trh,DateTimeUtcFromSelf:()=>tru,DateTimeZoned:()=>trE,DateTimeZonedFromSelf:()=>tr_,Defect:()=>tiy,Duration:()=>ttw,DurationFromMillis:()=>ttd,DurationFromNanos:()=>tth,DurationFromSelf:()=>ttc,Either:()=>trG,EitherFromSelf:()=>trV,EitherFromUnion:()=>trZ,EndsWithSchemaId:()=>e9N,Enums:()=>e8X,Exit:()=>tik,ExitFromSelf:()=>tix,FiberId:()=>tia,FiberIdFromSelf:()=>tir,Finite:()=>teA,FiniteSchemaId:()=>tes,FromPropertySignature:()=>e7I,GreaterThanBigDecimalSchemaId:()=>tnf,GreaterThanBigIntSchemaId:()=>teq,GreaterThanDateSchemaId:()=>tt8,GreaterThanDurationSchemaId:()=>ttT,GreaterThanOrEqualToBigDecimalSchemaId:()=>tnp,GreaterThanOrEqualToBigIntSchemaId:()=>teV,GreaterThanOrEqualToDateSchemaId:()=>tt9,GreaterThanOrEqualToDurationSchemaId:()=>ttC,GreaterThanOrEqualToSchemaId:()=>tec,GreaterThanSchemaId:()=>tel,HashMap:()=>tiD,HashMapFromSelf:()=>tiR,HashSet:()=>tiC,HashSetFromSelf:()=>tiO,IncludesSchemaId:()=>e9D,InstanceOfSchemaId:()=>e85,Int:()=>teM,IntSchemaId:()=>tep,ItemsCountSchemaId:()=>ttG,JsonNumber:()=>te$,JsonNumberSchemaId:()=>teP,LengthSchemaId:()=>e9T,LessThanBigDecimalSchemaId:()=>tng,LessThanBigIntSchemaId:()=>teH,LessThanDateSchemaId:()=>tt6,LessThanDurationSchemaId:()=>ttk,LessThanOrEqualToBigDecimalSchemaId:()=>tnb,LessThanOrEqualToBigIntSchemaId:()=>teZ,LessThanOrEqualToDateSchemaId:()=>tt4,LessThanOrEqualToDurationSchemaId:()=>ttE,LessThanOrEqualToSchemaId:()=>teb,LessThanSchemaId:()=>teg,List:()=>tiU,ListFromSelf:()=>tiz,Literal:()=>e8H,Lowercase:()=>e9Q,Lowercased:()=>e9$,LowercasedSchemaId:()=>e9L,Map:()=>tr4,MapFromRecord:()=>tr8,MapFromSelf:()=>tr6,MaxItemsSchemaId:()=>ttJ,MaxLengthSchemaId:()=>e9k,MinItemsSchemaId:()=>ttK,MinLengthSchemaId:()=>e9E,MultipleOfSchemaId:()=>tef,Negative:()=>teD,NegativeBigDecimalFromSelf:()=>tnO,NegativeBigDecimalSchemaId:()=>tnI,NegativeBigInt:()=>te9,NegativeBigIntFromSelf:()=>te7,Never:()=>e7t,NonEmptyArray:()=>e7w,NonEmptyArrayEnsure:()=>e7k,NonEmptyChunk:()=>tnq,NonEmptyChunkFromSelf:()=>tnW,NonEmptyString:()=>e98,NonEmptyTrimmedString:()=>e92,NonNaN:()=>teN,NonNaNSchemaId:()=>tex,NonNegative:()=>teL,NonNegativeBigDecimalFromSelf:()=>tnE,NonNegativeBigDecimalSchemaId:()=>tnk,NonNegativeBigInt:()=>ttn,NonNegativeBigIntFromSelf:()=>ttr,NonNegativeInt:()=>ttf,NonPositive:()=>tej,NonPositiveBigDecimalFromSelf:()=>tnA,NonPositiveBigDecimalSchemaId:()=>tnC,NonPositiveBigInt:()=>ttt,NonPositiveBigIntFromSelf:()=>tte,Not:()=>tez,Null:()=>e7e,NullOr:()=>e7h,NullishOr:()=>e7d,Number:()=>e7o,NumberFromString:()=>teF,Object:()=>e7u,Option:()=>trD,OptionFromNonEmptyTrimmedString:()=>tr$,OptionFromNullOr:()=>trj,OptionFromNullishOr:()=>trL,OptionFromSelf:()=>trM,OptionFromUndefinedOr:()=>trP,PatternSchemaId:()=>e9C,Positive:()=>teR,PositiveBigDecimalFromSelf:()=>tnx,PositiveBigDecimalSchemaId:()=>tnv,PositiveBigInt:()=>te8,PositiveBigIntFromSelf:()=>te5,PropertyKey:()=>tau,PropertySignatureDeclaration:()=>e7E,PropertySignatureTransformation:()=>e7O,PropertySignatureTypeId:()=>e7F,ReadonlyMap:()=>tr3,ReadonlyMapFromRecord:()=>tr5,ReadonlyMapFromSelf:()=>tr2,ReadonlySet:()=>tna,ReadonlySetFromSelf:()=>tnn,Record:()=>e7X,Redacted:()=>ttu,RedactedFromSelf:()=>ttl,RefineSchemaId:()=>e9l,Set:()=>tns,SetFromSelf:()=>tni,SortedSet:()=>tiK,SortedSetFromSelf:()=>tiq,StartsWithSchemaId:()=>e9A,String:()=>e7s,StringFromBase64:()=>ttU,StringFromBase64Url:()=>ttB,StringFromHex:()=>ttW,StringFromUriComponent:()=>ttq,Struct:()=>e7Z,Symbol:()=>teW,SymbolFromSelf:()=>e7a,TaggedClass:()=>tn6,TaggedError:()=>tn3,TaggedRequest:()=>tan,TaggedStruct:()=>e7Y,TemplateLiteral:()=>e80,TemplateLiteralParser:()=>e81,TimeZone:()=>trx,TimeZoneFromSelf:()=>trw,TimeZoneNamed:()=>trv,TimeZoneNamedFromSelf:()=>trS,TimeZoneOffset:()=>trg,TimeZoneOffsetFromSelf:()=>trm,ToPropertySignature:()=>e7T,Trim:()=>e96,Trimmed:()=>e91,TrimmedSchemaId:()=>e9w,Tuple:()=>e7S,TypeId:()=>e8y,ULID:()=>ten,ULIDSchemaId:()=>tet,URL:()=>tea,URLFromSelf:()=>tei,UUID:()=>tee,UUIDSchemaId:()=>e97,Uint8:()=>ttR,Uint8Array:()=>ttD,Uint8ArrayFromBase64:()=>ttL,Uint8ArrayFromBase64Url:()=>ttP,Uint8ArrayFromHex:()=>tt$,Uint8ArrayFromSelf:()=>ttN,Uncapitalize:()=>e90,Uncapitalized:()=>e9H,UncapitalizedSchemaId:()=>e9V,Undefined:()=>e87,UndefinedOr:()=>e7f,Union:()=>e7c,UniqueSymbolFromSelf:()=>e8Z,Unknown:()=>e7r,Uppercase:()=>e9Y,Uppercased:()=>e9B,UppercasedSchemaId:()=>e9z,ValidDateFromSelf:()=>tra,ValidDateSchemaId:()=>tt1,Void:()=>e89,annotations:()=>e9S,asSchema:()=>e8T,asSerializable:()=>tiZ,asSerializableWithResult:()=>tar,asWithResult:()=>ti1,asserts:()=>eQi,attachPropertySignature:()=>e9b,between:()=>tew,betweenBigDecimal:()=>tnN,betweenBigInt:()=>teX,betweenDate:()=>trr,betweenDuration:()=>ttM,brand:()=>e73,capitalized:()=>e9q,clamp:()=>teO,clampBigDecimal:()=>tnR,clampBigInt:()=>te3,clampDuration:()=>ttx,compose:()=>e9s,declare:()=>e86,decode:()=>e8U,decodeEither:()=>e8B,decodeOption:()=>eZ3,decodePromise:()=>e8W,decodeSync:()=>eZ6,decodeUnknown:()=>e8P,decodeUnknownEither:()=>e8$,decodeUnknownOption:()=>eZH,decodeUnknownPromise:()=>e8z,decodeUnknownSync:()=>eZJ,deserialize:()=>tiX,deserializeExit:()=>tat,deserializeFailure:()=>ti8,deserializeSuccess:()=>ti9,element:()=>e7m,encode:()=>e8D,encodeEither:()=>e8j,encodeOption:()=>eQs,encodePromise:()=>e8L,encodeSync:()=>eQa,encodeUnknown:()=>e8M,encodeUnknownEither:()=>e8N,encodeUnknownOption:()=>eZX,encodeUnknownPromise:()=>e8R,encodeUnknownSync:()=>eZY,encodedBoundSchema:()=>e8F,encodedSchema:()=>e8C,endsWith:()=>e9R,equivalence:()=>tai,exitSchema:()=>ti4,extend:()=>e9a,failureSchema:()=>ti2,filter:()=>e9h,filterEffect:()=>e9f,finite:()=>teo,format:()=>e8O,fromBrand:()=>e84,fromKey:()=>e7U,getClassTag:()=>tn2,getNumberIndexedAccess:()=>ttQ,greaterThan:()=>teu,greaterThanBigDecimal:()=>tnd,greaterThanBigInt:()=>teK,greaterThanDate:()=>tt7,greaterThanDuration:()=>ttO,greaterThanOrEqualTo:()=>teh,greaterThanOrEqualToBigDecimal:()=>tnm,greaterThanOrEqualToBigInt:()=>teJ,greaterThanOrEqualToDate:()=>tre,greaterThanOrEqualToDuration:()=>ttF,head:()=>ttY,headNonEmpty:()=>ttX,headOrElse:()=>tt0,includes:()=>e9j,instanceOf:()=>e88,int:()=>tem,is:()=>eQn,isPropertySignature:()=>e7A,isSchema:()=>e8J,itemsCount:()=>ttZ,keyof:()=>e7p,length:()=>e9O,lessThan:()=>tey,lessThanBigDecimal:()=>tny,lessThanBigInt:()=>teG,lessThanDate:()=>tt3,lessThanDuration:()=>tt_,lessThanOrEqualTo:()=>teS,lessThanOrEqualToBigDecimal:()=>tnS,lessThanOrEqualToBigInt:()=>teQ,lessThanOrEqualToDate:()=>tt5,lessThanOrEqualToDuration:()=>ttI,lowercased:()=>e9P,make:()=>e8b,makePropertySignature:()=>e7N,maxItems:()=>ttH,maxLength:()=>e9_,minItems:()=>ttV,minLength:()=>e9I,multipleOf:()=>ted,mutable:()=>e77,negative:()=>teE,negativeBigDecimal:()=>tnT,negativeBigInt:()=>te1,nonEmptyString:()=>e9Z,nonNaN:()=>tek,nonNegative:()=>teT,nonNegativeBigDecimal:()=>tn_,nonNegativeBigInt:()=>te2,nonPositive:()=>teI,nonPositiveBigDecimal:()=>tnF,nonPositiveBigInt:()=>te6,omit:()=>e71,optional:()=>e7K,optionalElement:()=>e7g,optionalToOptional:()=>e7q,optionalToRequired:()=>e7B,optionalWith:()=>e7V,parseJson:()=>e95,parseNumber:()=>teC,partial:()=>e74,partialWith:()=>e75,pattern:()=>e9F,pick:()=>e70,pickLiteral:()=>e8G,pluck:()=>e72,positive:()=>te_,positiveBigDecimal:()=>tnw,positiveBigInt:()=>te0,propertySignature:()=>e7D,rename:()=>e9v,required:()=>e78,requiredToOptional:()=>e7W,serializableSchema:()=>tiQ,serialize:()=>tiY,serializeExit:()=>tae,serializeFailure:()=>ti5,serializeSuccess:()=>ti7,split:()=>e93,standardSchemaV1:()=>e8k,startsWith:()=>e9M,successSchema:()=>ti6,suspend:()=>e9o,symbolSerializable:()=>tiG,symbolWithResult:()=>ti0,tag:()=>e7Q,transform:()=>e9m,transformLiteral:()=>e9g,transformLiterals:()=>e9y,transformOrFail:()=>e9p,trimmed:()=>e9x,typeSchema:()=>e8A,uncapitalized:()=>e9J,uppercased:()=>e9U,validDate:()=>tt2,validate:()=>e8q,validateEither:()=>e8K,validateOption:()=>eZ9,validatePromise:()=>e8V,validateSync:()=>eZ7,withConstructorDefault:()=>e7j,withDecodingDefault:()=>e7$,withDefaults:()=>e7z});var tW={};r.r(tW),r.d(tW,{ScopedCacheTypeId:()=>tav,make:()=>taw,makeWith:()=>tax});var tq={};r.r(tq),r.d(tq,{ScopedRefTypeId:()=>tak,fromAcquire:()=>ta_,get:()=>taE,make:()=>taI,set:()=>taT});var tK={};r.r(tK),r.d(tK,{SecretTypeId:()=>taO,fromIterable:()=>taA,fromString:()=>taM,isSecret:()=>taC,make:()=>taF,unsafeWipe:()=>taR,value:()=>taN});var tV={};r.r(tV),r.d(tV,{make:()=>taD});var tJ={};r.r(tJ),r.d(tJ,{SinkTypeId:()=>taj,as:()=>taL,collectAll:()=>taP,collectAllFrom:()=>taz,collectAllN:()=>ta$,collectAllToMap:()=>taU,collectAllToMapN:()=>taB,collectAllToSet:()=>taW,collectAllToSetN:()=>taq,collectAllUntil:()=>taK,collectAllUntilEffect:()=>taV,collectAllWhile:()=>taJ,collectAllWhileEffect:()=>taH,collectAllWhileWith:()=>taG,collectLeftover:()=>taZ,context:()=>tso,contextWith:()=>tsl,contextWithEffect:()=>tsu,contextWithSink:()=>tsc,count:()=>ta1,die:()=>ta2,dieMessage:()=>ta6,dieSync:()=>ta3,dimap:()=>ta4,dimapChunks:()=>ta8,dimapChunksEffect:()=>ta7,dimapEffect:()=>ta5,drain:()=>ta9,drop:()=>tse,dropUntil:()=>tst,dropUntilEffect:()=>tsr,dropWhile:()=>tsn,dropWhileEffect:()=>tsi,ensuring:()=>tsa,ensuringWith:()=>tss,every:()=>tsh,fail:()=>tsf,failCause:()=>tsp,failCauseSync:()=>tsm,failSync:()=>tsd,filterInput:()=>tsg,filterInputEffect:()=>tsy,findEffect:()=>tsb,flatMap:()=>tsP,fold:()=>tsS,foldChunks:()=>tsw,foldChunksEffect:()=>tsx,foldEffect:()=>tsk,foldLeft:()=>ts_,foldLeftChunks:()=>tsE,foldLeftChunksEffect:()=>tsI,foldLeftEffect:()=>tsT,foldSink:()=>tsv,foldUntil:()=>tsO,foldUntilEffect:()=>tsC,foldWeighted:()=>tsF,foldWeightedDecompose:()=>tsA,foldWeightedDecomposeEffect:()=>tsM,foldWeightedEffect:()=>tsN,forEach:()=>tsR,forEachChunk:()=>tsD,forEachChunkWhile:()=>tsj,forEachWhile:()=>tsL,fromChannel:()=>ts$,fromEffect:()=>tsU,fromPubSub:()=>tsB,fromPush:()=>tsW,fromQueue:()=>tsq,head:()=>tsK,ignoreLeftover:()=>tsV,last:()=>tsJ,leftover:()=>tsH,map:()=>tsG,mapEffect:()=>tsZ,mapError:()=>tsQ,mapInput:()=>taQ,mapInputChunks:()=>taX,mapInputChunksEffect:()=>ta0,mapInputEffect:()=>taY,mapLeftover:()=>tsY,mkString:()=>tsX,never:()=>ts0,orElse:()=>ts1,provideContext:()=>ts2,race:()=>ts6,raceBoth:()=>ts3,raceWith:()=>ts4,refineOrDie:()=>ts5,refineOrDieWith:()=>ts8,some:()=>ts7,splitWhere:()=>ts9,succeed:()=>toe,sum:()=>tot,summarized:()=>tor,suspend:()=>ton,sync:()=>toi,take:()=>toa,timed:()=>tos,toChannel:()=>tsz,unwrap:()=>too,unwrapScoped:()=>tol,unwrapScopedWith:()=>tou,withDuration:()=>toc,zip:()=>toh,zipLeft:()=>tof,zipRight:()=>tod,zipWith:()=>top});var tH={};r.r(tH),r.d(tH,{empty:()=>toS,entries:()=>toD,fromIterable:()=>tov,get:()=>to_,getOrder:()=>toE,has:()=>toI,headOption:()=>toT,isEmpty:()=>tox,isNonEmpty:()=>tok,isSortedMap:()=>tob,keys:()=>toN,lastOption:()=>toj,make:()=>tow,map:()=>toO,partition:()=>toL,reduce:()=>toC,remove:()=>toF,set:()=>toA,size:()=>toM,values:()=>toR});var tG={};r.r(tG),r.d(tG,{DefaultChunkSize:()=>to$,Do:()=>tfx,StreamTypeId:()=>toP,accumulate:()=>toz,accumulateChunks:()=>toU,acquireRelease:()=>toB,aggregate:()=>toW,aggregateWithin:()=>toq,aggregateWithinEither:()=>toK,as:()=>toV,async:()=>toJ,asyncEffect:()=>toH,asyncPush:()=>toG,asyncScoped:()=>toZ,bind:()=>tfk,bindEffect:()=>tf_,bindTo:()=>tfE,branchAfter:()=>toQ,broadcast:()=>toY,broadcastDynamic:()=>to0,broadcastedQueues:()=>to1,broadcastedQueuesDynamic:()=>to2,buffer:()=>to6,bufferChunks:()=>to3,catchAll:()=>to4,catchAllCause:()=>to5,catchSome:()=>to8,catchSomeCause:()=>tle,catchTag:()=>to7,catchTags:()=>to9,changes:()=>tlt,changesWith:()=>tlr,changesWithEffect:()=>tln,chunks:()=>tli,chunksWith:()=>tla,combine:()=>tls,combineChunks:()=>tlo,concat:()=>tll,concatAll:()=>tlu,context:()=>tlM,contextWith:()=>tlN,contextWithEffect:()=>tlR,contextWithStream:()=>tlD,cross:()=>tlc,crossLeft:()=>tlh,crossRight:()=>tlf,crossWith:()=>tld,debounce:()=>tlp,decodeText:()=>tfT,die:()=>tlm,dieMessage:()=>tly,dieSync:()=>tlg,distributedWith:()=>tlb,distributedWithDynamic:()=>tlS,drain:()=>tlv,drainFork:()=>tlw,drop:()=>tlx,dropRight:()=>tlk,dropUntil:()=>tl_,dropUntilEffect:()=>tlE,dropWhile:()=>tlI,dropWhileEffect:()=>tlT,either:()=>tlO,empty:()=>tlC,encodeText:()=>tfO,ensuring:()=>tlF,ensuringWith:()=>tlA,execute:()=>tlj,fail:()=>tlL,failCause:()=>tl$,failCauseSync:()=>tlz,failSync:()=>tlP,filter:()=>tlU,filterEffect:()=>tlB,filterMap:()=>tlW,filterMapEffect:()=>tlq,filterMapWhile:()=>tlK,filterMapWhileEffect:()=>tlV,finalizer:()=>tlJ,find:()=>tlH,findEffect:()=>tlG,flatMap:()=>tlZ,flatten:()=>tlQ,flattenChunks:()=>tlY,flattenEffect:()=>tlX,flattenExitOption:()=>tl0,flattenIterables:()=>tl1,flattenTake:()=>tl2,forever:()=>tl6,fromAsyncIterable:()=>tl3,fromChannel:()=>tl4,fromChunk:()=>tl8,fromChunkPubSub:()=>tl7,fromChunkQueue:()=>tl9,fromChunks:()=>tue,fromEffect:()=>tut,fromEffectOption:()=>tur,fromEventListener:()=>tfC,fromIterable:()=>tua,fromIterableEffect:()=>tus,fromIteratorSucceed:()=>tuo,fromPubSub:()=>tun,fromPull:()=>tul,fromQueue:()=>tuu,fromReadableStream:()=>tuh,fromReadableStreamByob:()=>tuf,fromSchedule:()=>tud,fromTPubSub:()=>tui,fromTQueue:()=>tuc,groupAdjacentBy:()=>tup,groupBy:()=>tum,groupByKey:()=>tug,grouped:()=>tuy,groupedWithin:()=>tub,haltAfter:()=>tuS,haltWhen:()=>tuv,haltWhenDeferred:()=>tuw,identity:()=>tux,interleave:()=>tuk,interleaveWith:()=>tu_,interruptAfter:()=>tuT,interruptWhen:()=>tuO,interruptWhenDeferred:()=>tuC,intersperse:()=>tuE,intersperseAffixes:()=>tuI,iterate:()=>tuF,let:()=>tfI,make:()=>tuA,map:()=>tuM,mapAccum:()=>tuN,mapAccumEffect:()=>tuR,mapBoth:()=>tuD,mapChunks:()=>tuj,mapChunksEffect:()=>tuL,mapConcat:()=>tuP,mapConcatChunk:()=>tu$,mapConcatChunkEffect:()=>tuz,mapConcatEffect:()=>tuU,mapEffect:()=>tuB,mapError:()=>tuW,mapErrorCause:()=>tuq,mapInputContext:()=>tcv,merge:()=>tuK,mergeAll:()=>tuV,mergeEither:()=>tuG,mergeLeft:()=>tuZ,mergeRight:()=>tuQ,mergeWith:()=>tuH,mergeWithTag:()=>tuJ,mkString:()=>tuY,never:()=>tuX,onDone:()=>tu2,onEnd:()=>tu0,onError:()=>tu1,onStart:()=>tu6,orDie:()=>tu3,orDieWith:()=>tu4,orElse:()=>tu5,orElseEither:()=>tu8,orElseFail:()=>tu7,orElseIfEmpty:()=>tu9,orElseIfEmptyChunk:()=>tce,orElseIfEmptyStream:()=>tct,orElseSucceed:()=>tcr,paginate:()=>tcn,paginateChunk:()=>tci,paginateChunkEffect:()=>tca,paginateEffect:()=>tcs,partition:()=>tco,partitionEither:()=>tcl,peel:()=>tcu,pipeThrough:()=>tcc,pipeThroughChannel:()=>tch,pipeThroughChannelOrFail:()=>tcf,prepend:()=>tcd,provideContext:()=>tcp,provideLayer:()=>tcg,provideService:()=>tcy,provideServiceEffect:()=>tcb,provideServiceStream:()=>tcS,provideSomeContext:()=>tcm,provideSomeLayer:()=>tcw,race:()=>tcx,raceAll:()=>tck,range:()=>tc_,rechunk:()=>tcE,refineOrDie:()=>tcI,refineOrDieWith:()=>tcT,repeat:()=>tcO,repeatEffect:()=>tcC,repeatEffectChunk:()=>tcF,repeatEffectChunkOption:()=>tcA,repeatEffectOption:()=>tcM,repeatEffectWithSchedule:()=>tcN,repeatEither:()=>tcR,repeatElements:()=>tcD,repeatElementsWith:()=>tcj,repeatValue:()=>tcL,repeatWith:()=>tcP,retry:()=>tc$,run:()=>tcU,runCollect:()=>tcB,runCount:()=>tcW,runDrain:()=>tcq,runFold:()=>tcK,runFoldEffect:()=>tcV,runFoldScoped:()=>tcJ,runFoldScopedEffect:()=>tcH,runFoldWhile:()=>tcG,runFoldWhileEffect:()=>tcZ,runFoldWhileScoped:()=>tcQ,runFoldWhileScopedEffect:()=>tcY,runForEach:()=>tcX,runForEachChunk:()=>tc0,runForEachChunkScoped:()=>tc1,runForEachScoped:()=>tc2,runForEachWhile:()=>tc6,runForEachWhileScoped:()=>tc3,runHead:()=>tc4,runIntoPubSub:()=>tc5,runIntoPubSubScoped:()=>tc8,runIntoQueue:()=>tc7,runIntoQueueElementsScoped:()=>tc9,runIntoQueueScoped:()=>the,runLast:()=>tht,runScoped:()=>thr,runSum:()=>thn,scan:()=>thi,scanEffect:()=>tha,scanReduce:()=>ths,scanReduceEffect:()=>tho,schedule:()=>thl,scheduleWith:()=>thu,scoped:()=>thc,scopedWith:()=>thh,share:()=>toX,sliding:()=>thf,slidingSize:()=>thd,some:()=>thp,someOrElse:()=>thm,someOrFail:()=>thg,split:()=>thy,splitLines:()=>thS,splitOnChunk:()=>thb,succeed:()=>thv,suspend:()=>thx,sync:()=>thw,take:()=>thk,takeRight:()=>th_,takeUntil:()=>thE,takeUntilEffect:()=>thI,takeWhile:()=>thT,tap:()=>thO,tapBoth:()=>thC,tapError:()=>thF,tapErrorCause:()=>thA,tapSink:()=>thM,throttle:()=>thN,throttleEffect:()=>thR,tick:()=>thD,timeout:()=>thj,timeoutFail:()=>thL,timeoutFailCause:()=>thP,timeoutTo:()=>th$,toAsyncIterable:()=>thG,toAsyncIterableEffect:()=>thH,toAsyncIterableRuntime:()=>thJ,toChannel:()=>tl5,toPubSub:()=>thz,toPull:()=>thU,toQueue:()=>thB,toQueueOfElements:()=>thW,toReadableStream:()=>thq,toReadableStreamEffect:()=>thK,toReadableStreamRuntime:()=>thV,transduce:()=>thZ,unfold:()=>thQ,unfoldChunk:()=>thY,unfoldChunkEffect:()=>thX,unfoldEffect:()=>th0,unwrap:()=>th2,unwrapScoped:()=>th6,unwrapScopedWith:()=>th3,updateService:()=>th4,void:()=>th1,when:()=>th5,whenCase:()=>th8,whenCaseEffect:()=>th7,whenEffect:()=>th9,withExecutionPlan:()=>tcz,withSpan:()=>tfe,zip:()=>tft,zipAll:()=>tfn,zipAllLeft:()=>tfi,zipAllRight:()=>tfa,zipAllSortedByKey:()=>tfs,zipAllSortedByKeyLeft:()=>tfo,zipAllSortedByKeyRight:()=>tfl,zipAllSortedByKeyWith:()=>tfu,zipAllWith:()=>tfc,zipFlatten:()=>tfr,zipLatest:()=>tfh,zipLatestAll:()=>tff,zipLatestWith:()=>tfd,zipLeft:()=>tfp,zipRight:()=>tfm,zipWith:()=>tfg,zipWithChunks:()=>tfy,zipWithIndex:()=>tfw,zipWithNext:()=>tfb,zipWithPrevious:()=>tfS,zipWithPreviousAndNext:()=>tfv});var tZ={};r.r(tZ);var tQ={};r.r(tQ),r.d(tQ,{Class:()=>tfA});var tY={};r.r(tY),r.d(tY,{TypeId:()=>tfM,isSubscribable:()=>tfN,make:()=>tfD,map:()=>tfj,mapEffect:()=>tfL,unwrap:()=>tfP});var tX={};r.r(tX),r.d(tX,{SynchronizedRefTypeId:()=>tf$,get:()=>tfU,getAndSet:()=>tfB,getAndUpdate:()=>tfW,getAndUpdateEffect:()=>tfq,getAndUpdateSome:()=>tfK,getAndUpdateSomeEffect:()=>tfV,make:()=>tfz,modify:()=>tfJ,modifyEffect:()=>tfH,modifySome:()=>tfG,modifySomeEffect:()=>tfZ,set:()=>tfQ,setAndGet:()=>tfY,unsafeMake:()=>tf8,update:()=>tfX,updateAndGet:()=>tf1,updateAndGetEffect:()=>tf2,updateEffect:()=>tf0,updateSome:()=>tf6,updateSomeAndGet:()=>tf4,updateSomeAndGetEffect:()=>tf5,updateSomeEffect:()=>tf3});var t0={};r.r(t0),r.d(t0,{SubscriptionRefTypeId:()=>tdi,get:()=>tda,getAndSet:()=>tds,getAndUpdate:()=>tdo,getAndUpdateEffect:()=>tdl,getAndUpdateSome:()=>tdu,getAndUpdateSomeEffect:()=>tdc,make:()=>tdh,modify:()=>tdf,modifyEffect:()=>tdd,modifySome:()=>tdp,modifySomeEffect:()=>tdm,set:()=>tdg,setAndGet:()=>tdy,update:()=>tdb,updateAndGet:()=>tdv,updateAndGetEffect:()=>tdw,updateEffect:()=>tdS,updateSome:()=>tdx,updateSomeAndGet:()=>td_,updateSomeAndGetEffect:()=>tdE,updateSomeEffect:()=>tdk});var t1={};r.r(t1),r.d(t1,{AbstractSupervisor:()=>tdN,SupervisorTypeId:()=>tdI,addSupervisor:()=>tdT,fibersIn:()=>tdO,fromEffect:()=>tdC,none:()=>tdF,track:()=>tdA,unsafeTrack:()=>tdM});var t2={};r.r(t2),r.d(t2,{Equivalence:()=>tdD,isSymbol:()=>tdR});var t6={};r.r(t6),r.d(t6,{TArrayTypeId:()=>tpc,collectFirst:()=>tph,collectFirstSTM:()=>tpf,contains:()=>tpd,count:()=>tpp,countSTM:()=>tpm,empty:()=>tpg,every:()=>tpy,everySTM:()=>tpb,findFirst:()=>tpS,findFirstIndex:()=>tpv,findFirstIndexFrom:()=>tpw,findFirstIndexWhere:()=>tpx,findFirstIndexWhereFrom:()=>tpk,findFirstIndexWhereFromSTM:()=>tpE,findFirstIndexWhereSTM:()=>tp_,findFirstSTM:()=>tpI,findLast:()=>tpT,findLastIndex:()=>tpO,findLastIndexFrom:()=>tpC,findLastSTM:()=>tpF,forEach:()=>tpA,fromIterable:()=>tpM,get:()=>tpN,headOption:()=>tpR,lastOption:()=>tpD,make:()=>tpj,maxOption:()=>tpL,minOption:()=>tpP,reduce:()=>tp$,reduceOption:()=>tpz,reduceOptionSTM:()=>tpU,reduceSTM:()=>tpB,size:()=>tpW,some:()=>tpq,someSTM:()=>tpK,toArray:()=>tpV,transform:()=>tpJ,transformSTM:()=>tpH,update:()=>tpG,updateSTM:()=>tpZ});var t3={};r.r(t3),r.d(t3,{TDeferredTypeId:()=>tp6,await:()=>tp3,done:()=>tp4,fail:()=>tp5,make:()=>tp8,poll:()=>tp7,succeed:()=>tp9});var t4={};r.r(t4),r.d(t4,{TMapTypeId:()=>tmR,empty:()=>tmD,find:()=>tmj,findAll:()=>tmP,findAllSTM:()=>tm$,findSTM:()=>tmL,forEach:()=>tmz,fromIterable:()=>tmU,get:()=>tmB,getOrElse:()=>tmW,has:()=>tmq,isEmpty:()=>tmK,keys:()=>tmV,make:()=>tmJ,merge:()=>tmH,reduce:()=>tmG,reduceSTM:()=>tmZ,remove:()=>tmQ,removeAll:()=>tmY,removeIf:()=>tmX,retainIf:()=>tm0,set:()=>tm1,setIfAbsent:()=>tm2,size:()=>tm6,takeFirst:()=>tm3,takeFirstSTM:()=>tm4,takeSome:()=>tm5,takeSomeSTM:()=>tm8,toArray:()=>tge,toChunk:()=>tm7,toHashMap:()=>tm9,toMap:()=>tgt,transform:()=>tgr,transformSTM:()=>tgn,transformValues:()=>tgi,transformValuesSTM:()=>tga,updateWith:()=>tgs,values:()=>tgo});var t5={};r.r(t5),r.d(t5,{TPriorityQueueTypeId:()=>tgy,empty:()=>tgb,fromIterable:()=>tgS,isEmpty:()=>tgv,isNonEmpty:()=>tgw,make:()=>tgx,offer:()=>tgk,offerAll:()=>tg_,peek:()=>tgE,peekOption:()=>tgI,removeIf:()=>tgT,retainIf:()=>tgO,size:()=>tgC,take:()=>tgF,takeAll:()=>tgA,takeOption:()=>tgM,takeUpTo:()=>tgN,toArray:()=>tgD,toChunk:()=>tgR});var t8={};r.r(t8),r.d(t8,{TRandomTypeId:()=>tgK,Tag:()=>tgV,live:()=>tgJ,next:()=>tgH,nextBoolean:()=>tgG,nextInt:()=>tgZ,nextIntBetween:()=>tgQ,nextRange:()=>tgY,shuffle:()=>tgX});var t7={};r.r(t7),r.d(t7,{TReentrantLockTypeId:()=>tyu,acquireRead:()=>tyc,acquireWrite:()=>tyh,fiberReadLocks:()=>tyf,fiberWriteLocks:()=>tyd,lock:()=>typ,locked:()=>tym,make:()=>tyg,readLock:()=>tyy,readLocked:()=>tyS,readLocks:()=>tyb,releaseRead:()=>tyv,releaseWrite:()=>tyw,withLock:()=>tyx,withReadLock:()=>tyk,withWriteLock:()=>ty_,writeLock:()=>tyE,writeLocked:()=>tyI,writeLocks:()=>tyT});var t9={};r.r(t9),r.d(t9,{TRefTypeId:()=>tyO,get:()=>tyC,getAndSet:()=>tyF,getAndUpdate:()=>tyA,getAndUpdateSome:()=>tyM,make:()=>tyN,modify:()=>tyR,modifySome:()=>tyD,set:()=>tyj,setAndGet:()=>tyL,update:()=>tyP,updateAndGet:()=>ty$,updateSome:()=>tyz,updateSomeAndGet:()=>tyU});var re={};r.r(re),r.d(re,{TSemaphoreTypeId:()=>tyG,acquire:()=>tyZ,acquireN:()=>tyQ,available:()=>tyY,make:()=>tyX,release:()=>ty0,releaseN:()=>ty1,unsafeMake:()=>ty5,withPermit:()=>ty2,withPermitScoped:()=>ty3,withPermits:()=>ty6,withPermitsScoped:()=>ty4});var rt={};r.r(rt),r.d(rt,{TSetTypeId:()=>tbx,add:()=>tbk,difference:()=>tb_,empty:()=>tbE,forEach:()=>tbI,fromIterable:()=>tbT,has:()=>tbO,intersection:()=>tbC,isEmpty:()=>tbF,make:()=>tbA,reduce:()=>tbM,reduceSTM:()=>tbN,remove:()=>tbR,removeAll:()=>tbD,removeIf:()=>tbj,retainIf:()=>tbL,size:()=>tbP,takeFirst:()=>tb$,takeFirstSTM:()=>tbz,takeSome:()=>tbU,takeSomeSTM:()=>tbB,toArray:()=>tbK,toChunk:()=>tbW,toHashSet:()=>tbq,toReadonlySet:()=>tbV,transform:()=>tbJ,transformSTM:()=>tbH,union:()=>tbG});var rr={};r.r(rr),r.d(rr,{TSubscriptionRefTypeId:()=>tSt,changes:()=>tSy,changesScoped:()=>tSm,changesStream:()=>tSg,get:()=>tSr,getAndSet:()=>tSn,getAndUpdate:()=>tSi,getAndUpdateSome:()=>tSa,make:()=>tSs,modify:()=>tSo,modifySome:()=>tSl,set:()=>tSu,setAndGet:()=>tSc,update:()=>tSh,updateAndGet:()=>tSf,updateSome:()=>tSd,updateSomeAndGet:()=>tSp});var rn={};r.r(rn),r.d(rn,{TakeTypeId:()=>tSb,chunk:()=>tSS,die:()=>tSv,dieMessage:()=>tSw,done:()=>tSx,end:()=>tSk,fail:()=>tS_,failCause:()=>tSE,fromEffect:()=>tSI,fromExit:()=>tST,fromPull:()=>tSO,isDone:()=>tSC,isFailure:()=>tSF,isSuccess:()=>tSA,make:()=>tSM,map:()=>tSN,match:()=>tSR,matchEffect:()=>tSD,of:()=>tSj,tap:()=>tSL});var ri={};r.r(ri),r.d(ri,{TestAnnotationTypeId:()=>tS$,compose:()=>tSW,fibers:()=>tSq,ignored:()=>tSK,isTestAnnotation:()=>tSU,make:()=>tSB,repeated:()=>tSV,retried:()=>tSJ,tagged:()=>tSH});var ra={};r.r(ra),r.d(ra,{TestAnnotationMapTypeId:()=>tSG,annotate:()=>tS6,combine:()=>tS3,empty:()=>tSY,get:()=>tS2,isTestAnnotationMap:()=>tSQ,make:()=>tSX,overwrite:()=>tS0,update:()=>tS1});var rs={};r.r(rs),r.d(rs,{TestAnnotations:()=>tS8,TestAnnotationsTypeId:()=>tS4,isTestAnnotations:()=>tS7,make:()=>tS9});var ro={};r.r(ro),r.d(ro,{TestLive:()=>tvu,TestLiveTypeId:()=>tvl,make:()=>tvh});var rl={};r.r(rl),r.d(rl,{TestClock:()=>tvd,TestClockImpl:()=>tvp,adjust:()=>tvy,adjustWith:()=>tvb,currentTimeMillis:()=>tvE,defaultTestClock:()=>tvg,live:()=>tvm,makeData:()=>tvf,save:()=>tvS,setTime:()=>tvv,sleep:()=>tvw,sleeps:()=>tvx,testClock:()=>tvk,testClockWith:()=>tv_});var ru={};r.r(ru),r.d(ru,{TestConfig:()=>tvI,make:()=>tvT});var rc={};r.r(rc),r.d(rc,{TestSized:()=>tvC,TestSizedTypeId:()=>tvO,fromFiberRef:()=>tvM,make:()=>tvA});var rh={};r.r(rh),r.d(rh,{annotate:()=>tvU,annotations:()=>tvD,annotationsLayer:()=>tv$,annotationsWith:()=>tvj,currentServices:()=>tvR,get:()=>tvz,live:()=>tvq,liveLayer:()=>tvJ,liveServices:()=>tvN,liveWith:()=>tvW,provideLive:()=>tvH,provideWithLive:()=>tvG,repeats:()=>tv7,retries:()=>tv9,samples:()=>twe,shrinks:()=>twt,size:()=>tv1,sized:()=>tvQ,sizedLayer:()=>tv0,sizedWith:()=>tvZ,supervisedFibers:()=>tvB,testConfig:()=>tv3,testConfigLayer:()=>tv8,testConfigWith:()=>tv6,withAnnotations:()=>tvL,withAnnotationsScoped:()=>tvP,withLive:()=>tvK,withLiveScoped:()=>tvV,withSize:()=>tv2,withSized:()=>tvY,withSizedScoped:()=>tvX,withTestConfig:()=>tv4,withTestConfigScoped:()=>tv5});var rf={};r.r(rf),r.d(rf,{LiveContext:()=>twn,TestContext:()=>twi,live:()=>twr});var rd={};r.r(rd),r.d(rd,{compact:()=>tw1,empty:()=>twM,entries:()=>twP,entriesWithPrefix:()=>twB,filter:()=>twX,filterMap:()=>tw0,forEach:()=>tw2,fromIterable:()=>twN,get:()=>twV,has:()=>twJ,insert:()=>twD,insertMany:()=>tw4,isEmpty:()=>twH,keys:()=>twj,keysWithPrefix:()=>twz,longestPrefixOf:()=>twq,make:()=>twR,map:()=>twY,modify:()=>tw6,reduce:()=>twQ,remove:()=>twZ,removeMany:()=>tw3,size:()=>twK,toEntries:()=>tw$,toEntriesWithPrefix:()=>twW,unsafeGet:()=>twG,values:()=>twL,valuesWithPrefix:()=>twU});var rp={};r.r(rp);var rm={};r.r(rm),r.d(rm,{unify:()=>tw5});var rg={};r.r(rg),r.d(rg,{NoUpstream:()=>tw9,Pulled:()=>tw7,UpstreamPullRequestTypeId:()=>tw8,isNoUpstream:()=>txr,isPulled:()=>txt,isUpstreamPullRequest:()=>txe,match:()=>txn});var ry={};r.r(ry),r.d(ry,{PullAfterAllEnqueued:()=>txs,PullAfterNext:()=>txa,UpstreamPullStrategyTypeId:()=>txi,isPullAfterAllEnqueued:()=>txu,isPullAfterNext:()=>txl,isUpstreamPullStrategy:()=>txo,match:()=>txc});let rb=e=>"function"==typeof e,rS=function(e,t){if("function"==typeof e)return function(){return e(arguments)?t.apply(this,arguments):e=>t(e,...arguments)};switch(e){case 0:case 1:throw RangeError(`Invalid arity ${e}`);case 2:return function(e,r){return arguments.length>=2?t(e,r):function(r){return t(r,e)}};case 3:return function(e,r,n){return arguments.length>=3?t(e,r,n):function(n){return t(n,e,r)}};case 4:return function(e,r,n,i){return arguments.length>=4?t(e,r,n,i):function(i){return t(i,e,r,n)}};case 5:return function(e,r,n,i,a){return arguments.length>=5?t(e,r,n,i,a):function(a){return t(a,e,r,n,i)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);let r=arguments;return function(e){return t(e,...r)}}}},rv=(...e)=>t=>t(...e),rw=e=>e,rx=()=>e=>e,rk=rw,r_=e=>()=>e,rE=r_(!0),rI=r_(!1),rT=r_(null),rO=r_(void 0),rC=rO,rF=e=>(...t)=>(...r)=>e(...r)(...t),rA=rS(2,(e,t)=>r=>t(e(r))),rM=e=>{throw Error("Called `absurd` function which should be uncallable")},rN=e=>t=>e(...t),rR=e=>(...t)=>e(t);function rD(e,t,r,n,i,a,s,o,l){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return i(n(r(t(e))));case 6:return a(i(n(r(t(e)))));case 7:return s(a(i(n(r(t(e))))));case 8:return o(s(a(i(n(r(t(e)))))));case 9:return l(o(s(a(i(n(r(t(e))))))));default:{let e=arguments[0];for(let t=1;t<arguments.length;t++)e=arguments[t](e);return e}}}function rj(e,t,r,n,i,a,s,o,l){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return i(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return s(a(i(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return o(s(a(i(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return l(o(s(a(i(n(r(t(e.apply(this,arguments)))))))))}}}let rL=rk(rM),rP=(e,t)=>t,r$=e=>(t,r)=>t===r||e(t,r),rz=(e,t)=>e===t,rU=()=>rz,rB=rU(),rW=rU(),rq=rU(),rK=rU(),rV=rU(),rJ=rS(2,(e,t)=>r$((r,n)=>e(r,n)&&t(r,n))),rH=rS(2,(e,t)=>r$((r,n)=>{if(!e(r,n))return!1;for(let e of t)if(!e(r,n))return!1;return!0})),rG=(e,t)=>!0,rZ=e=>rH(rG,e),rQ=rS(2,(e,t)=>r$((r,n)=>e(t(r),t(n)))),rY=rQ(rW,e=>e.getTime()),rX=rS(2,(e,t)=>r$(([r,n],[i,a])=>e(r,i)&&t(n,a))),r0=e=>r$((t,r)=>{let n=Math.min(t.length,r.length),i=0;for(let a of e){if(i>=n)break;if(!a(t[i],r[i]))return!1;i++}return!0}),r1=(e,t)=>{let r=r0(t);return r$((t,n)=>!!e(t[0],n[0])&&r(t.slice(1),n.slice(1)))},r2=(...e)=>r0(e),r6=e=>r$((t,r)=>{if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1;return!0}),r3=e=>{let t=Object.keys(e);return r$((r,n)=>{for(let i of t)if(!e[i](r[i],n[i]))return!1;return!0})},r4=e=>rS(3,(t,r,n)=>e(t,e=>({...e,[r]:n(e)}))),r5=e=>rS(2,(t,r)=>e(t,e=>({[r]:e}))),r8=(e,t)=>rS(3,(r,n,i)=>t(r,t=>e(i(t),e=>({...t,[n]:e})))),r7="effect/GlobalValue",r9=(e,t)=>(n||(globalThis[r7]??=new Map,n=globalThis[r7]),n.has(e)||n.set(e,t()),n.get(e)),ne=rS(2,(e,t)=>r=>e(t(r))),nt=rS(2,(e,t)=>e.length===t),nr=rS(2,(e,t)=>e.length>=t),nn=e=>!!e,ni=e=>e instanceof Set,na=e=>e instanceof Map,ns=e=>"string"==typeof e,no=e=>"number"==typeof e,nl=e=>"boolean"==typeof e,nu=e=>"bigint"==typeof e,nc=e=>"symbol"==typeof e,nh=e=>ns(e)||no(e)||nc(e),nf=rb,nd=e=>void 0===e,np=e=>void 0!==e,nm=e=>null===e,ng=e=>null!==e,ny=e=>!1,nb=e=>!0,nS=e=>"object"==typeof e&&null!==e,nv=e=>nS(e)||nf(e),nw=rS(2,(e,t)=>nv(e)&&t in e),nx=rS(2,(e,t)=>nw(e,"_tag")&&e._tag===t),nk=e=>null==e,n_=e=>null!=e,nE=e=>e instanceof Error,nI=e=>e instanceof Uint8Array,nT=e=>e instanceof Date,nO=e=>"string"==typeof e||nw(e,Symbol.iterator),nC=e=>nS(e)&&!Array.isArray(e),nF=nC,nA=e=>nw(e,"then")&&"catch"in e&&nf(e.then)&&nf(e.catch),nM=e=>nw(e,"then")&&nf(e.then),nN=e=>e instanceof RegExp,nR=rS(2,(e,t)=>r=>e(r)&&t(r)),nD=(e,t)=>([r,n])=>e(r)&&t(n),nj=e=>t=>{let r=0;for(let n of e){if(r>=t.length)break;if(!1===n(t[r]))return!1;r++}return!0},nL=(e,t)=>{let r=nj(t);return([t,...n])=>!1!==e(t)&&r(n)},nP=(...e)=>nj(e),n$=e=>{let t=Object.keys(e);return r=>{for(let n of t)if(!e[n](r[n]))return!1;return!0}},nz=e=>t=>!e(t),nU=rS(2,(e,t)=>r=>e(r)||t(r)),nB=rS(2,(e,t)=>r=>e(r)&&t(r)),nW=rS(2,(e,t)=>r=>e(r)!==t(r)),nq=rS(2,(e,t)=>r=>e(r)===t(r)),nK=rS(2,(e,t)=>r=>!e(r)||t(r)),nV=rS(2,(e,t)=>r=>!(e(r)||t(r))),nJ=rS(2,(e,t)=>r=>!(e(r)&&t(r))),nH=e=>t=>{for(let r of e)if(!r(t))return!1;return!0},nG=e=>t=>{for(let r of e)if(r(t))return!0;return!1},nZ=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`,nQ=Symbol.for("effect/Gen/GenKind"),nY=e=>nv(e)&&nQ in e;class nX{value;constructor(e){this.value=e}get _F(){return rw}get _R(){return e=>e}get _O(){return e=>e}get _E(){return e=>e}[nQ]=nQ;[Symbol.iterator](){return new n0(this)}}class n0{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new n0(this.self)}}let n1=e=>new nX(e),n2=()=>function(){let e=arguments[0];for(let t=1;t<arguments.length;t++)e=arguments[t](e);return new nX(e)};class n6{_state;constructor(e,t,r,n){return nk(t)&&nk(e)?(t=0xffffffff*Math.random()>>>0,e=0):nk(t)&&(t=e,e=0),nk(n)&&nk(r)?(n=this._state?this._state[3]:0xf767814f,r=this._state?this._state[2]:0x14057b7e):nk(n)&&(n=r,r=0),this._state=new Int32Array([0,0,r>>>0,(1|(n||0))>>>0]),this._next(),n3(this._state,this._state[0],this._state[1],e>>>0,t>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(e){this._state[0]=e[0],this._state[1]=e[1],this._state[2]=e[2],this._state[3]=1|e[3]}integer(e){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%e}number(){return(0x8000000*((0x3ffffff&this._next())*1)+(0x7ffffff&this._next())*1)/0x20000000000000}_next(){var e,t,r;let n,i,a,s,o=this._state[0]>>>0,l=this._state[1]>>>0;e=this._state,t=o,n=((r=l)>>>16)*32557>>>0,i=(65535&r)*19605>>>0,a=(65535&r)*32557>>>0,s=(r>>>16)*19605+((i>>>16)+(n>>>16))>>>0,(a=a+(i=i<<16>>>0)>>>0)>>>0<i>>>0&&(s=s+1>>>0),(a=a+(n=n<<16>>>0)>>>0)>>>0<n>>>0&&(s=s+1>>>0),s=(s=s+Math.imul(r,0x5851f42d)>>>0)+Math.imul(t,0x4c957f2d)>>>0,e[0]=s,e[1]=a,n3(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let u=o>>>18,c=(l>>>18|o<<14)>>>0;u=(u^o)>>>0;let h=((c=(c^l)>>>0)>>>27|u<<5)>>>0,f=o>>>27;return(h>>>f|h<<((-f>>>0&31)>>>0))>>>0}}function n3(e,t,r,n,i){let a=t+n>>>0,s=r+i>>>0;s>>>0<r>>>0&&(a=a+1|0),e[0]=a,e[1]=s}let n4=Symbol.for("effect/Utils/YieldWrap");class n5{#e;constructor(e){this.#e=e}[n4](){return this.#e}}function n8(e){if("object"==typeof e&&null!==e&&n4 in e)return e[n4]();throw Error(nZ("yieldWrapGet"))}let n7=r9("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),n9=(e,t)=>{let r=n7.enabled,n=n7.tester;n7.enabled=!0,t&&(n7.tester=t);try{return e()}finally{n7.enabled=r,n7.tester=n}},ie=e=>e(),it=ie(()=>Error().stack)?.includes("effect_internal_function")===!0?ie:e=>e(),ir=(function*(){}).constructor,ii=e=>nv(e)&&e.constructor===ir,ia=r9(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),is=Symbol.for("effect/Hash"),io=e=>{if(!0===n7.enabled)return 0;switch(typeof e){case"number":return id(e);case"bigint":return ip(e.toString(10));case"boolean":case"symbol":return ip(String(e));case"string":return ip(e);case"undefined":return ip("undefined");case"function":case"object":if(null===e)return ip("null");if(e instanceof Date)return io(e.toISOString());if(e instanceof URL)return io(e.href);else if(ih(e))return e[is]();else return il(e);default:throw Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},il=e=>(ia.has(e)||ia.set(e,id(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),ia.get(e)),iu=e=>t=>53*t^e,ic=e=>0xbfffffff&e|e>>>1&0x40000000,ih=e=>nw(e,is),id=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=0xffffffff*e);e>0xffffffff;)t^=e/=0xffffffff;return ic(t)},ip=e=>{let t=5381,r=e.length;for(;r;)t=33*t^e.charCodeAt(--r);return ic(t)},im=(e,t)=>{let r=12289;for(let n=0;n<t.length;n++)r^=rD(ip(t[n]),iu(io(e[t[n]])));return ic(r)},ig=e=>im(e,Object.keys(e)),iy=e=>{let t=6151;for(let r=0;r<e.length;r++)t=rD(t,iu(io(e[r])));return ic(t)},ib=function(){if(1==arguments.length){let e=arguments[0];return function(t){return Object.defineProperty(e,is,{value:()=>t,enumerable:!1}),t}}let e=arguments[0],t=arguments[1];return Object.defineProperty(e,is,{value:()=>t,enumerable:!1}),t},iS=Symbol.for("effect/Equal");function iv(){return 1==arguments.length?e=>iw(e,arguments[0]):iw(arguments[0],arguments[1])}function iw(e,t){if(e===t)return!0;let r=typeof e;if(r!==typeof t)return!1;if("object"===r||"function"===r){if(null!==e&&null!==t){if(ix(e)&&ix(t))if(io(e)===io(t)&&e[iS](t))return!0;else return!!n7.enabled&&!!n7.tester&&n7.tester(e,t);else if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString();else if(e instanceof URL&&t instanceof URL)return e.href===t.href}if(n7.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((e,r)=>iw(e,t[r]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){let r=Object.keys(e),n=Object.keys(t);if(r.length===n.length){for(let n of r)if(!(n in t&&iw(e[n],t[n])))return!!n7.tester&&n7.tester(e,t);return!0}}return!!n7.tester&&n7.tester(e,t)}}return!!n7.enabled&&!!n7.tester&&n7.tester(e,t)}let ix=e=>nw(e,iS),ik=()=>iv,i_=Symbol.for("nodejs.util.inspect.custom"),iE=e=>{try{if(nw(e,"toJSON")&&nf(e.toJSON)&&0===e.toJSON.length)return e.toJSON();if(Array.isArray(e))return e.map(iE)}catch{return{}}return iD(e)},iI=e=>JSON.stringify(e,null,2),iT={toJSON(){return iE(this)},[i_](){return this.toJSON()},toString(){return iI(this.toJSON())}};class iO{[i_](){return this.toJSON()}toString(){return iI(this.toJSON())}}let iC=(e,t=2)=>{if("string"==typeof e)return e;try{return"object"==typeof e?iF(e,t):String(e)}catch{return String(e)}},iF=(e,t)=>{let r=[],n=JSON.stringify(e,(e,t)=>"object"==typeof t&&null!==t?r.includes(t)?void 0:r.push(t)&&(void 0!==iN.fiberRefs&&iM(t)?t[iA](iN.fiberRefs):t):t,t);return r=void 0,n},iA=Symbol.for("effect/Inspectable/Redactable"),iM=e=>"object"==typeof e&&null!==e&&iA in e,iN=r9("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),iR=(e,t)=>{let r=iN.fiberRefs;iN.fiberRefs=e;try{return t()}finally{iN.fiberRefs=r}},iD=e=>iM(e)&&void 0!==iN.fiberRefs?e[iA](iN.fiberRefs):e,ij=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let r=e;for(let e=0,n=t.length;e<n;e++)r=t[e](r);return r}}},iL={pipe(){return ij(this,arguments)}},iP=function(){function e(){}return e.prototype=iL,e}(),i$=e=>e?class extends e{pipe(){return ij(this,arguments)}}:iP,iz="Async",iU="Commit",iB="Failure",iW="OnFailure",iq="OnSuccess",iK="OnSuccessAndFailure",iV="Success",iJ="Sync",iH="UpdateRuntimeFlags",iG="While",iZ="Iterator",iQ="WithRuntime",iY="Yield",iX="RevertFlags",i0="3.18.1",i1=()=>i0,i2=Symbol.for("effect/Effect"),i6=Symbol.for("effect/Stream"),i3=Symbol.for("effect/Sink"),i4=Symbol.for("effect/Channel"),i5={_R:e=>e,_E:e=>e,_A:e=>e,_V:i1()},i8={[i2]:i5,[i6]:i5,[i3]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[i4]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[iS](e){return this===e},[is](){return ib(this,il(this))},[Symbol.iterator](){return new n0(new n5(this))},pipe(){return ij(this,arguments)}},i7={[is](){return ib(this,ig(this))},[iS](e){let t=Object.keys(this),r=Object.keys(e);if(t.length!==r.length)return!1;for(let r of t)if(!(r in e&&iv(this[r],e[r])))return!1;return!0}},i9={...i8,_op:iU},ae={...i9,...i7},at=function(){function e(){}return e.prototype=i9,e}(),ar=function(){function e(){}return e.prototype=ae,e}(),an=Symbol.for("effect/Option"),ai={...i8,[an]:{_A:e=>e},[i_](){return this.toJSON()},toString(){return iI(this.toJSON())}},aa=Object.assign(Object.create(ai),{_tag:"Some",_op:"Some",[iS](e){return al(e)&&ac(e)&&iv(this.value,e.value)},[is](){return ib(this,iu(io(this._tag))(io(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:iE(this.value)}}}),as=io("None"),ao=Object.assign(Object.create(ai),{_tag:"None",_op:"None",[iS]:e=>al(e)&&au(e),[is]:()=>as,toJSON(){return{_id:"Option",_tag:this._tag}}}),al=e=>nw(e,an),au=e=>"None"===e._tag,ac=e=>"Some"===e._tag,ah=Object.create(ao),af=e=>{let t=Object.create(aa);return t.value=e,t},ad=Symbol.for("effect/Either"),ap={...i8,[ad]:{_R:e=>e},[i_](){return this.toJSON()},toString(){return iI(this.toJSON())}},am=Object.assign(Object.create(ap),{_tag:"Right",_op:"Right",[iS](e){return ay(e)&&aS(e)&&iv(this.right,e.right)},[is](){return iu(io(this._tag))(io(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:iE(this.right)}}}),ag=Object.assign(Object.create(ap),{_tag:"Left",_op:"Left",[iS](e){return ay(e)&&ab(e)&&iv(this.left,e.left)},[is](){return iu(io(this._tag))(io(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:iE(this.left)}}}),ay=e=>nw(e,ad),ab=e=>"Left"===e._tag,aS=e=>"Right"===e._tag,av=e=>{let t=Object.create(ag);return t.left=e,t},aw=e=>{let t=Object.create(am);return t.right=e,t},ax=e=>aS(e)?ah:af(e.left),ak=e=>ab(e)?ah:af(e.right),a_=rS(2,(e,t)=>au(e)?av(t()):aw(e.value)),aE=ad,aI=aw,aT=aI(void 0),aO=av,aC=rS(2,(e,t)=>null==e?aO(t(e)):aI(e)),aF=a_,aA=e=>{if(nf(e))try{return aI(e())}catch(e){return aO(e)}try{return aI(e.try())}catch(t){return aO(e.catch(t))}},aM=ay,aN=ab,aR=aS,aD=ak,aj=ax,aL=({left:e,right:t})=>r$((r,n)=>aN(r)?aN(n)&&e(r.left,n.left):aR(n)&&t(r.right,n.right)),aP=rS(2,(e,{onLeft:t,onRight:r})=>aN(e)?aO(t(e.left)):aI(r(e.right))),a$=rS(2,(e,t)=>aN(e)?aO(t(e.left)):aI(e.right)),az=rS(2,(e,t)=>aR(e)?aI(t(e.right)):aO(e.left)),aU=rS(2,(e,{onLeft:t,onRight:r})=>aN(e)?t(e.left):r(e.right)),aB=rS(3,(e,t,r)=>t(e)?aI(e):aO(r(e))),aW=rS(3,(e,t,r)=>aQ(e,e=>t(e)?aI(e):aO(r(e)))),aq=aU({onLeft:rw,onRight:rw}),aK=rS(2,(e,t)=>aN(e)?t(e.left):e.right),aV=aK(rT),aJ=aK(rO),aH=rS(2,(e,t)=>{if(aR(e))return e.right;throw t(e.left)}),aG=aH(()=>Error("getOrThrow called on a Left")),aZ=rS(2,(e,t)=>aN(e)?t(e.left):aI(e.right)),aQ=rS(2,(e,t)=>aN(e)?aO(e.left):t(e.right)),aY=rS(2,(e,t)=>aQ(e,e=>{let r=nf(t)?t(e):t;return aM(r)?r:aI(r)})),aX=rS(3,(e,t,r)=>aQ(e,e=>az(t,t=>r(e,t)))),a0=rS(2,(e,t)=>aX(e,t,(e,t)=>e(t))),a1=e=>{if(Symbol.iterator in e){let t=[];for(let r of e){if(aN(r))return r;t.push(r.right)}return aI(t)}let t={};for(let r of Object.keys(e)){let n=e[r];if(aN(n))return n;t[r]=n.right}return aI(t)},a2=e=>aN(e)?aI(e.left):aO(e.right),a6=n2(),a3=(...e)=>{let t=(1===e.length?e[0]:e[1].bind(e[0]))(a6),r=t.next();for(;!r.done;){let e=nY(r.value)?r.value.value:n8(r.value);if(aN(e))return e;r=t.next(e.right)}return aI(r.value)},a4=aI({}),a5=r8(az,aQ),a8=r5(az),a7=r4(az),a9=e=>au(e)?aI(ah):az(e.value,af),se=rS(2,(e,t)=>au(e)?aI(ah):az(t(e.value),af)),st=e=>e.length>0,sr=e=>(t,r)=>t===r?0:e(t,r),sn=sr((e,t)=>e<t?-1:1),si=sr((e,t)=>e<t?-1:1),sa=sr((e,t)=>e<t?-1:1),ss=sr((e,t)=>e<t?-1:1),so=e=>sr((t,r)=>e(r,t)),sl=rS(2,(e,t)=>sr((r,n)=>{let i=e(r,n);return 0!==i?i:t(r,n)})),su=rS(2,(e,t)=>sr((r,n)=>{let i=e(r,n);if(0!==i)return i;for(let e of t)if(0!==(i=e(r,n)))break;return i})),sc=()=>sr(()=>0),sh=e=>su(sc(),e),sf=rS(2,(e,t)=>sr((r,n)=>e(t(r),t(n)))),sd=sf(si,e=>e.getTime()),sp=rS(2,(e,t)=>sr(([r,n],[i,a])=>{let s=e(r,i);return 0!==s?s:t(n,a)})),sm=e=>sr((t,r)=>{let n=Math.min(t.length,r.length),i=0;for(let a of e){if(i>=n)break;let e=a(t[i],r[i]);if(0!==e)return e;i++}return 0}),sg=rS(2,(e,t)=>{let r=sm(t);return sr((t,n)=>{let i=e(t[0],n[0]);return 0!==i?i:r(t.slice(1),n.slice(1))})}),sy=(...e)=>sm(e),sb=e=>sr((t,r)=>{let n=t.length,i=r.length,a=Math.min(n,i);for(let n=0;n<a;n++){let i=e(t[n],r[n]);if(0!==i)return i}return si(n,i)}),sS=e=>{let t=Object.keys(e);return sr((r,n)=>{for(let i of t){let t=e[i](r[i],n[i]);if(0!==t)return t}return 0})},sv=e=>rS(2,(t,r)=>-1===e(t,r)),sw=e=>rS(2,(t,r)=>1===e(t,r)),sx=e=>rS(2,(t,r)=>1!==e(t,r)),sk=e=>rS(2,(t,r)=>-1!==e(t,r)),s_=e=>rS(2,(t,r)=>t===r||1>e(t,r)?t:r),sE=e=>rS(2,(t,r)=>t===r||e(t,r)>-1?t:r),sI=e=>rS(2,(t,r)=>s_(e)(r.maximum,sE(e)(r.minimum,t))),sT=e=>rS(2,(t,r)=>!sv(e)(t,r.minimum)&&!sw(e)(t,r.maximum)),sO=Symbol.for("effect/Option"),sC=()=>ah,sF=af,sA=al,sM=au,sN=ac,sR=rS(2,(e,{onNone:t,onSome:r})=>sM(e)?t():r(e.value)),sD=e=>t=>sN(e(t)),sj=e=>{for(let t of e)return sF(t);return sC()},sL=ak,sP=ax,s$=rS(2,(e,t)=>sM(e)?t():e.value),sz=rS(2,(e,t)=>sM(e)?t():e),sU=rS(2,(e,t)=>sM(e)?sF(t()):e),sB=rS(2,(e,t)=>sM(e)?sQ(t(),aw):sQ(e,av)),sW=e=>{let t=sC();for(t of e)if(sN(t))break;return t},sq=e=>null==e?sC():sF(e),sK=e=>(...t)=>sq(e(...t)),sV=s$(rT),sJ=s$(rO),sH=e=>(...t)=>{try{return sF(e(...t))}catch{return sC()}},sG=rS(2,(e,t)=>{if(sN(e))return e.value;throw t()}),sZ=sG(()=>Error("getOrThrow called on a None")),sQ=rS(2,(e,t)=>sM(e)?sC():sF(t(e.value))),sY=rS(2,(e,t)=>sQ(e,()=>t)),sX=sY(void 0),s0=sF(void 0),s1=rS(2,(e,t)=>sM(e)?sC():t(e.value)),s2=rS(2,(e,t)=>s1(e,e=>{let r=rb(t)?t(e):t;return sA(r)?r:sF(r)})),s6=rS(2,(e,t)=>sM(e)?sC():sq(t(e.value))),s3=s1(rw),s4=rS(2,(e,t)=>s1(e,()=>t)),s5=rS(2,(e,t)=>s7(e,()=>t)),s8=rS(2,(e,t)=>r=>s1(e(r),t)),s7=rS(2,(e,t)=>s1(e,e=>sQ(t(e),()=>e))),s9=(e,t)=>sN(e)&&sN(t)?sF([e.value,t.value]):sC(),oe=(e,t)=>{if(sM(e))return sC();let r=[e.value];for(let e of t){if(sM(e))return sC();r.push(e.value)}return sF(r)},ot=e=>{if(Symbol.iterator in e){let t=[];for(let r of e){if(sM(r))return sC();t.push(r.value)}return sF(t)}let t={};for(let r of Object.keys(e)){let n=e[r];if(sM(n))return sC();t[r]=n.value}return sF(t)},or=rS(3,(e,t,r)=>sQ(s9(e,t),([e,t])=>r(e,t))),on=rS(2,(e,t)=>or(e,t,(e,t)=>e(t))),oi=rS(3,(e,t,r)=>{let n=t;for(let t of e)sN(t)&&(n=r(n,t.value));return n}),oa=e=>sM(e)?[]:[e.value],os=rS(2,(e,t)=>{if(sM(e))return[sC(),sC()];let r=t(e.value);return ab(r)?[sF(r.left),sC()]:[sC(),sF(r.right)]}),oo=s1,ol=rS(2,(e,t)=>oo(e,e=>t(e)?af(e):ah)),ou=e=>r$((t,r)=>sM(t)?sM(r):!sM(r)&&e(t.value,r.value)),oc=e=>sr((t,r)=>sN(t)?sN(r)?e(t.value,r.value):1:-1),oh=e=>rS(2,(t,r)=>or(t,r,e)),of=rS(2,(e,t)=>t(e)?sF(e):sC()),od=e=>rS(2,(t,r)=>!sM(t)&&e(t.value,r)),op=od(ik()),om=rS(2,(e,t)=>!sM(e)&&t(e.value)),og=r5(sQ),oy=r4(sQ),ob=r8(sQ,s1),oS=sF({}),ov=n2(),ow=(...e)=>{let t=(1===e.length?e[0]:e[1].bind(e[0]))(ov),r=t.next();for(;!r.done;){let e=nY(r.value)?r.value.value:n8(r.value);if(sM(e))return e;r=t.next(e.value)}return sF(r.value)},ox=e=>(t,r)=>sM(t)?r:sM(r)?t:sF(e(t.value,r.value)),ok=(...e)=>e,o_=e=>e[0],oE=e=>e[1],oI=rS(2,(e,t)=>e.map(e=>t(e))),oT=rS(2,(e,{onFirst:t,onSecond:r})=>[t(e[0]),r(e[1])]),oO=rS(2,(e,t)=>[t(e[0]),e[1]]),oC=rS(2,(e,t)=>[e[0],t(e[1])]),oF=e=>[e[1],e[0]],oA=r2,oM=sy,oN=rS(2,(e,t)=>[...e,t]),oR=rS(2,(e,t)=>e[t]),oD=(e,t)=>{let r=t?.length!==void 0?Math.max(1,Math.floor(t.length)):1/0;return{[Symbol.iterator](){let t=0;return{next:()=>t<r?{value:e(t++),done:!1}:{done:!0,value:void 0}}}}},oj=(e,t)=>void 0===t?oD(t=>e+t):oD(t=>e+t,{length:e<=t?t-e+1:1}),oL=rS(2,(e,t)=>oD(()=>e,{length:t})),oP=e=>({*[Symbol.iterator](){for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(yield[t,e[t]])}}),o$=rS(2,(e,t)=>oz(e,[t])),oz=rS(2,(e,t)=>oB(t,e)),oU=rS(2,(e,t)=>oB(e,[t])),oB=rS(2,(e,t)=>({[Symbol.iterator](){let r,n=e[Symbol.iterator](),i=!1;return{next(){if(!i){let e=n.next();return e.done?(i=!0,(r=t[Symbol.iterator]()).next()):e}return r.next()}}}})),oW=rS(3,(e,t,r)=>({[Symbol.iterator](){let n,i=t;return{next:function(){if(void 0===n)return n=e[Symbol.iterator](),{done:!1,value:i};let t=n.next();return t.done?t:{done:!1,value:i=r(i,t.value)}}}}})),oq=e=>!0===e[Symbol.iterator]().next().done,oK=e=>{let t=e[Symbol.iterator](),r=0;for(;!t.next().done;)r++;return r},oV=e=>{let t=e[Symbol.iterator]().next();return t.done?sC():sF(t.value)},oJ=e=>{let t=e[Symbol.iterator]().next();if(t.done)throw Error("unsafeHead: empty iterable");return t.value},oH=rS(2,(e,t)=>({[Symbol.iterator](){let r=0,n=e[Symbol.iterator]();return{next:()=>r<t?(r++,n.next()):{done:!0,value:void 0}}}})),oG=rS(2,(e,t)=>({[Symbol.iterator](){let r=e[Symbol.iterator](),n=0;return{next(){let e=r.next();return e.done||!t(e.value,n++)?{done:!0,value:void 0}:e}}}})),oZ=rS(2,(e,t)=>({[Symbol.iterator](){let r=e[Symbol.iterator](),n=0;return{next(){for(;n<t;){if(r.next().done)return{done:!0,value:void 0};n++}return r.next()}}}})),oQ=rS(2,(e,t)=>{let r=0;for(let n of e){let e=t(n,r);if(nl(e)){if(e)return sF(n)}else if(sN(e))return e;r++}return sC()}),oY=rS(2,(e,t)=>{let r=0,n=sC();for(let i of e){let e=t(i,r);nl(e)?e&&(n=sF(i)):sN(e)&&(n=e),r++}return n}),oX=rS(2,(e,t)=>o0(e,t,ok)),o0=rS(3,(e,t,r)=>({[Symbol.iterator](){let n=e[Symbol.iterator](),i=t[Symbol.iterator]();return{next(){let e=n.next(),t=i.next();return e.done||t.done?{done:!0,value:void 0}:{done:!1,value:r(e.value,t.value)}}}}})),o1=rS(2,(e,t)=>({[Symbol.iterator](){let r=e[Symbol.iterator](),n=r.next(),i=!1;return{next(){if(n.done)return n;if(i)return i=!1,{done:!1,value:t};i=!0;let e=n;return n=r.next(),e}}}})),o2=e=>rS(2,(t,r)=>{for(let n of t)if(e(r,n))return!0;return!1}),o6=o2(ik()),o3=rS(2,(e,t)=>{let r=Math.max(1,Math.floor(t));return{[Symbol.iterator](){let t=e[Symbol.iterator]();return{next(){if(void 0===t)return{done:!0,value:void 0};let e=[];for(let n=0;n<r;n++){let r=t.next();if(r.done)return t=void 0,0===e.length?{done:!0,value:void 0}:{done:!1,value:e};e.push(r.value)}return{done:!1,value:e}}}}}}),o4=rS(2,(e,t)=>({[Symbol.iterator](){let r,n=e[Symbol.iterator]();return{next(){let e;if(void 0!==r){if(r.done)return{done:!0,value:void 0};e=r,r=void 0}else if((e=n.next()).done)return{done:!0,value:void 0};let i=[e.value];for(;;){let a=n.next();if(a.done||!t(e.value,a.value))return r=a,{done:!1,value:i};i.push(a.value)}}}}})),o5=o4(ik()),o8=rS(2,(e,t)=>{let r={};for(let n of e){let e=t(n);Object.prototype.hasOwnProperty.call(r,e)?r[e].push(n):r[e]=[n]}return r}),o7={[Symbol.iterator]:()=>o9},o9={next:()=>({done:!0,value:void 0})},le=()=>o7,lt=e=>[e],lr=rS(2,(e,t)=>({[Symbol.iterator](){let r=e[Symbol.iterator](),n=0;return{next(){let e=r.next();return e.done?{done:!0,value:void 0}:{done:!1,value:t(e.value,n++)}}}}})),ln=rS(2,(e,t)=>li(lr(e,t))),li=e=>({[Symbol.iterator](){let t,r=e[Symbol.iterator]();return{next:function e(){if(void 0===t){let e=r.next();if(e.done)return e;t=e.value[Symbol.iterator]()}let n=t.next();return n.done?(t=void 0,e()):n}}}}),la=rS(2,(e,t)=>({[Symbol.iterator](){let r=e[Symbol.iterator](),n=0;return{next(){let e=r.next();for(;!e.done;){let i=t(e.value,n++);if(sN(i))return{done:!1,value:i.value};e=r.next()}return{done:!0,value:void 0}}}}})),ls=rS(2,(e,t)=>({[Symbol.iterator](){let r=e[Symbol.iterator](),n=0;return{next(){let e=r.next();if(e.done)return{done:!0,value:void 0};let i=t(e.value,n++);return sN(i)?{done:!1,value:i.value}:{done:!0,value:void 0}}}}})),lo=la(rw),ll=e=>la(e,aj),lu=e=>la(e,aD),lc=rS(2,(e,t)=>({[Symbol.iterator](){let r=e[Symbol.iterator](),n=0;return{next(){let e=r.next();for(;!e.done;){if(t(e.value,n++))return{done:!1,value:e.value};e=r.next()}return{done:!0,value:void 0}}}}})),lh=rS(2,(e,t)=>la(e,e=>{let r=t(e);return null==r?sC():sF(r)})),lf=rS(2,(e,t)=>{let r=0;for(let n of e)if(t(n,r++))return!0;return!1}),ld=(e,t)=>({[Symbol.iterator](){let r=e;return{next(){let e=t(r);if(sM(e))return{done:!0,value:void 0};let[n,i]=e.value;return r=i,{done:!1,value:n}}}}}),lp=rS(2,(e,t)=>{let r=0;for(let n of e)t(n,r++)}),lm=rS(3,(e,t,r)=>{if(Array.isArray(e))return e.reduce(r,t);let n=0,i=t;for(let t of e)i=r(i,t,n++);return i}),lg=rS(2,(e,t)=>({[Symbol.iterator](){let r,n=e[Symbol.iterator](),i=!0;return{next:function e(){let a=n.next();if(a.done)return{done:!0,value:void 0};if(i)return i=!1,r=a.value,a;let s=a.value;return t(r,s)?e():(r=s,a)}}}})),ly=lg(ik()),lb=rS(3,(e,t,r)=>ln(e,e=>lr(t,t=>r(e,t)))),lS=rS(2,(e,t)=>lb(e,t,(e,t)=>[e,t])),lv=rS(2,(e,t)=>{let r=0,n=0;for(let i of e)t(i,n)&&r++,n++;return r}),lw=()=>({}),lx=e=>0===lH(e).length,lk=lx,l_=rS(2,(e,t)=>{let r=lw();for(let n of e){let[e,i]=t(n);r[e]=i}return r}),lE=(e,t)=>l_(e,e=>[t(e),e]),lI=Object.fromEntries,lT=rS(2,(e,t)=>{let r=[];for(let n of lH(e))r.push(t(n,e[n]));return r}),lO=lT((e,t)=>[e,t]),lC=e=>lH(e).length,lF=rS(2,(e,t)=>Object.prototype.hasOwnProperty.call(e,t)),lA=rS(2,(e,t)=>lF(e,t)?sF(e[t]):sC()),lM=rS(3,(e,t,r)=>lF(e,t)?{...e,[t]:r(e[t])}:{...e}),lN=rS(3,(e,t,r)=>lF(e,t)?sF({...e,[t]:r(e[t])}):sC()),lR=rS(3,(e,t,r)=>lN(e,t,()=>r)),lD=rS(2,(e,t)=>{if(!lF(e,t))return{...e};let r={...e};return delete r[t],r}),lj=rS(2,(e,t)=>lF(e,t)?sF([e[t],lD(e,t)]):sC()),lL=rS(2,(e,t)=>{let r={...e};for(let n of lH(e))r[n]=t(e[n],n);return r}),lP=rS(2,(e,t)=>{let r={};for(let n of lH(e)){let i=e[n];r[t(n,i)]=i}return r}),l$=rS(2,(e,t)=>{let r={};for(let n of lH(e)){let[i,a]=t(e[n],n);r[i]=a}return r}),lz=rS(2,(e,t)=>{let r=lw();for(let n of lH(e)){let i=t(e[n],n);sN(i)&&(r[n]=i.value)}return r}),lU=rS(2,(e,t)=>{let r=lw();for(let n of lH(e))t(e[n],n)&&(r[n]=e[n]);return r}),lB=lz(rw),lW=e=>{let t=lw();for(let r of lH(e)){let n=e[r];aN(n)&&(t[r]=n.left)}return t},lq=e=>{let t=lw();for(let r of lH(e)){let n=e[r];aR(n)&&(t[r]=n.right)}return t},lK=rS(2,(e,t)=>{let r=lw(),n=lw();for(let i of lH(e)){let a=t(e[i],i);aN(a)?r[i]=a.left:n[i]=a.right}return[r,n]}),lV=lK(rw),lJ=rS(2,(e,t)=>{let r=lw(),n=lw();for(let i of lH(e))t(e[i],i)?n[i]=e[i]:r[i]=e[i];return[r,n]}),lH=e=>Object.keys(e),lG=e=>lT(e,(e,t)=>t),lZ=rS(3,(e,t,r)=>({...e,[t]:r})),lQ=rS(3,(e,t,r)=>lF(e,t)?{...e,[t]:r}:{...e}),lY=e=>rS(2,(t,r)=>{for(let n of lH(t))if(!lF(r,n)||!e(t[n],r[n]))return!1;return!0}),lX=lY(ik()),l0=rS(3,(e,t,r)=>{let n=t;for(let t of lH(e))n=r(n,e[t],t);return n}),l1=rS(2,(e,t)=>{for(let r of lH(e))if(!t(e[r],r))return!1;return!0}),l2=rS(2,(e,t)=>{for(let r of lH(e))if(t(e[r],r))return!0;return!1}),l6=rS(3,(e,t,r)=>{if(lx(e))return{...t};if(lx(t))return{...e};let n=lw();for(let i of lH(e))lF(t,i)?n[i]=r(e[i],t[i]):n[i]=e[i];for(let e of lH(t))lF(n,e)||(n[e]=t[e]);return n}),l3=rS(3,(e,t,r)=>{let n=lw();if(lx(e)||lx(t))return n;for(let i of lH(e))lF(t,i)&&(n[i]=r(e[i],t[i]));return n}),l4=rS(2,(e,t)=>{if(lx(e))return{...t};if(lx(t))return{...e};let r={};for(let n of lH(e))lF(t,n)||(r[n]=e[n]);for(let n of lH(t))lF(e,n)||(r[n]=t[n]);return r}),l5=e=>{let t=lY(e);return(e,r)=>t(e,r)&&t(r,e)},l8=(e,t)=>({[e]:t}),l7=rS(2,(e,t)=>{let r=lH(e);for(let n=0;n<r.length;n++){let i=r[n];if(t(e[i],i))return sF([i,e[i]])}return sC()}),l9=(...e)=>e,ue=e=>Array(e),ut=rS(2,(e,t)=>{let r=Math.max(1,Math.floor(e)),n=Array(r);for(let e=0;e<r;e++)n[e]=t(e);return n}),ur=(e,t)=>e<=t?ut(t-e+1,t=>e+t):[e],un=rS(2,(e,t)=>ut(t,()=>e)),ui=e=>Array.isArray(e)?e:Array.from(e),ua=e=>Array.isArray(e)?e:[e],us=lO,uo=oa,ul=rS(2,(e,{onEmpty:t,onNonEmpty:r})=>uw(e)?r(e):t()),uu=rS(2,(e,{onEmpty:t,onNonEmpty:r})=>uw(e)?r(uF(e),uR(e)):t()),uc=rS(2,(e,{onEmpty:t,onNonEmpty:r})=>uw(e)?r(uj(e),uM(e)):t()),uh=rS(2,(e,t)=>[t,...e]),uf=rS(2,(e,t)=>ui(t).concat(ui(e))),ud=rS(2,(e,t)=>[...e,t]),up=rS(2,(e,t)=>ui(e).concat(ui(t))),um=rS(3,(e,t,r)=>{let n=[t],i=0;for(let t of e)n[i+1]=r(n[i],t),i++;return n}),ug=rS(3,(e,t,r)=>{let n=ui(e),i=Array(n.length+1);i[n.length]=t;for(let e=n.length-1;e>=0;e--)i[e]=r(i[e+1],n[e]);return i}),uy=Array.isArray,ub=e=>0===e.length,uS=ub,uv=st,uw=st,ux=e=>e.length,uk=(e,t)=>e<0||e>=t.length,u_=(e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)),uE=rS(2,(e,t)=>{let r=Math.floor(t);return uk(r,e)?sC():sF(e[r])}),uI=rS(2,(e,t)=>{let r=Math.floor(t);if(uk(r,e))throw Error(`Index ${r} out of bounds`);return e[r]}),uT=e=>[uF(e),uR(e)],uO=e=>[uj(e),uM(e)],uC=uE(0),uF=uI(0),uA=e=>uw(e)?sF(uM(e)):sC(),uM=e=>e[e.length-1],uN=e=>{let t=ui(e);return uw(t)?sF(uR(t)):sC()},uR=e=>e.slice(1),uD=e=>{let t=ui(e);return uw(t)?sF(uj(t)):sC()},uj=e=>e.slice(0,-1),uL=rS(2,(e,t)=>{let r=ui(e);return r.slice(0,u_(t,r))}),uP=rS(2,(e,t)=>{let r=ui(e),n=u_(t,r);return 0===n?[]:r.slice(-n)}),u$=rS(2,(e,t)=>{let r=0,n=[];for(let i of e){if(!t(i,r))break;n.push(i),r++}return n}),uz=(e,t)=>{let r=0;for(let n of e){if(!t(n,r))break;r++}return r},uU=rS(2,(e,t)=>ch(e,uz(e,t))),uB=rS(2,(e,t)=>{let r=ui(e);return r.slice(u_(t,r),r.length)}),uW=rS(2,(e,t)=>{let r=ui(e);return r.slice(0,r.length-u_(t,r))}),uq=rS(2,(e,t)=>ui(e).slice(uz(e,t))),uK=rS(2,(e,t)=>{let r=0;for(let n of e){if(t(n,r))return sF(r);r++}return sC()}),uV=rS(2,(e,t)=>{let r=ui(e);for(let e=r.length-1;e>=0;e--)if(t(r[e],e))return sF(e);return sC()}),uJ=oQ,uH=rS(2,(e,t)=>{let r=ui(e);for(let e=r.length-1;e>=0;e--){let n=r[e],i=t(n,e);if(nl(i)){if(i)return sF(n)}else if(sN(i))return i}return sC()}),uG=rS(2,(e,t)=>{let r=0;for(let n of e){let e=t(n,r);if(nl(e)){if(e)return sF([n,r])}else if(sN(e))return sF([e.value,r]);r++}return sC()}),uZ=rS(2,(e,t)=>{let r=0,n=ui(e);for(let e=0;e<n.length;e++)t(n[e],e)&&r++;return r}),uQ=rS(3,(e,t,r)=>{let n=Array.from(e);return t<0||t>n.length?sC():(n.splice(t,0,r),sF(n))}),uY=rS(3,(e,t,r)=>u0(e,t,()=>r)),uX=rS(3,(e,t,r)=>u1(e,t,()=>r)),u0=rS(3,(e,t,r)=>{let n=Array.from(e);if(uk(t,n))return n;let i=r(n[t]);return n[t]=i,n}),u1=rS(3,(e,t,r)=>{let n=ui(e);if(uk(t,n))return sC();let i=Array.isArray(e)?e.slice():n,a=r(n[t]);return i[t]=a,sF(i)}),u2=rS(2,(e,t)=>{let r=Array.from(e);return uk(t,r)||r.splice(t,1),r}),u6=rS(2,(e,t)=>{let r=ui(e);if(uk(t,r))return sC();let n=Array.isArray(e)?e.slice():r;return n.splice(t,1),sF(n)}),u3=e=>Array.from(e).reverse(),u4=rS(2,(e,t)=>{let r=Array.from(e);return r.sort(t),r}),u5=rS(3,(e,t,r)=>Array.from(e).map(e=>[e,t(e)]).sort(([,e],[,t])=>r(e,t)).map(([e])=>e)),u8=(...e)=>{let t=u4(sh(e));return e=>{let r=ui(e);return uw(r)?t(r):[]}},u7=rS(2,(e,t)=>u9(e,t,ok)),u9=rS(3,(e,t,r)=>{let n=ui(e),i=ui(t);if(uw(n)&&uw(i)){let e=[r(uF(n),uF(i))],t=Math.min(n.length,i.length);for(let a=1;a<t;a++)e[a]=r(n[a],i[a]);return e}return[]}),ce=e=>{let t=ui(e);if(uw(t)){let e=[t[0][0]],r=[t[0][1]];for(let n=1;n<t.length;n++)e[n]=t[n][0],r[n]=t[n][1];return[e,r]}return[[],[]]},ct=rS(2,(e,t)=>{let r=ui(e);if(uw(r)){let e=[uF(r)],n=uR(r);for(let r=0;r<n.length;r++)r<n.length&&e.push(t),e.push(n[r]);return e}return[]}),cr=rS(2,(e,t)=>[t(uF(e)),...uR(e)]),cn=rS(2,(e,t)=>cr(e,()=>t)),ci=rS(2,(e,t)=>ud(uj(e),t(uM(e)))),ca=rS(2,(e,t)=>ci(e,()=>t)),cs=rS(2,(e,t)=>{let r=ui(e);if(uw(r)){let n=r.length,i=Math.round(t)%n;if(uk(Math.abs(i),r)||0===i)return cm(r);if(!(i<0))return cs(e,i-n);{let[e,t]=cf(r,-i);return up(t,e)}}return[]}),co=e=>rS(2,(t,r)=>{for(let n of t)if(e(r,n))return!0;return!1}),cl=ik(),cu=co(cl),cc=rS(2,(e,t)=>{let r=ui(e);if(uw(r)){let[e,n]=t(r),i=[e],a=n;for(;st(a);){let[e,r]=t(a);i.push(e),a=r}return i}return[]}),ch=rS(2,(e,t)=>{let r=Array.from(e),n=Math.floor(t);return uw(r)?n>=1?cf(r,n):[[],r]:[r,[]]}),cf=rS(2,(e,t)=>{let r=Math.max(1,Math.floor(t));return r>=e.length?[cm(e),[]]:[uh(e.slice(1,r),uF(e)),e.slice(r)]}),cd=rS(2,(e,t)=>{let r=ui(e);return cy(r,Math.ceil(r.length/Math.floor(t)))}),cp=rS(2,(e,t)=>uU(e,(e,r)=>!t(e,r))),cm=e=>e.slice(),cg=rS(3,(e,t,r)=>e.length>=t?uL(e,t):up(e,ut(t-e.length,()=>r))),cy=rS(2,(e,t)=>{let r=ui(e);return uw(r)?cc(r,cf(t)):[]}),cb=rS(2,(e,t)=>{let r=ui(e);return t>0&&uw(r)?Array.from({length:r.length-(t-1)},(e,n)=>r.slice(n,n+t)):[]}),cS=rS(2,(e,t)=>cc(e,e=>{let r=uF(e),n=[r],i=1;for(;i<e.length;i++){let a=e[i];if(t(a,r))n.push(a);else break}return[n,e.slice(i)]})),cv=cS(ik()),cw=rS(2,(e,t)=>{let r={};for(let n of e){let e=t(n);Object.prototype.hasOwnProperty.call(r,e)?r[e].push(n):r[e]=[n]}return r}),cx=rS(3,(e,t,r)=>{let n=ui(e),i=ui(t);return uw(n)?uw(i)?c4(r)(up(n,i)):n:i}),ck=rS(2,(e,t)=>cx(e,t,cl)),c_=e=>{let t=co(e);return rS(2,(e,r)=>ui(e).filter(e=>t(r,e)))},cE=c_(cl),cI=e=>{let t=co(e);return rS(2,(e,r)=>ui(e).filter(e=>!t(r,e)))},cT=cI(cl),cO=()=>[],cC=e=>[e],cF=rS(2,(e,t)=>e.map(t)),cA=rS(2,(e,t)=>{if(uS(e))return[];let r=[];for(let n=0;n<e.length;n++){let i=t(e[n],n);for(let e=0;e<i.length;e++)r.push(i[e])}return r}),cM=cA(rw),cN=rS(2,(e,t)=>{let r=ui(e),n=[];for(let e=0;e<r.length;e++){let i=t(r[e],e);sN(i)&&n.push(i.value)}return n}),cR=rS(2,(e,t)=>{let r=0,n=[];for(let i of e){let e=t(i,r);if(sN(e))n.push(e.value);else break;r++}return n}),cD=rS(2,(e,t)=>{let r=[],n=[],i=ui(e);for(let e=0;e<i.length;e++){let a=t(i[e],e);aN(a)?r.push(a.left):n.push(a.right)}return[r,n]}),cj=cN(rw),cL=e=>{let t=[];for(let r of e)aN(r)&&t.push(r.left);return t},cP=e=>{let t=[];for(let r of e)aR(r)&&t.push(r.right);return t},c$=rS(2,(e,t)=>{let r=ui(e),n=[];for(let e=0;e<r.length;e++)t(r[e],e)&&n.push(r[e]);return n}),cz=rS(2,(e,t)=>{let r=[],n=[],i=ui(e);for(let e=0;e<i.length;e++)t(i[e],e)?n.push(i[e]):r.push(i[e]);return[r,n]}),cU=cD(rw),cB=rS(3,(e,t,r)=>ui(e).reduce((e,t,n)=>r(e,t,n),t)),cW=rS(3,(e,t,r)=>ui(e).reduceRight((e,t,n)=>r(e,t,n),t)),cq=e=>t=>e(t)?[t]:[],cK=e=>(...t)=>uo(e(...t)),cV=e=>null==e?cO():[e],cJ=e=>(...t)=>cV(e(...t)),cH=rS(2,(e,t)=>cA(e,e=>cV(t(e)))),cG=e=>(...t)=>{let r=e(...t);return aN(r)?[]:[r.right]},cZ=rS(2,(e,t)=>e.every(t)),cQ=rS(2,(e,t)=>e.some(t)),cY=rS(2,(e,t)=>e.map((e,r,n)=>t(n.slice(r)))),cX=rS(2,(e,t)=>e.reduce(s_(t))),c0=rS(2,(e,t)=>e.reduce(sE(t))),c1=(e,t)=>{let r,n=[],i=e;for(;sN(r=t(i));){let[e,t]=r.value;n.push(e),i=t}return n},c2=sb,c6=r6,c3=rS(2,(e,t)=>ui(e).forEach((e,r)=>t(e,r))),c4=rS(2,(e,t)=>{let r=ui(e);if(uw(r)){let e=[uF(r)];for(let n of uR(r))e.every(e=>!t(n,e))&&e.push(n);return e}return[]}),c5=e=>c4(e,ik()),c8=rS(2,(e,t)=>{let r=[],n=sC();for(let i of e)(sM(n)||!t(i,n.value))&&(r.push(i),n=sF(i));return r}),c7=c8(ik()),c9=rS(2,(e,t)=>ui(e).join(t)),he=rS(3,(e,t,r)=>{let n=0,i=t,a=[];for(let t of e){let e=r(i,t,n);i=e[0],a.push(e[1]),n++}return[i,a]}),ht=rS(3,(e,t,r)=>cA(e,e=>cF(t,t=>r(e,t)))),hr=rS(2,(e,t)=>ht(e,t,(e,t)=>[e,t])),hn=cC({}),hi=r8(cF,cA),ha=r5(cF),hs=r4(cF);class ho extends Error{constructor(e=!1){super(),this.interruptExecution=e,this.footprint=ho.SharedFootPrint}static isFailure(e){return null!=e&&e.footprint===ho.SharedFootPrint}}function hl(e){if(!e)throw new ho}ho.SharedFootPrint=Symbol.for("fast-check/PreconditionFailure");class hu{[Symbol.iterator](){return this}next(e){return{value:e,done:!0}}}hu.nil=new hu;let hc=Symbol.iterator;class hh{static nil(){return new hh(hu.nil)}static of(...e){return new hh(e[hc]())}constructor(e){this.g=e}next(){return this.g.next()}[Symbol.iterator](){return this.g}map(e){return new hh(function*(e,t){for(let r of e)yield t(r)}(this.g,e))}flatMap(e){return new hh(function*(e,t){for(let r of e)yield*t(r)}(this.g,e))}dropWhile(e){let t=!1;return this.flatMap(function*(r){(t||!e(r))&&(t=!0,yield r)})}drop(e){if(e<=0)return this;let t=0;return this.dropWhile(function(){return t++<e})}takeWhile(e){return new hh(function*(e,t){let r=e.next();for(;!r.done&&t(r.value);)yield r.value,r=e.next()}(this.g,e))}take(e){return new hh(function*(e,t){for(let r=0;r<t;++r){let t=e.next();if(t.done)break;yield t.value}}(this.g,e))}filter(e){return new hh(function*(e,t){for(let r of e)t(r)&&(yield r)}(this.g,e))}every(e){for(let t of this.g)if(!e(t))return!1;return!0}has(e){for(let t of this.g)if(e(t))return[!0,t];return[!1,null]}join(...e){return new hh(function*(e,t){for(let t=e.next();!t.done;t=e.next())yield t.value;for(let e of t)for(let t=e.next();!t.done;t=e.next())yield t.value}(this.g,e))}getNthOrLast(e){let t=e,r=null;for(let e of this.g){if(0==t--)return e;r=e}return r}}function hf(e){return new hh(e)}let hd=Symbol.for("fast-check/cloneMethod");function hp(e){return null!==e&&("object"==typeof e||"function"==typeof e)&&hd in e&&"function"==typeof e[hd]}function hm(e){return hp(e)?e[hd]():e}let hg=Object.defineProperty;class hy{constructor(e,t,r){this.value_=e,this.context=t,this.hasToBeCloned=void 0!==r||hp(e),this.readOnce=!1,this.hasToBeCloned?hg(this,"value",{get:void 0!==r?r:this.getValue}):this.value=e}getValue(){return this.hasToBeCloned?this.readOnce?this.value_[hd]():(this.readOnce=!0,this.value_):this.value_}}let hb=Object.assign;class hS{filter(e){return new hx(this,e)}map(e,t){return new hw(this,e,t)}chain(e){return new hv(this,e)}noShrink(){return new hk(this)}noBias(){return new h_(this)}}class hv extends hS{constructor(e,t){super(),this.arb=e,this.chainer=t}generate(e,t){let r=e.clone(),n=this.arb.generate(e,t);return this.valueChainer(n,e,r,t)}canShrinkWithoutContext(e){return!1}shrink(e,t){return this.isSafeContext(t)?(!t.stoppedForOriginal?this.arb.shrink(t.originalValue,t.originalContext).map(e=>this.valueChainer(e,t.clonedMrng.clone(),t.clonedMrng,t.originalBias)):hh.nil()).join(t.chainedArbitrary.shrink(e,t.chainedContext).map(e=>{let r=hb(hb({},t),{chainedContext:e.context,stoppedForOriginal:!0});return new hy(e.value_,r)})):hh.nil()}valueChainer(e,t,r,n){let i=this.chainer(e.value_),a=i.generate(t,n),s={originalBias:n,originalValue:e.value_,originalContext:e.context,stoppedForOriginal:!1,chainedArbitrary:i,chainedContext:a.context,clonedMrng:r};return new hy(a.value_,s)}isSafeContext(e){return null!=e&&"object"==typeof e&&"originalBias"in e&&"originalValue"in e&&"originalContext"in e&&"stoppedForOriginal"in e&&"chainedArbitrary"in e&&"chainedContext"in e&&"clonedMrng"in e}}class hw extends hS{constructor(e,t,r){super(),this.arb=e,this.mapper=t,this.unmapper=r,this.bindValueMapper=e=>this.valueMapper(e)}generate(e,t){let r=this.arb.generate(e,t);return this.valueMapper(r)}canShrinkWithoutContext(e){if(void 0!==this.unmapper)try{let t=this.unmapper(e);return this.arb.canShrinkWithoutContext(t)}catch(e){}return!1}shrink(e,t){if(this.isSafeContext(t))return this.arb.shrink(t.originalValue,t.originalContext).map(this.bindValueMapper);if(void 0!==this.unmapper){let t=this.unmapper(e);return this.arb.shrink(t,void 0).map(this.bindValueMapper)}return hh.nil()}mapperWithCloneIfNeeded(e){let t=e.value,r=this.mapper(t);return e.hasToBeCloned&&("object"==typeof r&&null!==r||"function"==typeof r)&&Object.isExtensible(r)&&!hp(r)&&Object.defineProperty(r,hd,{get:()=>()=>this.mapperWithCloneIfNeeded(e)[0]}),[r,t]}valueMapper(e){let[t,r]=this.mapperWithCloneIfNeeded(e);return new hy(t,{originalValue:r,originalContext:e.context})}isSafeContext(e){return null!=e&&"object"==typeof e&&"originalValue"in e&&"originalContext"in e}}class hx extends hS{constructor(e,t){super(),this.arb=e,this.refinement=t,this.bindRefinementOnValue=e=>this.refinementOnValue(e)}generate(e,t){for(;;){let r=this.arb.generate(e,t);if(this.refinementOnValue(r))return r}}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)&&this.refinement(e)}shrink(e,t){return this.arb.shrink(e,t).filter(this.bindRefinementOnValue)}refinementOnValue(e){return this.refinement(e.value)}}class hk extends hS{constructor(e){super(),this.arb=e}generate(e,t){return this.arb.generate(e,t)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,t){return hh.nil()}noShrink(){return this}}class h_ extends hS{constructor(e){super(),this.arb=e}generate(e,t){return this.arb.generate(e,void 0)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,t){return this.arb.shrink(e,t)}noBias(){return this}}function hE(e){return"object"==typeof e&&null!==e&&"generate"in e&&"shrink"in e&&"canShrinkWithoutContext"in e}function hI(e){if(!hE(e))throw Error("Unexpected value received: not an instance of Arbitrary")}let hT=Function.prototype.apply,hO=Symbol("apply");function hC(e,t,r){let n;return function(e){try{return e.apply}catch(e){return}}(e)===hT?e.apply(t,r):(e[hO]=hT,n=e[hO](t,r),delete e[hO],n)}let hF="undefined"!=typeof Array?Array:void 0,hA="undefined"!=typeof BigInt?BigInt:void 0,hM="undefined"!=typeof BigInt64Array?BigInt64Array:void 0,hN="undefined"!=typeof BigUint64Array?BigUint64Array:void 0,hR="undefined"!=typeof Boolean?Boolean:void 0,hD="undefined"!=typeof Date?Date:void 0,hj="undefined"!=typeof Error?Error:void 0,hL="undefined"!=typeof Float32Array?Float32Array:void 0,hP="undefined"!=typeof Float64Array?Float64Array:void 0,h$="undefined"!=typeof Int8Array?Int8Array:void 0,hz="undefined"!=typeof Int16Array?Int16Array:void 0,hU="undefined"!=typeof Int32Array?Int32Array:void 0,hB="undefined"!=typeof Number?Number:void 0,hW="undefined"!=typeof String?String:void 0,hq="undefined"!=typeof Set?Set:void 0,hK="undefined"!=typeof Uint8Array?Uint8Array:void 0,hV="undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:void 0,hJ="undefined"!=typeof Uint16Array?Uint16Array:void 0,hH="undefined"!=typeof Uint32Array?Uint32Array:void 0,hG="undefined"!=typeof encodeURIComponent?encodeURIComponent:void 0,hZ=Map,hQ=Symbol,hY=Array.prototype.forEach,hX=Array.prototype.indexOf,h0=Array.prototype.join,h1=Array.prototype.map,h2=Array.prototype.filter,h6=Array.prototype.push,h3=Array.prototype.pop,h4=Array.prototype.splice,h5=Array.prototype.slice,h8=Array.prototype.sort,h7=Array.prototype.every;function h9(e,t){return function(e){try{return e.forEach}catch(e){return}}(e)===hY?e.forEach(t):hC(hY,e,[t])}function fe(e,...t){return function(e){try{return e.indexOf}catch(e){return}}(e)===hX?e.indexOf(...t):hC(hX,e,t)}function ft(e,...t){return function(e){try{return e.join}catch(e){return}}(e)===h0?e.join(...t):hC(h0,e,t)}function fr(e,t){return function(e){try{return e.map}catch(e){return}}(e)===h1?e.map(t):hC(h1,e,[t])}function fn(e,...t){return function(e){try{return e.push}catch(e){return}}(e)===h6?e.push(...t):hC(h6,e,t)}function fi(e){return function(e){try{return e.pop}catch(e){return}}(e)===h3?e.pop():hC(h3,e,[])}function fa(e,...t){return function(e){try{return e.splice}catch(e){return}}(e)===h4?e.splice(...t):hC(h4,e,t)}function fs(e,...t){return function(e){try{return e.slice}catch(e){return}}(e)===h5?e.slice(...t):hC(h5,e,t)}function fo(e,...t){return function(e){try{return e.sort}catch(e){return}}(e)===h8?e.sort(...t):hC(h8,e,t)}function fl(e,...t){return function(e){try{return e.every}catch(e){return}}(e)===h7?e.every(...t):hC(h7,e,t)}let fu=Date.prototype.getTime,fc=Date.prototype.toISOString;function fh(e){return function(e){try{return e.getTime}catch(e){return}}(e)===fu?e.getTime():hC(fu,e,[])}let ff=Set.prototype.add,fd=Set.prototype.has;function fp(e,t){return function(e){try{return e.add}catch(e){return}}(e)===ff?e.add(t):hC(ff,e,[t])}function fm(e,t){return function(e){try{return e.has}catch(e){return}}(e)===fd?e.has(t):hC(fd,e,[t])}let fg=WeakMap.prototype.set,fy=WeakMap.prototype.get,fb=Map.prototype.set,fS=Map.prototype.get;function fv(e,t,r){return function(e){try{return e.set}catch(e){return}}(e)===fb?e.set(t,r):hC(fb,e,[t,r])}function fw(e,t){return function(e){try{return e.get}catch(e){return}}(e)===fS?e.get(t):hC(fS,e,[t])}let fx=String.prototype.split,fk=String.prototype.startsWith,f_=String.prototype.endsWith,fE=String.prototype.substring,fI=String.prototype.toLowerCase,fT=String.prototype.toUpperCase,fO=String.prototype.padStart,fC=String.prototype.charCodeAt,fF=String.prototype.normalize,fA=String.prototype.replace;function fM(e,...t){return function(e){try{return e.split}catch(e){return}}(e)===fx?e.split(...t):hC(fx,e,t)}function fN(e,...t){return function(e){try{return e.substring}catch(e){return}}(e)===fE?e.substring(...t):hC(fE,e,t)}function fR(e){return function(e){try{return e.toLowerCase}catch(e){return}}(e)===fI?e.toLowerCase():hC(fI,e,[])}function fD(e){return function(e){try{return e.toUpperCase}catch(e){return}}(e)===fT?e.toUpperCase():hC(fT,e,[])}function fj(e,t){return function(e){try{return e.charCodeAt}catch(e){return}}(e)===fC?e.charCodeAt(t):hC(fC,e,[t])}let fL=Number.prototype.toString;function fP(e,...t){return function(e){try{return e.toString}catch(e){return}}(e)===fL?e.toString(...t):hC(fL,e,t)}let f$=Object.prototype.hasOwnProperty,fz=Object.prototype.toString;function fU(e,t){return hC(f$,e,[t])}class fB{constructor(e){this.producer=e}[Symbol.iterator](){return void 0===this.it&&(this.it=this.producer()),this.it}next(){return void 0===this.it&&(this.it=this.producer()),this.it.next()}}function fW(e){return new fB(e)}let fq=Array.isArray,fK=Object.defineProperty;function fV(e){let t=!1,r=[],n=[];for(let i=0;i!==e.length;++i){let a=e[i];t=t||a.hasToBeCloned,fn(r,a.value),fn(n,a.context)}return t&&function e(t,r){return fK(t,hd,{value:()=>{let t=[];for(let e=0;e!==r.length;++e)fn(t,r[e].value);return e(t,r),t}})}(r,e),new hy(r,n)}function fJ(e,t,r){let n=[],i=fq(r)?r:[];for(let r=0;r!==e.length;++r)fn(n,fW(()=>e[r].shrink(t[r],i[r]).map(e=>{let n=fr(t,(e,t)=>new hy(hm(e),i[t]));return[...fs(n,0,r),e,...fs(n,r+1)]}).map(fV)));return hh.nil().join(...n)}class fH extends hS{constructor(e){super(),this.arbs=e;for(let t=0;t!==e.length;++t){const r=e[t];if(null==r||null==r.generate)throw Error(`Invalid parameter encountered at index ${t}: expecting an Arbitrary`)}}generate(e,t){let r=[];for(let n=0;n!==this.arbs.length;++n)fn(r,this.arbs[n].generate(e,t));return fV(r)}canShrinkWithoutContext(e){if(!fq(e)||e.length!==this.arbs.length)return!1;for(let t=0;t!==this.arbs.length;++t)if(!this.arbs[t].canShrinkWithoutContext(e[t]))return!1;return!0}shrink(e,t){return fJ(this.arbs,e,t)}}function fG(...e){return new fH(e)}let fZ=Math.log;function fQ(e){return 2+~~(.4342944819032518*fZ(e+1))}let fY={};function fX(e){fY=e}function f0(){return fY}function f1(){fY={}}let f2=Symbol("UndefinedContextPlaceholder");function f6(e){return void 0!==e.context?e:e.hasToBeCloned?new hy(e.value_,f2,()=>e.value):new hy(e.value_,f2)}class f3{constructor(e,t){this.arb=e,this.predicate=t;const{asyncBeforeEach:r,asyncAfterEach:n,beforeEach:i,afterEach:a}=fY||{};if(void 0!==r&&void 0!==i)throw hj('Global "asyncBeforeEach" and "beforeEach" parameters can\'t be set at the same time when running async properties');if(void 0!==n&&void 0!==a)throw hj('Global "asyncAfterEach" and "afterEach" parameters can\'t be set at the same time when running async properties');this.beforeEachHook=r||i||f3.dummyHook,this.afterEachHook=n||a||f3.dummyHook}isAsync(){return!0}generate(e,t){return f6(this.arb.generate(e,null!=t?fQ(t):void 0))}shrink(e){if(void 0===e.context&&!this.arb.canShrinkWithoutContext(e.value_))return hh.nil();let t=e.context!==f2?e.context:void 0;return this.arb.shrink(e.value_,t).map(f6)}async runBeforeEach(){await this.beforeEachHook()}async runAfterEach(){await this.afterEachHook()}async run(e,t){t||await this.beforeEachHook();try{let t=await this.predicate(e);return null==t||!0===t?null:{error:new hj("Property failed by returning false"),errorMessage:"Error: Property failed by returning false"}}catch(e){if(ho.isFailure(e))return e;if(e instanceof hj&&e.stack)return{error:e,errorMessage:e.stack};return{error:e,errorMessage:hW(e)}}finally{t||await this.afterEachHook()}}beforeEach(e){let t=this.beforeEachHook;return this.beforeEachHook=()=>e(t),this}afterEach(e){let t=this.afterEachHook;return this.afterEachHook=()=>e(t),this}}f3.dummyHook=()=>{};class f4 extends hS{constructor(e){super(),this.arb=e}generate(e,t){return f6(this.arb.generate(e,t))}canShrinkWithoutContext(e){return!0}shrink(e,t){if(void 0===t&&!this.arb.canShrinkWithoutContext(e))return hh.nil();let r=t!==f2?t:void 0;return this.arb.shrink(e,r).map(f6)}}function f5(...e){if(e.length<2)throw Error("asyncProperty expects at least two parameters");let t=fs(e,0,e.length-1),r=e[e.length-1];return h9(t,hI),new f3(fG(...fr(t,e=>new f4(e))),e=>r(...e))}class f8{constructor(e,t){this.arb=e,this.predicate=t;const{beforeEach:r=f8.dummyHook,afterEach:n=f8.dummyHook,asyncBeforeEach:i,asyncAfterEach:a}=fY||{};if(void 0!==i)throw hj('"asyncBeforeEach" can\'t be set when running synchronous properties');if(void 0!==a)throw hj('"asyncAfterEach" can\'t be set when running synchronous properties');this.beforeEachHook=r,this.afterEachHook=n}isAsync(){return!1}generate(e,t){return f6(this.arb.generate(e,null!=t?fQ(t):void 0))}shrink(e){if(void 0===e.context&&!this.arb.canShrinkWithoutContext(e.value_))return hh.nil();let t=e.context!==f2?e.context:void 0;return this.arb.shrink(e.value_,t).map(f6)}runBeforeEach(){this.beforeEachHook()}runAfterEach(){this.afterEachHook()}run(e,t){t||this.beforeEachHook();try{let t=this.predicate(e);return null==t||!0===t?null:{error:new hj("Property failed by returning false"),errorMessage:"Error: Property failed by returning false"}}catch(e){if(ho.isFailure(e))return e;if(e instanceof hj&&e.stack)return{error:e,errorMessage:e.stack};return{error:e,errorMessage:hW(e)}}finally{t||this.afterEachHook()}}beforeEach(e){let t=this.beforeEachHook;return this.beforeEachHook=()=>e(t),this}afterEach(e){let t=this.afterEachHook;return this.afterEachHook=()=>e(t),this}}function f7(...e){if(e.length<2)throw Error("property expects at least two parameters");let t=fs(e,0,e.length-1),r=e[e.length-1];return h9(t,hI),new f8(fG(...fr(t,e=>new f4(e))),e=>r(...e))}function f9(e,t){for(var r=[],n=0;n!=t;++n)r.push(e.unsafeNext());return r}function de(e,t){var r=e.clone();return[f9(r,t),r]}function dt(e,t){for(var r=0;r!=t;++r)e.unsafeNext()}function dr(e,t){var r=e.clone();return dt(r,t),r}f8.dummyHook=()=>{};var dn=-0x80000000-1,di=function(e){return 214013*e+2531011|0},da=function(e){return(e&dn)>>16},ds=function(){function e(e){this.seed=e}return e.prototype.clone=function(){return new e(this.seed)},e.prototype.next=function(){var t=new e(this.seed);return[t.unsafeNext(),t]},e.prototype.unsafeNext=function(){var e=di(this.seed),t=da(e),r=di(e),n=da(r);return this.seed=di(r),0|da(this.seed)+(n+(t<<15)<<15)},e.prototype.getState=function(){return[this.seed]},e}(),dl=Object.assign(function(e){return new ds(e)},{fromState:function(e){if(1!==e.length)throw Error("The state must have been produced by a congruential32 RandomGenerator");return new ds(e[0])}}),du=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},dc=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},dh=function(){function e(e,t){this.states=e,this.index=t}return e.twist=function(t){for(var r=t.slice(),n=0;n!==e.N-e.M;++n){var i=(r[n]&e.MASK_UPPER)+(r[n+1]&e.MASK_LOWER);r[n]=r[n+e.M]^i>>>1^-(1&i)&e.A}for(var n=e.N-e.M;n!==e.N-1;++n){var a=(r[n]&e.MASK_UPPER)+(r[n+1]&e.MASK_LOWER);r[n]=r[n+e.M-e.N]^a>>>1^-(1&a)&e.A}var s=(r[e.N-1]&e.MASK_UPPER)+(r[0]&e.MASK_LOWER);return r[e.N-1]=r[e.M-1]^s>>>1^-(1&s)&e.A,r},e.seeded=function(t){var r=Array(e.N);r[0]=t;for(var n=1;n!==e.N;++n){var i=r[n-1]^r[n-1]>>>30;r[n]=Math.imul(e.F,i)+n|0}return r},e.from=function(t){return new e(e.twist(e.seeded(t)),0)},e.prototype.clone=function(){return new e(this.states,this.index)},e.prototype.next=function(){var t=new e(this.states,this.index);return[t.unsafeNext(),t]},e.prototype.unsafeNext=function(){var t=this.states[this.index];return t^=this.states[this.index]>>>e.U,t^=t<<e.S&e.B,t^=t<<e.T&e.C,t^=t>>>e.L,++this.index>=e.N&&(this.states=e.twist(this.states),this.index=0),t},e.prototype.getState=function(){return dc([this.index],du(this.states),!1)},e.fromState=function(t){if(!(t.length===e.N+1&&t[0]>=0&&t[0]<e.N))throw Error("The state must have been produced by a mersenne RandomGenerator");return new e(t.slice(1),t[0])},e.N=624,e.M=397,e.R=31,e.A=0x9908b0df,e.F=0x6c078965,e.U=11,e.S=7,e.B=0x9d2c5680,e.T=15,e.C=0xefc60000,e.L=18,e.MASK_LOWER=Math.pow(2,e.R)-1,e.MASK_UPPER=Math.pow(2,e.R),e}();let df=Object.assign(function(e){return dh.from(e)},{fromState:function(e){return dh.fromState(e)}});var dd=function(){function e(e,t,r,n){this.s01=e,this.s00=t,this.s11=r,this.s10=n}return e.prototype.clone=function(){return new e(this.s01,this.s00,this.s11,this.s10)},e.prototype.next=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return[t.unsafeNext(),t]},e.prototype.unsafeNext=function(){var e=this.s00^this.s00<<23,t=this.s01^(this.s01<<23|this.s00>>>9),r=e^this.s10^(e>>>18|t<<14)^(this.s10>>>5|this.s11<<27),n=t^this.s11^t>>>18^this.s11>>>5,i=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=n,this.s10=r,i},e.prototype.jump=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return t.unsafeJump(),t},e.prototype.unsafeJump=function(){for(var e=0,t=0,r=0,n=0,i=[0x635d2dff,0x8a5cd789,0x5c472f96,0x121fd215],a=0;4!==a;++a)for(var s=1;s;s<<=1)i[a]&s&&(e^=this.s01,t^=this.s00,r^=this.s11,n^=this.s10),this.unsafeNext();this.s01=e,this.s00=t,this.s11=r,this.s10=n},e.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},e}(),dp=Object.assign(function(e){return new dd(-1,~e,0|e,0)},{fromState:function(e){if(4!==e.length)throw Error("The state must have been produced by a xorshift128plus RandomGenerator");return new dd(e[0],e[1],e[2],e[3])}}),dm=function(){function e(e,t,r,n){this.s01=e,this.s00=t,this.s11=r,this.s10=n}return e.prototype.clone=function(){return new e(this.s01,this.s00,this.s11,this.s10)},e.prototype.next=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return[t.unsafeNext(),t]},e.prototype.unsafeNext=function(){var e=this.s00+this.s10|0,t=this.s10^this.s00,r=this.s11^this.s01,n=this.s00,i=this.s01;return this.s00=n<<24^i>>>8^t^t<<16,this.s01=i<<24^n>>>8^r^(r<<16|t>>>16),this.s10=r<<5^t>>>27,this.s11=t<<5^r>>>27,e},e.prototype.jump=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return t.unsafeJump(),t},e.prototype.unsafeJump=function(){for(var e=0,t=0,r=0,n=0,i=[0xd8f554a5,0xdf900294,0x4b3201fc,0x170865df],a=0;4!==a;++a)for(var s=1;s;s<<=1)i[a]&s&&(e^=this.s01,t^=this.s00,r^=this.s11,n^=this.s10),this.unsafeNext();this.s01=e,this.s00=t,this.s11=r,this.s10=n},e.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},e}(),dg=Object.assign(function(e){return new dm(-1,~e,0|e,0)},{fromState:function(e){if(4!==e.length)throw Error("The state must have been produced by a xoroshiro128plus RandomGenerator");return new dm(e[0],e[1],e[2],e[3])}});function dy(e,t){if(e.sign!==t.sign)return db(e,{sign:-t.sign,data:t.data});for(var r=[],n=0,i=e.data,a=t.data,s=i.length-1,o=a.length-1;s>=0||o>=0;--s,--o){var l=(s>=0?i[s]:0)+(o>=0?a[o]:0)+n;r.push(l>>>0),n=~~(l/0x100000000)}return 0!==n&&r.push(n),{sign:e.sign,data:r.reverse()}}function db(e,t){if(e.sign!==t.sign)return dy(e,{sign:-t.sign,data:t.data});var r=e.data,n=t.data;if(function(e,t){for(var r=Math.max(e.length,t.length),n=0;n<r;++n){var i=n+e.length-r,a=n+t.length-r,s=i>=0?e[i]:0,o=a>=0?t[a]:0;if(s<o)return!0;if(s>o)break}return!1}(r,n)){var i=db(t,e);return i.sign=-i.sign,i}for(var a=[],s=0,o=r.length-1,l=n.length-1;o>=0||l>=0;--o,--l){var u=(o>=0?r[o]:0)-(l>=0?n[l]:0)-s;a.push(u>>>0),s=+(u<0)}return{sign:e.sign,data:a.reverse()}}function dS(e){for(var t=e.data,r=0;r!==t.length&&0===t[r];++r);return r===t.length?(e.sign=1,e.data=[0]):t.splice(0,r),e}function dv(e,t){if(t<0){var r=-t;e.sign=-1,e.data[0]=~~(r/0x100000000),e.data[1]=r>>>0}else e.sign=1,e.data[0]=~~(t/0x100000000),e.data[1]=t>>>0;return e}function dw(e,t){for(var r=e>2?~~(0x100000000/e)*e:0x100000000,n=t.unsafeNext()+0x80000000;n>=r;)n=t.unsafeNext()+0x80000000;return n%e}function dx(e,t,r){for(var n=t.length;;){for(var i=0;i!==n;++i){var a=dw(0===i?t[0]+1:0x100000000,r);e[i]=a}for(var i=0;i!==n;++i){var s=e[i],o=t[i];if(s<o)return e;if(s>o)break}}}function dk(e,t,r){var n=dS(function(e){e.sign=1;for(var t=e.data,r=t.length-1;r>=0;--r)if(0xffffffff!==t[r])return t[r]+=1,e;else t[r]=0;return t.unshift(1),e}(db(t,e)));return dS(dy({sign:1,data:dx(n.data.slice(0),n.data,r)},e))}function d_(e,t,r){if(null!=r){var n=r.clone();return[dk(e,t,n),n]}return function(r){var n=r.clone();return[dk(e,t,n),n]}}var dE="undefined"!=typeof BigInt?BigInt:void 0;function dI(e,t,r){for(var n=t-e+dE(1),i=dE(-0x80000000),a=dE(0x100000000),s=a,o=1;s<n;)s*=a,++o;for(var l=s-s%n;;){for(var u=dE(0),c=0;c!==o;++c)u=a*u+(dE(r.unsafeNext())-i);if(u<l)return u%n+e}}function dT(e,t,r){if(null!=r){var n=r.clone();return[dI(e,t,n),n]}return function(r){var n=r.clone();return[dI(e,t,n),n]}}var dO=Number.MAX_SAFE_INTEGER,dC={sign:1,data:[0,0]},dF={sign:1,data:[0,0]},dA={sign:1,data:[0,0]},dM=[0,0];function dN(e,t,r){var n,i=t-e;return i<=0xffffffff?dw(i+1,r)+e:(0xffffffff===(n=i<=dO?dv(dA,i):function(e,t,r){var n=t.data[1],i=t.data[0],a=t.sign,s=r.data[1],o=r.data[0],l=r.sign;if(e.sign=1,1===a&&-1===l){var u=n+s;return e.data[0]=i+o+ +(u>0xffffffff)>>>0,e.data[1]=u>>>0,e}var c=n,h=i,f=s,d=o;-1===a&&(c=s,h=o,f=n,d=i);var p=0,m=c-f;return m<0&&(p=1,m>>>=0),e.data[0]=h-d-p,e.data[1]=m,e}(dA,dv(dC,t),dv(dF,e))).data[1]?(n.data[0]+=1,n.data[1]=0):n.data[1]+=1,dx(dM,n.data,r),0x100000000*dM[0]+dM[1]+e)}function dR(e,t,r){if(null!=r){var n=r.clone();return[dN(e,t,n),n]}return function(r){var n=r.clone();return[dN(e,t,n),n]}}var dD="module",dj="6.1.0",dL="a413dd2b721516be2ef29adffb515c5ae67bfbad";(g=k||(k={}))[g.None=0]="None",g[g.Verbose=1]="Verbose",g[g.VeryVerbose=2]="VeryVerbose";let dP=Date.now,d$=Math.min,dz=Math.random;class dU{constructor(e){const t=e||{};this.seed=dU.readSeed(t),this.randomType=dU.readRandomType(t),this.numRuns=dU.readNumRuns(t),this.verbose=dU.readVerbose(t),this.maxSkipsPerRun=dU.readOrDefault(t,"maxSkipsPerRun",100),this.timeout=dU.safeTimeout(dU.readOrDefault(t,"timeout",null)),this.skipAllAfterTimeLimit=dU.safeTimeout(dU.readOrDefault(t,"skipAllAfterTimeLimit",null)),this.interruptAfterTimeLimit=dU.safeTimeout(dU.readOrDefault(t,"interruptAfterTimeLimit",null)),this.markInterruptAsFailure=dU.readBoolean(t,"markInterruptAsFailure"),this.skipEqualValues=dU.readBoolean(t,"skipEqualValues"),this.ignoreEqualValues=dU.readBoolean(t,"ignoreEqualValues"),this.logger=dU.readOrDefault(t,"logger",e=>{console.log(e)}),this.path=dU.readOrDefault(t,"path",""),this.unbiased=dU.readBoolean(t,"unbiased"),this.examples=dU.readOrDefault(t,"examples",[]),this.endOnFailure=dU.readBoolean(t,"endOnFailure"),this.reporter=dU.readOrDefault(t,"reporter",null),this.asyncReporter=dU.readOrDefault(t,"asyncReporter",null),this.errorWithCause=dU.readBoolean(t,"errorWithCause")}toParameters(){let e=e=>null!==e?e:void 0;return{seed:this.seed,randomType:this.randomType,numRuns:this.numRuns,maxSkipsPerRun:this.maxSkipsPerRun,timeout:e(this.timeout),skipAllAfterTimeLimit:e(this.skipAllAfterTimeLimit),interruptAfterTimeLimit:e(this.interruptAfterTimeLimit),markInterruptAsFailure:this.markInterruptAsFailure,skipEqualValues:this.skipEqualValues,ignoreEqualValues:this.ignoreEqualValues,path:this.path,logger:this.logger,unbiased:this.unbiased,verbose:this.verbose,examples:this.examples,endOnFailure:this.endOnFailure,reporter:e(this.reporter),asyncReporter:e(this.asyncReporter),errorWithCause:this.errorWithCause}}static read(e){return new dU(e)}}dU.createQualifiedRandomGenerator=e=>t=>{let r=e(t);return void 0===r.unsafeJump&&(r.unsafeJump=()=>dt(r,42)),r},dU.readSeed=e=>{if(null==e.seed)return dP()^0x100000000*dz();let t=0|e.seed;if(e.seed===t)return t;let r=e.seed-t;return t^0x100000000*r},dU.readRandomType=e=>{if(null==e.randomType)return B.xorshift128plus;if("string"==typeof e.randomType)switch(e.randomType){case"mersenne":return dU.createQualifiedRandomGenerator(B.mersenne);case"congruential":case"congruential32":return dU.createQualifiedRandomGenerator(B.congruential32);case"xorshift128plus":return B.xorshift128plus;case"xoroshiro128plus":return B.xoroshiro128plus;default:throw Error(`Invalid random specified: '${e.randomType}'`)}let t=e.randomType(0);if("min"in t&&-0x80000000!==t.min)throw Error(`Invalid random number generator: min must equal -0x80000000, got ${String(t.min)}`);if("max"in t&&0x7fffffff!==t.max)throw Error(`Invalid random number generator: max must equal 0x7fffffff, got ${String(t.max)}`);return"unsafeJump"in t?e.randomType:dU.createQualifiedRandomGenerator(e.randomType)},dU.readNumRuns=e=>null!=e.numRuns?e.numRuns:null!=e.num_runs?e.num_runs:100,dU.readVerbose=e=>null==e.verbose?k.None:"boolean"==typeof e.verbose?!0===e.verbose?k.Verbose:k.None:e.verbose<=k.None?k.None:e.verbose>=k.VeryVerbose?k.VeryVerbose:0|e.verbose,dU.readBoolean=(e,t)=>!0===e[t],dU.readOrDefault=(e,t,r)=>{let n=e[t];return null!=n?n:r},dU.safeTimeout=e=>null===e?null:d$(e,0x7fffffff);class dB{constructor(e,t,r,n,i,a){this.property=e,this.getTime=t,this.interruptExecution=n,this.setTimeoutSafe=i,this.clearTimeoutSafe=a,this.skipAfterTime=this.getTime()+r,void 0!==this.property.runBeforeEach&&void 0!==this.property.runAfterEach&&(this.runBeforeEach=()=>this.property.runBeforeEach(),this.runAfterEach=()=>this.property.runAfterEach())}isAsync(){return this.property.isAsync()}generate(e,t){return this.property.generate(e,t)}shrink(e){return this.property.shrink(e)}run(e,t){let r=this.skipAfterTime-this.getTime();if(r<=0){let e=new ho(this.interruptExecution);return this.isAsync()?Promise.resolve(e):e}if(this.interruptExecution&&this.isAsync()){var n,i;let a,s=(n=this.setTimeoutSafe,i=this.clearTimeoutSafe,a=null,{clear:()=>i(a),promise:new Promise(e=>{a=n(()=>{e(new ho(!0))},r)})}),o=Promise.race([this.property.run(e,t),s.promise]);return o.then(s.clear,s.clear),o}return this.property.run(e,t)}}class dW{constructor(e,t,r,n){this.property=e,this.timeMs=t,this.setTimeoutSafe=r,this.clearTimeoutSafe=n,void 0!==this.property.runBeforeEach&&void 0!==this.property.runAfterEach&&(this.runBeforeEach=()=>Promise.resolve(this.property.runBeforeEach()),this.runAfterEach=()=>Promise.resolve(this.property.runAfterEach()))}isAsync(){return!0}generate(e,t){return this.property.generate(e,t)}shrink(e){return this.property.shrink(e)}async run(e,t){var r,n,i;let a,s=(r=this.timeMs,n=this.setTimeoutSafe,i=this.clearTimeoutSafe,a=null,{clear:()=>i(a),promise:new Promise(e=>{a=n(()=>{e({error:new hj(`Property timeout: exceeded limit of ${r} milliseconds`),errorMessage:`Property timeout: exceeded limit of ${r} milliseconds`})},r)})}),o=Promise.race([this.property.run(e,t),s.promise]);return o.then(s.clear,s.clear),o}}class dq{constructor(e){this.property=e,void 0!==this.property.runBeforeEach&&void 0!==this.property.runAfterEach&&(this.runBeforeEach=()=>this.property.runBeforeEach(),this.runAfterEach=()=>this.property.runAfterEach())}isAsync(){return this.property.isAsync()}generate(e,t){return this.property.generate(e,void 0)}shrink(e){return this.property.shrink(e)}run(e,t){return this.property.run(e,t)}}let dK=Array.from,dV="undefined"!=typeof Buffer?Buffer.isBuffer:void 0,dJ=JSON.stringify,dH=Number.isNaN,dG=Object.keys,dZ=Object.getOwnPropertySymbols,dQ=Object.getOwnPropertyDescriptor,dY=Object.getPrototypeOf,dX=-1/0,d0=1/0,d1=Symbol.for("fast-check/toStringMethod");function d2(e){return null!==e&&("object"==typeof e||"function"==typeof e)&&d1 in e&&"function"==typeof e[d1]}let d6=Symbol.for("fast-check/asyncToStringMethod");function d3(e){return null!==e&&("object"==typeof e||"function"==typeof e)&&d6 in e&&"function"==typeof e[d6]}let d4=/^Symbol\((.*)\)$/;function d5(e){switch(e){case 0:return 1/e===dX?"-0":"0";case dX:return"Number.NEGATIVE_INFINITY";case d0:return"Number.POSITIVE_INFINITY";default:return e==e?hW(e):"Number.NaN"}}function d8(e,t,r){var n,i;let a=[...t,e];if("object"==typeof e&&-1!==fe(t,e))return"[cyclic]";if(d3(e)){let t=r(e);if("fulfilled"===t.state)return t.value}if(d2(e))try{return e[d1]()}catch(e){}switch(hC(fz,e,[])){case"[object Array]":{if(e.length>=50&&function(e){let t=-1;for(let r in e){let e=Number(r);if(e!==t+1)return!0;t=e}return t+1!==e.length}(e)){let t=[];for(let n in e)dH(Number(n))||fn(t,`${n}:${d8(e[n],a,r)}`);return 0!==t.length?`Object.assign(Array(${e.length}),{${ft(t,",")}})`:`Array(${e.length})`}let t=ft(fr(e,e=>d8(e,a,r)),",");return 0===e.length||e.length-1 in e?`[${t}]`:`[${t},]`}case"[object BigInt]":return`${e}n`;case"[object Boolean]":{let t=!0==e?"true":"false";return"boolean"==typeof e?t:`new Boolean(${t})`}case"[object Date]":return dH(fh(e))?"new Date(NaN)":`new Date(${dJ(function(e){try{return e.toISOString}catch(e){return}}(e)===fc?e.toISOString():hC(fc,e,[]))})`;case"[object Map]":return`new Map(${d8(Array.from(e),a,r)})`;case"[object Null]":return"null";case"[object Number]":return"number"==typeof e?d5(e):`new Number(${d5(Number(e))})`;case"[object Object]":{try{let t=e.toString;if("function"==typeof t&&t!==Object.prototype.toString)return e.toString()}catch(e){return"[object Object]"}let t=t=>`${"__proto__"===t?'["__proto__"]':"symbol"==typeof t?`[${d8(t,a,r)}]`:dJ(t)}:${d8(e[t],a,r)}`,s="{"+ft([...fr(dG(e),t),...fr((n=dZ(e),i=t=>{let r=dQ(e,t);return r&&r.enumerable},function(e){try{return e.filter}catch(e){return}}(n)===h2?n.filter(i):hC(h2,n,[i])),t)],",")+"}";if(null===dY(e))return"{}"===s?"Object.create(null)":`Object.assign(Object.create(null),${s})`;return s}case"[object Set]":return`new Set(${d8(Array.from(e),a,r)})`;case"[object String]":return"string"==typeof e?dJ(e):`new String(${dJ(e)})`;case"[object Symbol]":{if(void 0!==hQ.keyFor(e))return`Symbol.for(${dJ(hQ.keyFor(e))})`;let t=function(e){if(void 0!==e.description)return e.description;let t=d4.exec(hW(e));return t&&t[1].length?t[1]:null}(e);if(null===t)return"Symbol()";return e===(t.startsWith("Symbol.")&&hQ[t.substring(7)])?t:`Symbol(${dJ(t)})`}case"[object Promise]":{let t=r(e);switch(t.state){case"fulfilled":return`Promise.resolve(${d8(t.value,a,r)})`;case"rejected":return`Promise.reject(${d8(t.value,a,r)})`;case"pending":return"new Promise(() => {/*pending*/})";default:return"new Promise(() => {/*unknown*/})"}}case"[object Error]":if(e instanceof Error)return`new Error(${d8(e.message,a,r)})`;break;case"[object Undefined]":return"undefined";case"[object Int8Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Int16Array]":case"[object Uint16Array]":case"[object Int32Array]":case"[object Uint32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object BigInt64Array]":case"[object BigUint64Array]":{if("function"==typeof dV&&dV(e))return`Buffer.from(${d8(dK(e.values()),a,r)})`;let t=dY(e),n=t&&t.constructor&&t.constructor.name;if("string"==typeof n){let t=e.values();return`${n}.from(${d8(dK(t),a,r)})`}}}try{return e.toString()}catch(t){return hC(fz,e,[])}}function d7(e){return d8(e,[],()=>({state:"unknown",value:void 0}))}function d9(e){let t=hQ(),r=[],n=new hZ,i={state:"unknown",value:void 0},a=function(e){let a;if(n.has(e))return n.get(e);let s=(a=null,{delay:new Promise(e=>{a=setTimeout(()=>{a=null,e(t)},0)}),cancel:()=>{null!==a&&clearTimeout(a)}}),o=d6 in e?Promise.resolve().then(()=>e[d6]()):e;return o.catch(()=>{}),r.push(Promise.race([o,s.delay]).then(r=>{r===t?n.set(e,{state:"pending",value:void 0}):n.set(e,{state:"fulfilled",value:r}),s.cancel()},t=>{n.set(e,{state:"rejected",value:t}),s.cancel()})),n.set(e,i),i};return function t(){let n=d8(e,[],a);return 0===r.length?n:Promise.all(r.splice(0)).then(t)}()}async function pe(e){return Promise.resolve(d9(e))}function pt(e){return null===e?new ho:e}class pr{constructor(e,t){this.property=e,this.skipRuns=t,this.coveredCases=new Map,void 0!==this.property.runBeforeEach&&void 0!==this.property.runAfterEach&&(this.runBeforeEach=()=>this.property.runBeforeEach(),this.runAfterEach=()=>this.property.runAfterEach())}isAsync(){return this.property.isAsync()}generate(e,t){return this.property.generate(e,t)}shrink(e){return this.property.shrink(e)}run(e,t){let r=d7(e);if(this.coveredCases.has(r)){let e=this.coveredCases.get(r);return this.skipRuns?function(...e){return e[1]?e[0].then(pt):pt(e[0])}(e,this.property.isAsync()):e}let n=this.property.run(e,t);return this.coveredCases.set(r,n),n}}let pn=Date.now,pi=setTimeout,pa=clearTimeout;(y=_||(_={}))[y.Success=0]="Success",y[y.Skipped=-1]="Skipped",y[y.Failure=1]="Failure";class ps{constructor(e,t){this.verbosity=e,this.interruptedAsFailure=t,this.isSuccess=()=>null==this.pathToFailure,this.firstFailure=()=>this.pathToFailure?+fM(this.pathToFailure,":")[0]:-1,this.numShrinks=()=>this.pathToFailure?fM(this.pathToFailure,":").length-1:0,this.rootExecutionTrees=[],this.currentLevelExecutionTrees=this.rootExecutionTrees,this.failure=null,this.numSkips=0,this.numSuccesses=0,this.interrupted=!1}appendExecutionTree(e,t){let r={status:e,value:t,children:[]};return this.currentLevelExecutionTrees.push(r),r}fail(e,t,r){if(this.verbosity>=k.Verbose){let t=this.appendExecutionTree(_.Failure,e);this.currentLevelExecutionTrees=t.children}null==this.pathToFailure?this.pathToFailure=`${t}`:this.pathToFailure+=`:${t}`,this.value=e,this.failure=r}skip(e){this.verbosity>=k.VeryVerbose&&this.appendExecutionTree(_.Skipped,e),null==this.pathToFailure&&++this.numSkips}success(e){this.verbosity>=k.VeryVerbose&&this.appendExecutionTree(_.Success,e),null==this.pathToFailure&&++this.numSuccesses}interrupt(){this.interrupted=!0}extractFailures(){if(this.isSuccess())return[];let e=[],t=this.rootExecutionTrees;for(;t.length>0&&t[t.length-1].status===_.Failure;){let r=t[t.length-1];e.push(r.value),t=r.children}return e}toRunDetails(e,t,r,n){if(!this.isSuccess())return{failed:!0,interrupted:this.interrupted,numRuns:this.firstFailure()+1-this.numSkips,numSkips:this.numSkips,numShrinks:this.numShrinks(),seed:e,counterexample:this.value,counterexamplePath:ps.mergePaths(t,this.pathToFailure),error:this.failure.errorMessage,errorInstance:this.failure.error,failures:this.extractFailures(),executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:n.toParameters()};let i=this.interruptedAsFailure||0===this.numSuccesses;return{failed:this.numSkips>r||this.interrupted&&i,interrupted:this.interrupted,numRuns:this.numSuccesses,numSkips:this.numSkips,numShrinks:0,seed:e,counterexample:null,counterexamplePath:null,error:null,errorInstance:null,failures:[],executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:n.toParameters()}}}ps.mergePaths=(e,t)=>{if(0===e.length)return t;let r=e.split(":"),n=t.split(":"),i=+r[r.length-1]+ +n[0];return[...r.slice(0,r.length-1),`${i}`,...n.slice(1)].join(":")};class po{constructor(e,t,r,n){this.sourceValues=e,this.shrink=t,this.runExecution=new ps(r,n),this.currentIdx=-1,this.nextValues=e}[Symbol.iterator](){return this}next(){let e=this.nextValues.next();return e.done||this.runExecution.interrupted?{done:!0,value:void 0}:(this.currentValue=e.value,++this.currentIdx,{done:!1,value:e.value.value_})}handleResult(e){null==e||"object"!=typeof e||ho.isFailure(e)?null!=e?e.interruptExecution?this.runExecution.interrupt():(this.runExecution.skip(this.currentValue.value_),this.sourceValues.skippedOne()):this.runExecution.success(this.currentValue.value_):(this.runExecution.fail(this.currentValue.value_,this.currentIdx,e),this.currentIdx=-1,this.nextValues=this.shrink(this.currentValue))}}class pl{constructor(e,t,r){this.initialValues=e,this.maxInitialIterations=t,this.remainingSkips=r}[Symbol.iterator](){return this}next(){if(-1!=--this.maxInitialIterations&&this.remainingSkips>=0){let e=this.initialValues.next();if(!e.done)return{value:e.value,done:!1}}return{value:void 0,done:!0}}skippedOne(){--this.remainingSkips,++this.maxInitialIterations}}class pu{constructor(e){this.internalRng=e.clone()}clone(){return new pu(this.internalRng)}next(e){return dN(0,(1<<e)-1,this.internalRng)}nextBoolean(){return 1==dN(0,1,this.internalRng)}nextInt(e,t){return dN(null==e?pu.MIN_INT:e,null==t?pu.MAX_INT:t,this.internalRng)}nextBigInt(e,t){return dI(e,t,this.internalRng)}nextArrayInt(e,t){return dk(e,t,this.internalRng)}nextDouble(){let e=this.next(26),t=this.next(27);return(e*pu.DBL_FACTOR+t)*pu.DBL_DIVISOR}getState(){if("getState"in this.internalRng&&"function"==typeof this.internalRng.getState)return this.internalRng.getState()}}function*pc(e,t,r,n){for(let e=0;e!==n.length;++e)yield new hy(n[e],void 0);for(let n=0,a=r(t);;++n){var i;yield(i=n,a.unsafeJump(),e.generate(new pu(a),i))}}function*ph(e,t,r,n){yield*fr(n,e=>()=>new hy(e,void 0));let i=0,a=r(t);for(;;)a=a.jump?a.jump():dr(a,42),yield function(e,t,r){return()=>e.generate(new pu(t),r)}(e,a,i++)}function pf(e){return e()}function pd(e,t,r){let n=e.split(":").map(e=>+e);if(0===n.length)return t.map(pf);if(!n.every(e=>!Number.isNaN(e)))throw Error(`Unable to replay, got invalid path=${e}`);let i=t.drop(n[0]).map(pf);for(let t of n.slice(1)){let n=i.getNthOrLast(0);if(null===n)throw Error(`Unable to replay, got wrong path=${e}`);i=r(n).drop(t)}return i}pu.MIN_INT=-0x80000000,pu.MAX_INT=0x7fffffff,pu.DBL_FACTOR=0x8000000,pu.DBL_DIVISOR=11102230246251565e-32;let pp=Object.assign;function pm(e,t){let r=[],n=[];for(let t of e.slice().reverse())n.push({depth:1,tree:t});for(;0!==n.length;){let e=n.pop(),i=e.tree,a=e.depth,s=i.status===_.Success?"\x1b[32m\x1b[0m":i.status===_.Failure?"\x1b[31m\xd7\x1b[0m":"\x1b[33m!\x1b[0m",o=Array(a).join(". ");for(let e of(r.push(`${o}${s} ${t(i.value)}`),i.children.slice().reverse()))n.push({depth:a+1,tree:e})}return`Execution summary:
${r.join("\n")}`}function pg(e,t){let r,n,i,a,s,o;if(!e.failed)return;let{message:l,details:u,hints:c}=null===e.counterexamplePath?e.interrupted?(r=`Property interrupted after ${e.numRuns} tests
{ seed: ${e.seed} }`,n=null,i=[],e.verbose>=k.VeryVerbose?n=pm(e.executionSummary,t):fn(i,"Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:r,details:n,hints:i}):(a=`Failed to run property, too many pre-condition failures encountered
{ seed: ${e.seed} }

Ran ${e.numRuns} time(s)
Skipped ${e.numSkips} time(s)`,s=null,o=["Try to reduce the number of rejected values by combining map, flatMap and built-in arbitraries","Increase failure tolerance by setting maxSkipsPerRun to an higher value"],e.verbose>=k.VeryVerbose?s=pm(e.executionSummary,t):fn(o,"Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:a,details:s,hints:o}):function(e,t){var r,n,i,a;let s=e.runConfiguration.errorWithCause?"":`
Got ${r=e.error,n=/^Error: /,i="error: ",function(e){try{return e.replace}catch(e){return}}(r)===fA?r.replace(n,i):hC(fA,r,[n,i])}`,o=`Property failed after ${e.numRuns} tests
{ seed: ${e.seed}, path: "${e.counterexamplePath}", endOnFailure: true }
Counterexample: ${t(e.counterexample)}
Shrunk ${e.numShrinks} time(s)${s}`,l=null,u=[];return e.verbose>=k.VeryVerbose?l=pm(e.executionSummary,t):e.verbose===k.Verbose?(a=e.failures,l=`Encountered failures were:
- ${a.map(t).join("\n- ")}`):fn(u,"Enable verbose mode in order to have the list of all failing values encountered during the run"),{message:o,details:l,hints:u}}(e,t),h=l;return null!=u&&(h+=`

${u}`),c.length>0&&(h+=`

${1===c.length?`Hint: ${c[0]}`:c.map((e,t)=>`Hint (${t+1}): ${e}`).join("\n")}`),h}function py(e){return pg(e,d7)}async function pb(e){let t=[],r=pg(e,function(e){let r=d9(e);return"string"==typeof r?r:(t.push(Promise.all([e,r])),"")});if(0===t.length)return r;let n=new hZ(await Promise.all(t));return pg(e,function(e){let t=fw(n,e);return void 0!==t?t:d7(e)})}function pS(e,t){if(!t.runConfiguration.errorWithCause)throw new hj(e);let r=new hj(e,{cause:t.errorInstance});return"cause"in r||pp(r,{cause:t.errorInstance}),r}async function pv(e){if(e.failed)throw pS(await pb(e),e)}async function pw(e){return e.runConfiguration.asyncReporter?e.runConfiguration.asyncReporter(e):e.runConfiguration.reporter?e.runConfiguration.reporter(e):pv(e)}let px=Object.assign;async function pk(e,t,r,n,i){let a=void 0!==e.runBeforeEach&&void 0!==e.runAfterEach,s=new po(r,t,n,i);for(let t of s){a&&await e.runBeforeEach();let r=await e.run(t,a);a&&await e.runAfterEach(),s.handleResult(r)}return s.runExecution}function p_(e,t){let r;if(null==e||null==e.generate)throw Error("Invalid property encountered, please use a valid property");if(null==e.run)throw Error("Invalid property encountered, please use a valid property not an arbitrary");let n=dU.read(px(px({},fY),t));if(null!==n.reporter&&null!==n.asyncReporter)throw Error("Invalid parameters encountered, reporter and asyncReporter cannot be specified together");if(null!==n.asyncReporter&&!e.isAsync())throw Error("Invalid parameters encountered, only asyncProperty can be used when asyncReporter specified");let i=(r=e,e.isAsync()&&null!=n.timeout&&(r=new dW(r,n.timeout,pi,pa)),n.unbiased&&(r=new dq(r)),null!=n.skipAllAfterTimeLimit&&(r=new dB(r,pn,n.skipAllAfterTimeLimit,!1,pi,pa)),null!=n.interruptAfterTimeLimit&&(r=new dB(r,pn,n.interruptAfterTimeLimit,!0,pi,pa)),n.skipEqualValues&&(r=new pr(r,!0)),n.ignoreEqualValues&&(r=new pr(r,!1)),r),a=0===n.path.length||-1===n.path.indexOf(":")?n.numRuns:-1,s=n.numRuns*n.maxSkipsPerRun,o=(...e)=>i.shrink(...e),l=new pl(0===n.path.length?pc(i,n.seed,n.randomType,n.examples):pd(n.path,hf(ph(i,n.seed,n.randomType,n.examples)),o),a,s),u=n.endOnFailure?hh.nil:o;return i.isAsync()?pk(i,u,l,n.verbose,n.markInterruptAsFailure).then(e=>e.toRunDetails(n.seed,n.path,s,n)):(function(e,t,r,n,i){let a=void 0!==e.runBeforeEach&&void 0!==e.runAfterEach,s=new po(r,t,n,i);for(let t of s){a&&e.runBeforeEach();let r=e.run(t,a);a&&e.runAfterEach(),s.handleResult(r)}return s.runExecution})(i,u,l,n.verbose,n.markInterruptAsFailure).toRunDetails(n.seed,n.path,s,n)}function pE(e,t){let r=p_(e,t);if(e.isAsync())return r.then(pw);!function(e){if(e.runConfiguration.asyncReporter)return e.runConfiguration.asyncReporter(e);if(e.runConfiguration.reporter)return e.runConfiguration.reporter(e);if(e.failed)throw pS(py(e),e)}(r)}function pI(e,t){let r,n="number"==typeof t?Object.assign(Object.assign({},fY),{numRuns:t}):Object.assign(Object.assign({},fY),t),i=dU.read(n),a=(r=Object.prototype.hasOwnProperty.call(e,"isAsync")?e:new f8(e,()=>!0),!0===i.unbiased?new dq(r):r),s=a.shrink.bind(a);return(0===i.path.length?hf(pc(a,i.seed,i.randomType,i.examples)):pd(i.path,hf(ph(a,i.seed,i.randomType,i.examples)),s)).take(i.numRuns).map(e=>e.value_)}function pT(e,t){return[...pI(e,t)]}function pO(e,t,r){let n="number"==typeof r?Object.assign(Object.assign({},fY),{numRuns:r}):Object.assign(Object.assign({},fY),r),i=dU.read(n),a={};for(let n of pI(e,r)){let e=t(n);for(let t of Array.isArray(e)?e:[e])a[t]=(a[t]||0)+1}let s=Object.entries(a).sort((e,t)=>t[1]-e[1]).map(e=>[e[0],`${(Math.round(100*(100*e[1]/i.numRuns))/100).toFixed(2)}%`]),o=s.map(e=>e[0].length).reduce((e,t)=>Math.max(e,t),0),l=s.map(e=>e[1].length).reduce((e,t)=>Math.max(e,t),0);for(let e of s)i.logger(`${e[0].padEnd(o,".")}..${e[1].padStart(l,".")}`)}let pC=Object.assign;function pF(e,t,r,n){let i=r(),a=e.clone(),s={mrng:e.clone(),biasFactor:t,history:[]};return new hy(pC((e,...r)=>(e=>{let r=i[s.history.length];if(void 0!==r&&r.arb===e){let t=r.value;return fn(s.history,{arb:e,value:t,context:r.context,mrng:r.mrng}),a=r.mrng.clone(),t}let n=e.generate(a,t);return fn(s.history,{arb:e,value:n.value_,context:n.context,mrng:a.clone()}),n.value})(n(e,r)),{values:()=>fr(s.history,e=>e.value),[hd]:()=>pF(e,t,r,n).value,[d1]:()=>d7(fr(s.history,e=>e.value))}),s)}let pA=Array.isArray,pM=Object.keys,pN=Object.is;class pR extends hS{constructor(){super(...arguments),this.arbitraryCache=function(e){let t=new hZ;return function(r,n){let i=fw(t,r);if(void 0===i){let e=r(...n);return fv(t,r,[{args:n,value:e}]),e}for(let t of i)if(e(n,t.args))return t.value;let a=r(...n);return fn(i,{args:n,value:a}),a}}(function e(t,r){if(null===t||"object"!=typeof t||null===r||"object"!=typeof r)return pN(t,r);if(pA(t)){if(!pA(r)||t.length!==r.length)return!1}else if(pA(r))return!1;if(pM(t).length!==pM(r).length)return!1;for(let n in t)if(!(n in r)||!e(t[n],r[n]))return!1;return!0})}generate(e,t){return pF(e,t,()=>[],this.arbitraryCache)}canShrinkWithoutContext(e){return!1}shrink(e,t){if(void 0===t)return hh.nil();let r=t.mrng,n=t.biasFactor,i=t.history;return fJ(i.map(e=>e.arb),i.map(e=>e.value),i.map(e=>e.context)).map(e=>pF(r,n,function(){let t=e.value,r=e.context;return fr(i,(e,n)=>({arb:e.arb,value:t[n],context:r[n],mrng:e.mrng}))},this.arbitraryCache))}}function pD(){return new pR}let pj=Math.floor,pL=Math.log;function pP(e){return pj(pL(e)/pL(2))}function p$(e){return e===hA(0)?hA(0):hA(hW(e).length)}function pz(e,t,r){if(e===t)return[{min:e,max:t}];if(e<0&&t>0){let n=r(-e),i=r(t);return[{min:-n,max:i},{min:t-i,max:t},{min:e,max:e+n}]}let n=r(t-e),i={min:e,max:e+n},a={min:t-n,max:t};return e<0?[a,i]:[i,a]}let pU=Math.ceil,pB=Math.floor;function pW(e,t,r){let n=e-t;return n>0?hf(function*(){let i=r?void 0:t,a=r?n:pB(n/2);for(let r=a;r>0;r=pB(r/2)){let a=r===n?t:e-r;yield new hy(a,i),i=a}}()):hf(function*(){let i=r?void 0:t,a=r?n:pU(n/2);for(let r=a;r<0;r=pU(r/2)){let a=r===n?t:e-r;yield new hy(a,i),i=a}}())}let pq=Math.sign,pK=Number.isInteger,pV=Object.is;class pJ extends hS{constructor(e,t){super(),this.min=e,this.max=t}generate(e,t){let r=this.computeGenerateRange(e,t);return new hy(e.nextInt(r.min,r.max),void 0)}canShrinkWithoutContext(e){return"number"==typeof e&&pK(e)&&!pV(e,-0)&&this.min<=e&&e<=this.max}shrink(e,t){return pJ.isValidContext(e,t)?this.isLastChanceTry(e,t)?hh.of(new hy(t,void 0)):pW(e,t,!1):pW(e,this.defaultTarget(),!0)}defaultTarget(){return this.min<=0&&this.max>=0?0:this.min<0?this.max:this.min}computeGenerateRange(e,t){if(void 0===t||1!==e.nextInt(1,t))return{min:this.min,max:this.max};let r=pz(this.min,this.max,pP);if(1===r.length)return r[0];let n=e.nextInt(-2*(r.length-1),r.length-2);return n<0?r[0]:r[n+1]}isLastChanceTry(e,t){return e>0?e===t+1&&e>this.min:e<0&&e===t-1&&e<this.max}static isValidContext(e,t){if(void 0===t)return!1;if("number"!=typeof t)throw Error("Invalid context type passed to IntegerArbitrary (#1)");if(0!==t&&pq(e)!==pq(t))throw Error("Invalid context value passed to IntegerArbitrary (#2)");return!0}}let pH=Number.isInteger;function pG(e={}){let t={min:void 0!==e.min?e.min:-0x80000000,max:void 0!==e.max?e.max:0x7fffffff};if(t.min>t.max)throw Error("fc.integer maximum value should be equal or greater than the minimum one");if(!pH(t.min))throw Error("fc.integer minimum value should be an integer");if(!pH(t.max))throw Error("fc.integer maximum value should be an integer");return new pJ(t.min,t.max)}let pZ=new Map;function pQ(e){if(void 0===e)return{depth:0};if("string"!=typeof e)return e;let t=fw(pZ,e);if(void 0!==t)return t;let r={depth:0};return fv(pZ,e,r),r}function pY(){return{depth:0}}class pX{constructor(e,t,r){this.arb=e,this.mrng=t,this.biasFactor=r}attemptExact(){}next(){return this.arb.generate(this.mrng,this.biasFactor)}}let p0=Math.min,p1=Math.max;class p2{constructor(e,t,r,n){this.arb=e,this.mrng=t,this.slices=r,this.biasFactor=n,this.activeSliceIndex=0,this.nextIndexInSlice=0,this.lastIndexInSlice=-1}attemptExact(e){if(0!==e&&1===this.mrng.nextInt(1,this.biasFactor)){let t=[];for(let r=0;r!==this.slices.length;++r)this.slices[r].length===e&&fn(t,r);0!==t.length&&(this.activeSliceIndex=t[this.mrng.nextInt(0,t.length-1)],this.nextIndexInSlice=0,this.lastIndexInSlice=e-1)}}next(){if(this.nextIndexInSlice<=this.lastIndexInSlice)return new hy(this.slices[this.activeSliceIndex][this.nextIndexInSlice++],void 0);if(1!==this.mrng.nextInt(1,this.biasFactor))return this.arb.generate(this.mrng,this.biasFactor);this.activeSliceIndex=this.mrng.nextInt(0,this.slices.length-1);let e=this.slices[this.activeSliceIndex];if(1!==this.mrng.nextInt(1,this.biasFactor))return this.nextIndexInSlice=1,this.lastIndexInSlice=e.length-1,new hy(e[0],void 0);let t=this.mrng.nextInt(0,e.length-1),r=this.mrng.nextInt(0,e.length-1);return this.nextIndexInSlice=p0(t,r),this.lastIndexInSlice=p1(t,r),new hy(e[this.nextIndexInSlice++],void 0)}}function p6(e,t,r,n){return void 0===n||0===r.length||1!==t.nextInt(1,n)?new pX(e,t,n):new p2(e,t,r,n)}let p3=Math.floor,p4=Math.log,p5=Math.max,p8=Array.isArray;function p7(e,t){return e===t?e:e+p3(p4(t-e)/p4(2))}class p9 extends hS{constructor(e,t,r,n,i,a,s){super(),this.arb=e,this.minLength=t,this.maxGeneratedLength=r,this.maxLength=n,this.setBuilder=a,this.customSlices=s,this.lengthArb=pG({min:t,max:r}),this.depthContext=pQ(i)}preFilter(e){if(void 0===this.setBuilder)return e;let t=this.setBuilder();for(let r=0;r!==e.length;++r)t.tryAdd(e[r]);return t.getData()}static makeItCloneable(e,t){return e[hd]=()=>{let e=[];for(let r=0;r!==t.length;++r)fn(e,t[r].value);return this.makeItCloneable(e,t),e},e}generateNItemsNoDuplicates(e,t,r,n){let i=0,a=e(),s=p6(this.arb,r,this.customSlices,n);for(;a.size()<t&&i<this.maxGeneratedLength;){let e=s.next();a.tryAdd(e)?i=0:i+=1}return a.getData()}safeGenerateNItemsNoDuplicates(e,t,r,n){let i=p5(0,t-p7(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=i;try{return this.generateNItemsNoDuplicates(e,t,r,n)}finally{this.depthContext.depth-=i}}generateNItems(e,t,r){let n=[],i=p6(this.arb,t,this.customSlices,r);i.attemptExact(e);for(let t=0;t!==e;++t)fn(n,i.next());return n}safeGenerateNItems(e,t,r){let n=p5(0,e-p7(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=n;try{return this.generateNItems(e,t,r)}finally{this.depthContext.depth-=n}}wrapper(e,t,r,n){let i=t?this.preFilter(e):e,a=!1,s=[],o=[];for(let e=0;e!==i.length;++e){let t=i[e];a=a||t.hasToBeCloned,fn(s,t.value),fn(o,t.context)}return a&&p9.makeItCloneable(s,i),new hy(s,{shrunkOnce:t,lengthContext:e.length===i.length&&void 0!==r?r:void 0,itemsContexts:o,startIndex:n})}generate(e,t){let r=this.applyBias(e,t),n=r.size,i=void 0!==this.setBuilder?this.safeGenerateNItemsNoDuplicates(this.setBuilder,n,e,r.biasFactorItems):this.safeGenerateNItems(n,e,r.biasFactorItems);return this.wrapper(i,!1,void 0,0)}applyBias(e,t){if(void 0===t)return{size:this.lengthArb.generate(e,void 0).value};if(this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(e,void 0).value,biasFactorItems:t};if(1!==e.nextInt(1,t))return{size:this.lengthArb.generate(e,void 0).value};if(1!==e.nextInt(1,t)||this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(e,void 0).value,biasFactorItems:t};let r=p7(this.minLength,this.maxGeneratedLength);return{size:pG({min:this.minLength,max:r}).generate(e,void 0).value,biasFactorItems:t}}canShrinkWithoutContext(e){if(!p8(e)||this.minLength>e.length||e.length>this.maxLength)return!1;for(let t=0;t!==e.length;++t)if(!(t in e)||!this.arb.canShrinkWithoutContext(e[t]))return!1;return this.preFilter(fr(e,e=>new hy(e,void 0))).length===e.length}shrinkItemByItem(e,t,r){let n=[];for(let i=t.startIndex;i<r;++i)fn(n,fW(()=>this.arb.shrink(e[i],t.itemsContexts[i]).map(r=>[[...fr(fs(e,0,i),(e,r)=>new hy(hm(e),t.itemsContexts[r])),r,...fr(fs(e,i+1),(e,r)=>new hy(hm(e),t.itemsContexts[r+i+1]))],void 0,i])));return hh.nil().join(...n)}shrinkImpl(e,t){if(0===e.length)return hh.nil();let r=void 0!==t?t:{shrunkOnce:!1,lengthContext:void 0,itemsContexts:[],startIndex:0};return this.lengthArb.shrink(e.length,r.lengthContext).drop(r.shrunkOnce&&void 0===r.lengthContext&&e.length>this.minLength+1?1:0).map(t=>{let n=e.length-t.value;return[fr(fs(e,n),(e,t)=>new hy(hm(e),r.itemsContexts[t+n])),t.context,0]}).join(fW(()=>e.length>this.minLength?this.shrinkItemByItem(e,r,1):this.shrinkItemByItem(e,r,e.length))).join(e.length>this.minLength?fW(()=>{let t={shrunkOnce:!1,lengthContext:void 0,itemsContexts:fs(r.itemsContexts,1),startIndex:0};return this.shrinkImpl(fs(e,1),t).filter(e=>this.minLength<=e[0].length+1).map(t=>[[new hy(hm(e[0]),r.itemsContexts[0]),...t[0]],void 0,0])}):hh.nil())}shrink(e,t){return this.shrinkImpl(e,t).map(e=>this.wrapper(e[0],!0,e[1],e[2]))}}let me=Math.floor,mt=Math.min,mr=["xsmall","small","medium","large","xlarge"],mn=["-4","-3","-2","-1","=","+1","+2","+3","+4"],mi="small";function ma(e,t){let r=fe(mn,e);if(-1===r)return e;let n=fe(mr,t);if(-1===n)throw Error(`Unable to offset size based on the unknown defaulted one: ${t}`);let i=n+r-4;return i<0?mr[0]:i>=mr.length?mr[mr.length-1]:mr[i]}function ms(e,t,r,n){let{baseSize:i=mi,defaultSizeToMaxWhenMaxSpecified:a}=fY||{},s=void 0!==e?e:n&&a?"max":i;return"max"===s?r:mt(function(e,t){switch(t){case"xsmall":return me(1.1*e)+1;case"small":return 2*e+10;case"medium":return 11*e+100;case"large":return 101*e+1e3;case"xlarge":return 1001*e+1e4;default:throw Error(`Unable to compute lengths based on received size: ${t}`)}}(t,ma(s,i)),r)}function mo(e){let{baseSize:t=mi}=fY||{};return void 0===e?t:ma(e,t)}function ml(e,t={}){let r=t.size,n=t.minLength||0,i=t.maxLength,a=t.depthIdentifier,s=void 0!==i?i:0x7fffffff,o=ms(r,n,s,void 0!==i);return new p9(e,n,o,s,a,void 0,t.experimentalCustomSlices||[])}function mu(e,t,r){let n=e-t;return n>0?hf(function*(){let i=r?void 0:t,a=r?n:n/hA(2);for(let t=a;t>0;t/=hA(2)){let r=e-t;yield new hy(r,i),i=r}}()):hf(function*(){let i=r?void 0:t,a=r?n:n/hA(2);for(let t=a;t<0;t/=hA(2)){let r=e-t;yield new hy(r,i),i=r}}())}class mc extends hS{constructor(e,t){super(),this.min=e,this.max=t}generate(e,t){let r=this.computeGenerateRange(e,t);return new hy(e.nextBigInt(r.min,r.max),void 0)}computeGenerateRange(e,t){if(void 0===t||1!==e.nextInt(1,t))return{min:this.min,max:this.max};let r=pz(this.min,this.max,p$);if(1===r.length)return r[0];let n=e.nextInt(-2*(r.length-1),r.length-2);return n<0?r[0]:r[n+1]}canShrinkWithoutContext(e){return"bigint"==typeof e&&this.min<=e&&e<=this.max}shrink(e,t){return mc.isValidContext(e,t)?this.isLastChanceTry(e,t)?hh.of(new hy(t,void 0)):mu(e,t,!1):mu(e,this.defaultTarget(),!0)}defaultTarget(){return this.min<=0&&this.max>=0?hA(0):this.min<0?this.max:this.min}isLastChanceTry(e,t){return e>0?e===t+hA(1)&&e>this.min:e<0&&e===t-hA(1)&&e<this.max}static isValidContext(e,t){if(void 0===t)return!1;if("bigint"!=typeof t)throw Error("Invalid context type passed to BigIntArbitrary (#1)");if(t!==hA(0)&&(e>0&&t<0||e<0&&t>0))throw Error("Invalid context value passed to BigIntArbitrary (#2)");return!0}}function mh(...e){var t;let r,n,i,a,s=(t=void 0===e[0]?{}:void 0===e[1]?e[0]:{min:e[0],max:e[1]},r=hA(-1)<<hA(255),n=(hA(1)<<hA(255))-hA(1),i=t.min,a=t.max,{min:void 0!==i?i:r-(void 0!==a&&a<hA(0)?a*a:hA(0)),max:void 0!==a?a:n+(void 0!==i&&i>hA(0)?i*i:hA(0))});if(s.min>s.max)throw Error("fc.bigInt expects max to be greater than or equal to min");return new mc(s.min,s.max)}function mf(e){if(e<1)throw Error("fc.bigIntN expects requested number of bits to be superior or equal to 1");return new mc(hA(-1)<<hA(e-1),(hA(1)<<hA(e-1))-hA(1))}function md(e){let t="object"==typeof e?e.max:e,r=void 0!==t?t:(hA(1)<<hA(256))-hA(1);if(r<0)throw Error("fc.bigUint expects max to be greater than or equal to zero");return new mc(hA(0),r)}function mp(e){if(e<0)throw Error("fc.bigUintN expects requested number of bits to be superior or equal to 0");return new mc(hA(0),(hA(1)<<hA(e))-hA(1))}function mm(e){return e.noBias()}function mg(e){return 1===e}function my(e){if("boolean"!=typeof e)throw Error("Unsupported input type");return+(!0===e)}function mb(){return mm(pG({min:0,max:1}).map(mg,my))}let mS=Object.is;class mv extends hS{constructor(e){super(),this.values=e}generate(e,t){let r=1===this.values.length?0:e.nextInt(0,this.values.length-1),n=this.values[r];return hp(n)?new hy(n,r,()=>n[hd]()):new hy(n,r)}canShrinkWithoutContext(e){return 1===this.values.length?mS(this.values[0],e):(void 0===this.fastValues&&(this.fastValues=new mw(this.values)),this.fastValues.has(e))}shrink(e,t){return 0===t||mS(e,this.values[0])?hh.nil():hh.of(new hy(this.values[0],0))}}class mw{constructor(e){this.values=e,this.fastValues=new hq(this.values);let t=!1,r=!1;if(fm(this.fastValues,0))for(let e=0;e!==this.values.length;++e){const n=this.values[e];t=t||mS(n,-0),r=r||mS(n,0)}this.hasMinusZero=t,this.hasPlusZero=r}has(e){return 0===e?mS(e,0)?this.hasPlusZero:this.hasMinusZero:fm(this.fastValues,e)}}function mx(...e){if(0===e.length)throw Error("fc.constantFrom expects at least one parameter");return new mv(e)}function mk(e){return e&&e.withBigInt?mx(!1,null,void 0,0,"",NaN,hA(0)):mx(!1,null,void 0,0,"",NaN)}let m_=String.fromCodePoint;function mE(e,t,r,n){return pG({min:e,max:t}).map(e=>m_(r(e)),e=>n(function(e){if("string"!=typeof e)throw Error("Cannot unmap non-string");if(0===e.length||e.length>2)throw Error("Cannot unmap string with more or less than one character");let t=fj(e,0);if(1===e.length)return t;let r=fj(e,1);if(t<55296||t>56319||r<56320||r>57343)throw Error("Cannot unmap invalid surrogate pairs");return e.codePointAt(0)}(e)))}function mI(e){return e<95?e+32:e<=126?e-95:e}function mT(e){return e>=32&&e<=126?e-32:e>=0&&e<=31?e+95:e}function mO(){return mE(0,127,mI,mT)}function mC(e){return e<26?e+65:e<52?e+97-26:e<62?e+48-52:62===e?43:47}function mF(e){return e>=65&&e<=90?e-65:e>=97&&e<=122?e-97+26:e>=48&&e<=57?e-48+52:43===e?62:47===e?63:-1}function mA(){return mE(0,63,mC,mF)}function mM(e){return e}function mN(){return mE(32,126,mM,mM)}function mR(){return mE(0,65535,mI,mT)}function mD(e){return e<55296?mI(e):e+2048}function mj(e){return e<55296?mT(e):e<=57343?-1:e-2048}function mL(){return mE(0,1112063,mD,mj)}function mP(e){return e<10?e+48:e+97-10}function m$(e){return e<58?e-48:e>=97&&e<103?e-97+10:-1}function mz(){return mE(0,15,mP,m$)}function mU(e){return e<55296?mI(e):e+2048}function mB(e){return e<55296?mT(e):e<=57343?-1:e-2048}function mW(){return mE(0,63487,mU,mB)}function mq(e){return new mv([e])}class mK{constructor(){this.receivedLogs=[]}log(e){this.receivedLogs.push(e)}size(){return this.receivedLogs.length}toString(){return JSON.stringify({logs:this.receivedLogs})}[hd](){return new mK}}function mV(){return mq(new mK)}let mJ=NaN,mH=Number.isNaN;function mG(e){return new hD(e)}function mZ(e){if(!(e instanceof hD)||e.constructor!==hD)throw new hj("Not a valid value for date unmapper");return fh(e)}let mQ=Number.isNaN;function mY(e={}){let t=void 0!==e.min?fh(e.min):-864e13,r=void 0!==e.max?fh(e.max):864e13,n=void 0===e.noInvalidDate||e.noInvalidDate;if(mQ(t))throw Error("fc.date min must be valid instance of Date");if(mQ(r))throw Error("fc.date max must be valid instance of Date");if(t>r)throw Error("fc.date max must be greater or equal to min");if(n)return pG({min:t,max:r}).map(mG,mZ);let i=r+1;return pG({min:t,max:r+1}).map(e=>e===i?new hD(mJ):mG(e),e=>{let t=mZ(e);return mH(t)?i:t})}let mX=Symbol.iterator,m0=Array.isArray,m1=Object.is;class m2 extends hS{constructor(e,t){super(),this.arb=e,this.numValues=t}generate(e,t){let r=[];if(this.numValues<=0)return this.wrapper(r);for(let n=0;n!==this.numValues-1;++n)fn(r,this.arb.generate(e.clone(),t));return fn(r,this.arb.generate(e,t)),this.wrapper(r)}canShrinkWithoutContext(e){if(!m0(e)||e.length!==this.numValues)return!1;if(0===e.length)return!0;for(let t=1;t<e.length;++t)if(!m1(e[0],e[t]))return!1;return this.arb.canShrinkWithoutContext(e[0])}shrink(e,t){return 0===e.length?hh.nil():new hh(this.shrinkImpl(e,void 0!==t?t:[])).map(e=>this.wrapper(e))}*shrinkImpl(e,t){let r=fr(e,(e,r)=>this.arb.shrink(e,t[r])[mX]()),n=fr(r,e=>e.next());for(;!n[0].done;)yield fr(n,e=>e.value),n=fr(r,e=>e.next())}static makeItCloneable(e,t){return e[hd]=()=>{let e=[];for(let r=0;r!==t.length;++r)fn(e,t[r].value);return this.makeItCloneable(e,t),e},e}wrapper(e){let t=!1,r=[],n=[];for(let i=0;i!==e.length;++i){let a=e[i];t=t||a.hasToBeCloned,fn(r,a.value),fn(n,a.context)}return t&&m2.makeItCloneable(r,e),new hy(r,n)}}function m6(e,t){return new m2(e,t)}class m3{constructor(e){this.isEqual=e,this.data=[]}tryAdd(e){for(let t=0;t!==this.data.length;++t)if(this.isEqual(this.data[t],e))return!1;return fn(this.data,e),!0}size(){return this.data.length}getData(){return this.data}}let m4=Number.isNaN;class m5{constructor(e){this.selector=e,this.selectedItemsExceptNaN=new hq,this.data=[]}tryAdd(e){let t=this.selector(e);if(m4(t))return fn(this.data,e),!0;let r=this.selectedItemsExceptNaN.size;return fp(this.selectedItemsExceptNaN,t),r!==this.selectedItemsExceptNaN.size&&(fn(this.data,e),!0)}size(){return this.data.length}getData(){return this.data}}let m8=Object.is;class m7{constructor(e){this.selector=e,this.selectedItemsExceptMinusZero=new hq,this.data=[],this.hasMinusZero=!1}tryAdd(e){let t=this.selector(e);if(m8(t,-0))return!this.hasMinusZero&&(fn(this.data,e),this.hasMinusZero=!0,!0);let r=this.selectedItemsExceptMinusZero.size;return fp(this.selectedItemsExceptMinusZero,t),r!==this.selectedItemsExceptMinusZero.size&&(fn(this.data,e),!0)}size(){return this.data.length}getData(){return this.data}}class m9{constructor(e){this.selector=e,this.selectedItems=new hq,this.data=[]}tryAdd(e){let t=this.selector(e),r=this.selectedItems.size;return fp(this.selectedItems,t),r!==this.selectedItems.size&&(fn(this.data,e),!0)}size(){return this.data.length}getData(){return this.data}}function ge(e,t={}){let r=void 0!==t.minLength?t.minLength:0,n=void 0!==t.maxLength?t.maxLength:0x7fffffff,i=ms(t.size,r,n,void 0!==t.maxLength),a=new p9(e,r,i,n,t.depthIdentifier,function(e){if("function"==typeof e.comparator){if(void 0===e.selector){let t=e.comparator,r=(e,r)=>t(e.value_,r.value_);return()=>new m3(r)}let t=e.comparator,r=e.selector,n=(e,n)=>t(r(e.value_),r(n.value_));return()=>new m3(n)}let t=e.selector||(e=>e),r=e=>t(e.value_);switch(e.comparator){case"IsStrictlyEqual":return()=>new m5(r);case"SameValueZero":return()=>new m9(r);case"SameValue":case void 0:return()=>new m7(r)}}(t),[]);return 0===r?a:a.filter(e=>e.length>=r)}let gt=Object.create,gr=Object.defineProperty,gn=Object.getOwnPropertyDescriptor,gi=Object.getPrototypeOf,ga=Object.getOwnPropertySymbols,gs=Object.getOwnPropertyNames,go=Object.entries;function gl(e){let t=e[1]?gt(null):{};for(let r of e[0])gr(t,r[0],{enumerable:!0,configurable:!0,writable:!0,value:r[1]});return t}function gu(e){if("object"!=typeof e||null===e)throw new hj("Incompatible instance received: should be a non-null object");let t=null===gi(e),r="constructor"in e&&e.constructor===Object;if(!t&&!r)throw new hj("Incompatible instance received: should be of exact type Object");if(ga(e).length>0)throw new hj("Incompatible instance received: should contain symbols");if(!fl(gs(e),function(t){let r=gn(e,t);return void 0!==r&&!!r.configurable&&!!r.enumerable&&!!r.writable&&void 0===r.get&&void 0===r.set}))throw new hj("Incompatible instance received: should contain only c/e/w properties without get/set");return[go(e),t]}function gc(e){return e[0]}function gh(e,t,r={}){let n=!1!==r.noNullPrototype;return fG(ge(fG(e,t),{minLength:r.minKeys,maxLength:r.maxKeys,size:r.size,selector:gc,depthIdentifier:r.depthIdentifier}),n?mq(!1):mb()).map(gl,gu)}let gf=1/0,gd=Number.MAX_SAFE_INTEGER,gp=Number.isInteger,gm=Math.floor,gg=Math.pow,gy=Math.min;class gb extends hS{static from(e,t,r){if(0===e.length)throw Error(`${r} expects at least one weighted arbitrary`);let n=0;for(let t=0;t!==e.length;++t){if(void 0===e[t].arbitrary)throw Error(`${r} expects arbitraries to be specified`);let i=e[t].weight;if(n+=i,!gp(i))throw Error(`${r} expects weights to be integer values`);if(i<0)throw Error(`${r} expects weights to be superior or equal to 0`)}if(n<=0)throw Error(`${r} expects the sum of weights to be strictly superior to 0`);return new gb(e,{depthBias:function(e,t){if("number"==typeof e)return 1/e;let{baseSize:r=mi,defaultSizeToMaxWhenMaxSpecified:n}=fY||{},i=void 0!==e?e:t&&n?"max":r;if("max"===i)return 0;switch(ma(i,r)){case"xsmall":return 1;case"small":return .5;case"medium":return .25;case"large":return .125;case"xlarge":return .0625}}(t.depthSize,void 0!==t.maxDepth),maxDepth:void 0!=t.maxDepth?t.maxDepth:gf,withCrossShrink:!!t.withCrossShrink},pQ(t.depthIdentifier))}constructor(e,t,r){super(),this.warbs=e,this.constraints=t,this.context=r;let n=0;this.cumulatedWeights=[];for(let t=0;t!==e.length;++t)n+=e[t].weight,fn(this.cumulatedWeights,n);this.totalWeight=n}generate(e,t){if(this.mustGenerateFirst())return this.safeGenerateForIndex(e,0,t);let r=e.nextInt(this.computeNegDepthBenefit(),this.totalWeight-1);for(let n=0;n!==this.cumulatedWeights.length;++n)if(r<this.cumulatedWeights[n])return this.safeGenerateForIndex(e,n,t);throw Error("Unable to generate from fc.frequency")}canShrinkWithoutContext(e){return -1!==this.canShrinkWithoutContextIndex(e)}shrink(e,t){if(void 0!==t){let r=t.selectedIndex,n=t.originalBias,i=this.warbs[r].arbitrary.shrink(e,t.originalContext).map(e=>this.mapIntoValue(r,e,null,n));if(null!==t.clonedMrngForFallbackFirst){void 0===t.cachedGeneratedForFirst&&(t.cachedGeneratedForFirst=this.safeGenerateForIndex(t.clonedMrngForFallbackFirst,0,n));let e=t.cachedGeneratedForFirst;return hh.of(e).join(i)}return i}let r=this.canShrinkWithoutContextIndex(e);return -1===r?hh.nil():this.defaultShrinkForFirst(r).join(this.warbs[r].arbitrary.shrink(e,void 0).map(e=>this.mapIntoValue(r,e,null,void 0)))}defaultShrinkForFirst(e){++this.context.depth;try{if(!this.mustFallbackToFirstInShrink(e)||void 0===this.warbs[0].fallbackValue)return hh.nil()}finally{--this.context.depth}let t=new hy(this.warbs[0].fallbackValue.default,void 0);return hh.of(this.mapIntoValue(0,t,null,void 0))}canShrinkWithoutContextIndex(e){if(this.mustGenerateFirst())return this.warbs[0].arbitrary.canShrinkWithoutContext(e)?0:-1;try{++this.context.depth;for(let t=0;t!==this.warbs.length;++t){let r=this.warbs[t];if(0!==r.weight&&r.arbitrary.canShrinkWithoutContext(e))return t}return -1}finally{--this.context.depth}}mapIntoValue(e,t,r,n){let i={selectedIndex:e,originalBias:n,originalContext:t.context,clonedMrngForFallbackFirst:r};return new hy(t.value,i)}safeGenerateForIndex(e,t,r){++this.context.depth;try{let n=this.warbs[t].arbitrary.generate(e,r),i=this.mustFallbackToFirstInShrink(t)?e.clone():null;return this.mapIntoValue(t,n,i,r)}finally{--this.context.depth}}mustGenerateFirst(){return this.constraints.maxDepth<=this.context.depth}mustFallbackToFirstInShrink(e){return 0!==e&&this.constraints.withCrossShrink&&0!==this.warbs[0].weight}computeNegDepthBenefit(){let e=this.constraints.depthBias;if(e<=0||0===this.warbs[0].weight)return 0;let t=gm(gg(1+e,this.context.depth))-1;return-gy(this.totalWeight*t,gd)||0}}function gS(e){return hE(e)?{arbitrary:e,weight:1}:e}function gv(...e){let t=e[0];if(null!=t&&"object"==typeof t&&!("generate"in t)&&!("arbitrary"in t)&&!("weight"in t)){let r=fr(fs(e,1),gS);return gb.from(r,t,"fc.oneof")}let r=fr(e,gS);return gb.from(r,{},"fc.oneof")}let gw=Number.isInteger;function gx(e){let t="number"==typeof e?e:e&&void 0!==e.max?e.max:0x7fffffff;if(t<0)throw Error("fc.nat value should be greater than or equal to 0");if(!gw(t))throw Error("fc.nat maximum value should be an integer");return new pJ(0,t)}let gk=Object.is;function g_(...e){let t,r;return gx({max:function(e){if(0===e.length)throw new hj("fc.mapToConstant expects at least one option");let t=0;for(let r=0;r!==e.length;++r){if(e[r].num<0)throw new hj("fc.mapToConstant expects all options to have a number of entries greater or equal to zero");t+=e[r].num}if(0===t)throw new hj("fc.mapToConstant expects at least one choice among options");return t}(e)-1}).map((t=function(e){let t=0,r=[];for(let n of e){let e=t,i=(t=e+n.num)-1;r.push({from:e,to:i,entry:n})}return r}(e),function(e){let r=function(e,t){let r=0,n=e.length;for(;n-r>1;){let i=~~((r+n)/2);t<e[i].from?n=i:r=i}return e[r]}(t,e);return r.entry.build(e-r.from)}),(r=null,function(t){null===r&&(r=function(e){let t={mapping:new hZ,negativeZeroIndex:void 0},r=0;for(let n=0;n!==e.length;++n){let i=e[n];for(let e=0;e!==i.num;++e){let n=i.build(e);0===n&&1/n===hB.NEGATIVE_INFINITY?t.negativeZeroIndex=r:fv(t.mapping,n,r),++r}}return t}(e));let n=gk(t,-0)?r.negativeZeroIndex:fw(r.mapping,t);if(void 0===n)throw new hj("Unknown value encountered cannot be built using this mapToConstant");return n}))}let gE=Map,gI=String.fromCharCode,gT={num:26,build:e=>gI(e+97)},gO={num:26,build:e=>gI(e+65)},gC={num:10,build:e=>gI(e+48)},gF=mL().map(function(e){let t=hG(e);return e!==t?t:`%${fP(fj(e,0),16)}`},function(e){if("string"!=typeof e)throw Error("Unsupported");return decodeURIComponent(e)});function gA(e){void 0===a&&(a=new gE);let t=fw(a,e);return void 0===t&&(t=g_(gT,gC,{num:e.length,build:t=>e[t]}),fv(a,e,t)),t}function gM(e){void 0===s&&(s=new gE);let t=fw(s,e);void 0===t&&(t=gv({weight:10,arbitrary:g_(gT,gO,gC,{num:e.length,build:t=>e[t]})},{weight:1,arbitrary:gF}),fv(s,e,t));return t}function gN(e,t={}){let r=null==t.freq?5:t.freq,n=fU(t,"nil")?t.nil:null,i=[{arbitrary:mq(n),weight:1,fallbackValue:{default:n}},{arbitrary:e,weight:r}],a={withCrossShrink:!0,depthSize:t.depthSize,maxDepth:t.maxDepth,depthIdentifier:t.depthIdentifier};return gb.from(i,a,"fc.option")}function gR(e,t,r,n){if(0===t.length){if(r>0)return;return[]}if(n<=0)return;let i=[{endIndexChunks:0,nextStartIndex:1,chunks:[]}];for(;i.length>0;){let a=fi(i);for(let s=a.nextStartIndex;s<=t.length;++s){let o=fN(t,a.endIndexChunks,s);if(e.canShrinkWithoutContext(o)){let e=[...a.chunks,o];if(s===t.length){if(e.length<r)break;return e}fn(i,{endIndexChunks:a.endIndexChunks,nextStartIndex:s+1,chunks:a.chunks}),e.length<n&&fn(i,{endIndexChunks:s,nextStartIndex:s+1,chunks:e});break}}}}function gD(e){return ft(e,"")}function gj(e){return void 0!==e.minLength?e.minLength:0}function gL(e){return void 0!==e.maxLength?e.maxLength:0x7fffffff}function gP(e,t){return function(r){if("string"!=typeof r)throw new hj("Unsupported value");let n=gR(e,r,gj(t),gL(t));if(void 0===n)throw new hj("Unable to unmap received string");return n}}let g$=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","__proto__","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","apply","arguments","bind","call","caller","length","name","prototype","key","ref"];function gz(e,t){let r=[];for(let n of g$){let i=function(e,t,r){let n;try{n=r(e)}catch(e){return}for(let e of n)if(!t.canShrinkWithoutContext(e))return;return n}(n,e,t);void 0!==i&&fn(r,i)}return r}let gU=new WeakMap,gB=[[0,127]],gW=[[0,55295],[57344,1114111]],gq=[[32,126],[160,172],[174,767],[880,887],[890,895],[900,906],[908],[910,929],[931,1154],[1162,1327],[1329,1366],[1369,1418],[1421,1423],[1470],[1472],[1475],[1478],[1488,1514],[1519,1524],[1542,1551],[1563],[1565,1610],[1632,1647],[1649,1749],[1758],[1765,1766],[1769],[1774,1805],[1808],[1810,1839],[1869,1957],[1969],[1984,2026],[2036,2042],[2046,2069],[2074],[2084],[2088],[2096,2110],[2112,2136],[2142],[2144,2154],[2160,2190],[2208,2249],[2308,2361],[2365],[2384],[2392,2401],[2404,2432],[2437,2444],[2447,2448],[2451,2472],[2474,2480],[2482],[2486,2489],[2493],[2510],[2524,2525],[2527,2529],[2534,2557],[2565,2570],[2575,2576],[2579,2600],[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],[2654],[2662,2671],[2674,2676],[2678],[2693,2701],[2703,2705],[2707,2728],[2730,2736],[2738,2739],[2741,2745],[2749],[2768],[2784,2785],[2790,2801],[2809],[2821,2828],[2831,2832],[2835,2856],[2858,2864],[2866,2867],[2869,2873],[2877],[2908,2909],[2911,2913],[2918,2935],[2947],[2949,2954],[2958,2960],[2962,2965],[2969,2970],[2972],[2974,2975],[2979,2980],[2984,2986],[2990,3001],[3024],[3046,3066],[3077,3084],[3086,3088],[3090,3112],[3114,3129],[3133],[3160,3162],[3165],[3168,3169],[3174,3183],[3191,3200],[3204,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],[3261],[3293,3294],[3296,3297],[3302,3311],[3313,3314],[3332,3340],[3342,3344],[3346,3386],[3389],[3407],[3412,3414],[3416,3425],[3430,3455],[3461,3478],[3482,3505],[3507,3515],[3517],[3520,3526],[3558,3567],[3572],[3585,3632],[3634],[3647,3654],[3663,3675],[3713,3714],[3716],[3718,3722],[3724,3747],[3749],[3751,3760],[3762],[3773],[3776,3780],[3782],[3792,3801],[3804,3807],[3840,3863],[3866,3892],[3894],[3896],[3898,3901],[3904,3911],[3913,3948],[3973],[3976,3980],[4030,4037],[4039,4044],[4046,4058],[4096,4138],[4159,4181],[4186,4189],[4193],[4197,4198],[4206,4208],[4213,4225],[4238],[4240,4249],[4254,4293],[4295],[4301],[4304,4351],[4608,4680],[4682,4685],[4688,4694],[4696],[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],[4800],[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4960,4988],[4992,5017],[5024,5109],[5112,5117],[5120,5788],[5792,5880],[5888,5905],[5919,5937],[5941,5942],[5952,5969],[5984,5996],[5998,6e3],[6016,6067],[6100,6108],[6112,6121],[6128,6137],[6144,6154],[6160,6169],[6176,6264],[6272,6276],[6279,6312],[6314],[6320,6389],[6400,6430],[6464],[6468,6509],[6512,6516],[6528,6571],[6576,6601],[6608,6618],[6622,6678],[6686,6740],[6784,6793],[6800,6809],[6816,6829],[6917,6963],[6981,6988],[6992,7018],[7028,7038],[7043,7072],[7086,7141],[7164,7203],[7227,7241],[7245,7304],[7312,7354],[7357,7367],[7379],[7401,7404],[7406,7411],[7413,7414],[7418],[7424,7615],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025],[8027],[8029],[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[8192,8202],[8208,8233],[8239,8287],[8304,8305],[8308,8334],[8336,8348],[8352,8384],[8448,8587],[8592,9254],[9280,9290],[9312,11123],[11126,11157],[11159,11502],[11506,11507],[11513,11557],[11559],[11565],[11568,11623],[11631,11632],[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],[11776,11869],[11904,11929],[11931,12019],[12032,12245],[12272,12329],[12336,12351],[12353,12438],[12443,12543],[12549,12591],[12593,12686],[12688,12771],[12783,12830],[12832,13312],[19903,19968],[40959,42124],[42128,42182],[42192,42539],[42560,42606],[42611],[42622,42653],[42656,42735],[42738,42743],[42752,42954],[42960,42961],[42963],[42965,42969],[42994,43009],[43011,43013],[43015,43018],[43020,43042],[43048,43051],[43056,43065],[43072,43127],[43138,43187],[43214,43225],[43250,43262],[43264,43301],[43310,43334],[43359],[43396,43442],[43457,43469],[43471,43481],[43486,43492],[43494,43518],[43520,43560],[43584,43586],[43588,43595],[43600,43609],[43612,43642],[43646,43695],[43697],[43701,43702],[43705,43709],[43712],[43714],[43739,43754],[43760,43764],[43777,43782],[43785,43790],[43793,43798],[43808,43814],[43816,43822],[43824,43883],[43888,44002],[44011],[44016,44025],[44032],[55203],[63744,64109],[64112,64217],[64256,64262],[64275,64279],[64285],[64287,64310],[64312,64316],[64318],[64320,64321],[64323,64324],[64326,64450],[64467,64911],[64914,64967],[64975],[65008,65023],[65040,65049],[65072,65106],[65108,65126],[65128,65131],[65136,65140],[65142,65276],[65281,65437],[65440,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500],[65504,65510],[65512,65518],[65532,65533],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786],[65792,65794],[65799,65843],[65847,65934],[65936,65948],[65952],[66e3,66044],[66176,66204],[66208,66256],[66273,66299],[66304,66339],[66349,66378],[66384,66421],[66432,66461],[66463,66499],[66504,66517],[66560,66717],[66720,66729],[66736,66771],[66776,66811],[66816,66855],[66864,66915],[66927,66938],[66940,66954],[66956,66962],[66964,66965],[66967,66977],[66979,66993],[66995,67001],[67003,67004],[67072,67382],[67392,67413],[67424,67431],[67456,67461],[67463,67504],[67506,67514],[67584,67589],[67592],[67594,67637],[67639,67640],[67644],[67647,67669],[67671,67742],[67751,67759],[67808,67826],[67828,67829],[67835,67867],[67871,67897],[67903],[67968,68023],[68028,68047],[68050,68096],[68112,68115],[68117,68119],[68121,68149],[68160,68168],[68176,68184],[68192,68255],[68288,68324],[68331,68342],[68352,68405],[68409,68437],[68440,68466],[68472,68497],[68505,68508],[68521,68527],[68608,68680],[68736,68786],[68800,68850],[68858,68899],[68912,68921],[69216,69246],[69248,69289],[69293],[69296,69297],[69376,69415],[69424,69445],[69457,69465],[69488,69505],[69510,69513],[69552,69579],[69600,69622],[69635,69687],[69703,69709],[69714,69743],[69745,69746],[69749],[69763,69807],[69819,69820],[69822,69825],[69840,69864],[69872,69881],[69891,69926],[69942,69956],[69959],[69968,70002],[70004,70006],[70019,70066],[70081],[70084,70088],[70093],[70096,70111],[70113,70132],[70144,70161],[70163,70187],[70200,70205],[70207,70208],[70272,70278],[70280],[70282,70285],[70287,70301],[70303,70313],[70320,70366],[70384,70393],[70405,70412],[70415,70416],[70419,70440],[70442,70448],[70450,70451],[70453,70457],[70461],[70480],[70493,70497],[70656,70708],[70727,70747],[70749],[70751,70753],[70784,70831],[70852,70855],[70864,70873],[71040,71086],[71105,71131],[71168,71215],[71233,71236],[71248,71257],[71264,71276],[71296,71338],[71352,71353],[71360,71369],[71424,71450],[71472,71494],[71680,71723],[71739],[71840,71922],[71935,71942],[71945],[71948,71955],[71957,71958],[71960,71983],[72004,72006],[72016,72025],[72096,72103],[72106,72144],[72161,72163],[72192],[72203,72242],[72255,72262],[72272],[72284,72323],[72346,72354],[72368,72440],[72448,72457],[72704,72712],[72714,72750],[72768,72773],[72784,72812],[72816,72847],[72960,72966],[72968,72969],[72971,73008],[73040,73049],[73056,73061],[73063,73064],[73066,73097],[73112],[73120,73129],[73440,73458],[73463,73464],[73476,73488],[73490,73523],[73539,73561],[73648],[73664,73713],[73727,74649],[74752,74862],[74864,74868],[74880,75075],[77712,77810],[77824,78895],[78913,78918],[82944,83526],[92160,92728],[92736,92766],[92768,92777],[92782,92862],[92864,92873],[92880,92909],[92917],[92928,92975],[92983,92997],[93008,93017],[93019,93025],[93027,93047],[93053,93071],[93760,93850],[93952,94026],[94032],[94099,94111],[94176,94179],[94208],[100343],[100352,101589],[101632],[101640],[110576,110579],[110581,110587],[110589,110590],[110592,110882],[110898],[110928,110930],[110933],[110948,110951],[110960,111355],[113664,113770],[113776,113788],[113792,113800],[113808,113817],[113820],[113823],[118608,118723],[118784,119029],[119040,119078],[119081,119140],[119146,119148],[119171,119172],[119180,119209],[119214,119274],[119296,119361],[119365],[119488,119507],[119520,119539],[119552,119638],[119648,119672],[119808,119892],[119894,119964],[119966,119967],[119970],[119973,119974],[119977,119980],[119982,119993],[119995],[119997,120003],[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],[120134],[120138,120144],[120146,120485],[120488,120779],[120782,121343],[121399,121402],[121453,121460],[121462,121475],[121477,121483],[122624,122654],[122661,122666],[122928,122989],[123136,123180],[123191,123197],[123200,123209],[123214,123215],[123536,123565],[123584,123627],[123632,123641],[123647],[124112,124139],[124144,124153],[124896,124902],[124904,124907],[124909,124910],[124912,124926],[124928,125124],[125127,125135],[125184,125251],[125259],[125264,125273],[125278,125279],[126065,126132],[126209,126269],[126464,126467],[126469,126495],[126497,126498],[126500],[126503],[126505,126514],[126516,126519],[126521],[126523],[126530],[126535],[126537],[126539],[126541,126543],[126545,126546],[126548],[126551],[126553],[126555],[126557],[126559],[126561,126562],[126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[126704,126705],[126976,127019],[127024,127123],[127136,127150],[127153,127167],[127169,127183],[127185,127221],[127232,127405],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127994],[128e3,128727],[128732,128748],[128752,128764],[128768,128886],[128891,128985],[128992,129003],[129008],[129024,129035],[129040,129095],[129104,129113],[129120,129159],[129168,129197],[129200,129201],[129280,129619],[129632,129645],[129648,129660],[129664,129672],[129680,129725],[129727,129733],[129742,129755],[129760,129768],[129776,129784],[129792,129938],[129940,129994],[130032,130041],[131072],[173791],[173824],[177977],[177984],[178205],[178208],[183969],[183984],[191456],[191472],[192093],[194560,195101],[196608],[201546],[201552],[205743]],gK=[[192,197],[199,207],[209,214],[217,221],[224,229],[231,239],[241,246],[249,253],[255,271],[274,293],[296,304],[308,311],[313,318],[323,328],[332,337],[340,357],[360,382],[416,417],[431,432],[461,476],[478,483],[486,496],[500,501],[504,539],[542,543],[550,563],[901,902],[904,906],[908],[910,912],[938,944],[970,974],[979,980],[1024,1025],[1027],[1031],[1036,1038],[1049],[1081],[1104,1105],[1107],[1111],[1116,1118],[1142,1143],[1217,1218],[1232,1235],[1238,1239],[1242,1247],[1250,1255],[1258,1269],[1272,1273],[1570,1574],[1728],[1730],[1747],[2345],[2353],[2356],[2392,2399],[2524,2525],[2527],[2611],[2614],[2649,2651],[2654],[2908,2909],[2964],[3907],[3917],[3922],[3927],[3932],[3945],[4134],[6918],[6920],[6922],[6924],[6926],[6930],[7680,7833],[7835],[7840,7929],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025],[8027],[8029],[8031,8048],[8050],[8052],[8054],[8056],[8058],[8060],[8064,8116],[8118,8122],[8124],[8129,8132],[8134,8136],[8138],[8140,8146],[8150,8154],[8157,8162],[8164,8170],[8172,8173],[8178,8180],[8182,8184],[8186],[8188],[8602,8603],[8622],[8653,8655],[8708],[8713],[8716],[8740],[8742],[8769],[8772],[8775],[8777],[8800],[8802],[8813,8817],[8820,8821],[8824,8825],[8832,8833],[8836,8837],[8840,8841],[8876,8879],[8928,8931],[8938,8941],[10972],[12364],[12366],[12368],[12370],[12372],[12374],[12376],[12378],[12380],[12382],[12384],[12386],[12389],[12391],[12393],[12400,12401],[12403,12404],[12406,12407],[12409,12410],[12412,12413],[12436],[12446],[12460],[12462],[12464],[12466],[12468],[12470],[12472],[12474],[12476],[12478],[12480],[12482],[12485],[12487],[12489],[12496,12497],[12499,12500],[12502,12503],[12505,12506],[12508,12509],[12532],[12535,12538],[12542],[44032],[55203],[64285],[64287],[64298,64310],[64312,64316],[64318],[64320,64321],[64323,64324],[64326,64334],[69786],[69788],[69803],[119134,119140],[119227,119232]],gV=String.fromCodePoint,gJ=Math.min,gH=Math.max;function gG(e){if(1===e.length){let t=gV(e[0]);return{num:1,build:()=>t}}let t=e[0];return{num:e[1]-e[0]+1,build:e=>gV(t+e)}}function gZ(e,t){let r=[],n=0,i=0;for(;n<e.length&&i<t.length;){let a=e[n],s=a[0],o=1===a.length?a[0]:a[1],l=t[i],u=l[0],c=1===l.length?l[0]:l[1];if(o<u)n+=1;else if(c<s)i+=1;else{let e=gH(s,u),t=gJ(o,c);if(r.length>=1){let t=r[r.length-1];(1===t.length?t[0]:t[1])+1===e&&(e=t[0],fi(r))}fn(r,e===t?[e]:[e,t]),o<=t&&(n+=1),c<=t&&(i+=1)}}return r}let gQ=Object.create(null);function gY(e,t){return function(e,t){let r=`${e}:${t}`,n=gQ[r];if(void 0!==n)return n;let i=function(e){switch(e){case"full":return gW;case"ascii":return gB}}(t),a="binary"===e?i:gZ(i,gq),s=[];for(let e of a)fn(s,gG(e));if("grapheme"===e)for(let e of gZ(i,gK)){let t=gG(e);fn(s,{num:t.num,build:e=>{var r;return r=t.build(e),function(e){try{return e.normalize}catch(e){return}}(r)===fF?r.normalize("NFD"):hC(fF,r,["NFD"])}})}let o=g_(...s);return gQ[r]=o,o}(e,t)}let gX=Object.assign;function g0(e={}){let t=function(e){if("object"==typeof e.unit)return e.unit;switch(e.unit){case"grapheme":return gY("grapheme","full");case"grapheme-composite":return gY("composite","full");case"grapheme-ascii":case void 0:return gY("grapheme","ascii");case"binary":return gY("binary","full");case"binary-ascii":return gY("binary","ascii")}}(e),r=gP(t,e),n=function(e,t){var r;let n=function(e){try{return e.get}catch(e){return}}(gU)===fy?gU.get(e):hC(fy,gU,[e]);void 0===n&&(n=function(e){let t=[];for(let r of g$){let n=gR(e,r,0,0x7fffffff);void 0!==n&&fn(t,n)}return t}(e),r=n,function(e){try{return e.set}catch(e){return}}(gU)===fg?gU.set(e,r):hC(fg,gU,[e,r]));let i=[];for(let e of n)gj(t)<=e.length&&e.length<=gL(t)&&fn(i,e);return i}(t,e);return ml(t,gX(gX({},e),{experimentalCustomSlices:n})).map(gD,r)}function g1(e){return!(e.length>63)&&(e.length<4||"x"!==e[0]||"n"!==e[1]||"-"!==e[2]||"-"!==e[3])}let g2=Symbol("adapted-value");class g6 extends hS{constructor(e,t){super(),this.sourceArb=e,this.adapter=t,this.adaptValue=e=>{let r;return(r=t(e.value_)).adapted?new hy(r.value,g2):e}}generate(e,t){let r=this.sourceArb.generate(e,t);return this.adaptValue(r)}canShrinkWithoutContext(e){return this.sourceArb.canShrinkWithoutContext(e)&&!this.adapter(e).adapted}shrink(e,t){return t===g2?this.sourceArb.canShrinkWithoutContext(e)?this.sourceArb.shrink(e,void 0).map(this.adaptValue):hh.nil():this.sourceArb.shrink(e,t).map(this.adaptValue)}}function g3([e,t]){return null===t?e:`${e}${t[0]}${t[1]}`}function g4(e){if("string"!=typeof e||0===e.length)throw Error("Unsupported");return 1===e.length?[e[0],null]:[e[0],[fN(e,1,e.length-1),e[e.length-1]]]}function g5(e){return`${ft(e[0],".")}.${e[1]}`}function g8(e){if("string"!=typeof e)throw Error("Unsupported type");let t=e.lastIndexOf(".");return[fM(fN(e,0,t),"."),fN(e,t+1)]}function g7(e){let[t,r]=e,n=r.length;for(let e=0;e!==t.length;++e)if((n+=1+t[e].length)>255)return{adapted:!0,value:[fs(t,0,e),r]};return{adapted:!1,value:e}}function g9(e={}){let t,r=mo(e.size),n=ma("-1",r),a=g0({unit:(void 0===i&&(i=g_(gT)),i),minLength:2,maxLength:63,size:n});return new g6(fG(ml(fG(t=gA(""),gN(fG(g0({unit:gA("-"),size:r,maxLength:61}),t))).map(g3,g4).filter(g1),{size:n,minLength:1,maxLength:127}),a),g7).map(g5,g8)}function ye(e){let t=e[0].length;for(let r=1;r!==e.length;++r)if((t+=1+e[r].length)>64)return{adapted:!0,value:fs(e,0,r)};return{adapted:!1,value:e}}function yt(e){return ft(e,".")}function yr(e){if("string"!=typeof e)throw Error("Unsupported");return fM(e,".")}function yn(e){return`${e[0]}@${e[1]}`}function yi(e){if("string"!=typeof e)throw Error("Unsupported");return fM(e,"@",2)}function ya(e={}){return fG(new g6(ml(g0({unit:gA("!#$%&'*+-/=?^_`{|}~"),minLength:1,maxLength:64,size:e.size}),{minLength:1,maxLength:32,size:e.size}),ye).map(yt,yr),g9({size:e.size})).map(yn,yi)}let ys={sign:1,data:[0,0]},yo={sign:1,data:[0,1]};function yl(e){return 0===e.data[0]&&0===e.data[1]}function yu(e){return -1===e.sign&&!yl(e)}function yc(e){return 1===e.sign&&!yl(e)}function yh(e,t){return e.data[0]===t.data[0]&&e.data[1]===t.data[1]&&(e.sign===t.sign||0===e.data[0]&&0===e.data[1])}function yf(e,t){return e[0]<t[0]||e[0]===t[0]&&e[1]<t[1]}function yd(e,t){return e.sign===t.sign?1===e.sign?yf(e.data,t.data):yf(t.data,e.data):-1===e.sign&&(!yl(e)||!yl(t))}function yp(e){return{sign:e.sign,data:[e.data[0],e.data[1]]}}function ym(e,t){let r=0,n=e[1]-t[1];return n<0&&(r=1,n>>>=0),[e[0]-t[0]-r,n]}function yg(e,t){if(1===e.sign&&-1===t.sign){let r=e.data[1]+t.data[1];return{sign:1,data:[e.data[0]+t.data[0]+ +(r>0xffffffff)>>>0,r>>>0]}}return{sign:1,data:1===e.sign?ym(e.data,t.data):ym(t.data,e.data)}}function yy(e,t){if(yd(e,t)){let r=yg(t,e);return r.sign=-1,r}return yg(e,t)}function yb(e,t){return yl(t)?yl(e)?yp(ys):yp(e):yy(e,{sign:-t.sign,data:[t.data[0],t.data[1]]})}function yS(e){return{sign:e.sign,data:[Math.floor(e.data[0]/2),0x80000000*(e.data[0]%2==1)+Math.floor(e.data[1]/2)]}}function yv(e){return{sign:e.sign,data:[0,Math.floor(Math.log(0x100000000*e.data[0]+e.data[1])/Math.log(2))]}}class yw extends hS{constructor(e,t){super(),this.min=e,this.max=t,this.biasedRanges=null}generate(e,t){let r=this.computeGenerateRange(e,t),n=e.nextArrayInt(r.min,r.max);return 1===n.data.length&&n.data.unshift(0),new hy(n,void 0)}computeGenerateRange(e,t){if(void 0===t||1!==e.nextInt(1,t))return{min:this.min,max:this.max};let r=this.retrieveBiasedRanges();if(1===r.length)return r[0];let n=e.nextInt(-2*(r.length-1),r.length-2);return n<0?r[0]:r[n+1]}canShrinkWithoutContext(e){return"object"==typeof e&&null!==e&&(-1===e.sign||1===e.sign)&&Array.isArray(e.data)&&2===e.data.length&&(yd(this.min,e)&&yd(e,this.max)||yh(this.min,e)||yh(this.max,e))}shrinkArrayInt64(e,t,r){let n=yy(e,t);return hf(function*(){let i=r?void 0:t,a=r?n:yS(n);for(let t=a;!yl(t);t=yS(t)){let r=yy(e,t);yield new hy(r,i),i=r}}())}shrink(e,t){if(!yw.isValidContext(e,t)){let t=this.defaultTarget();return this.shrinkArrayInt64(e,t,!0)}return this.isLastChanceTry(e,t)?hh.of(new hy(t,void 0)):this.shrinkArrayInt64(e,t,!1)}defaultTarget(){return yc(this.min)||yu(this.max)?yu(this.min)?this.max:this.min:ys}isLastChanceTry(e,t){return!yl(e)&&(1===e.sign?yh(e,yb(t,yo))&&yc(yy(e,this.min)):yh(e,yy(t,yo))&&yu(yy(e,this.max)))}static isValidContext(e,t){if(void 0===t)return!1;if("object"!=typeof t||null===t||!("sign"in t)||!("data"in t))throw Error("Invalid context type passed to ArrayInt64Arbitrary (#1)");return!0}retrieveBiasedRanges(){if(null!=this.biasedRanges)return this.biasedRanges;if(yh(this.min,this.max))return this.biasedRanges=[{min:this.min,max:this.max}],this.biasedRanges;let e=yu(this.min),t=yc(this.max);if(e&&t){let e=yv(this.min),t=yv(this.max);this.biasedRanges=[{min:e,max:t},{min:yy(this.max,t),max:this.max},{min:this.min,max:yy(this.min,e)}]}else{let t=yv(yy(this.max,this.min)),r={min:this.min,max:yb(this.min,t)},n={min:yy(this.max,t),max:this.max};this.biasedRanges=e?[n,r]:[r,n]}return this.biasedRanges}}let yx=-1/0,yk=1/0,y_=Number.EPSILON,yE={sign:1,data:[0x7ff00000,0]},yI={sign:-1,data:[0x7ff00000,1]},yT=new Float64Array(1),yO=new Uint32Array(yT.buffer,yT.byteOffset);function yC(e){return[~~(e/0x100000000),e>>>0]}function yF(e,t){if(-1022===e)return yC(0x10000000000000*t);let r=yC((t-1)*0x10000000000000);return r[0]+=(e+1023)*1048576,r}function yA(e){if(e===yk)return yp(yE);if(e===yx)return yp(yI);let t=function(e){let{0:t,1:r}=(yT[0]=e,[yO[1],yO[0]]),n=t>>>20&2047,i=+(0!==n);return i+=((1048575&t)*0x100000000+r)/0x10000000000000,{exponent:0===n?-1022:n-1023,significand:i*=0==t>>>31?1:-1}}(e),r=t.exponent,n=t.significand;if(e>0||0===e&&1/e===yk)return{sign:1,data:yF(r,n)};{let e=yF(r,-n);return 0xffffffff===e[1]?(e[0]+=1,e[1]=0):e[1]+=1,{sign:-1,data:e}}}function yM(e){if(-1===e.sign){let t={sign:1,data:[e.data[0],e.data[1]]};return 0===t.data[1]?(t.data[0]-=1,t.data[1]=0xffffffff):t.data[1]-=1,-yM(t)}if(yh(e,yE))return yk;if(e.data[0]<2097152)return(0x100000000*e.data[0]+e.data[1])*5e-324;let t=e.data[0]-2097152;return(1+((1048575&t)*0x100000000+e.data[1])*y_)*2**(-1021+(t>>20))}let yN=Number.isInteger,yR=Object.is,yD=-1/0,yj=1/0;function yL(e,t,r,n){let{noDefaultInfinity:i=!1,minExcluded:a=!1,maxExcluded:s=!1,min:o=i?-t:yD,max:l=i?t:yj}=e,u=a?o<-r?-n:Math.max(o,-r):o===yD?Math.max(o,-n):Math.max(o,-r),c=s?l>r?n:Math.min(l,r):l===yj?Math.min(l,n):Math.min(l,r);return{noDefaultInfinity:!1,minExcluded:a||(o!==yD||a)&&yN(u),maxExcluded:s||(l!==yj||s)&&yN(c),min:yR(u,-0)?0:u,max:yR(c,0)?-0:c,noNaN:e.noNaN||!1}}let yP=-1/0,y$=1/0,yz=Number.MAX_VALUE;function yU(e){return 0x10000000000000===e?y$:-0x10000000000000===e?yP:e}function yB(e){if("number"!=typeof e)throw Error("Unsupported type");return e===y$?0x10000000000000:e===yP?-0x10000000000000:e}let yW=Number.isInteger,yq=Number.isNaN,yK=-1/0,yV=1/0,yJ=Number.MAX_VALUE,yH=NaN;function yG(e,t){if(yq(e))throw Error("fc.double constraints."+t+" must be a 64-bit float");return yA(e)}function yZ(e){if("number"!=typeof e)throw Error("Unsupported type");return yA(e)}function yQ(e){return!yW(e)}function yY(e){let{noDefaultInfinity:t=!1,noNaN:r=!1,minExcluded:n=!1,maxExcluded:i=!1,min:a=t?-yJ:yK,max:s=t?yJ:yV}=e,o=yG(a,"min"),l=n?yb(o,yo):o,u=yG(s,"max"),c=i?yy(u,yo):u;if(yd(c,l))throw Error("fc.double constraints.min must be smaller or equal to constraints.max");if(r)return new yw(l,c).map(yM,yZ);let h=yc(c),f=h?l:yy(l,yo),d=h?yb(c,yo):c;return new yw(f,d).map(e=>yd(c,e)||yd(e,l)?yH:yM(e),e=>{if("number"!=typeof e)throw Error("Unsupported type");return yq(e)?yh(c,d)?f:d:yA(e)})}function yX(e={}){return e.noInteger?yY(yL(e,yz,4503599627370495.5,0x10000000000000)).map(yU,yB).filter(yQ):yY(e)}let y0=-1/0,y1=1/0,y2=17014118346046923e22*1.9999998807907104,y6=new Float32Array(1),y3=new Uint32Array(y6.buffer,y6.byteOffset);function y4(e,t){return -126===e?8388608*t:(e+127)*8388608+(t-1)*8388608}function y5(e){let t,r,n;if(e===y1)return 0x7f800000;if(e===y0)return -0x7f800001;let i=(y6[0]=e,n=+(0!=(r=(t=y3[0])>>>23&255))+(8388607&t)/8388608,{exponent:0===r?-126:r-127,significand:n*=0==t>>>31?1:-1}),a=i.exponent,s=i.significand;return e>0||0===e&&1/e===y1?y4(a,s):-y4(a,-s)-1}function y8(e){if(e<0)return-y8(-e-1);if(0x7f800000===e)return y1;if(e<0x1000000)return 1401298464324817e-60*e;let t=e-0x1000000;return(1+(8388607&t)/8388608)*2**(-125+(t>>23))}let y7=-1/0,y9=1/0;function be(e){return 8388608===e?y9:-8388608===e?y7:e}function bt(e){if("number"!=typeof e)throw Error("Unsupported type");return e===y9?8388608:e===y7?-8388608:e}let br=Number.isInteger,bn=Number.isNaN,bi=Math.fround,ba=-1/0,bs=1/0,bo=NaN;function bl(e,t){if(bn(e)||bi(e)!==e)throw Error("fc.float constraints."+t+" must be a 32-bit float - you can convert any double to a 32-bit float by using `Math.fround(myDouble)`");return y5(e)}function bu(e){if("number"!=typeof e)throw Error("Unsupported type");return y5(e)}function bc(e){return!br(e)}function bh(e){let{noDefaultInfinity:t=!1,noNaN:r=!1,minExcluded:n=!1,maxExcluded:i=!1,min:a=t?-y2:ba,max:s=t?y2:bs}=e,o=bl(a,"min"),l=n?o+1:o,u=bl(s,"max"),c=i?u-1:u;if(l>c)throw Error("fc.float constraints.min must be smaller or equal to constraints.max");if(r)return pG({min:l,max:c}).map(y8,bu);let h=c>0?l:l-1,f=c>0?c+1:c;return pG({min:h,max:f}).map(e=>e>c||e<l?bo:y8(e),e=>{if("number"!=typeof e)throw Error("Unsupported type");return bn(e)?c!==f?f:h:y5(e)})}function bf(e={}){return e.noInteger?bh(yL(e,y2,8388607.5,8388608)).map(be,bt).filter(bc):bh(e)}function bd(e){return e.replace(/\*\//g,"*\\/")}let bp=[0,0x77073096,0xee0e612c,0x990951ba,0x76dc419,0x706af48f,0xe963a535,0x9e6495a3,0xedb8832,0x79dcb8a4,0xe0d5e91e,0x97d2d988,0x9b64c2b,0x7eb17cbd,0xe7b82d07,0x90bf1d91,0x1db71064,0x6ab020f2,0xf3b97148,0x84be41de,0x1adad47d,0x6ddde4eb,0xf4d4b551,0x83d385c7,0x136c9856,0x646ba8c0,0xfd62f97a,0x8a65c9ec,0x14015c4f,0x63066cd9,0xfa0f3d63,0x8d080df5,0x3b6e20c8,0x4c69105e,0xd56041e4,0xa2677172,0x3c03e4d1,0x4b04d447,0xd20d85fd,0xa50ab56b,0x35b5a8fa,0x42b2986c,0xdbbbc9d6,0xacbcf940,0x32d86ce3,0x45df5c75,0xdcd60dcf,0xabd13d59,0x26d930ac,0x51de003a,0xc8d75180,0xbfd06116,0x21b4f4b5,0x56b3c423,0xcfba9599,0xb8bda50f,0x2802b89e,0x5f058808,0xc60cd9b2,0xb10be924,0x2f6f7c87,0x58684c11,0xc1611dab,0xb6662d3d,0x76dc4190,0x1db7106,0x98d220bc,0xefd5102a,0x71b18589,0x6b6b51f,0x9fbfe4a5,0xe8b8d433,0x7807c9a2,0xf00f934,0x9609a88e,0xe10e9818,0x7f6a0dbb,0x86d3d2d,0x91646c97,0xe6635c01,0x6b6b51f4,0x1c6c6162,0x856530d8,0xf262004e,0x6c0695ed,0x1b01a57b,0x8208f4c1,0xf50fc457,0x65b0d9c6,0x12b7e950,0x8bbeb8ea,0xfcb9887c,0x62dd1ddf,0x15da2d49,0x8cd37cf3,0xfbd44c65,0x4db26158,0x3ab551ce,0xa3bc0074,0xd4bb30e2,0x4adfa541,0x3dd895d7,0xa4d1c46d,0xd3d6f4fb,0x4369e96a,0x346ed9fc,0xad678846,0xda60b8d0,0x44042d73,0x33031de5,0xaa0a4c5f,0xdd0d7cc9,0x5005713c,0x270241aa,0xbe0b1010,0xc90c2086,0x5768b525,0x206f85b3,0xb966d409,0xce61e49f,0x5edef90e,0x29d9c998,0xb0d09822,0xc7d7a8b4,0x59b33d17,0x2eb40d81,0xb7bd5c3b,0xc0ba6cad,0xedb88320,0x9abfb3b6,0x3b6e20c,0x74b1d29a,0xead54739,0x9dd277af,0x4db2615,0x73dc1683,0xe3630b12,0x94643b84,0xd6d6a3e,0x7a6a5aa8,0xe40ecf0b,0x9309ff9d,0xa00ae27,0x7d079eb1,0xf00f9344,0x8708a3d2,0x1e01f268,0x6906c2fe,0xf762575d,0x806567cb,0x196c3671,0x6e6b06e7,0xfed41b76,0x89d32be0,0x10da7a5a,0x67dd4acc,0xf9b9df6f,0x8ebeeff9,0x17b7be43,0x60b08ed5,0xd6d6a3e8,0xa1d1937e,0x38d8c2c4,0x4fdff252,0xd1bb67f1,0xa6bc5767,0x3fb506dd,0x48b2364b,0xd80d2bda,0xaf0a1b4c,0x36034af6,0x41047a60,0xdf60efc3,0xa867df55,0x316e8eef,0x4669be79,0xcb61b38c,0xbc66831a,0x256fd2a0,0x5268e236,0xcc0c7795,0xbb0b4703,0x220216b9,0x5505262f,0xc5ba3bbe,0xb2bd0b28,0x2bb45a92,0x5cb36a04,0xc2d7ffa7,0xb5d0cf31,0x2cd99e8b,0x5bdeae1d,0x9b64c2b0,0xec63f226,0x756aa39c,0x26d930a,0x9c0906a9,0xeb0e363f,0x72076785,0x5005713,0x95bf4a82,0xe2b87a14,0x7bb12bae,0xcb61b38,0x92d28e9b,0xe5d5be0d,0x7cdcefb7,0xbdbdf21,0x86d3d2d4,0xf1d4e242,0x68ddb3f8,0x1fda836e,0x81be16cd,0xf6b9265b,0x6fb077e1,0x18b74777,0x88085ae6,0xff0f6a70,0x66063bca,0x11010b5c,0x8f659eff,0xf862ae69,0x616bffd3,0x166ccf45,0xa00ae278,0xd70dd2ee,0x4e048354,0x3903b3c2,0xa7672661,0xd06016f7,0x4969474d,0x3e6e77db,0xaed16a4a,0xd9d65adc,0x40df0b66,936918e3,0xa9bcae53,0xdebb9ec5,0x47b2cf7f,0x30b5ffe9,0xbdbdf21c,0xcabac28a,0x53b39330,0x24b4a3a6,0xbad03605,0xcdd70693,0x54de5729,0x23d967bf,0xb3667a2e,0xc4614ab8,0x5d681b02,0x2a6f2b94,0xb40bbe37,0xc30c8ea1,0x5a05df1b,0x2d02ef8d];function bm(e){let t=0xffffffff;for(let r=0;r<e.length;++r){let n=fj(e,r);if(n<128)t=bp[255&t^n]^t>>8;else if(n<2048)t=bp[255&t^(192|n>>6&31)]^t>>8,t=bp[255&t^(128|63&n)]^t>>8;else if(n>=55296&&n<57344){let i=fj(e,++r);if(n>=56320||i<56320||i>57343||Number.isNaN(i))r-=1,t=bp[255&t^239]^t>>8,t=bp[255&t^191]^t>>8,t=bp[255&t^189]^t>>8;else{let e=(1023&n)+64,r=1023&i;t=bp[255&t^(240|e>>8&7)]^t>>8,t=bp[255&t^(128|e>>2&63)]^t>>8,t=bp[255&t^(128|r>>6&15|(3&e)<<4)]^t>>8,t=bp[255&t^(128|63&r)]^t>>8}}else t=bp[255&t^(224|n>>12&15)]^t>>8,t=bp[255&t^(128|n>>6&63)]^t>>8,t=bp[255&t^(128|63&n)]^t>>8}return(0|t)+0x80000000}function bg(e){return e.noShrink()}let by=Object.assign,bb=Object.keys;function bS(e){return fG(bg(pG()),bg(pG({min:1,max:0xffffffff}))).map(([t,r])=>{let n=()=>{let i={};return by((n,a)=>{let s=d7(n),o=d7(a),l=e(bm(`${t}${s}`)%r,bm(`${t}${o}`)%r);return i[`[${s},${o}]`]=l,l},{toString:()=>{let n=bb(i).sort().map(e=>`${e} => ${d7(i[e])}`).map(e=>`/* ${bd(e)} */`);return`function(a, b) {
  // With hash and stringify coming from fast-check${0!==n.length?`
  ${ft(n,"\n  ")}`:""}
  const cmp = ${e};
  const hA = hash('${t}' + stringify(a)) % ${r};
  const hB = hash('${t}' + stringify(b)) % ${r};
  return cmp(hA, hB);
}`},[hd]:n})};return n()})}let bv=Object.assign;function bw(){return bS(bv((e,t)=>e<t,{toString:()=>"(hA, hB) => hA < hB"}))}let bx=Object.assign;function bk(){return bS(bx((e,t)=>e-t,{toString:()=>"(hA, hB) => hA - hB"}))}let b_=Object.defineProperties,bE=Object.keys;function bI(e){return fG(ml(e,{minLength:1}),bg(pG())).map(([e,t])=>{let r=()=>{let n={};function i(e){let r=fr(fr(fo(bE(n)),e=>`${e} => ${d7(n[e])}`),e=>`/* ${bd(e)} */`);return`function(...args) {
  // With hash and stringify coming from fast-check${0!==r.length?`
  ${r.join("\n  ")}`:""}
  const outs = ${e};
  return outs[hash('${t}' + stringify(args)) % outs.length];
}`}return b_((...r)=>{let i=d7(r),a=e[bm(`${t}${i}`)%e.length];return n[i]=a,hp(a)?a[hd]():a},{toString:{value:()=>i(d7(e))},[d1]:{value:()=>i(d7(e))},[d6]:{value:async()=>i(await pe(e))},[hd]:{value:r,configurable:!0}})};return r()})}let bT=Number.MIN_SAFE_INTEGER,bO=Number.MAX_SAFE_INTEGER;function bC(){return new pJ(bT,bO)}let bF=Number.MAX_SAFE_INTEGER;function bA(){return new pJ(0,bF)}let bM=Number.parseInt;function bN(e){let[t,r]=e;switch(t){case"oct":return`0${fP(r,8)}`;case"hex":return`0x${fP(r,16)}`;default:return`${r}`}}function bR(e,t){let r=bM(e,t);if(fP(r,t)!==e)throw Error("Invalid value");return r}function bD(e){if("string"!=typeof e)throw Error("Invalid type");return e.length>=2&&"0"===e[0]?"x"===e[1]?["hex",bR(fN(e,2),16)]:["oct",bR(fN(e,1),8)]:["dec",bR(e,10)]}function bj(e){return ft(e,".")}function bL(e){if("string"!=typeof e)throw Error("Invalid type");return fr(fM(e,"."),e=>bR(e,10))}function bP(){return fG(gx(255),gx(255),gx(255),gx(255)).map(bj,bL)}function b$(e){return fG(mx("dec","oct","hex"),gx(e)).map(bN,bD)}function bz(e){return ft(e,".")}function bU(e){if("string"!=typeof e)throw Error("Invalid type");return fM(e,".")}function bB(){return gv(fG(b$(255),b$(255),b$(255),b$(255)).map(bz,bU),fG(b$(255),b$(255),b$(65535)).map(bz,bU),fG(b$(255),b$(0xffffff)).map(bz,bU),b$(0xffffffff))}function bW(e){return ft(e,"")}function bq(e){if("string"!=typeof e)throw Error("Cannot unmap the passed value");return[...e]}let bK=Object.assign;function bV(e={}){let t=mz(),r=gz(t,bq);return ml(t,bK(bK({},e),{experimentalCustomSlices:r})).map(bW,bq)}function bJ(e){return 0===e.length?[]:fM(e,":")}function bH(e){let t=fM(e,":");return t.length>=2&&t[t.length-1].length<=4?[fs(t,0,t.length-2),`${t[t.length-2]}:${t[t.length-1]}`]:[fs(t,0,t.length-1),t[t.length-1]]}function bG(e){return`${ft(e[0],":")}:${e[1]}`}function bZ(e){if("string"!=typeof e)throw Error("Invalid type");return bH(e)}function bQ(e){return`::${ft(e[0],":")}:${e[1]}`}function bY(e){if("string"!=typeof e)throw Error("Invalid type");if(!function(e,...t){return function(e){try{return e.startsWith}catch(e){return}}(e)===fk?e.startsWith(...t):hC(fk,e,t)}(e,"::"))throw Error("Invalid value");return bH(fN(e,2))}function bX(e){return`${ft(e[0],":")}::${ft(e[1],":")}:${e[2]}`}function b0(e){if("string"!=typeof e)throw Error("Invalid type");let[t,r]=fM(e,"::",2),[n,i]=bH(r);return[bJ(t),n,i]}function b1(e){return bX([e[0],[e[1]],e[2]])}function b2(e){let t=b0(e);return[t[0],ft(t[1],":"),t[2]]}function b6(e){return`${ft(e[0],":")}::${e[1]}`}function b3(e){if("string"!=typeof e)throw Error("Invalid type");let[t,r]=fM(e,"::",2);return[bJ(t),r]}function b4(e){return`${ft(e[0],":")}::`}function b5(e){if("string"!=typeof e)throw Error("Invalid type");if(!function(e,...t){return function(e){try{return e.endsWith}catch(e){return}}(e)===f_?e.endsWith(...t):hC(f_,e,t)}(e,"::"))throw Error("Invalid value");return[bJ(fN(e,0,e.length-2))]}function b8([e,t]){return`${e}:${t}`}function b7(e){if("string"!=typeof e)throw Error("Invalid type");if(!e.includes(":"))throw Error("Invalid value");return e.split(":",2)}function b9(){let e=bV({minLength:1,maxLength:4,size:"max"}),t=gv(fG(e,e).map(b8,b7),bP());return gv(fG(ml(e,{minLength:6,maxLength:6,size:"max"}),t).map(bG,bZ),fG(ml(e,{minLength:5,maxLength:5,size:"max"}),t).map(bQ,bY),fG(ml(e,{minLength:0,maxLength:1,size:"max"}),ml(e,{minLength:4,maxLength:4,size:"max"}),t).map(bX,b0),fG(ml(e,{minLength:0,maxLength:2,size:"max"}),ml(e,{minLength:3,maxLength:3,size:"max"}),t).map(bX,b0),fG(ml(e,{minLength:0,maxLength:3,size:"max"}),ml(e,{minLength:2,maxLength:2,size:"max"}),t).map(bX,b0),fG(ml(e,{minLength:0,maxLength:4,size:"max"}),e,t).map(b1,b2),fG(ml(e,{minLength:0,maxLength:5,size:"max"}),t).map(b6,b3),fG(ml(e,{minLength:0,maxLength:6,size:"max"}),e).map(b6,b3),fG(ml(e,{minLength:0,maxLength:7,size:"max"})).map(b4,b5))}class Se extends hS{constructor(e){super(),this.name=e,this.underlying=null}generate(e,t){if(!this.underlying)throw Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.generate(e,t)}canShrinkWithoutContext(e){if(!this.underlying)throw Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.canShrinkWithoutContext(e)}shrink(e,t){if(!this.underlying)throw Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.shrink(e,t)}}let St=Object.create;function Sr(e){let t=St(null),r=e(e=>(fU(t,e)||(t[e]=new Se(String(e))),t[e]));for(let e in r){if(!fU(r,e))continue;let n=t[e],i=void 0!==n?n:new Se(e);i.underlying=r[e],t[e]=i}return r}function Sn(e){return ft(fr(e,e=>","===e[e.length-1]?fN(e,0,e.length-1):e)," ")}function Si(e){let t=ft(e," ");return","===t[t.length-1]&&(t=fN(t,0,t.length-1)),fD(t[0])+fN(t,1)+"."}function Sa(e){return ft(e," ")}function Ss(e){if("string"!=typeof e)throw Error("Unsupported type");let t=fM(e,". ");for(let e=0;e<t.length-1;++e)t[e]+=".";return t}let So=(e,t)=>({arbitrary:mq(e),weight:t});function Sl(e={}){let{maxCount:t,mode:r="words",size:n}=e;if(void 0!==t&&t<1)throw Error("lorem has to produce at least one word/sentence");let i=gv(So("non",6),So("adipiscing",5),So("ligula",5),So("enim",5),So("pellentesque",5),So("in",5),So("augue",5),So("et",5),So("nulla",5),So("lorem",4),So("sit",4),So("sed",4),So("diam",4),So("fermentum",4),So("ut",4),So("eu",4),So("aliquam",4),So("mauris",4),So("vitae",4),So("felis",4),So("ipsum",3),So("dolor",3),So("amet,",3),So("elit",3),So("euismod",3),So("mi",3),So("orci",3),So("erat",3),So("praesent",3),So("egestas",3),So("leo",3),So("vel",3),So("sapien",3),So("integer",3),So("curabitur",3),So("convallis",3),So("purus",3),So("risus",2),So("suspendisse",2),So("lectus",2),So("nec,",2),So("ultricies",2),So("sed,",2),So("cras",2),So("elementum",2),So("ultrices",2),So("maecenas",2),So("massa,",2),So("varius",2),So("a,",2),So("semper",2),So("proin",2),So("nec",2),So("nisl",2),So("amet",2),So("duis",2),So("congue",2),So("libero",2),So("vestibulum",2),So("pede",2),So("blandit",2),So("sodales",2),So("ante",2),So("nibh",2),So("ac",2),So("aenean",2),So("massa",2),So("suscipit",2),So("sollicitudin",2),So("fusce",2),So("tempus",2),So("aliquam,",2),So("nunc",2),So("ullamcorper",2),So("rhoncus",2),So("metus",2),So("faucibus,",2),So("justo",2),So("magna",2),So("at",2),So("tincidunt",2),So("consectetur",1),So("tortor,",1),So("dignissim",1),So("congue,",1),So("non,",1),So("porttitor,",1),So("nonummy",1),So("molestie,",1),So("est",1),So("eleifend",1),So("mi,",1),So("arcu",1),So("scelerisque",1),So("vitae,",1),So("consequat",1),So("in,",1),So("pretium",1),So("volutpat",1),So("pharetra",1),So("tempor",1),So("bibendum",1),So("odio",1),So("dui",1),So("primis",1),So("faucibus",1),So("luctus",1),So("posuere",1),So("cubilia",1),So("curae,",1),So("hendrerit",1),So("velit",1),So("mauris,",1),So("gravida",1),So("ornare",1),So("ut,",1),So("pulvinar",1),So("varius,",1),So("turpis",1),So("nibh,",1),So("eros",1),So("id",1),So("aliquet",1),So("quis",1),So("lobortis",1),So("consectetuer",1),So("morbi",1),So("vehicula",1),So("tortor",1),So("tellus,",1),So("id,",1),So("eu,",1),So("quam",1),So("feugiat,",1),So("posuere,",1),So("iaculis",1),So("lectus,",1),So("tristique",1),So("mollis,",1),So("nisl,",1),So("vulputate",1),So("sem",1),So("vivamus",1),So("placerat",1),So("imperdiet",1),So("cursus",1),So("rutrum",1),So("iaculis,",1),So("augue,",1),So("lacus",1));if("sentences"===r){let e=ml(i,{minLength:1,size:"small"}).map(Si,function(e){if("string"!=typeof e)throw Error("Unsupported type");if(e.length<2||"."!==e[e.length-1]||","===e[e.length-2]||fD(fR(e[0]))!==e[0])throw Error("Unsupported value");let t=fR(e[0])+fN(e,1,e.length-1),r=[],n=fM(t," ");for(let e=0;e!==n.length;++e){let t=n[e];if(i.canShrinkWithoutContext(t))fn(r,t);else if(e===n.length-1&&i.canShrinkWithoutContext(t+","))fn(r,t+",");else throw Error("Unsupported word")}return r});return ml(e,{minLength:1,maxLength:t,size:n}).map(Sa,Ss)}return ml(i,{minLength:1,maxLength:t,size:n}).map(Sn,function(e){if("string"!=typeof e)throw Error("Unsupported type");let t=[];for(let r of fM(e," "))if(i.canShrinkWithoutContext(r))fn(t,r);else if(i.canShrinkWithoutContext(r+","))fn(t,r+",");else throw Error("Unsupported word");return t})}let Su=10;function Sc(e){let t={};return r=>{let n=void 0!==r?r:Su;if(!fU(t,n)){let r=Su;Su=n-1,t[n]=e(n),Su=r}return t[n]}}function Sh(e,t){let r=[];for(let n=e.length-1;-1!==n;--n)t(e[n])!==e[n]&&fn(r,n);return r}function Sf(e,t,r,n){for(let i=0,a=hA(1);i!==r.length;++i,a<<=hA(1))t&a&&(e[r[i]]=n(e[r[i]]))}class Sd extends hS{constructor(e,t,r){super(),this.stringArb=e,this.toggleCase=t,this.untoggleAll=r}buildContextFor(e,t){return{rawString:e.value,rawStringContext:e.context,flags:t.value,flagsContext:t.context}}generate(e,t){let r=this.stringArb.generate(e,t),n=[...r.value],i=Sh(n,this.toggleCase),a=mp(i.length).generate(e,void 0);return Sf(n,a.value,i,this.toggleCase),new hy(ft(n,""),this.buildContextFor(r,a))}canShrinkWithoutContext(e){return"string"==typeof e&&(void 0!==this.untoggleAll?this.stringArb.canShrinkWithoutContext(this.untoggleAll(e)):this.stringArb.canShrinkWithoutContext(e))}shrink(e,t){let r;if(void 0!==t)r=t;else if(void 0!==this.untoggleAll){let t=this.untoggleAll(e),n=[...e],i=[...t],a=Sh(i,this.toggleCase);r={rawString:t,rawStringContext:void 0,flags:function(e,t,r){let n=hA(0);for(let i=0,a=hA(1);i!==r.length;++i,a<<=hA(1))e[r[i]]!==t[r[i]]&&(n|=a);return n}(i,n,a),flagsContext:void 0}}else r={rawString:e,rawStringContext:void 0,flags:hA(0),flagsContext:void 0};let n=r.rawString,i=r.flags;return this.stringArb.shrink(n,r.rawStringContext).map(e=>{let t=[...e.value],r=Sh(t,this.toggleCase),n=function(e,t){let r=(hA(1)<<hA(t))-hA(1),n=e&r,i=function(e){let t=0;for(;e>hA(0);)e&hA(1)&&++t,e>>=hA(1);return t}(e-n),a=n;for(let e=hA(1);e<=r&&0!==i;e<<=hA(1))!(a&e)&&(a|=e,--i);return a}(i,r.length);return Sf(t,n,r,this.toggleCase),new hy(ft(t,""),this.buildContextFor(e,new hy(n,void 0)))}).join(fW(()=>{let e=[...n],t=Sh(e,this.toggleCase);return mp(t.length).shrink(i,r.flagsContext).map(i=>{let a=fs(e);return Sf(a,i.value,t,this.toggleCase),new hy(ft(a,""),this.buildContextFor(new hy(n,r.rawStringContext),i))})}))}}function Sp(e){let t=fD(e);return t!==e?t:fR(e)}function Sm(e,t){if(void 0===hA)throw new hj("mixedCase requires BigInt support");return new Sd(e,t&&t.toggleCase||Sp,t&&t.untoggleAll)}function Sg(e){return hL.from(e)}function Sy(e){if(!(e instanceof hL))throw Error("Unexpected type");return[...e]}function Sb(e={}){return ml(bf(e),e).map(Sg,Sy)}function SS(e){return hP.from(e)}function Sv(e){if(!(e instanceof hP))throw Error("Unexpected type");return[...e]}function Sw(e={}){return ml(yX(e),e).map(SS,Sv)}var Sx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Sk(e,t,r,n,i){let a=n.name,{min:s=t,max:o=r}=e,l=Sx(e,["min","max"]);if(s>o)throw Error(`Invalid range passed to ${a}: min must be lower than or equal to max`);if(s<t)throw Error(`Invalid min value passed to ${a}: min must be greater than or equal to ${t}`);if(o>r)throw Error(`Invalid max value passed to ${a}: max must be lower than or equal to ${r}`);return ml(i({min:s,max:o}),l).map(e=>n.from(e),e=>{if(!(e instanceof n))throw Error("Invalid type");return[...e]})}function S_(e={}){return Sk(e,-32768,32767,hz,pG)}function SE(e={}){return Sk(e,-0x80000000,0x7fffffff,hU,pG)}function SI(e={}){return Sk(e,-128,127,h$,pG)}function ST(e={}){return Sk(e,0,65535,hJ,pG)}function SO(e={}){return Sk(e,0,0xffffffff,hH,pG)}function SC(e={}){return Sk(e,0,255,hK,pG)}function SF(e={}){return Sk(e,0,255,hV,pG)}function SA(e){return e.hasToBeCloned?new hy(e.value_,{generatorContext:e.context},()=>e.value):new hy(e.value_,{generatorContext:e.context})}function SM(e){return e.hasToBeCloned?new hy(e.value_,{shrinkerContext:e.context},()=>e.value):new hy(e.value_,{shrinkerContext:e.context})}class SN extends hS{constructor(e,t){super(),this.generatorArbitrary=e,this.shrinkerArbitrary=t}generate(e,t){return SA(this.generatorArbitrary.generate(e,t))}canShrinkWithoutContext(e){return this.shrinkerArbitrary.canShrinkWithoutContext(e)}shrink(e,t){return void 0===t?this.shrinkerArbitrary.shrink(e,void 0).map(SM):"generatorContext"in t?this.generatorArbitrary.shrink(e,t.generatorContext).map(SA):this.shrinkerArbitrary.shrink(e,t.shrinkerContext).map(SM)}}function SR(e,t,r){let n=pG({min:e,max:t});return t===r?n:new SN(n,pG({min:e,max:r}))}let SD=Math.min,Sj=Math.max,SL=hF.isArray,SP=Object.entries;function S$(e,t={}){let{size:r,minNumElements:n=0,maxLength:i=0x7fffffff,maxNumElements:a=i,noTrailingHole:s,depthIdentifier:o}=t,l=ms(r,n,a,void 0!==t.maxNumElements),u=ms(r,l,i,void 0!==t.maxLength);if(n>i)throw Error("The minimal number of non-hole elements cannot be higher than the maximal length of the array");if(n>a)throw Error("The minimal number of non-hole elements cannot be higher than the maximal number of non-holes");let c=SD(a,i),h=void 0!==t.maxNumElements||void 0!==r?r:"=",f=ge(fG(SR(0,Sj(u-1,0),Sj(i-1,0)),e),{size:h,minLength:n,maxLength:c,selector:e=>e[0],depthIdentifier:o}).map(e=>(function(e,t){let r=hF(e);for(let n=0;n!==t.length;++n){let i=t[n];i[0]<e&&(r[i[0]]=i[1])}return r})(function(e){let t=-1;for(let r=0;r!==e.length;++r)t=Sj(t,e[r][0]);return t}(e)+1,e),e=>{if(!SL(e))throw Error("Not supported entry type");if(s&&0!==e.length&&!(e.length-1 in e))throw Error("No trailing hole");return fr(SP(e),e=>[Number(e[0]),e[1]])});return s||i===n?f:fG(f,SR(n,u,i)).map(e=>{let t=e[0],r=e[1];if(t.length>=r)return t;let n=fs(t);return n.length=r,n},e=>{if(!SL(e))throw Error("Not supported entry type");return[e,e.length]})}function Sz(e){return new Map(e)}function SU(e){if("object"!=typeof e||null===e)throw Error("Incompatible instance received: should be a non-null object");if(!("constructor"in e)||e.constructor!==Map)throw Error("Incompatible instance received: should be of exact type Map");return Array.from(e)}function SB(e){return new Set(e)}function SW(e){if("object"!=typeof e||null===e)throw Error("Incompatible instance received: should be a non-null object");if(!("constructor"in e)||e.constructor!==Set)throw Error("Incompatible instance received: should be of exact type Set");return Array.from(e)}function Sq(e,t,r,n,i){return ge(fG(e,t),{maxLength:r,size:n,comparator:"SameValueZero",selector:e=>e[0],depthIdentifier:i}).map(Sz,SU)}function SK(e){let t=e.values,r=e.depthSize,n=pY(),i=e.maxDepth,a=e.maxKeys,s=e.size,o=gv(...t,...e.withBigInt?[mh()]:[],...e.withDate?[mY()]:[]);return Sr(t=>{var l,u,c,h;return{anything:gv({maxDepth:i,depthSize:r,depthIdentifier:n},o,t("array"),t("object"),...e.withMap?[t("map")]:[],...e.withSet?[t("set")]:[],...e.withObjectString?[t("anything").map(e=>d7(e))]:[],...e.withTypedArray?[gv(SI(l={maxLength:a,size:s}),SC(l),SF(l),S_(l),ST(l),SE(l),SO(l),Sb(l),Sw(l))]:[],...e.withSparseArray?[S$(t("anything"),{maxNumElements:a,size:s,depthIdentifier:n})]:[]),keys:e.withObjectString?gv({arbitrary:e.key,weight:10},{arbitrary:t("anything").map(e=>d7(e)),weight:1}):e.key,array:ml(t("anything"),{maxLength:a,size:s,depthIdentifier:n}),set:(u=t("anything"),ge(u,{maxLength:a,size:s,comparator:"SameValueZero",depthIdentifier:n}).map(SB,SW)),map:gv(Sq(t("keys"),t("anything"),a,s,n),Sq(t("anything"),t("anything"),a,s,n)),object:(c=t("keys"),h=t("anything"),gh(c,h,{maxKeys:a,noNullPrototype:!e.withNullPrototype,size:s,depthIdentifier:n}))}}).anything}let SV=Object.assign;function SJ(e={}){let t=mL(),r=gz(t,bq);return ml(t,SV(SV({},e),{experimentalCustomSlices:r})).map(bW,bq)}function SH(e){switch(typeof e){case"boolean":return new hR(e);case"number":return new hB(e);case"string":return new hW(e);default:return e}}function SG(e){return"object"==typeof e&&null!==e&&"constructor"in e&&(e.constructor===hR||e.constructor===hB||e.constructor===hW)?e.valueOf():e}function SZ(e={}){var t;function r(e,t){return void 0!==e?e:t}let n="stringUnit"in e?g0:e.withUnicodeString?SJ:g0,i={size:e.size,unit:e.stringUnit};return{key:r(e.key,n(i)),values:(t=r(e.values,[mb(),bC(),yX(),n(i),gv(n(i),mq(null),mq(void 0))]),r(e.withBoxedValues,!1)?t.map(e=>e.map(SH,SG)).concat(t):t),depthSize:e.depthSize,maxDepth:e.maxDepth,maxKeys:e.maxKeys,size:e.size,withSet:r(e.withSet,!1),withMap:r(e.withMap,!1),withObjectString:r(e.withObjectString,!1),withNullPrototype:r(e.withNullPrototype,!1),withBigInt:r(e.withBigInt,!1),withDate:r(e.withDate,!1),withTypedArray:r(e.withTypedArray,!1),withSparseArray:r(e.withSparseArray,!1)}}function SQ(e){var t;return gh((t=SZ(e)).key,SK(t),{maxKeys:t.maxKeys,noNullPrototype:!t.withNullPrototype,size:t.size})}function SY(e,t){let{depthSize:r,maxDepth:n}=t;return{key:e,values:[mb(),yX({noDefaultInfinity:!0,noNaN:!0}),e,mq(null)],depthSize:r,maxDepth:n}}function SX(e){return SK(SZ(e))}function S0(e={}){let t=void 0===e.noUnicodeString||!0===e.noUnicodeString;return SX(SY("stringUnit"in e?g0({unit:e.stringUnit}):t?g0():SJ(),e))}function S1(e={}){return S0(e).map(JSON.stringify)}let S2=Object.assign;function S6(e={}){let t=mW(),r=gz(t,bq);return ml(t,S2(S2({},e),{experimentalCustomSlices:r})).map(bW,bq)}function S3(e={}){return SX(SY(S6(),e))}function S4(e={}){return S3(e).map(JSON.stringify)}let S5=Object.keys,S8=Object.getOwnPropertySymbols,S7=Object.getOwnPropertyDescriptor,S9=Object.create,ve=Object.defineProperty,vt=Object.getOwnPropertyDescriptor,vr=Object.getOwnPropertyNames,vn=Object.getOwnPropertySymbols,vi=Symbol("no-key");function va(e,t,r){let n=function(e){let t=S5(e),r=S8(e);for(let n=0;n!==r.length;++n){let i=r[n],a=S7(e,i);a&&a.enumerable&&t.push(i)}return t}(e),i=[];for(let r=0;r!==n.length;++r){let a=n[r],s=e[a];void 0===t||-1!==fe(t,a)?fn(i,s):fn(i,gN(s,{nil:vi}))}return fG(fG(...i),r?mq(!1):mb()).map(function(e){let t=e[1]?S9(null):{};for(let r=0;r!==n.length;++r){let i=e[0][r];i!==vi&&ve(t,n[r],{value:i,configurable:!0,enumerable:!0,writable:!0})}return t},function(e){if("object"!=typeof e||null===e)throw Error("Incompatible instance received: should be a non-null object");let t=null===Object.getPrototypeOf(e),r="constructor"in e&&e.constructor===Object;if(!t&&!r)throw Error("Incompatible instance received: should be of exact type Object");let i=0,a=[];for(let t=0;t!==n.length;++t){let r=vt(e,n[t]);if(void 0!==r){if(!r.configurable||!r.enumerable||!r.writable)throw Error("Incompatible instance received: should contain only c/e/w properties");if(void 0!==r.get||void 0!==r.set)throw Error("Incompatible instance received: should contain only no get/set properties");++i,fn(a,r.value)}else fn(a,vi)}if(i!==vr(e).length+vn(e).length)throw Error("Incompatible instance received: should not contain extra properties");return[a,t]})}function vs(e,t){let r=void 0===t||void 0===t.noNullPrototype||t.noNullPrototype;if(null==t)return va(e,void 0,r);if("withDeletedKeys"in t&&"requiredKeys"in t)throw Error("requiredKeys and withDeletedKeys cannot be used together in fc.record");if(!("requiredKeys"in t&&void 0!==t.requiredKeys||"withDeletedKeys"in t&&t.withDeletedKeys))return va(e,void 0,r);let n=("requiredKeys"in t?t.requiredKeys:void 0)||[];for(let t=0;t!==n.length;++t){let r=Object.getOwnPropertyDescriptor(e,n[t]);if(void 0===r)throw Error("requiredKeys cannot reference keys that have not been defined in recordModel");if(!r.enumerable)throw Error("requiredKeys cannot reference keys that have are enumerable in recordModel")}return va(e,n,r)}let vo=Object.defineProperties;function vl(e){return`Stream(${ft(e,",")})`}class vu extends hS{constructor(e){super(),this.arb=e}generate(e,t){let r=void 0!==t&&1===e.nextInt(1,t)?t:void 0,n=()=>{let t=[];return vo(new hh(function*(e,n){for(;;){let i=e.generate(n,r).value;fn(t,i),yield i}}(this.arb,e.clone())),{toString:{value:()=>vl(t.map(d7))},[d1]:{value:()=>vl(t.map(d7))},[d6]:{value:async()=>vl(await Promise.all(t.map(pe)))},[hd]:{value:n,enumerable:!0}})};return new hy(n(),void 0)}canShrinkWithoutContext(e){return!1}shrink(e,t){return hh.nil()}}function vc(e){return new vu(e)}let vh=Object.assign;function vf(e={}){let t=mO(),r=gz(t,bq);return ml(t,vh(vh({},e),{experimentalCustomSlices:r})).map(bW,bq)}function vd(e){switch(e.length%4){case 0:return e;case 3:return`${e}=`;case 2:return`${e}==`;default:return fN(e,1)}}function vp(e){if("string"!=typeof e||e.length%4!=0)throw Error("Invalid string received");let t=e.indexOf("=");if(-1===t)return e;if(e.length-t>2)throw Error("Cannot unmap the passed value");return fN(e,0,t)}function vm(e={}){let{minLength:t=0,maxLength:r=0x7fffffff,size:n}=e,i=t+3-(t+3)%4,a=r-r%4,s=void 0===e.maxLength&&void 0===n?"=":n;if(i>a)throw Error("Minimal length should be inferior or equal to maximal length");if(i%4!=0)throw Error("Minimal length of base64 strings must be a multiple of 4");if(a%4!=0)throw Error("Maximal length of base64 strings must be a multiple of 4");let o=mA(),l=gz(o,bq);return ml(o,{minLength:i,maxLength:a,size:s,experimentalCustomSlices:l}).map(bW,bq).map(vd,vp)}function vg(e){return ft(e,"")}function vy(e){if("string"!=typeof e)throw Error("Cannot unmap the passed value");return fM(e,"")}let vb=Object.assign;function vS(e={}){let t=mR(),r=gz(t,vy);return ml(t,vb(vb({},e),{experimentalCustomSlices:r})).map(vg,vy)}let vv=Object.assign;function vw(e,t={}){let r=gP(e,t),n=gz(e,r);return ml(e,vv(vv({},t),{experimentalCustomSlices:n})).map(gD,r)}let vx=Object.is,vk=Math.floor,v_=Math.log,vE=Array.isArray;class vI extends hS{constructor(e,t,r,n){if(super(),this.originalArray=e,this.isOrdered=t,this.minLength=r,this.maxLength=n,r<0||r>e.length)throw Error("fc.*{s|S}ubarrayOf expects the minimal length to be between 0 and the size of the original array");if(n<0||n>e.length)throw Error("fc.*{s|S}ubarrayOf expects the maximal length to be between 0 and the size of the original array");if(r>n)throw Error("fc.*{s|S}ubarrayOf expects the minimal length to be inferior or equal to the maximal length");this.lengthArb=new pJ(r,n),this.biasedLengthArb=r!==n?new pJ(r,r+vk(v_(n-r)/v_(2))):this.lengthArb}generate(e,t){let r=(void 0!==t&&1===e.nextInt(1,t)?this.biasedLengthArb:this.lengthArb).generate(e,void 0),n=r.value,i=fr(this.originalArray,(e,t)=>t),a=[];for(let t=0;t!==n;++t){let t=e.nextInt(0,i.length-1);fn(a,i[t]),fa(i,t,1)}return this.isOrdered&&fo(a,(e,t)=>e-t),new hy(fr(a,e=>this.originalArray[e]),r.context)}canShrinkWithoutContext(e){return!!vE(e)&&!!this.lengthArb.canShrinkWithoutContext(e.length)&&function(e,t){let r=new hZ,n=0;for(let t of e)if(vx(t,-0))++n;else{let e=fw(r,t)||0;fv(r,t,e+1)}for(let e=0;e!==t.length;++e){if(!(e in t))return!1;let i=t[e];if(vx(i,-0)){if(0===n)return!1;--n}else{let e=fw(r,i)||0;if(0===e)return!1;fv(r,i,e-1)}}return!0}(this.originalArray,e)}shrink(e,t){return 0===e.length?hh.nil():this.lengthArb.shrink(e.length,t).map(t=>new hy(fs(e,e.length-t.value),t.context)).join(e.length>this.minLength?fW(()=>this.shrink(fs(e,1),void 0).filter(e=>this.minLength<=e.value.length+1).map(t=>new hy([e[0],...t.value],void 0))):hh.nil())}}function vT(e,t={}){let{minLength:r=0,maxLength:n=e.length}=t;return new vI(e,!0,r,n)}function vO(e,t={}){let{minLength:r=0,maxLength:n=e.length}=t;return new vI(e,!1,r,n)}let vC={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F",16:"G",17:"H",18:"J",19:"K",20:"M",21:"N",22:"P",23:"Q",24:"R",25:"S",26:"T",27:"V",28:"W",29:"X",30:"Y",31:"Z"},vF={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,J:18,K:19,M:20,N:21,P:22,Q:23,R:24,S:25,T:26,V:27,W:28,X:29,Y:30,Z:31};function vA(e,t){let r="";for(;e.length+r.length<t;)r+="0";return r+e}function vM(e){let t="";for(let n=e;0!==n;){var r;let e=n>>5;t=((r=n-(e<<5))<10?hW(r):vC[r])+t,n=e}return t}function vN(e){return function(t){return vA(vM(~~(t/0x40000000)),e-6)+vA(vM(0x3fffffff&t),6)}}function vR(e){if("string"!=typeof e)throw new hj("Unsupported type");let t=0,r=1;for(let n=e.length-1;n>=0;--n){let i=vF[e[n]];if(void 0===i)throw new hj("Unsupported type");t+=i*r,r*=32}return t}let vD=vN(10),vj=vN(8);function vL(e){return vD(e[0])+vj(e[1])+vj(e[2])}function vP(e){if("string"!=typeof e||26!==e.length)throw Error("Unsupported type");return[vR(e.slice(0,10)),vR(e.slice(10,18)),vR(e.slice(18))]}function v$(){return fG(pG({min:0,max:0xffffffffffff}),pG({min:0,max:0xffffffffff}),pG({min:0,max:0xffffffffff})).map(vL,vP)}function vz(e){return function(e,...t){return function(e){try{return e.padStart}catch(e){return}}(e)===fO?e.padStart(...t):hC(fO,e,t)}(fP(e,16),8,"0")}function vU(e){if("string"!=typeof e)throw Error("Unsupported type");if(8!==e.length)throw Error("Unsupported value: invalid length");let t=parseInt(e,16);if(e!==vz(t))throw Error("Unsupported value: invalid content");return t}function vB(e,t){return pG({min:e,max:t}).map(vz,vU)}function vW(e){return`${e[0]}-${fN(e[1],4)}-${fN(e[1],0,4)}-${fN(e[2],0,4)}-${fN(e[2],4)}${e[3]}`}let vq=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/;function vK(e){if("string"!=typeof e)throw Error("Unsupported type");let t=vq.exec(e);if(null===t)throw Error("Unsupported type");return[t[1],t[3]+t[2],t[4]+fN(t[5],0,4),fN(t[5],4)]}let vV="0123456789abcdef";function vJ(e={}){let t=vB(0,0xffffffff),r=void 0!==e.version?"number"==typeof e.version?[e.version]:e.version:[1,2,3,4,5],n={};for(let e of r){if(n[e])throw new hj(`Version ${e} has been requested at least twice for uuid`);if(n[e]=!0,e<1||e>15)throw new hj(`Version must be a value in [1-15] for uuid, but received ${e}`);if(~~e!==e)throw new hj(`Version must be an integer value for uuid, but received ${e}`)}if(0===r.length)throw new hj("Must provide at least one version for uuid");let{versionsApplierMapper:i,versionsApplierUnmapper:a}=function(e){let t={},r={};for(let n=0;n!==e.length;++n){let i=vV[n],a=vV[e[n]];t[i]=a,r[a]=i}return{versionsApplierMapper:function(e){return t[e[0]]+fN(e,1)},versionsApplierUnmapper:function(e){if("string"!=typeof e)throw new hj("Cannot produce non-string values");let t=r[e[0]];if(void 0===t)throw new hj("Cannot produce strings not starting by the version in hexa code");return t+fN(e,1)}}}(r);return fG(t,vB(0,0x10000000*r.length-1).map(i,a),vB(0x80000000,0xbfffffff),t).map(vW,vK)}function vH(e){let t=vB(0,0xffffffff),r=0x10000000*e;return fG(t,vB(r,r+0xfffffff),vB(0x80000000,0xbfffffff),t).map(vW,vK)}function vG([e,t,r]){return(null===e?"":`${e}@`)+t+(null===r?"":`:${r}`)}function vZ(e){if("string"!=typeof e)throw Error("Unsupported");let t=e.indexOf("@"),r=-1!==t?e.substring(0,t):null,n=/:(\d+)$/.exec(e),i=null!==n?Number(n[1]):null;return[r,null!==n?e.substring(t+1,e.length-n[1].length-1):e.substring(t+1),i]}function vQ(e){return`[${e}]`}function vY(e){if("string"!=typeof e||"["!==e[0]||"]"!==e[e.length-1])throw Error("Unsupported");return e.substring(1,e.length-1)}function vX(e){let t=e||{},r=t.size,n=[g9({size:r}),...!0===t.withIPv4?[bP()]:[],...!0===t.withIPv6?[b9().map(vQ,vY)]:[],...!0===t.withIPv4Extended?[bB()]:[]];return fG(!0===t.withUserInfo?gN(g0({unit:gM("-._~!$&'()*+,;=:"),size:r})):mq(null),gv(...n),!0===t.withPort?gN(gx(65535)):mq(null)).map(vG,vZ)}function v0(e){return g0({unit:gM("-._~!$&'()*+,;=:@/?"),size:e})}function v1(e={}){return v0(e.size)}function v2(e={}){return g0({unit:gM("-._~!$&'()*+,;=:@"),size:e.size})}function v6(e){return ft(fr(e,e=>`/${e}`),"")}function v3(e){if("string"!=typeof e)throw Error("Incompatible value received: type");if(0!==e.length&&"/"!==e[0])throw Error("Incompatible value received: start");return fa(fM(e,"/"),1)}function v4(e,t){return ml(v2({size:e}),{size:t}).map(v6,v3)}function v5(e){return function(e){let[t,r]=function(e){switch(e){case"xsmall":return["xsmall","xsmall"];case"small":return["small","xsmall"];case"medium":return["small","small"];case"large":return["medium","small"];case"xlarge":return["medium","medium"]}}(e);return t===r?v4(t,r):gv(v4(t,r),v4(r,t))}(mo((e||{}).size))}function v8(e={}){return v0(e.size)}function v7(e){let[t,r,n]=e,i=null===e[3]?"":`?${e[3]}`,a=null===e[4]?"":`#${e[4]}`;return`${t}://${r}${n}${i}${a}`}let v9=/^([[A-Za-z][A-Za-z0-9+.-]*):\/\/([^/?#]*)([^?#]*)(\?[A-Za-z0-9\-._~!$&'()*+,;=:@/?%]*)?(#[A-Za-z0-9\-._~!$&'()*+,;=:@/?%]*)?$/;function we(e){if("string"!=typeof e)throw Error("Incompatible value received: type");let t=v9.exec(e);if(null===t)throw Error("Incompatible value received");let r=t[1],n=t[2],i=t[3],a=t[4],s=t[5];return[r,n,i,void 0!==a?a.substring(1):null,void 0!==s?s.substring(1):null]}let wt=Object.assign;function wr(e){let t=e||{},r=mo(t.size),n=void 0!==t.authoritySettings&&void 0!==t.authoritySettings.size?ma(t.authoritySettings.size,r):r,i=wt(wt({},t.authoritySettings),{size:n});return fG(mx(...t.validSchemes||["http","https"]),vX(i),v5({size:r}),!0===t.withQueryParameters?gN(v8({size:r})):mq(null),!0===t.withFragments?gN(v1({size:r})):mq(null)).map(v7,we)}class wn{constructor(e,t){this.commands=e,this.metadataForReplay=t}[Symbol.iterator](){return this.commands[Symbol.iterator]()}[hd](){return new wn(this.commands.map(e=>e.clone()),this.metadataForReplay)}toString(){let e=this.commands.filter(e=>e.hasRan).map(e=>e.toString()).join(","),t=this.metadataForReplay();return 0!==t.length?`${e} /*${t}*/`:e}}class wi{constructor(e){if(this.cmd=e,this.hasRan=!1,d2(e)){const t=e[d1];this[d1]=function(){return t.call(e)}}if(d3(e)){const t=e[d6];this[d6]=function(){return t.call(e)}}}check(e){return this.cmd.check(e)}run(e,t){return this.hasRan=!0,this.cmd.run(e,t)}clone(){return new wi(hp(this.cmd)?this.cmd[hd]():this.cmd)}toString(){return this.cmd.toString()}}class wa{static parse(e){let[t,r]=e.split(":"),n=this.parseCounts(t),i=this.parseChanges(r);return this.parseOccurences(n,i)}static stringify(e){let t=this.countOccurences(e),r=this.stringifyCounts(t),n=this.stringifyChanges(t);return`${r}:${n}`}static intToB64(e){return e<26?String.fromCharCode(e+65):e<52?String.fromCharCode(e+97-26):e<62?String.fromCharCode(e+48-52):String.fromCharCode(62===e?43:47)}static b64ToInt(e){return e>="a"?e.charCodeAt(0)-97+26:e>="A"?e.charCodeAt(0)-65:e>="0"?e.charCodeAt(0)-48+52:"+"===e?62:63}static countOccurences(e){return e.reduce((e,t)=>(0===e.length||64===e[e.length-1].count||e[e.length-1].value!==t?e.push({value:t,count:1}):e[e.length-1].count+=1,e),[])}static parseOccurences(e,t){let r=[];for(let n=0;n!==e.length;++n){let i=e[n],a=t[n];for(let e=0;e!==i;++e)r.push(a)}return r}static stringifyChanges(e){let t="";for(let r=0;r<e.length;r+=6){let n=e.slice(r,r+6).reduceRight((e,t)=>2*e+ +!!t.value,0);t+=this.intToB64(n)}return t}static parseChanges(e){let t=e.split("").map(e=>this.b64ToInt(e)),r=[];for(let e=0;e!==t.length;++e){let n=t[e];for(let e=0;6!==e;++e,n>>=1)r.push(n%2==1)}return r}static stringifyCounts(e){return e.map(({count:e})=>this.intToB64(e-1)).join("")}static parseCounts(e){return e.split("").map(e=>this.b64ToInt(e)+1)}}class ws extends hS{constructor(e,t,r,n,i){super(),this.sourceReplayPath=n,this.disableReplayLog=i,this.oneCommandArb=gv(...e).map(e=>new wi(e)),this.lengthArb=SR(0,t,r),this.replayPath=[],this.replayPathPosition=0}metadataForReplay(){return this.disableReplayLog?"":`replayPath=${JSON.stringify(wa.stringify(this.replayPath))}`}buildValueFor(e,t){return new hy(new wn(e.map(e=>e.value_),()=>this.metadataForReplay()),{shrunkOnce:t,items:e})}generate(e){let t=this.lengthArb.generate(e,void 0).value,r=Array(t);for(let n=0;n!==t;++n){let t=this.oneCommandArb.generate(e,void 0);r[n]=t}return this.replayPathPosition=0,this.buildValueFor(r,!1)}canShrinkWithoutContext(e){return!1}filterOnExecution(e){let t=[];for(let r of e)r.value_.hasRan?(this.replayPath.push(!0),t.push(r)):this.replayPath.push(!1);return t}filterOnReplay(e){return e.filter((e,t)=>{let r=this.replayPath[this.replayPathPosition+t];if(void 0===r)throw Error("Too short replayPath");if(!r&&e.value_.hasRan)throw Error("Mismatch between replayPath and real execution");return r})}filterForShrinkImpl(e){0===this.replayPathPosition&&(this.replayPath=null!==this.sourceReplayPath?wa.parse(this.sourceReplayPath):[]);let t=this.replayPathPosition<this.replayPath.length?this.filterOnReplay(e):this.filterOnExecution(e);return this.replayPathPosition+=e.length,t}shrink(e,t){if(void 0===t)return hh.nil();let r=t.shrunkOnce,n=t.items,i=this.filterForShrinkImpl(n);if(0===i.length)return hh.nil();let a=r?hh.nil():new hh([[]][Symbol.iterator]()),s=[];for(let e=0;e!==i.length;++e)s.push(fW(()=>{let t=i.slice(0,e);return this.lengthArb.shrink(i.length-1-e,void 0).map(e=>t.concat(i.slice(i.length-(e.value+1))))}));for(let e=0;e!==i.length;++e)s.push(fW(()=>this.oneCommandArb.shrink(i[e].value_,i[e].context).map(t=>i.slice(0,e).concat([t],i.slice(e+1)))));return a.join(...s).map(e=>this.buildValueFor(e.map(e=>new hy(e.value_.clone(),e.context)),!0))}}function wo(e,t={}){let{size:r,maxCommands:n=0x7fffffff,disableReplayLog:i=!1,replayPath:a=null}=t;return new ws(e,ms(r,0,n,void 0!==t.maxCommands),n,a,i)}class wl{constructor(e,t){this.s=e,this.cmd=t}async check(e){let t=null,r=!1;if((await this.s.scheduleSequence([{label:`check@${this.cmd.toString()}`,builder:async()=>{try{r=await Promise.resolve(this.cmd.check(e))}catch(e){throw t=e,e}}}]).task).faulty)throw t;return r}async run(e,t){let r=null;if((await this.s.scheduleSequence([{label:`run@${this.cmd.toString()}`,builder:async()=>{try{await this.cmd.run(e,t)}catch(e){throw r=e,e}}}]).task).faulty)throw r}}let wu=function*(e,t){for(let r of t)yield new wl(e,r)},wc=(e,t,r,n,i)=>e.then(e=>{let{model:a,real:s}=e,o=r;for(let e of t)o=i(o,()=>n(e,a,s));return o}),wh=async(e,t,r=Promise.resolve())=>{let n=async(e,t,r)=>{await e.check(t)&&await e.run(t,r)};return await wc({then:t=>{let r=e();return"function"==typeof r.then?r.then(t):t(r)}},t,r,n,(e,t)=>e.then(t))};function wf(e,t){wc({then:t=>{t(e())}},t,void 0,(e,t,r)=>{e.check(t)&&e.run(t,r)},(e,t)=>t())}async function wd(e,t){await wh(e,t)}async function wp(e,t,r){let n=wh(t,wu(e,r),e.schedule(Promise.resolve(),"startModel"));await e.waitFor(n),await e.waitAll()}let wm=e=>e();class wg{constructor(e,t){this.act=e,this.taskSelector=t,this.lastTaskId=0,this.sourceTaskSelector=t.clone(),this.scheduledTasks=[],this.triggeredTasks=[],this.scheduledWatchers=[]}static buildLog(e){return`[task\${${e.taskId}}] ${0!==e.label.length?`${e.schedulingType}::${e.label}`:e.schedulingType} ${e.status}${void 0!==e.outputValue?` with value ${e.outputValue.replace(/([$`\\])/g,"\\$1").replace(/\r/g,"\\r")}`:""}`}log(e,t,r,n,i,a){this.triggeredTasks.push({status:i,schedulingType:e,taskId:t,label:r,metadata:n,outputValue:void 0!==a?d7(a):void 0})}scheduleInternal(e,t,r,n,i,a){let s=null,o=++this.lastTaskId,l=new Promise((i,l)=>{s=()=>{(a?r.then(()=>a()):r).then(r=>(this.log(e,o,t,n,"resolved",r),i(r)),r=>(this.log(e,o,t,n,"rejected",r),l(r)))}});return this.scheduledTasks.push({original:r,scheduled:l,trigger:s,schedulingType:e,taskId:o,label:t,metadata:n,customAct:i}),0!==this.scheduledWatchers.length&&this.scheduledWatchers[0](),l}schedule(e,t,r,n){return this.scheduleInternal("promise",t||"",e,r,n||wm)}scheduleFunction(e,t){return(...r)=>this.scheduleInternal("function",`${e.name}(${r.map(d7).join(",")})`,e(...r),void 0,t||wm)}scheduleSequence(e,t){let r={done:!1,faulty:!1},n={then:e=>e()},i=()=>{},a=new Promise(e=>i=e);return e.reduce((e,a)=>{let[s,o,l]="function"==typeof a?[a,a.name,void 0]:[a.builder,a.label,a.metadata];return e.then(()=>{let e=this.scheduleInternal("sequence",o,n,l,t||wm,()=>s());return e.catch(()=>{r.faulty=!0,i()}),e})},n).then(()=>{r.done=!0,i()},()=>{}),Object.assign(r,{task:Promise.resolve(a).then(()=>({done:r.done,faulty:r.faulty}))})}count(){return this.scheduledTasks.length}internalWaitOne(){if(0===this.scheduledTasks.length)throw Error("No task scheduled");let e=this.taskSelector.nextTaskIndex(this.scheduledTasks),[t]=this.scheduledTasks.splice(e,1);return t.customAct(async()=>{t.trigger();try{await t.scheduled}catch(e){}})}async waitOne(e){let t=e||wm;await this.act(()=>t(async()=>await this.internalWaitOne()))}async waitAll(e){for(;this.scheduledTasks.length>0;)await this.waitOne(e)}async waitFor(e,t){let r=!1,n=null,i=async()=>{for(;!r&&this.scheduledTasks.length>0;)await this.waitOne(t);n=null},a=()=>{null===n&&(n=Promise.resolve().then(i))},s=()=>{let e=this.scheduledWatchers.indexOf(a);-1!==e&&this.scheduledWatchers.splice(e,1),0===e&&0!==this.scheduledWatchers.length&&this.scheduledWatchers[0]()},o=e.then(e=>(r=!0,null===n)?(s(),e):n.then(()=>(s(),e)),e=>{if(r=!0,null===n)throw s(),e;return n.then(()=>{throw s(),e})});return this.scheduledTasks.length>0&&0===this.scheduledWatchers.length&&a(),this.scheduledWatchers.push(a),o}report(){return[...this.triggeredTasks,...this.scheduledTasks.map(e=>({status:"pending",schedulingType:e.schedulingType,taskId:e.taskId,label:e.label,metadata:e.metadata}))]}toString(){return"schedulerFor()`\n"+this.report().map(wg.buildLog).map(e=>`-> ${e}`).join("\n")+"`"}[hd](){return new wg(this.act,this.sourceTaskSelector)}}function wy(e,t){return new wg(e,function e(t){let r=0;return{clone:()=>e(t),nextTaskIndex:e=>{if(t.length<=r)throw Error("Invalid schedulerFor defined: too many tasks have been scheduled");let n=e.findIndex(e=>e.taskId===t[r]);if(-1===n)throw Error("Invalid schedulerFor defined: unable to find next task");return++r,n}}}(t))}class wb extends hS{constructor(e){super(),this.act=e}generate(e,t){return new hy(new wg(this.act,function e(t){let r=t.clone();return{clone:()=>e(r),nextTaskIndex:e=>t.nextInt(0,e.length-1)}}(e.clone())),void 0)}canShrinkWithoutContext(e){return!1}shrink(e,t){return hh.nil()}}function wS(e){let{act:t=e=>e()}=e||{};return new wb(t)}function wv(e,t){let{act:r=e=>e()}=Array.isArray(e)?t||{}:e||{};return Array.isArray(e)?wy(r,e):function(e,...t){return wy(r,t)}}function ww(e={}){return Sk(e,hA("-9223372036854775808"),hA("9223372036854775807"),hM,mh)}function wx(e={}){return Sk(e,hA(0),hA("18446744073709551615"),hN,mh)}function wk(e,t){return e[t]>="\uD800"&&e[t]<="\uDBFF"&&e[t+1]>="\uDC00"&&e[t+1]<="\uDFFF"?2:1}function w_(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function wE(e){return e>="0"&&e<="9"}function wI(e,t){for(let r=t;r!==e.length;++r){let t=e[r];if("\\"===t)r+=1;else if("]"===t)return r}throw Error("Missing closing ']'")}function wT(e,t,r,n){let i=function(e,t,r,n){switch(e[t]){case"[":if(n===E.Character)return t+1;return wI(e,t+1)+1;case"{":{if(n===E.Character)return t+1;let r=function(e,t){let r=!1;for(let n=t;n!==e.length;++n){let i=e[n];if(wE(i));else if(t===n)break;else if(","===i){if(r)return -1;r=!0}else if("}"===i)return n;else break}return -1}(e,t+1);if(-1===r)return t+1;return r+1}case"(":if(n===E.Character)return t+1;return function(e,t){let r=0;for(let n=t;n!==e.length;++n){let t=e[n];if("\\"===t)n+=1;else if(")"===t){if(0===r)return n;r-=1}else"["===t?n=wI(e,n):"("===t&&(r+=1)}throw Error("Missing closing ')'")}(e,t+1)+1;case"]":case"}":case")":return t+1;case"\\":{let n=e[t+1];switch(n){case"x":if(w_(e[t+2])&&w_(e[t+3]))return t+4;throw Error(`Unexpected token '${e.substring(t,t+4)}' found`);case"u":if("{"===e[t+2]){if(!r)return t+2;if("}"===e[t+4]){if(w_(e[t+3]))return t+5;throw Error(`Unexpected token '${e.substring(t,t+5)}' found`)}if("}"===e[t+5]){if(w_(e[t+3])&&w_(e[t+4]))return t+6;throw Error(`Unexpected token '${e.substring(t,t+6)}' found`)}if("}"===e[t+6]){if(w_(e[t+3])&&w_(e[t+4])&&w_(e[t+5]))return t+7;throw Error(`Unexpected token '${e.substring(t,t+7)}' found`)}if("}"===e[t+7]){if(w_(e[t+3])&&w_(e[t+4])&&w_(e[t+5])&&w_(e[t+6]))return t+8;throw Error(`Unexpected token '${e.substring(t,t+8)}' found`)}if("}"===e[t+8]&&w_(e[t+3])&&w_(e[t+4])&&w_(e[t+5])&&w_(e[t+6])&&w_(e[t+7]))return t+9;throw Error(`Unexpected token '${e.substring(t,t+9)}' found`)}if(w_(e[t+2])&&w_(e[t+3])&&w_(e[t+4])&&w_(e[t+5]))return t+6;throw Error(`Unexpected token '${e.substring(t,t+6)}' found`);case"p":case"P":{if(!r)return t+2;let n=t+2;for(;n<e.length&&"}"!==e[n];n+="\\"===e[n]?2:1);if("}"!==e[n])throw Error("Invalid \\P definition");return n+1}case"k":{let n=t+2;for(;n<e.length&&">"!==e[n];++n);if(">"!==e[n]){if(!r)return t+2;throw Error("Invalid \\k definition")}return n+1}default:{if(wE(n)){let n=r?e.length:Math.min(t+4,e.length),i=t+2;for(;i<n&&wE(e[i]);++i);return i}let i=r?wk(e,t+1):1;return t+i+1}}}default:{let n=r?wk(e,t):1;return t+n}}}(e,t,r,n);return e.substring(t,i)}(b=E||(E={}))[b.Full=0]="Full",b[b.Character=1]="Character";let wO=String.fromCodePoint;function wC(e){let t=e.pop();if(void 0===t)throw Error("Unable to extract token preceeding the currently parsed one");return t}function wF(e){return e>="0"&&e<="9"}function wA(e,t){return{type:"Char",kind:"simple",symbol:e,value:e,codePoint:e.codePointAt(0)||-1,escaped:t}}function wM(e,t){return{type:"Char",kind:"meta",symbol:t,value:e,codePoint:t.codePointAt(0)||-1}}function wN(e,t){if(e.length>1)return{type:"Alternative",expressions:e};if(!t&&0===e.length)throw Error("Unsupported no token");return e[0]}function wR(e){if("\\"===e[0]){let t=e[1];switch(t){case"x":{let t=Number.parseInt(e.substring(2),16);return{type:"Char",kind:"hex",symbol:wO(t),value:e,codePoint:t}}case"u":{if("\\u"===e)return wA("u",!0);let t=Number.parseInt("{"===e[2]?e.substring(3,e.length-1):e.substring(2),16);return{type:"Char",kind:"unicode",symbol:wO(t),value:e,codePoint:t}}case"0":return wM(e,"\0");case"n":return wM(e,"\n");case"f":return wM(e,"\f");case"r":return wM(e,"\r");case"t":return wM(e,"	");case"v":return wM(e,"\v");case"w":case"W":case"d":case"D":case"s":case"S":case"b":case"B":return{type:"Char",kind:"meta",symbol:void 0,value:e,codePoint:NaN};default:if(wF(t)){let t=Number(e.substring(1));return{type:"Char",kind:"decimal",symbol:wO(t),value:e,codePoint:t}}if(e.length>2&&("p"===t||"P"===t))throw Error("UnicodeProperty not implemented yet!");return wA(e.substring(1),!0)}}return wA(e)}let wD=String.fromCodePoint,wj=[..."abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_"],wL=[..."0123456789"],wP=[..." 	\r\n\v\f"],w$=[..."\r\n"],wz=[..."\x1e\x15"],wU=[...w$,...wz],wB=mN();function wW(e){return new hj(`Unsupported AST node! Received: ${d7(e)}`)}function wq(e,t={}){let r,n,i;for(let t of e.flags)if("d"!==t&&"g"!==t&&"m"!==t&&"s"!==t&&"u"!==t)throw new hj(`Unable to use "stringMatching" against a regex using the flag ${t}`);let a={size:t.size},s={multiline:e.multiline,dotAll:e.dotAll};return function e(t,r,n){switch(t.type){case"Char":if("meta"===t.kind)switch(t.value){case"\\w":return mx(...wj);case"\\W":return wB.filter(e=>-1===fe(wj,e));case"\\d":return mx(...wL);case"\\D":return wB.filter(e=>-1===fe(wL,e));case"\\s":return mx(...wP);case"\\S":return wB.filter(e=>-1===fe(wP,e));case"\\b":case"\\B":throw new hj(`Meta character ${t.value} not implemented yet!`);case".":{let e=n.dotAll?wz:wU;return wB.filter(t=>-1===fe(e,t))}}if(void 0===t.symbol)throw new hj(`Unexpected undefined symbol received for non-meta Char! Received: ${d7(t)}`);return mq(t.symbol);case"Repetition":{let i=e(t.expression,r,n);switch(t.quantifier.kind){case"*":return vw(i,r);case"+":return vw(i,Object.assign(Object.assign({},r),{minLength:1}));case"?":return vw(i,Object.assign(Object.assign({},r),{minLength:0,maxLength:1}));case"Range":return vw(i,Object.assign(Object.assign({},r),{minLength:t.quantifier.from,maxLength:t.quantifier.to}));default:throw wW(t.quantifier)}}case"Quantifier":throw new hj("Wrongly defined AST tree, Quantifier nodes not supposed to be scanned!");case"Alternative":return fG(...fr(t.expressions,t=>e(t,r,n))).map(e=>ft(e,""));case"CharacterClass":if(t.negative){let i=fr(t.expressions,t=>e(t,r,n));return wB.filter(e=>fl(i,t=>!t.canShrinkWithoutContext(e)))}return gv(...fr(t.expressions,t=>e(t,r,n)));case"ClassRange":return pG({min:t.from.codePoint,max:t.to.codePoint}).map(e=>wD(e),e=>{if("string"!=typeof e)throw new hj("Invalid type");if(1!=[...e].length)throw new hj("Invalid length");return fj(e,0)});case"Group":return e(t.expression,r,n);case"Disjunction":return gv(null!==t.left?e(t.left,r,n):mq(""),null!==t.right?e(t.right,r,n):mq(""));case"Assertion":if("^"===t.kind||"$"===t.kind){if(n.multiline)if("^"===t.kind)return gv(mq(""),fG(vw(wB),mx(...w$)).map(e=>`${e[0]}${e[1]}`,e=>{if("string"!=typeof e||0===e.length)throw new hj("Invalid type");return[fN(e,0,e.length-1),e[e.length-1]]}));else return gv(mq(""),fG(mx(...w$),vw(wB)).map(e=>`${e[0]}${e[1]}`,e=>{if("string"!=typeof e||0===e.length)throw new hj("Invalid type");return[e[0],fN(e,1)]}));return mq("")}throw new hj(`Assertions of kind ${t.kind} not implemented yet!`);case"Backreference":throw new hj("Backreference nodes not implemented yet!");default:throw wW(t)}}(function e(t,r,n){if(!r&&!n)return t;let i={hasStart:!1,hasEnd:!1},a=function t(r,n,i,a){switch(r.type){case"Char":case"Repetition":case"CharacterClass":case"ClassRange":case"Backreference":return r;case"Quantifier":throw Error("Wrongly defined AST tree, Quantifier nodes not supposed to be scanned!");case"Alternative":return a.hasStart=!0,a.hasEnd=!0,Object.assign(Object.assign({},r),{expressions:r.expressions.map((t,a)=>e(t,n&&0===a,i&&a===r.expressions.length-1))});case"Group":return Object.assign(Object.assign({},r),{expression:t(r.expression,n,i,a)});case"Disjunction":return a.hasStart=!0,a.hasEnd=!0,Object.assign(Object.assign({},r),{left:null!==r.left?e(r.left,n,i):null,right:null!==r.right?e(r.right,n,i):null});case"Assertion":if("^"===r.kind||"Lookahead"===r.kind)return a.hasStart=!0,r;if("$"===r.kind||"Lookbehind"===r.kind)return a.hasEnd=!0,r;throw Error(`Assertions of kind ${r.kind} not implemented yet!`);default:throw Error(`Unsupported AST node! Received: ${d7(r)}`)}}(t,r,n,i),s=r&&!i.hasStart,o=n&&!i.hasEnd;if(!s&&!o)return a;let l=[];return s&&(l.push({type:"Assertion",kind:"^"}),l.push({type:"Repetition",quantifier:{type:"Quantifier",kind:"*",greedy:!0},expression:{type:"Char",kind:"meta",symbol:".",value:".",codePoint:NaN}})),l.push(a),o&&(l.push({type:"Repetition",quantifier:{type:"Quantifier",kind:"*",greedy:!0},expression:{type:"Char",kind:"meta",symbol:".",value:".",codePoint:NaN}}),l.push({type:"Assertion",kind:"$"})),{type:"Group",capturing:!1,expression:{type:"Alternative",expressions:l}}}((r=-1!==fe([...e.flags],"u"),n=e.source,!function e(t,r,n,i){let a=null;for(let s=0,o=wT(r,s,n,E.Full);s!==r.length;s+=o.length,o=wT(r,s,n,E.Full)){let r=o[0];switch(r){case"|":null===a&&(a=[]),a.push(wN(t.splice(0),!0)||null);break;case".":t.push({type:"Char",kind:"meta",symbol:o,value:o,codePoint:NaN});break;case"*":case"+":{let e=wC(t);t.push({type:"Repetition",expression:e,quantifier:{type:"Quantifier",kind:r,greedy:!0}});break}case"?":{let e=wC(t);"Repetition"===e.type?(e.quantifier.greedy=!1,t.push(e)):t.push({type:"Repetition",expression:e,quantifier:{type:"Quantifier",kind:r,greedy:!0}});break}case"{":{if("{"===o){t.push(wA(o));break}let e=wC(t),r=o.substring(1,o.length-1).split(","),n=Number(r[0]),i=1===r.length?n:0!==r[1].length?Number(r[1]):void 0;t.push({type:"Repetition",expression:e,quantifier:{type:"Quantifier",kind:"Range",greedy:!0,from:n,to:i}});break}case"[":{let e,r=o.substring(1,o.length-1),i=[],a=!1;for(let t=0,s=wT(r,t,n,E.Character);t!==r.length;t+=s.length,s=wT(r,t,n,E.Character)){if(0===t&&"^"===s){e=!0;continue}let r=wR(s);if("-"===s)i.push(r),a=!0;else{let e=i.length>=2?i[i.length-2]:void 0;a&&void 0!==e&&"Char"===e.type?(i.pop(),i.pop(),i.push({type:"ClassRange",from:e,to:r})):i.push(r),a=!1}}t.push({type:"CharacterClass",expressions:i,negative:e});break}case"(":{let r=o.substring(1,o.length-1),a=[];if("?"===r[0])if(":"===r[1])e(a,r.substring(2),n,i),t.push({type:"Group",capturing:!1,expression:wN(a)});else if("="===r[1]||"!"===r[1])e(a,r.substring(2),n,i),t.push({type:"Assertion",kind:"Lookahead",negative:"!"===r[1]||void 0,assertion:wN(a)});else if("<"===r[1]&&("="===r[2]||"!"===r[2]))e(a,r.substring(3),n,i),t.push({type:"Assertion",kind:"Lookbehind",negative:"!"===r[2]||void 0,assertion:wN(a)});else{let s=r.split(">");if(s.length<2||"<"!==s[0][1])throw Error(`Unsupported regex content found at ${JSON.stringify(o)}`);let l=++i.lastIndex,u=s[0].substring(2);i.named.set(u,l),e(a,s.slice(1).join(">"),n,i),t.push({type:"Group",capturing:!0,nameRaw:u,name:u,number:l,expression:wN(a)})}else{let s=++i.lastIndex;e(a,r,n,i),t.push({type:"Group",capturing:!0,number:s,expression:wN(a)})}break}default:if("^"===o)t.push({type:"Assertion",kind:o});else if("$"===o)t.push({type:"Assertion",kind:o});else if("\\"===o[0]&&wF(o[1])){let e=Number(o.substring(1));n||e<=i.lastIndex?t.push({type:"Backreference",kind:"number",number:e,reference:e}):t.push(wR(o))}else if("\\"===o[0]&&"k"===o[1]&&2!==o.length){let e=o.substring(3,o.length-1);t.push({type:"Backreference",kind:"name",number:i.named.get(e)||0,referenceRaw:e,reference:e})}else t.push(wR(o))}}if(null!==a){a.push(wN(t.splice(0),!0)||null);let e={type:"Disjunction",left:a[0],right:a[1]};for(let t=2;t<a.length;++t)e={type:"Disjunction",left:e,right:a[t]};t.push(e)}}(i=[],n,r,{lastIndex:0,named:new Map}),wN(i)),!0,!0),a,s)}class wK extends hS{constructor(e,t){super(),this.arb=e,this.maxShrinks=t}generate(e,t){let r=this.arb.generate(e,t);return this.valueMapper(r,0)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,t){return this.isSafeContext(t)?this.safeShrink(e,t.originalContext,t.length):this.safeShrink(e,void 0,0)}safeShrink(e,t,r){let n=this.maxShrinks-r;return n<=0?hh.nil():new hh(function*(...e){let t=function(e){let t=[];for(let r=0;r!==e.length;++r)t.push(e[r].next());return t}(e);for(;!function(e){for(let t=0;t!==e.length;++t)if(e[t].done)return!0;return!1}(t);){yield t.map(e=>e.value);for(let r=0;r!==e.length;++r)t[r]=e[r].next()}}(this.arb.shrink(e,t),function*(e){let t=e;for(;;)yield t,++t}(r+1))).take(n).map(e=>this.valueMapper(e[0],e[1]))}valueMapper(e,t){let r={originalContext:e.context,length:t};return new hy(e.value,r)}isSafeContext(e){return null!=e&&"object"==typeof e&&"originalContext"in e&&"length"in e}}function wV(e,t){return new wK(e,t)}let wJ="module",wH="3.23.2",wG="a4a600eaa08c833707067a877db144289a724b91",wZ=(e,t)=>{switch(t._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(e);case"SymbolKeyword":return Object.getOwnPropertySymbols(e);case"Refinement":return wZ(e,t.from)}},wQ=e=>{let t,r=!1;return()=>(r||(t=e(),r=!0),t)},wY=e=>{try{return e.toISOString()}catch{return String(e)}},wX="[Circular]";function w0(e,t=0){let r=new WeakSet,n=t?"number"==typeof t?" ".repeat(t):t:"",i=(e,t)=>{let r=e?.constructor;return r&&r!==Object.prototype.constructor&&r.name?`${r.name}(${t})`:t};return function e(t,a=0){if(Array.isArray(t)){let i,s;if(r.has(t))return wX;if(r.add(t),!n||t.length<=1)return`[${t.map(t=>e(t,a)).join(",")}]`;let o=t.map(t=>e(t,a+1)).join(",\n"+(i=a+1,n.repeat(i)));return`[
${s=a+1,n.repeat(s)}${o}
${n.repeat(a)}]`}if(nT(t))return wY(t);if(nw(t,"toString")&&nf(t.toString)&&t.toString!==Object.prototype.toString)try{let e=t.toString();return"string"==typeof e?e:String(e)}catch{return"[toString threw]"}if(ns(t))return JSON.stringify(t);if(no(t)||null==t||nl(t)||nc(t))return String(t);if(nu(t))return String(t)+"n";if(t instanceof Set||t instanceof Map)return r.has(t)?wX:(r.add(t),`${t.constructor.name}(${e(Array.from(t),a)})`);if(nv(t)){if(r.has(t))return wX;r.add(t);let s=(e=>{try{return Reflect.ownKeys(e)}catch{return["[ownKeys threw]"]}})(t);if(!n||s.length<=1){let r=`{${s.map(r=>`${w1(r)}:${e(t[r],a)}`).join(",")}}`;return i(t,r)}let o=`{
${s.map(r=>{let i;return`${i=a+1,n.repeat(i)}${w1(r)}: ${e(t[r],a+1)}`}).join(",\n")}
${n.repeat(a)}}`;return i(t,o)}return String(t)}(e,0)}function w1(e){return ns(e)?JSON.stringify(e):String(e)}let w2=e=>`[${w1(e)}]`,w6=e=>Array.isArray(e)?e.map(w2).join(""):w2(e),w3=(e,t,r,n)=>{let i=e;return r&&uw(r)&&(i+=`
at path: ${w6(r)}`),void 0!==t&&(i+=`
details: ${t}`),n&&(i+=`
schema (${n._tag}): ${n}`),i},w4=(e,t)=>w3("Unsupported key",`Cannot encode ${w1(e)} key to JSON Schema`,t),w5=(e,t,r)=>w3("Unsupported schema or overlapping types",`cannot extend ${e} with ${t}`,r),w8=e=>w3("Unsupported schema",void 0,void 0,e),w7=e=>w3("Duplicate index signature",`${e} index signature`),w9=w3("Unsupported index signature parameter","An index signature parameter type must be `string`, `symbol`, a template literal type or a refinement of the previous types"),xe=w3("Invalid element","A required element cannot follow an optional element. ts(1257)"),xt=e=>w3("Duplicate property signature transformation",`Duplicate key ${w0(e)}`),xr=e=>w3("Duplicate property signature",`Duplicate key ${w0(e)}`),xn=Symbol.for("effect/SchemaId/DateFromSelf"),xi=Symbol.for("effect/SchemaId/GreaterThan"),xa=Symbol.for("effect/SchemaId/GreaterThanOrEqualTo"),xs=Symbol.for("effect/SchemaId/LessThan"),xo=Symbol.for("effect/SchemaId/LessThanOrEqualTo"),xl=Symbol.for("effect/SchemaId/Int"),xu=Symbol.for("effect/SchemaId/NonNaN"),xc=Symbol.for("effect/SchemaId/Finite"),xh=Symbol.for("effect/SchemaId/JsonNumber"),xf=Symbol.for("effect/SchemaId/Between"),xd=Symbol.for("effect/SchemaId/GreaterThanBigint"),xp=Symbol.for("effect/SchemaId/GreaterThanOrEqualToBigint"),xm=Symbol.for("effect/SchemaId/LessThanBigint"),xg=Symbol.for("effect/SchemaId/LessThanOrEqualToBigint"),xy=Symbol.for("effect/SchemaId/BetweenBigint"),xb=Symbol.for("effect/SchemaId/MinLength"),xS=Symbol.for("effect/SchemaId/MaxLength"),xv=Symbol.for("effect/SchemaId/Length"),xw=Symbol.for("effect/SchemaId/MinItems"),xx=Symbol.for("effect/SchemaId/MaxItems"),xk=Symbol.for("effect/SchemaId/ItemsCount"),x_=no,xE=e=>xC(e,-1),xI=rS(2,(e,t)=>e+t),xT=e=>lm(e,0,xI),xO=rS(2,(e,t)=>e-t),xC=rS(2,(e,t)=>e*t),xF=e=>{let t=1;for(let r of e){if(0===r)return 0;t*=r}return t},xA=rS(2,(e,t)=>0===t?ah:af(e/t)),xM=rS(2,(e,t)=>e/t),xN=e=>xI(e,1),xR=e=>xO(e,1),xD=rW,xj=si,xL=sv(xj),xP=sx(xj),x$=sw(xj),xz=sk(xj),xU=sT(xj),xB=sI(xj),xW=s_(xj),xq=sE(xj),xK=e=>xj(e,0),xV=rS(2,(e,t)=>{let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}),xJ=e=>Math.max(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))),2),xH=e=>{if("NaN"===e)return af(NaN);if("Infinity"===e)return af(1/0);if("-Infinity"===e)return af(-1/0);if(""===e.trim())return ah;let t=Number(e);return Number.isNaN(t)?ah:af(t)},xG=rS(2,(e,t)=>{let r=Math.pow(10,t);return Math.round(e*r)/r}),xZ=nN,xQ=e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"),xY=Symbol.for("effect/annotation/Brand"),xX=Symbol.for("effect/annotation/SchemaId"),x0=Symbol.for("effect/annotation/Message"),x1=Symbol.for("effect/annotation/MissingMessage"),x2=Symbol.for("effect/annotation/Identifier"),x6=Symbol.for("effect/annotation/Title"),x3=Symbol.for("effect/annotation/AutoTitle"),x4=Symbol.for("effect/annotation/Description"),x5=Symbol.for("effect/annotation/Examples"),x8=Symbol.for("effect/annotation/Default"),x7=Symbol.for("effect/annotation/JSONSchema"),x9=Symbol.for("effect/annotation/Arbitrary"),ke=Symbol.for("effect/annotation/Pretty"),kt=Symbol.for("effect/annotation/Equivalence"),kr=Symbol.for("effect/annotation/Documentation"),kn=Symbol.for("effect/annotation/Concurrency"),ki=Symbol.for("effect/annotation/Batching"),ka=Symbol.for("effect/annotation/ParseIssueTitle"),ks=Symbol.for("effect/annotation/ParseOptions"),ko=Symbol.for("effect/annotation/DecodingFallback"),kl=Symbol.for("effect/annotation/Surrogate"),ku=Symbol.for("effect/annotation/StableFilter"),kc=rS(2,(e,t)=>Object.prototype.hasOwnProperty.call(e.annotations,t)?sF(e.annotations[t]):sC()),kh=kc(xY),kf=kc(xX),kd=kc(x0),kp=kc(x1),km=kc(x6),kg=kc(x3),ky=kc(x2),kb=kc(x4),kS=kc(x5),kv=kc(x8),kw=kc(x7),kx=kc(kr),kk=kc(kn),k_=kc(ki),kE=kc(ka),kI=kc(ks),kT=kc(ko),kO=kc(kl),kC=kc(ku),kF=e=>om(kC(e),e=>!0===e),kA=Symbol.for("effect/annotation/JSONIdentifier"),kM=kc(kA),kN=e=>sz(kM(e),()=>ky(e)),kR=Symbol.for("effect/schema/ParseJson");class kD{typeParameters;decodeUnknown;encodeUnknown;annotations;_tag="Declaration";constructor(e,t,r,n={}){this.typeParameters=e,this.decodeUnknown=t,this.encodeUnknown=r,this.annotations=n}toString(){return s$(EL(this),()=>"<declaration schema>")}toJSON(){return{_tag:this._tag,typeParameters:this.typeParameters.map(e=>e.toJSON()),annotations:EE(this.annotations)}}}let kj=e=>t=>t._tag===e,kL=kj("Declaration");class kP{literal;annotations;_tag="Literal";constructor(e,t={}){this.literal=e,this.annotations=t}toString(){return s$(EL(this),()=>w0(this.literal))}toJSON(){return{_tag:this._tag,literal:nu(this.literal)?String(this.literal):this.literal,annotations:EE(this.annotations)}}}let k$=kj("Literal"),kz=new kP(null);class kU{symbol;annotations;_tag="UniqueSymbol";constructor(e,t={}){this.symbol=e,this.annotations=t}toString(){return s$(EL(this),()=>w0(this.symbol))}toJSON(){return{_tag:this._tag,symbol:String(this.symbol),annotations:EE(this.annotations)}}}let kB=kj("UniqueSymbol");class kW{annotations;_tag="UndefinedKeyword";constructor(e={}){this.annotations=e}toString(){return ED(this)}toJSON(){return{_tag:this._tag,annotations:EE(this.annotations)}}}let kq=new kW({[x6]:"undefined"}),kK=kj("UndefinedKeyword");class kV{annotations;_tag="VoidKeyword";constructor(e={}){this.annotations=e}toString(){return ED(this)}toJSON(){return{_tag:this._tag,annotations:EE(this.annotations)}}}let kJ=new kV({[x6]:"void"}),kH=kj("VoidKeyword");class kG{annotations;_tag="NeverKeyword";constructor(e={}){this.annotations=e}toString(){return ED(this)}toJSON(){return{_tag:this._tag,annotations:EE(this.annotations)}}}let kZ=new kG({[x6]:"never"}),kQ=kj("NeverKeyword");class kY{annotations;_tag="UnknownKeyword";constructor(e={}){this.annotations=e}toString(){return ED(this)}toJSON(){return{_tag:this._tag,annotations:EE(this.annotations)}}}let kX=new kY({[x6]:"unknown"}),k0=kj("UnknownKeyword");class k1{annotations;_tag="AnyKeyword";constructor(e={}){this.annotations=e}toString(){return ED(this)}toJSON(){return{_tag:this._tag,annotations:EE(this.annotations)}}}let k2=new k1({[x6]:"any"}),k6=kj("AnyKeyword");class k3{annotations;_tag="StringKeyword";constructor(e={}){this.annotations=e}toString(){return ED(this)}toJSON(){return{_tag:this._tag,annotations:EE(this.annotations)}}}let k4=new k3({[x6]:"string",[x4]:"a string"}),k5=kj("StringKeyword");class k8{annotations;_tag="NumberKeyword";constructor(e={}){this.annotations=e}toString(){return ED(this)}toJSON(){return{_tag:this._tag,annotations:EE(this.annotations)}}}let k7=new k8({[x6]:"number",[x4]:"a number"}),k9=kj("NumberKeyword");class _e{annotations;_tag="BooleanKeyword";constructor(e={}){this.annotations=e}toString(){return ED(this)}toJSON(){return{_tag:this._tag,annotations:EE(this.annotations)}}}let _t=new _e({[x6]:"boolean",[x4]:"a boolean"}),_r=kj("BooleanKeyword");class _n{annotations;_tag="BigIntKeyword";constructor(e={}){this.annotations=e}toString(){return ED(this)}toJSON(){return{_tag:this._tag,annotations:EE(this.annotations)}}}let _i=new _n({[x6]:"bigint",[x4]:"a bigint"}),_a=kj("BigIntKeyword");class _s{annotations;_tag="SymbolKeyword";constructor(e={}){this.annotations=e}toString(){return ED(this)}toJSON(){return{_tag:this._tag,annotations:EE(this.annotations)}}}let _o=new _s({[x6]:"symbol",[x4]:"a symbol"}),_l=kj("SymbolKeyword");class _u{annotations;_tag="ObjectKeyword";constructor(e={}){this.annotations=e}toString(){return ED(this)}toJSON(){return{_tag:this._tag,annotations:EE(this.annotations)}}}let _c=new _u({[x6]:"object",[x4]:"an object in the TypeScript meaning, i.e. the `object` type"}),_h=kj("ObjectKeyword");class _f{enums;annotations;_tag="Enums";constructor(e,t={}){this.enums=e,this.annotations=t}toString(){return s$(EL(this),()=>`<enum ${this.enums.length} value(s): ${this.enums.map(([e,t])=>JSON.stringify(t)).join(" | ")}>`)}toJSON(){return{_tag:this._tag,enums:this.enums,annotations:EE(this.annotations)}}}let _d=kj("Enums"),_p=e=>{switch(e._tag){case"Literal":case"NumberKeyword":case"StringKeyword":case"TemplateLiteral":return!0;case"Union":return e.types.every(_p)}return!1},_m=e=>{switch(e._tag){case"Literal":return JSON.stringify(String(e.literal));case"StringKeyword":return"string";case"NumberKeyword":return"number";case"TemplateLiteral":return String(e);case"Union":return e.types.map(_m).join(" | ")}};class _g{literal;type;constructor(e,t){if(this.literal=t,_p(e))this.type=e;else throw Error(w3("Unsupported template literal span",void 0,void 0,e))}toString(){return(e=>{switch(e._tag){case"Literal":return String(e.literal);case"StringKeyword":return"${string}";case"NumberKeyword":return"${number}";case"TemplateLiteral":return"${"+String(e)+"}";case"Union":return"${"+e.types.map(_m).join(" | ")+"}"}})(this.type)+this.literal}toJSON(){return{type:this.type.toJSON(),literal:this.literal}}}class _y{head;spans;annotations;_tag="TemplateLiteral";constructor(e,t,r={}){this.head=e,this.spans=t,this.annotations=r}toString(){return s$(EL(this),()=>_b(this))}toJSON(){return{_tag:this._tag,head:this.head,spans:this.spans.map(e=>e.toJSON()),annotations:EE(this.annotations)}}}let _b=e=>"`"+e.head+e.spans.map(String).join("")+"`",_S=kj("TemplateLiteral");class _v{type;annotations;constructor(e,t={}){this.type=e,this.annotations=t}toJSON(){return{type:this.type.toJSON(),annotations:EE(this.annotations)}}toString(){return String(this.type)}}class _w extends _v{isOptional;constructor(e,t,r={}){super(e,r),this.isOptional=t}toJSON(){return{type:this.type.toJSON(),isOptional:this.isOptional,annotations:EE(this.annotations)}}toString(){return String(this.type)+(this.isOptional?"?":"")}}let _x=e=>e.map(e=>e.type);class _k{elements;rest;isReadonly;annotations;_tag="TupleType";constructor(e,t,r,n={}){this.elements=e,this.rest=t,this.isReadonly=r,this.annotations=n;let i=!1,a=!1;for(const t of e)if(t.isOptional)i=!0;else if(i){a=!0;break}if(a||i&&t.length>1)throw Error(xe)}toString(){return s$(EL(this),()=>__(this))}toJSON(){return{_tag:this._tag,elements:this.elements.map(e=>e.toJSON()),rest:this.rest.map(e=>e.toJSON()),isReadonly:this.isReadonly,annotations:EE(this.annotations)}}}let __=e=>{let t=e.elements.map(String).join(", ");return uu(e.rest,{onEmpty:()=>`readonly [${t}]`,onNonEmpty:(r,n)=>{let i=String(r),a=i.includes(" | ")?`(${i})`:i;if(n.length>0){let r=n.map(String).join(", ");return e.elements.length>0?`readonly [${t}, ...${a}[], ${r}]`:`readonly [...${a}[], ${r}]`}return e.elements.length>0?`readonly [${t}, ...${a}[]]`:`ReadonlyArray<${i}>`}})},_E=kj("TupleType");class _I extends _w{name;isReadonly;constructor(e,t,r,n,i){super(t,r,i),this.name=e,this.isReadonly=n}toString(){return(this.isReadonly?"readonly ":"")+String(this.name)+(this.isOptional?"?":"")+": "+this.type}toJSON(){return{name:String(this.name),type:this.type.toJSON(),isOptional:this.isOptional,isReadonly:this.isReadonly,annotations:EE(this.annotations)}}}let _T=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return _T(e.from)}return!1};class _O{type;isReadonly;parameter;constructor(e,t,r){if(this.type=t,this.isReadonly=r,_T(e))this.parameter=e;else throw Error(w9)}toString(){return(this.isReadonly?"readonly ":"")+`[x: ${this.parameter}]: ${this.type}`}toJSON(){return{parameter:this.parameter.toJSON(),type:this.type.toJSON(),isReadonly:this.isReadonly}}}class _C{annotations;_tag="TypeLiteral";propertySignatures;indexSignatures;constructor(e,t,r={}){this.annotations=r;const n={};for(let t=0;t<e.length;t++){const r=e[t].name;if(Object.prototype.hasOwnProperty.call(n,r))throw Error(xr(r));n[r]=null}const i={string:!1,symbol:!1};for(let e=0;e<t.length;e++){const r=EI(t[e].parameter);if(k5(r)){if(i.string)throw Error(w7("string"));i.string=!0}else if(_l(r)){if(i.symbol)throw Error(w7("symbol"));i.symbol=!0}}this.propertySignatures=e,this.indexSignatures=t}toString(){return s$(EL(this),()=>_A(this))}toJSON(){return{_tag:this._tag,propertySignatures:this.propertySignatures.map(e=>e.toJSON()),indexSignatures:this.indexSignatures.map(e=>e.toJSON()),annotations:EE(this.annotations)}}}let _F=e=>e.map(String).join("; "),_A=e=>{if(e.propertySignatures.length>0){let t=e.propertySignatures.map(String).join("; ");return e.indexSignatures.length>0?`{ ${t}; ${_F(e.indexSignatures)} }`:`{ ${t} }`}return e.indexSignatures.length>0?`{ ${_F(e.indexSignatures)} }`:"{}"},_M=kj("TypeLiteral"),_N=u4(sf(xj,e=>{switch(e._tag){case"AnyKeyword":return 0;case"UnknownKeyword":return 1;case"ObjectKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3}return 4})),_R={string:"StringKeyword",number:"NumberKeyword",boolean:"BooleanKeyword",bigint:"BigIntKeyword"},_D=e=>cA(e,e=>_z(e)?_D(e.types):[e]),_j=e=>{let t=_N(e),r=[],n={},i=[];for(let e of t)switch(e._tag){case"NeverKeyword":break;case"AnyKeyword":return[k2];case"UnknownKeyword":return[kX];case"ObjectKeyword":case"UndefinedKeyword":case"VoidKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":n[e._tag]||(n[e._tag]=e,r.push(e));break;case"Literal":{let t=typeof e.literal;switch(t){case"string":case"number":case"bigint":case"boolean":n[_R[t]]||i.includes(e.literal)||(i.push(e.literal),r.push(e));break;case"object":i.includes(e.literal)||(i.push(e.literal),r.push(e))}break}case"UniqueSymbol":n.SymbolKeyword||i.includes(e.symbol)||(i.push(e.symbol),r.push(e));break;case"TupleType":n.ObjectKeyword||r.push(e);break;case"TypeLiteral":0===e.propertySignatures.length&&0===e.indexSignatures.length?n["{}"]||(n["{}"]=e,r.push(e)):n.ObjectKeyword||r.push(e);break;default:r.push(e)}return r};class _L{types;annotations;static make=(e,t)=>_$(e)?new _L(e,t):1===e.length?e[0]:kZ;static unify=(e,t)=>_L.make(_j(_D(e)),t);_tag="Union";constructor(e,t={}){this.types=e,this.annotations=t}toString(){return s$(EL(this),()=>this.types.map(String).join(" | "))}toJSON(){return{_tag:this._tag,types:this.types.map(e=>e.toJSON()),annotations:EE(this.annotations)}}}let _P=(e,t)=>e.map(t),_$=e=>e.length>1,_z=kj("Union"),_U=r9(Symbol.for("effect/Schema/AST/toJSONMemoMap"),()=>new WeakMap);class _B{f;annotations;_tag="Suspend";constructor(e,t={}){this.f=e,this.annotations=t,this.f=wQ(e)}toString(){return EL(this).pipe(sz(()=>s1(sH(this.f)(),e=>EL(e))),s$(()=>"<suspended schema>"))}toJSON(){let e=this.f(),t=_U.get(e);return t||(_U.set(e,{_tag:this._tag}),t={_tag:this._tag,ast:e.toJSON(),annotations:EE(this.annotations)},_U.set(e,t)),t}}let _W=kj("Suspend");class _q{from;filter;annotations;_tag="Refinement";constructor(e,t,r={}){this.from=e,this.filter=t,this.annotations=r}toString(){return ky(this).pipe(s$(()=>sR(Ej(this),{onNone:()=>`{ ${this.from} | filter }`,onSome:e=>_K(this.from)?String(this.from)+" & "+e:e})))}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),annotations:EE(this.annotations)}}}let _K=kj("Refinement"),_V={};class _J{from;to;transformation;annotations;_tag="Transformation";constructor(e,t,r,n={}){this.from=e,this.to=t,this.transformation=r,this.annotations=n}toString(){return s$(EL(this),()=>`(${String(this.from)} <-> ${String(this.to)})`)}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),to:this.to.toJSON(),annotations:EE(this.annotations)}}}let _H=kj("Transformation");class _G{decode;encode;_tag="FinalTransformation";constructor(e,t){this.decode=e,this.encode=t}}let _Z=e=>t=>t._tag===e,_Q=_Z("FinalTransformation");class _Y{_tag="ComposeTransformation"}let _X=new _Y,_0=_Z("ComposeTransformation");class _1{from;to;decode;encode;constructor(e,t,r,n){this.from=e,this.to=t,this.decode=r,this.encode=n}}let _2=e=>e.decode===rw&&e.encode===rw;class _6{propertySignatureTransformations;_tag="TypeLiteralTransformation";constructor(e){this.propertySignatureTransformations=e;const t={},r={};for(const n of e){const e=n.from;if(t[e])throw Error(xt(e));t[e]=!0;const i=n.to;if(r[i])throw Error(xt(i));r[i]=!0}}}let _3=_Z("TypeLiteralTransformation"),_4=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={...e.annotations};delete n[x2];let i={...n,...t},a=kO(e);return sN(a)&&(i[kl]=_4(a.value,t)),r.annotations.value=i,Object.create(Object.getPrototypeOf(e),r)},_5=e=>_L.unify(EM(e)),_8=(e,t)=>{switch(e._tag){case"Literal":return xQ(String(e.literal));case"StringKeyword":return"[\\s\\S]*?";case"NumberKeyword":return"[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?";case"TemplateLiteral":return _9(e,t,!1);case"Union":return e.types.map(e=>_8(e,t)).join("|")}},_7=(e,t,r,n)=>{if(_z(e)){if(r&&!n)return`(?:${t})`}else if(!r||!n)return t;return`(${t})`},_9=(e,t,r)=>{let n="";if(""!==e.head){let i=xQ(e.head);n+=t&&r?`(${i})`:i}for(let i of e.spans){let e=_8(i.type,t);if(n+=_7(i.type,e,t,r),""!==i.literal){let e=xQ(i.literal);n+=t&&r?`(${e})`:e}}return n},Ee=e=>RegExp(`^${_9(e,!1,!0)}$`),Et=e=>RegExp(`^${_9(e,!0,!0)}$`),Er=e=>{let t=kO(e);if(sN(t))return Er(t.value);switch(e._tag){case"TypeLiteral":return e.propertySignatures.slice();case"Suspend":return Er(e.f());case"Refinement":return Er(e.from)}return Eo(e).map(t=>Es(e,t))},En=e=>{let t=kO(e);if(sN(t))return En(t.value);switch(e._tag){case"TypeLiteral":return e.indexSignatures.slice();case"Suspend":return En(e.f());case"Refinement":return En(e.from)}return[]},Ei=e=>{switch(e._tag){case"TupleType":{let t=!1,r=[];for(let n of e.elements)n.isOptional&&(t=!0),r.push(n.type);return t&&r.push(kq),r=r.concat(_x(e.rest)),_L.make(r)}case"Refinement":return Ei(e.from);case"Union":return _L.make(e.types.map(Ei));case"Suspend":return Ei(e.f())}throw Error(w8(e))},Ea=(e,t)=>{let r=uJ(e.propertySignatures,e=>e.name===t);if(sN(r))return r.value;if(ns(t)){let r;for(let n of e.indexSignatures){let e=EI(n.parameter);switch(e._tag){case"TemplateLiteral":if(Ee(e).test(t))return new _I(t,n.type,!1,!0);break;case"StringKeyword":void 0===r&&(r=new _I(t,n.type,!1,!0))}}if(r)return r}else if(nc(t)){for(let r of e.indexSignatures)if(_l(EI(r.parameter)))return new _I(t,r.type,!1,!0)}},Es=(e,t)=>{let r=kO(e);if(sN(r))return Es(r.value,t);switch(e._tag){case"TypeLiteral":{let r=Ea(e,t);if(r)return r;break}case"Union":return new _I(t,_L.make(e.types.map(e=>Es(e,t).type)),!1,!0);case"Suspend":return Es(e.f(),t);case"Refinement":return Es(e.from,t)}throw Error(w8(e))},Eo=e=>{let t=kO(e);if(sN(t))return Eo(t.value);switch(e._tag){case"TypeLiteral":return e.propertySignatures.map(e=>e.name);case"Union":return e.types.slice(1).reduce((e,t)=>cE(e,Eo(t)),Eo(e.types[0]));case"Suspend":return Eo(e.f());case"Refinement":return Eo(e.from);case"Transformation":return Eo(e.to)}return[]},El=(e,t)=>{let r=[],n=[],i=e=>{switch(e._tag){case"NeverKeyword":break;case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":case"Refinement":n.push(new _O(e,t,!0));break;case"Literal":if(ns(e.literal)||no(e.literal))r.push(new _I(e.literal,t,!1,!0));else{let t;throw Error((t=e.literal,w3("Unsupported literal",`literal value: ${w0(t)}`)))}break;case"Enums":for(let[n,i]of e.enums)r.push(new _I(i,t,!1,!0));break;case"UniqueSymbol":r.push(new _I(e.symbol,t,!1,!0));break;case"Union":e.types.forEach(i);break;default:throw Error(w3("Unsupported key schema",void 0,void 0,e))}};return i(e),{propertySignatures:r,indexSignatures:n}},Eu=(e,t)=>{let r=kO(e);if(sN(r))return Eu(r.value,t);switch(e._tag){case"TypeLiteral":{let r=[],n={};for(let i of e.propertySignatures)n[i.name]=null,t.includes(i.name)&&r.push(i);for(let i of t)if(!(i in n)){let t=Ea(e,i);t&&r.push(t)}return new _C(r,[])}case"Union":return new _C(t.map(t=>Es(e,t)),[]);case"Suspend":return Eu(e.f(),t);case"Refinement":return Eu(e.from,t);case"Transformation":switch(e.transformation._tag){case"ComposeTransformation":return new _J(Eu(e.from,t),Eu(e.to,t),_X);case"TypeLiteralTransformation":{let r=[],n=[];for(let i of t){let t=e.transformation.propertySignatureTransformations.find(e=>e.to===i);t?(r.push(t),n.push(t.from)):n.push(i)}return uw(r)?new _J(Eu(e.from,n),Eu(e.to,t),new _6(r)):Eu(e.from,n)}}}throw Error(w8(e))},Ec=(e,t)=>{let r=En(e);return r.length>0?(r.some(e=>k5(EI(e.parameter)))&&(r=r.filter(e=>!_S(EI(e.parameter)))),new _C([],r)):Eu(e,Eo(e).filter(e=>!t.includes(e)))},Eh=e=>_L.make([e,kq]),Ef=(e,t)=>{let r=t?.exact===!0;switch(e._tag){case"TupleType":return new _k(e.elements.map(e=>new _w(r?e.type:Eh(e.type),!0)),ul(e.rest,{onEmpty:()=>e.rest,onNonEmpty:e=>[new _v(_L.make([..._x(e),kq]))]}),e.isReadonly);case"TypeLiteral":return new _C(e.propertySignatures.map(e=>new _I(e.name,r?e.type:Eh(e.type),!0,e.isReadonly,e.annotations)),e.indexSignatures.map(e=>new _O(e.parameter,Eh(e.type),e.isReadonly)));case"Union":return _L.make(e.types.map(e=>Ef(e,t)));case"Suspend":return new _B(()=>Ef(e.f(),t));case"Declaration":case"Refinement":throw Error(w8(e));case"Transformation":if(_3(e.transformation)&&e.transformation.propertySignatureTransformations.every(_2))return new _J(Ef(e.from,t),Ef(e.to,t),e.transformation);throw Error(w8(e))}return e},Ed=e=>{switch(e._tag){case"TupleType":return new _k(e.elements.map(e=>new _w(e.type,!1)),e.rest,e.isReadonly);case"TypeLiteral":return new _C(e.propertySignatures.map(e=>new _I(e.name,e.type,!1,e.isReadonly,e.annotations)),e.indexSignatures);case"Union":return _L.make(e.types.map(e=>Ed(e)));case"Suspend":return new _B(()=>Ed(e.f()));case"Declaration":case"Refinement":throw Error(w8(e));case"Transformation":if(_3(e.transformation)&&e.transformation.propertySignatureTransformations.every(_2))return new _J(Ed(e.from),Ed(e.to),e.transformation);throw Error(w8(e))}return e},Ep=e=>{switch(e._tag){case"TupleType":return!1===e.isReadonly?e:new _k(e.elements,e.rest,!1,e.annotations);case"TypeLiteral":{let t=Ev(e.propertySignatures,e=>!1===e.isReadonly?e:new _I(e.name,e.type,e.isOptional,!1,e.annotations)),r=Ev(e.indexSignatures,e=>!1===e.isReadonly?e:new _O(e.parameter,e.type,!1));return t===e.propertySignatures&&r===e.indexSignatures?e:new _C(t,r,e.annotations)}case"Union":{let t=Ev(e.types,Ep);return t===e.types?e:_L.make(t,e.annotations)}case"Suspend":return new _B(()=>Ep(e.f()),e.annotations);case"Refinement":{let t=Ep(e.from);return t===e.from?e:new _q(t,e.filter,e.annotations)}case"Transformation":{let t=Ep(e.from),r=Ep(e.to);return t===e.from&&r===e.to?e:new _J(t,r,e.transformation,e.annotations)}}return e},Em=e=>{let t=(r,n)=>e[r._tag](r,t,n);return t},Eg=e=>t=>{let r;for(let n of e)Object.prototype.hasOwnProperty.call(t.annotations,n)&&(void 0===r&&(r={}),r[n]=t.annotations[n]);return r},Ey=e=>t=>{let r={...t.annotations};for(let t of e)delete r[t];return r},Eb=Eg([x5,x8,x7,x9,ke,kt]),ES=e=>{switch(e._tag){case"Declaration":{let t=Ev(e.typeParameters,ES);return t===e.typeParameters?e:new kD(t,e.decodeUnknown,e.encodeUnknown,e.annotations)}case"TupleType":{let t=Ev(e.elements,e=>{let t=ES(e.type);return t===e.type?e:new _w(t,e.isOptional)}),r=_x(e.rest),n=Ev(r,ES);return t===e.elements&&n===r?e:new _k(t,n.map(e=>new _v(e)),e.isReadonly,e.annotations)}case"TypeLiteral":{let t=Ev(e.propertySignatures,e=>{let t=ES(e.type);return t===e.type?e:new _I(e.name,t,e.isOptional,e.isReadonly)}),r=Ev(e.indexSignatures,e=>{let t=ES(e.type);return t===e.type?e:new _O(e.parameter,t,e.isReadonly)});return t===e.propertySignatures&&r===e.indexSignatures?e:new _C(t,r,e.annotations)}case"Union":{let t=Ev(e.types,ES);return t===e.types?e:_L.make(t,e.annotations)}case"Suspend":return new _B(()=>ES(e.f()),e.annotations);case"Refinement":{let t=ES(e.from);return t===e.from?e:new _q(t,e.filter,e.annotations)}case"Transformation":{let t=Eb(e);return ES(void 0!==t?_4(e.to,t):e.to)}}return e};function Ev(e,t){let r=!1,n=ue(e.length);for(let i=0;i<e.length;i++){let a=e[i],s=t(a);s!==a&&(r=!0),n[i]=s}return r?n:e}let Ew=e=>{switch(e._tag){case"Transformation":return e.from;case"Refinement":return Ew(e.from);case"Suspend":return Ew(e.f())}},Ex=(e,t)=>{switch(e._tag){case"Declaration":{let r=Ev(e.typeParameters,e=>Ex(e,t));return r===e.typeParameters?e:new kD(r,e.decodeUnknown,e.encodeUnknown)}case"TupleType":{let r=Ev(e.elements,e=>{let r=Ex(e.type,t);return r===e.type?e:new _w(r,e.isOptional)}),n=_x(e.rest),i=Ev(n,e=>Ex(e,t));return r===e.elements&&i===n?e:new _k(r,i.map(e=>new _v(e)),e.isReadonly)}case"TypeLiteral":{let r=Ev(e.propertySignatures,e=>{let r=Ex(e.type,t);return r===e.type?e:new _I(e.name,r,e.isOptional,e.isReadonly)}),n=Ev(e.indexSignatures,e=>{let r=Ex(e.type,t);return r===e.type?e:new _O(e.parameter,r,e.isReadonly)});return r===e.propertySignatures&&n===e.indexSignatures?e:new _C(r,n)}case"Union":{let r=Ev(e.types,e=>Ex(e,t));return r===e.types?e:_L.make(r)}case"Suspend":{let r,n=kN(e);if(sN(n)){let e=t?"Bound":"";r={[kA]:`${n.value}Encoded${e}`}}return new _B(()=>Ex(e.f(),t),r)}case"Refinement":{let r=Ex(e.from,t);if(!t)return r;if(r===e.from)return e;if(void 0===Ew(e.from)&&kF(e))return new _q(r,e.filter,e.annotations);return r}case"Transformation":return Ex(e.from,t)}return e},Ek=e=>Ex(e,!1),E_=e=>Ex(e,!0),EE=e=>{let t={};for(let r of Object.getOwnPropertySymbols(e))t[String(r)]=e[r];return t},EI=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return e;case"Refinement":return EI(e.from)}},ET=(e,t)=>{switch(e._tag){case"Literal":return k$(t)&&t.literal===e.literal;case"UniqueSymbol":return kB(t)&&t.symbol===e.symbol;case"UndefinedKeyword":case"VoidKeyword":case"NeverKeyword":case"UnknownKeyword":case"AnyKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":case"ObjectKeyword":return t._tag===e._tag;case"TemplateLiteral":return _S(t)&&t.head===e.head&&EO(t.spans,e.spans);case"Enums":return _d(t)&&EC(t.enums,e.enums);case"Union":return _z(t)&&EF(e.types,t.types);case"Refinement":case"TupleType":case"TypeLiteral":case"Suspend":case"Transformation":case"Declaration":return e===t}},EO=c6((e,t)=>e.literal===t.literal&&ET(e.type,t.type)),EC=c6((e,t)=>t[0]===e[0]&&t[1]===e[1]),EF=c6(ET),EA=c_(ET),EM=e=>{switch(e._tag){case"Declaration":{let t=kO(e);if(sN(t))return EM(t.value);break}case"TypeLiteral":return e.propertySignatures.map(e=>nc(e.name)?new kU(e.name):new kP(e.name)).concat(e.indexSignatures.map(e=>EI(e.parameter)));case"Suspend":return EM(e.f());case"Union":return e.types.slice(1).reduce((e,t)=>EA(e,EM(t)),EM(e.types[0]));case"Transformation":return EM(e.to)}throw Error(w8(e))},EN=(e,t)=>new _J(e,t,_X),ER=(e,t)=>{switch(e._tag){case"TypeLiteral":{let r=[];for(let e of Reflect.ownKeys(t)){let n=t[e];void 0!==n&&r.push(new _1(e,n,rw,rw))}if(0===r.length)return e;return new _J(e,new _C(e.propertySignatures.map(e=>{let r=t[e.name];return new _I(void 0===r?e.name:r,ES(e.type),e.isOptional,e.isReadonly,e.annotations)}),e.indexSignatures),new _6(r))}case"Union":return _L.make(e.types.map(e=>ER(e,t)));case"Suspend":return new _B(()=>ER(e.f(),t));case"Transformation":return EN(e,ER(ES(e),t))}throw Error(w3("Unsupported schema",void 0,void 0,e))},ED=e=>s$(EL(e),()=>e._tag),Ej=e=>km(e).pipe(sz(()=>kb(e)),sz(()=>kg(e)),sQ(t=>t+sR(kh(e),{onNone:()=>"",onSome:e=>e.map(e=>` & Brand<${w0(e)}>`).join("")}))),EL=e=>sz(ky(e),()=>Ej(e)),EP=(e,t,r)=>{switch(e._tag){case"UndefinedKeyword":return kZ;case"Union":{let r=[],n=!1;for(let i of e.types){let e=t(i);e?(n=!0,kQ(e)||r.push(e)):r.push(i)}if(n)return _L.make(r);break}case"Suspend":return t(e.f());case"Transformation":return r(e)}},E$=e=>Ir(EG(e.ast,[]),{maxDepth:2}),Ez=e=>E$(e)(W),EU=e=>{let t={_tag:"StringConstraints",constraints:{}};return no(e.minLength)&&(t.constraints.minLength=e.minLength),no(e.maxLength)&&(t.constraints.maxLength=e.maxLength),ns(e.pattern)&&(t.pattern=e.pattern),t},EB=e=>{let t={_tag:"NumberConstraints",constraints:{},isInteger:e.isInteger??!1};return no(e.min)&&(t.constraints.min=Math.fround(e.min)),nl(e.minExcluded)&&(t.constraints.minExcluded=e.minExcluded),no(e.max)&&(t.constraints.max=Math.fround(e.max)),nl(e.maxExcluded)&&(t.constraints.maxExcluded=e.maxExcluded),nl(e.noNaN)&&(t.constraints.noNaN=e.noNaN),nl(e.noDefaultInfinity)&&(t.constraints.noDefaultInfinity=e.noDefaultInfinity),t},EW=e=>{let t={_tag:"BigIntConstraints",constraints:{}};return nu(e.min)&&(t.constraints.min=e.min),nu(e.max)&&(t.constraints.max=e.max),t},Eq=e=>{let t={_tag:"ArrayConstraints",constraints:{}};return no(e.minLength)&&(t.constraints.minLength=e.minLength),no(e.maxLength)&&(t.constraints.maxLength=e.maxLength),t},EK=e=>{let t={_tag:"DateConstraints",constraints:{}};return nT(e.min)&&(t.constraints.min=e.min),nT(e.max)&&(t.constraints.max=e.max),nl(e.noInvalidDate)&&(t.constraints.noInvalidDate=e.noInvalidDate),t},EV=kc(x9),EJ=r9(Symbol.for("effect/Arbitrary/IdMemoMap"),()=>new Map),EH=0,EG=(S=(e,t)=>{let r=EV(e);return sN(r)?{...t,annotations:[...t.annotations,r.value]}:t},v=(e,t)=>{let r,n,i,[a,s]=(r=kw(e).pipe(ol(nF),sJ),i=sq(n=s$(kf(e),()=>void 0)).pipe(sQ(t=>e.annotations[t]),ol(nF),sJ),[n,{...i,...r}]);switch(e._tag){case"Refinement":{let r=EG(e.from,t);switch(r._tag){case"StringKeyword":return{...r,constraints:[...r.constraints,EU(s)],refinements:[...r.refinements,e]};case"NumberKeyword":{let t=a===xu?EB({noNaN:!0}):a===xc||a===xh?EB({noDefaultInfinity:!0,noNaN:!0}):EB({isInteger:"type"in s&&"integer"===s.type,noNaN:void 0,noDefaultInfinity:void 0,min:s.exclusiveMinimum??s.minimum,minExcluded:"exclusiveMinimum"in s||void 0,max:s.exclusiveMaximum??s.maximum,maxExcluded:"exclusiveMaximum"in s||void 0});return{...r,constraints:[...r.constraints,t],refinements:[...r.refinements,e]}}case"BigIntKeyword":{let t=(e=>{let t=e.annotations[xX];if(nh(t)){let r=e.annotations[t];if(nF(r))return r}})(e);return{...r,constraints:void 0!==t?[...r.constraints,EW(t)]:r.constraints,refinements:[...r.refinements,e]}}case"TupleType":return{...r,constraints:[...r.constraints,Eq({minLength:s.minItems,maxLength:s.maxItems})],refinements:[...r.refinements,e]};case"DateFromSelf":return{...r,constraints:[...r.constraints,EK(s)],refinements:[...r.refinements,e]};default:return{...r,refinements:[...r.refinements,e]}}}case"Declaration":if(a===xn)return{_tag:"DateFromSelf",constraints:[EK(s)],path:t,refinements:[],annotations:[]};return{_tag:"Declaration",typeParameters:e.typeParameters.map(e=>EG(e,t)),path:t,refinements:[],annotations:[],ast:e};case"Literal":return{_tag:"Literal",literal:e.literal,path:t,refinements:[],annotations:[]};case"UniqueSymbol":return{_tag:"UniqueSymbol",symbol:e.symbol,path:t,refinements:[],annotations:[]};case"Enums":return{_tag:"Enums",enums:e.enums,path:t,refinements:[],annotations:[],ast:e};case"TemplateLiteral":return{_tag:"TemplateLiteral",head:e.head,spans:e.spans.map(e=>({description:EG(e.type,t),literal:e.literal})),path:t,refinements:[],annotations:[]};case"StringKeyword":return{_tag:"StringKeyword",constraints:[],path:t,refinements:[],annotations:[]};case"NumberKeyword":return{_tag:"NumberKeyword",constraints:[],path:t,refinements:[],annotations:[]};case"BigIntKeyword":return{_tag:"BigIntKeyword",constraints:[],path:t,refinements:[],annotations:[]};case"TupleType":return{_tag:"TupleType",constraints:[],elements:e.elements.map((e,r)=>({isOptional:e.isOptional,description:EG(e.type,[...t,r])})),rest:e.rest.map((e,r)=>EG(e.type,[...t,r])),path:t,refinements:[],annotations:[]};case"TypeLiteral":return{_tag:"TypeLiteral",propertySignatures:e.propertySignatures.map(e=>({isOptional:e.isOptional,name:e.name,value:EG(e.type,[...t,e.name])})),indexSignatures:e.indexSignatures.map(e=>({parameter:EG(e.parameter,t),value:EG(e.type,t)})),path:t,refinements:[],annotations:[]};case"Union":return{_tag:"Union",members:e.types.map((e,r)=>EG(e,[...t,r])),path:t,refinements:[],annotations:[]};case"Suspend":{let r=EJ.get(e);if(void 0!==r)return{_tag:"Ref",id:r,ast:e,path:t,refinements:[],annotations:[]};EH++;let n=`__id-${EH}__`;return EJ.set(e,n),{_tag:"Suspend",id:n,ast:e,description:()=>EG(e.f(),t),path:t,refinements:[],annotations:[]}}case"Transformation":return EG(e.to,t);case"NeverKeyword":return{_tag:"NeverKeyword",path:t,refinements:[],annotations:[],ast:e};default:return{_tag:"Keyword",value:e._tag,path:t,refinements:[],annotations:[]}}},(e,t)=>S(e,v(e,t)));function EZ(e,t){return void 0===e?t:void 0===t?e:e<=t?t:e}function EQ(e,t){return void 0===e?t:void 0===t||e<=t?e:t}let EY=(e,t)=>void 0===e?t:void 0===t?e:e||t;function EX(e,t){var r,n;return EU({minLength:EZ(e.constraints.minLength,t.constraints.minLength),maxLength:EQ(e.constraints.maxLength,t.constraints.maxLength),pattern:(r=e.pattern,n=t.pattern,void 0===r?n:void 0===n?r:`(?:${r})|(?:${n})`)})}function E0(e){return 0===e.constraints.length?void 0:e.constraints.reduce(EX)}function E1(e,t){return EB({isInteger:e.isInteger||t.isInteger,min:EZ(e.constraints.min,t.constraints.min),minExcluded:EY(e.constraints.minExcluded,t.constraints.minExcluded),max:EQ(e.constraints.max,t.constraints.max),maxExcluded:EY(e.constraints.maxExcluded,t.constraints.maxExcluded),noNaN:EY(e.constraints.noNaN,t.constraints.noNaN),noDefaultInfinity:EY(e.constraints.noDefaultInfinity,t.constraints.noDefaultInfinity)})}function E2(e){return 0===e.constraints.length?void 0:e.constraints.reduce(E1)}function E6(e,t){return EW({min:EZ(e.constraints.min,t.constraints.min),max:EQ(e.constraints.max,t.constraints.max)})}function E3(e){return 0===e.constraints.length?void 0:e.constraints.reduce(E6)}function E4(e,t){return EK({min:EZ(e.constraints.min,t.constraints.min),max:EQ(e.constraints.max,t.constraints.max),noInvalidDate:EY(e.constraints.noInvalidDate,t.constraints.noInvalidDate)})}function E5(e){return 0===e.constraints.length?void 0:e.constraints.reduce(E4)}let E8=Eq({});function E7(e,t){return Eq({minLength:EZ(e.constraints.minLength,t.constraints.minLength),maxLength:EQ(e.constraints.maxLength,t.constraints.maxLength)})}function E9(e){return 0===e.constraints.length?void 0:e.constraints.reduce(E7)}let Ie=r9(Symbol.for("effect/Arbitrary/arbitraryMemoMap"),()=>new WeakMap);function It(e,t){return r=>e.reduce((e,t)=>e.filter(t),t(r))}let Ir=(w=(e,t,r)=>{let n=e.annotations[e.annotations.length-1];if(void 0===n)switch(e._tag){case"Declaration":case"NeverKeyword":let i;throw Error((i=e.path,w3("Missing annotation",'Generating an Arbitrary for this schema requires an "arbitrary" annotation',i,e.ast)));case"Enums":if(0===e.enums.length)throw Error(w3("Empty Enums schema","Generating an Arbitrary for this schema requires at least one enum",e.path))}let a=e.refinements.map(e=>t=>sM(e.filter(t,_V,e)));if(void 0===n)return It(a,r);let s=function(e){switch(e._tag){case"StringKeyword":return E0(e);case"NumberKeyword":return E2(e);case"BigIntKeyword":return E3(e);case"DateFromSelf":return E5(e);case"TupleType":return E9(e)}}(e);return(void 0!==s&&(t={...t,constraints:s}),"Declaration"===e._tag)?It(a,n(...e.typeParameters.map(e=>Ir(e,t)),t)):e.refinements.length>0?It(a,n(r,t)):n(t)},x=(e,t)=>{switch(e._tag){case"DateFromSelf":{let t=E5(e);return e=>e.date(t?.constraints)}case"Declaration":case"NeverKeyword":var r;return r=`BUG: cannot generate an arbitrary for ${e._tag}`,()=>{throw Error(r)};case"Literal":return t=>t.constant(e.literal);case"UniqueSymbol":return t=>t.constant(e.symbol);case"Keyword":switch(e.value){case"UndefinedKeyword":return e=>e.constant(void 0);case"VoidKeyword":case"UnknownKeyword":case"AnyKeyword":return e=>e.anything();case"BooleanKeyword":return e=>e.boolean();case"SymbolKeyword":return e=>e.string().map(e=>Symbol.for(e));case"ObjectKeyword":return e=>e.oneof(e.object(),e.array(e.anything()))}case"Enums":return t=>t.oneof(...e.enums.map(([e,r])=>t.constant(r)));case"TemplateLiteral":return t=>{let r=t.string({maxLength:5}),n=t.float({noDefaultInfinity:!0,noNaN:!0}),i=e=>{let a=""!==e.head?[t.constant(e.head)]:[],s=e=>{switch(e._tag){case"StringKeyword":return r;case"NumberKeyword":return n;case"Literal":return t.constant(String(e.literal));case"Union":return t.oneof(...e.members.map(s));case"TemplateLiteral":return i(e);default:return t.constant("")}};return e.spans.forEach(e=>{a.push(s(e.description)),""!==e.literal&&a.push(t.constant(e.literal))}),t.tuple(...a).map(e=>e.join(""))};return i(e)};case"StringKeyword":{let t=E0(e),r=t?.pattern;return void 0!==r?e=>e.stringMatching(new RegExp(r)):e=>e.string(t?.constraints)}case"NumberKeyword":{let t=E2(e);return t?.isInteger?e=>e.integer(t.constraints):e=>e.float(t?.constraints)}case"BigIntKeyword":{let t=E3(e);return e=>e.bigInt(t?.constraints??{})}case"TupleType":{let r=[],n=!1;for(let i of e.elements)r.push(Ir(i.description,t)),i.isOptional&&(n=!0);let i=e.rest.map(e=>Ir(e,t));return a=>{let s=a.tuple(...r.map(e=>e(a)));if(n){let t=a.tuple(...e.elements.map(e=>e.isOptional?a.boolean():a.constant(!0)));s=s.chain(e=>t.map(t=>{for(let[r,n]of t.reverse().entries())n||e.splice(t.length-r,1);return e}))}if(uw(i)){let r=E9(e)??E8,[n,...o]=i,l=n(a);s=s.chain(e=>{let n=e.length,i=function(e,t){if(0===t||void 0===e.minLength&&void 0===e.maxLength)return e;let r={...e};return void 0!==r.minLength&&(r.minLength=Math.max(r.minLength-t,0)),void 0!==r.maxLength&&(r.maxLength=Math.max(r.maxLength-t,0)),r}(r.constraints,n);if(0===i.maxLength)return a.constant(e);let s=void 0!==t.depthIdentifier?In(a,t.depthIdentifier,t.maxDepth,l,i):a.array(l,i);return 0===n?s:s.map(t=>[...e,...t])});for(let e=0;e<o.length;e++)s=s.chain(t=>o[e](a).map(e=>[...t,e]))}return s}}case"TypeLiteral":{let r=[],n=[];for(let i of e.propertySignatures)i.isOptional||n.push(i.name),r.push(Ir(i.value,t));let i=e.indexSignatures.map(e=>[Ir(e.parameter,t),Ir(e.value,t)]);return a=>{let s={};for(let t=0;t<r.length;t++)s[e.propertySignatures[t].name]=r[t](a);let o=a.record(s,{requiredKeys:n});for(let e=0;e<i.length;e++){let r=i[e][0](a),n=i[e][1](a);o=o.chain(e=>{let i=a.tuple(r,n);return(void 0!==t.depthIdentifier?In(a,t.depthIdentifier,t.maxDepth,i,{maxLength:2}):a.array(i)).map(t=>({...Object.fromEntries(t),...e}))})}return o}}case"Union":{let r=e.members.map(e=>Ir(e,t));return e=>e.oneof(...r.map(t=>t(e)))}case"Suspend":{let r=Ie.get(e.ast);if(r)return r;void 0===t.depthIdentifier&&(t={...t,depthIdentifier:e.id});let n=wQ(()=>Ir(e.description(),t)),i=e=>e.constant(null).chain(()=>n()(e));return Ie.set(e.ast,i),i}case"Ref":{let t=Ie.get(e.ast);if(t)return t;throw Error(`BUG: Ref ${JSON.stringify(e.id)} not found`)}}},(e,t)=>w(e,t,x(e,t))),In=(e,t,r,n,i)=>{let a=Math.max(2,i.minLength??0);return void 0!==i.maxLength&&i.maxLength>a&&(i={...i,maxLength:a}),e.oneof({maxDepth:r,depthIdentifier:t},e.constant([]),e.array(n,i))},Ii=/^[+-]?\d+$/,Ia=Symbol.for("effect/BigDecimal"),Is={[Ia]:Ia,[is](){let e=Ip(this);return rD(io(e.value),iu(id(e.scale)),ib(this))},[iS](e){return Io(e)&&IP(this,e)},toString(){return`BigDecimal(${IK(this)})`},toJSON(){return{_id:"BigDecimal",value:String(this.value),scale:this.scale}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},Io=e=>nw(e,Ia),Il=(e,t)=>{let r=Object.create(Is);return r.value=e,r.scale=t,r},Iu=(e,t)=>{if(e!==Ic&&e%If===Ic)throw RangeError("Value must be normalized");let r=Il(e,t);return r.normalized=r,r},Ic=BigInt(0),Ih=BigInt(1),If=BigInt(10),Id=Iu(Ic,0),Ip=e=>{if(void 0===e.normalized)if(e.value===Ic)e.normalized=Id;else{let t=`${e.value}`,r=0;for(let e=t.length-1;e>=0;e--)if("0"===t[e])r++;else break;0===r&&(e.normalized=e);let n=BigInt(t.substring(0,t.length-r)),i=e.scale-r;e.normalized=Iu(n,i)}return e.normalized},Im=rS(2,(e,t)=>t>e.scale?Il(e.value*If**BigInt(t-e.scale),t):t<e.scale?Il(e.value/If**BigInt(e.scale-t),t):e),Ig=rS(2,(e,t)=>t.value===Ic?e:e.value===Ic?t:e.scale>t.scale?Il(Im(t,e.scale).value+e.value,e.scale):e.scale<t.scale?Il(Im(e,t.scale).value+t.value,t.scale):Il(e.value+t.value,e.scale)),Iy=rS(2,(e,t)=>t.value===Ic||e.value===Ic?Id:Il(e.value*t.value,e.scale+t.scale)),Ib=rS(2,(e,t)=>t.value===Ic?e:e.value===Ic?Il(-t.value,t.scale):e.scale>t.scale?Il(e.value-Im(t,e.scale).value,e.scale):e.scale<t.scale?Il(Im(e,t.scale).value-t.value,t.scale):Il(e.value-t.value,e.scale)),IS=(e,t,r,n)=>{let i=e<Ic,a=t<Ic,s=i!==a;for(e=i?-e:e,t=a?-t:t;e<t;)e*=If,r++;let o=e/t,l=e%t;if(l===Ic)return Il(s?-o:o,r);let u=`${o}`.length;for(l*=If;l!==Ic&&u<n;){let e=l/t,n=l%t;o=o*If+e,l=n*If,u++,r++}return l!==Ic&&(o+=Iv(l/t)),Il(s?-o:o,r)},Iv=e=>{let t=e>=Ic?0:1;return 5>Number(`${e}`[t])?Ic:Ih},Iw=rS(2,(e,t)=>{if(t.value===Ic)return sC();if(e.value===Ic)return sF(Id);let r=e.scale-t.scale;return e.value===t.value?sF(Il(Ih,r)):sF(IS(e.value,t.value,r,100))}),Ix=rS(2,(e,t)=>{if(t.value===Ic)throw RangeError("Division by zero");if(e.value===Ic)return Id;let r=e.scale-t.scale;return e.value===t.value?Il(Ih,r):IS(e.value,t.value,r,100)}),Ik=sr((e,t)=>{let r=si(IM(e),IM(t));return 0!==r?r:e.scale>t.scale?ss(e.value,Im(t,e.scale).value):e.scale<t.scale?ss(Im(e,t.scale).value,t.value):ss(e.value,t.value)}),I_=sv(Ik),IE=sx(Ik),II=sw(Ik),IT=sk(Ik),IO=sT(Ik),IC=sI(Ik),IF=s_(Ik),IA=sE(Ik),IM=e=>e.value===Ic?0:e.value<Ic?-1:1,IN=e=>e.value<Ic?Il(-e.value,e.scale):e,IR=e=>Il(-e.value,e.scale),ID=rS(2,(e,t)=>{if(t.value===Ic)return sC();let r=Math.max(e.scale,t.scale);return sF(Il(Im(e,r).value%Im(t,r).value,r))}),Ij=rS(2,(e,t)=>{if(t.value===Ic)throw RangeError("Division by zero");let r=Math.max(e.scale,t.scale);return Il(Im(e,r).value%Im(t,r).value,r)}),IL=r$((e,t)=>e.scale>t.scale?Im(t,e.scale).value===e.value:e.scale<t.scale?Im(e,t.scale).value===t.value:e.value===t.value),IP=rS(2,(e,t)=>IL(e,t)),I$=e=>Il(e,0),Iz=e=>sG(IB(e),()=>RangeError(`Number must be finite, got ${e}`)),IU=Iz,IB=e=>{if(!Number.isFinite(e))return sC();let t=`${e}`;if(t.includes("e"))return IW(t);let[r,n=""]=t.split(".");return sF(Il(BigInt(`${r}${n}`),n.length))},IW=e=>{let t,r,n,i;if(""===e)return sF(Id);let a=e.search(/[eE]/);if(-1!==a){let n=e.slice(a+1);if(t=e.slice(0,a),r=Number(n),""===t||!Number.isSafeInteger(r)||!Ii.test(n))return sC()}else t=e,r=0;let s=t.search(/\./);if(-1!==s){let e=t.slice(0,s),r=t.slice(s+1);n=`${e}${r}`,i=r.length}else n=t,i=0;if(!Ii.test(n))return sC();let o=i-r;return Number.isSafeInteger(o)?sF(Il(BigInt(n),o)):sC()},Iq=e=>sG(IW(e),()=>Error("Invalid numerical string")),IK=e=>{let t,r,n=Ip(e);if(Math.abs(n.scale)>=16)return IV(n);let i=n.value<Ic,a=i?`${n.value}`.substring(1):`${n.value}`;if(n.scale>=a.length)t="0",r="0".repeat(n.scale-a.length)+a;else{let e=a.length-n.scale;if(e>a.length){let n=e-a.length;t=`${a}${"0".repeat(n)}`,r=""}else r=a.slice(e),t=a.slice(0,e)}let s=""===r?t:`${t}.${r}`;return i?`-${s}`:s},IV=e=>{if(IG(e))return"0e+0";let t=Ip(e),r=`${IN(t).value}`,n=r.slice(0,1),i=r.slice(1),a=`${IZ(t)?"-":""}${n}`;""!==i&&(a+=`.${i}`);let s=i.length-t.scale;return`${a}e${s>=0?"+":""}${s}`},IJ=e=>Number(IK(e)),IH=e=>Ip(e).scale<=0,IG=e=>e.value===Ic,IZ=e=>e.value<Ic,IQ=e=>e.value>Ic,IY=e=>Io(e[0]),IX=rS(IY,(e,t=0)=>{let r=I1(e,t);return IQ(e)&&I_(r,e)?Ig(r,Il(1n,t)):r}),I0=rS(IY,(e,t=0)=>{let r=I1(e,t);return IZ(e)&&II(r,e)?Ig(r,Il(-1n,t)):r}),I1=rS(IY,(e,t=0)=>e.scale<=t?e:Il(e.value/10n**BigInt(e.scale-t),t)),I2=rS(2,(e,t)=>e.scale<t?0n:e.value/10n**BigInt(e.scale-t)%10n),I6=rS(IY,(e,t)=>{let r=t?.mode??"half-from-zero",n=t?.scale??0;switch(r){case"ceil":return IX(e,n);case"floor":return I0(e,n);case"to-zero":return I1(e,n);case"from-zero":return IQ(e)?IX(e,n):I0(e,n);case"half-ceil":return I0(Ig(e,Il(5n,n+1)),n);case"half-floor":return IX(Ig(e,Il(-5n,n+1)),n);case"half-to-zero":return IZ(e)?I0(Ig(e,Il(5n,n+1)),n):IX(Ig(e,Il(-5n,n+1)),n);case"half-from-zero":return IZ(e)?IX(Ig(e,Il(-5n,n+1)),n):I0(Ig(e,Il(5n,n+1)),n)}let i=I0(Ig(e,Il(5n,n+1)),n),a=IX(Ig(e,Il(-5n,n+1)),n),s=I2(i,n);switch(r){case"half-even":return IP(i,a)||s%2n===0n?i:a;case"half-odd":return IP(i,a)?i:s%2n===0n?a:i}}),I3=e=>{let t=Id;for(let r of e)t=Ig(t,r);return t},I4=BigInt(0),I5=BigInt(1),I8=BigInt(2),I7=nu,I9=rS(2,(e,t)=>e+t),Te=rS(2,(e,t)=>e*t),Tt=rS(2,(e,t)=>e-t),Tr=rS(2,(e,t)=>t===I4?sC():sF(e/t)),Tn=rS(2,(e,t)=>e/t),Ti=e=>e+I5,Ta=e=>e-I5,Ts=rK,To=ss,Tl=sv(To),Tu=sx(To),Tc=sw(To),Th=sk(To),Tf=sT(To),Td=sI(To),Tp=s_(To),Tm=sE(To),Tg=e=>To(e,I4),Ty=e=>e<I4?-e:e,Tb=rS(2,(e,t)=>{for(;t!==I4;){let r=t;t=e%t,e=r}return e}),TS=rS(2,(e,t)=>e*t/Tb(e,t)),Tv=e=>{if(e<I4)throw RangeError("Cannot take the square root of a negative number");if(e<I8)return e;let t=e/I8;for(;t*t>e;)t=(e/t+t)/I8;return t},Tw=e=>Th(e,I4)?sF(Tv(e)):sC(),Tx=e=>{let t=I4;for(let r of e)t+=r;return t},Tk=e=>{let t=I5;for(let r of e){if(r===I4)return I4;t*=r}return t},T_=e=>e>BigInt(Number.MAX_SAFE_INTEGER)||e<BigInt(Number.MIN_SAFE_INTEGER)?sC():sF(Number(e)),TE=e=>{try{return""===e.trim()?sC():sF(BigInt(e))}catch{return sC()}},TI=e=>{if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)return sC();try{return sF(BigInt(e))}catch{return sC()}},TT=nl,TO=rS(2,(e,t)=>e?t.onTrue():t.onFalse()),TC=rq,TF=sa,TA=e=>!e,TM=rS(2,(e,t)=>e&&t),TN=rS(2,(e,t)=>!(e&&t)),TR=rS(2,(e,t)=>e||t),TD=rS(2,(e,t)=>!(e||t)),Tj=rS(2,(e,t)=>!e&&t||e&&!t),TL=rS(2,(e,t)=>!Tj(e,t)),TP=rS(2,(e,t)=>!e||t),T$=e=>{for(let t of e)if(!t)return!1;return!0},Tz=e=>{for(let t of e)if(t)return!0;return!1},TU=Symbol.for("effect/Brand"),TB=Symbol.for("effect/Brand/Refined"),TW=(e,t)=>[{message:e,meta:t}],Tq=(...e)=>cM(e);function TK(...e){let t=2===e.length?t=>e[0](t)?aI(t):aO(e[1](t)):t=>sR(e[0](t),{onNone:()=>aI(t),onSome:aO});return Object.assign(e=>aH(t(e),rw),{[TB]:TB,option:e=>sL(t(e)),either:t,is:e=>aR(t(e))})}let TV=()=>Object.assign(e=>e,{[TB]:TB,option:e=>sF(e),either:e=>aI(e),is:e=>!0}),TJ=(...e)=>{let t=t=>{let r=aI(t);for(let n of e){let e=n.either(t);r=aN(r)&&aN(e)?aO([...r.left,...e.left]):aN(r)?r:e}return r};return Object.assign(e=>aU(t(e),{onLeft:e=>{throw e},onRight:rw}),{[TB]:TB,option:e=>sL(t(e)),either:t,is:e=>aR(t(e))})},TH=rk,TG=Symbol.for("effect/Context/Tag"),TZ=Symbol.for("effect/Context/Reference"),TQ=Symbol.for("effect/STM"),TY={...i8,_op:"Tag",[TQ]:i5,[TG]:{_Service:e=>e,_Identifier:e=>e},toString(){return iI(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[i_](){return this.toJSON()},of:e=>e,context(e){return T5(this,e)}},TX={...TY,[TZ]:TZ},T0=Symbol.for("effect/Context"),T1={[T0]:{_Services:e=>e},[iS](e){if(T6(e)&&this.unsafeMap.size===e.unsafeMap.size){for(let t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!iv(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[is](){return ib(this,id(this.unsafeMap.size))},pipe(){return ij(this,arguments)},toString(){return iI(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(iE)}},[i_](){return this.toJSON()}},T2=e=>{let t=Object.create(T1);return t.unsafeMap=e,t},T6=e=>nw(e,T0),T3=e=>nw(e,TZ),T4=T2(new Map),T5=(e,t)=>T2(new Map([[e.key,t]])),T8=rS(3,(e,t,r)=>{let n=new Map(e.unsafeMap);return n.set(t.key,r),T2(n)}),T7=r9("effect/Context/defaultValueCache",()=>new Map),T9=e=>{if(T7.has(e.key))return T7.get(e.key);let t=e.defaultValue();return T7.set(e.key,t),t},Oe=rS(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(TZ in t)return T9(t);throw(e=>{let t=Error(`Service not found${e.key?`: ${String(e.key)}`:""}`);if(e.stack){let r=e.stack.split("\n");if(r.length>2){let e=r[2].match(/at (.*)/);e&&(t.message=t.message+` (defined at ${e[1]})`)}}if(t.stack){let e=t.stack.split("\n");e.splice(1,3),t.stack=e.join("\n")}return t})(t)}return e.unsafeMap.get(t.key)}),Ot=rS(3,(e,t,r)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):T3(t)?T9(t):r()),Or=rS(2,(e,t)=>e.unsafeMap.has(t.key)?af(e.unsafeMap.get(t.key)):T3(t)?af(T9(t)):ah),On=rS(2,(e,t)=>{let r=new Map(e.unsafeMap);for(let[e,n]of t.unsafeMap)r.set(e,n);return T2(r)}),Oi=TG,Oa=TZ,Os=e=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=Error();Error.stackTraceLimit=t;let n=Object.create(TY);return Object.defineProperty(n,"stack",{get:()=>r.stack}),n.key=e,n},Oo=T2,Ol=T6,Ou=e=>nw(e,TG),Oc=T3,Oh=()=>T4,Of=T5,Od=T8,Op=Oe,Om=Ot,Og=Oe,Oy=Or,Ob=On,OS=(...e)=>{let t=new Map;for(let r of e)for(let[e,n]of r.unsafeMap)t.set(e,n);return T2(t)},Ov=(...e)=>t=>{let r=new Set(e.map(e=>e.key)),n=new Map;for(let[e,i]of t.unsafeMap.entries())r.has(e)&&n.set(e,i);return T2(n)},Ow=(...e)=>t=>{let r=new Map(t.unsafeMap);for(let t of e)r.delete(t.key);return T2(r)},Ox=e=>()=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=Error();function n(){}return Error.stackTraceLimit=t,Object.setPrototypeOf(n,TY),n.key=e,Object.defineProperty(n,"stack",{get:()=>r.stack}),n},Ok=()=>(e,t)=>{let r=Error.stackTraceLimit;Error.stackTraceLimit=2;let n=Error();function i(){}return Error.stackTraceLimit=r,Object.setPrototypeOf(i,TX),i.key=e,i.defaultValue=t.defaultValue,Object.defineProperty(i,"stack",{get:()=>n.stack}),i},O_=Symbol.for("effect/Chunk"),OE=[],OI=e=>r$((t,r)=>t.length===r.length&&OP(t).every((t,n)=>e(t,OW(r,n)))),OT=OI(iv),OO={[O_]:{_A:e=>e},toString(){return iI(this.toJSON())},toJSON(){return{_id:"Chunk",values:OP(this).map(iE)}},[i_](){return this.toJSON()},[iS](e){return OF(e)&&OT(this,e)},[is](){return ib(this,iy(OP(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return OE[Symbol.iterator]();default:return OP(this)[Symbol.iterator]()}},pipe(){return ij(this,arguments)}},OC=e=>{let t=Object.create(OO);switch(t.backing=e,e._tag){case"IEmpty":t.length=0,t.depth=0,t.left=t,t.right=t;break;case"IConcat":t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break;case"IArray":t.length=e.array.length,t.depth=0,t.left=OA,t.right=OA;break;case"ISingleton":t.length=1,t.depth=0,t.left=OA,t.right=OA;break;case"ISlice":t.length=e.length,t.depth=e.chunk.depth+1,t.left=OA,t.right=OA}return t},OF=e=>nw(e,O_),OA=OC({_tag:"IEmpty"}),OM=()=>OA,ON=(...e)=>OB(e),OR=e=>OC({_tag:"ISingleton",a:e}),OD=e=>OF(e)?e:OU(ui(e)),Oj=(e,t,r)=>{switch(e.backing._tag){case"IArray":!function(e,t,r,n,i){for(let t=0;t<Math.min(e.length,0+i);t++)r[n+t-0]=e[t]}(e.backing.array,0,t,r,e.length);break;case"IConcat":Oj(e.left,t,r),Oj(e.right,t,r+e.left.length);break;case"ISingleton":t[r]=e.backing.a;break;case"ISlice":{let n=0,i=r;for(;n<e.length;)t[i]=OW(e,n),n+=1,i+=1}}},OL=e=>OP(e).slice(),OP=e=>{switch(e.backing._tag){case"IEmpty":return OE;case"IArray":return e.backing.array;default:{let t=Array(e.length);return Oj(e,t,0),e.backing={_tag:"IArray",array:t},e.left=OA,e.right=OA,e.depth=0,t}}},O$=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return OC({_tag:"IArray",array:u3(e.backing.array)});case"IConcat":return OC({_tag:"IConcat",left:O$(e.backing.right),right:O$(e.backing.left)});case"ISlice":return OU(u3(OP(e)))}},Oz=rS(2,(e,t)=>t<0||t>=e.length?sC():sF(OW(e,t))),OU=e=>0===e.length?OM():1===e.length?OR(e[0]):OC({_tag:"IArray",array:e}),OB=e=>OU(e),OW=rS(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw Error("Index out of bounds");case"ISingleton":if(0!==t)throw Error("Index out of bounds");return e.backing.a;case"IArray":if(t>=e.length||t<0)throw Error("Index out of bounds");return e.backing.array[t];case"IConcat":return t<e.left.length?OW(e.left,t):OW(e.right,t-e.left.length);case"ISlice":return OW(e.backing.chunk,t+e.backing.offset)}}),Oq=rS(2,(e,t)=>OQ(e,OR(t))),OK=rS(2,(e,t)=>OQ(OR(t),e)),OV=rS(2,(e,t)=>{if(t<=0)return OA;if(t>=e.length)return e;switch(e.backing._tag){case"ISlice":return OC({_tag:"ISlice",chunk:e.backing.chunk,length:t,offset:e.backing.offset});case"IConcat":if(t>e.left.length)return OC({_tag:"IConcat",left:e.left,right:OV(e.right,t-e.left.length)});return OV(e.left,t);default:return OC({_tag:"ISlice",chunk:e,offset:0,length:t})}}),OJ=rS(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return OA;switch(e.backing._tag){case"ISlice":return OC({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":if(t>e.left.length)return OJ(e.right,t-e.left.length);return OC({_tag:"IConcat",left:OJ(e.left,t),right:e.right});default:return OC({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),OH=rS(2,(e,t)=>OV(e,Math.max(0,e.length-t))),OG=rS(2,(e,t)=>{let r=OP(e),n=r.length,i=0;for(;i<n&&t(r[i]);)i++;return OJ(e,i)}),OZ=rS(2,(e,t)=>OQ(t,e)),OQ=rS(2,(e,t)=>{if("IEmpty"===e.backing._tag)return t;if("IEmpty"===t.backing._tag)return e;let r=t.depth-e.depth;if(1>=Math.abs(r))return OC({_tag:"IConcat",left:e,right:t});if(r<-1)if(e.left.depth>=e.right.depth){let r=OQ(e.right,t);return OC({_tag:"IConcat",left:e.left,right:r})}else{let r=OQ(e.right.right,t);if(r.depth===e.depth-3){let t=OC({_tag:"IConcat",left:e.right.left,right:r});return OC({_tag:"IConcat",left:e.left,right:t})}{let t=OC({_tag:"IConcat",left:e.left,right:e.right.left});return OC({_tag:"IConcat",left:t,right:r})}}if(t.right.depth>=t.left.depth)return OC({_tag:"IConcat",left:OQ(e,t.left),right:t.right});{let r=OQ(e,t.left.left);if(r.depth===t.depth-3){let e=OC({_tag:"IConcat",left:r,right:t.left.right});return OC({_tag:"IConcat",left:e,right:t.right})}{let e=OC({_tag:"IConcat",left:t.left.right,right:t.right});return OC({_tag:"IConcat",left:r,right:e})}}}),OY=rS(2,(e,t)=>OU(cN(e,t))),OX=rS(2,(e,t)=>OU(c$(e,t))),O0=rS(2,(e,t)=>OU(cR(e,t))),O1=e=>OY(e,rw),O2=rS(2,(e,t)=>{if("ISingleton"===e.backing._tag)return t(e.backing.a,0);let r=OA,n=0;for(let i of e)r=OQ(r,t(i,n++));return r}),O6=rS(2,(e,t)=>OP(e).forEach(t)),O3=O2(rw),O4=rS(2,(e,t)=>{let r=[],n=[];return OP(e).forEach(e=>{n.push(e),n.length>=t&&(r.push(OU(n)),n=[])}),n.length>0&&r.push(OU(n)),OU(r)}),O5=rS(2,(e,t)=>OU(cE(OP(e),OP(t)))),O8=e=>0===e.length,O7=e=>e.length>0,O9=Oz(0),Ce=e=>OW(e,0),Ct=Ce,Cr=e=>Oz(e,e.length-1),Cn=e=>OW(e,e.length-1),Ci=Cn,Ca=rS(2,(e,t)=>"ISingleton"===e.backing._tag?OR(t(e.backing.a,0)):OU(rD(OP(e),cF((e,r)=>t(e,r))))),Cs=rS(3,(e,t,r)=>{let[n,i]=he(e,t,r);return[n,OU(i)]}),Co=rS(2,(e,t)=>rD(cz(OP(e),t),([e,t])=>[OU(e),OU(t)])),Cl=rS(2,(e,t)=>rD(cD(OP(e),t),([e,t])=>[OU(e),OU(t)])),Cu=e=>rD(cU(OP(e)),([e,t])=>[OU(e),OU(t)]),Cc=e=>e.length,Ch=rS(2,(e,t)=>OU(u4(OP(e),t))),Cf=rS(3,(e,t,r)=>Ch(e,sf(r,t))),Cd=rS(2,(e,t)=>[OV(e,t),OJ(e,t)]),Cp=rS(2,(e,t)=>{let r=Math.max(1,Math.floor(t));return r>=e.length?[e,OM()]:[OV(e,r),OJ(e,r)]}),Cm=rS(2,(e,t)=>O4(e,Math.ceil(e.length/Math.floor(t)))),Cg=rS(2,(e,t)=>{let r=0;for(let n of OP(e))if(t(n))break;else r++;return Cd(e,r)}),Cy=e=>e.length>0?sF(OJ(e,1)):sC(),Cb=e=>OJ(e,1),CS=rS(2,(e,t)=>OJ(e,e.length-t)),Cv=rS(2,(e,t)=>{let r=[];for(let n of OP(e))if(t(n))r.push(n);else break;return OU(r)}),Cw=rS(2,(e,t)=>OU(ck(OP(e),OP(t)))),Cx=e=>OU(c5(OP(e))),Ck=e=>OU(c7(e)),C_=e=>{let[t,r]=ce(e);return[OU(t),OU(r)]},CE=rS(3,(e,t,r)=>OU(u9(e,t,r))),CI=rS(2,(e,t)=>CE(e,t,(e,t)=>[e,t])),CT=rS(2,(e,t)=>t<0||t>=e.length?e:OU(u2(OP(e),t))),CO=rS(2,(e,t)=>t<0||t>=e.length?sC():sF(OU(u2(OP(e),t)))),CC=rS(3,(e,t,r)=>t<0||t>=e.length?sC():sF(OU(u0(OP(e),t,r)))),CF=rS(3,(e,t,r)=>s$(CC(e,t,r),()=>e)),CA=rS(3,(e,t,r)=>CF(e,t,()=>r)),CM=rS(3,(e,t,r)=>CC(e,t,()=>r)),CN=rS(2,(e,t)=>OD(ut(e,t))),CR=(e,t)=>e<=t?CN(t-e+1,t=>e+t):OR(e),CD=cu,Cj=co,CL=uJ,CP=uK,C$=uH,Cz=uV,CU=rS(2,(e,t)=>ui(e).every(t)),CB=rS(2,(e,t)=>ui(e).some(t)),CW=c9,Cq=cB,CK=cW,CV=e=>rS(2,(t,r)=>OU(cI(e)(r,t))),CJ=rS(2,(e,t)=>OU(cT(t,e))),CH=Symbol.for("effect/Duration"),CG=BigInt(0),CZ=BigInt(24),CQ=BigInt(60),CY=BigInt(1e3),CX=BigInt(1e6),C0=BigInt(1e9),C1=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,C2=e=>{if(C7(e))return e;if(no(e))return Fa(e);if(nu(e))return Fn(e);if(Array.isArray(e)&&2===e.length&&e.every(no))return e[0]===-1/0||e[1]===-1/0||Number.isNaN(e[0])||Number.isNaN(e[1])?Ft:e[0]===1/0||e[1]===1/0?Fr:Fn(BigInt(Math.round(1e9*e[0]))+BigInt(Math.round(e[1])));if(ns(e)){let t=C1.exec(e);if(t){let[e,r,n]=t,i=Number(r);switch(n){case"nano":case"nanos":return Fn(BigInt(r));case"micro":case"micros":return Fi(BigInt(r));case"milli":case"millis":return Fa(i);case"second":case"seconds":return Fs(i);case"minute":case"minutes":return Fo(i);case"hour":case"hours":return Fl(i);case"day":case"days":return Fu(i);case"week":case"weeks":return Fc(i)}}}throw Error("Invalid DurationInput")},C6=sH(C2),C3={_tag:"Millis",millis:0},C4={_tag:"Infinity"},C5={[CH]:CH,[is](){return ib(this,ig(this.value))},[iS](e){return C7(e)&&Fz(this,e)},toString(){return`Duration(${FB(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:FS(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},C8=e=>{let t=Object.create(C5);return no(e)?isNaN(e)||e<=0?t.value=C3:Number.isFinite(e)?Number.isInteger(e)?t.value={_tag:"Millis",millis:e}:t.value={_tag:"Nanos",nanos:BigInt(Math.round(1e6*e))}:t.value=C4:e<=CG?t.value=C3:t.value={_tag:"Nanos",nanos:e},t},C7=e=>nw(e,CH),C9=e=>"Infinity"!==e.value._tag,Fe=e=>{switch(e.value._tag){case"Millis":return 0===e.value.millis;case"Nanos":return e.value.nanos===CG;case"Infinity":return!1}},Ft=C8(0),Fr=C8(1/0),Fn=e=>C8(e),Fi=e=>C8(e*CY),Fa=e=>C8(e),Fs=e=>C8(1e3*e),Fo=e=>C8(6e4*e),Fl=e=>C8(36e5*e),Fu=e=>C8(864e5*e),Fc=e=>C8(6048e5*e),Fh=e=>Fv(e,{onMillis:e=>e,onNanos:e=>Number(e)/1e6}),Ff=e=>Fv(e,{onMillis:e=>e/1e3,onNanos:e=>Number(e)/1e9}),Fd=e=>Fv(e,{onMillis:e=>e/6e4,onNanos:e=>Number(e)/6e10}),Fp=e=>Fv(e,{onMillis:e=>e/36e5,onNanos:e=>Number(e)/36e11}),Fm=e=>Fv(e,{onMillis:e=>e/864e5,onNanos:e=>Number(e)/864e11}),Fg=e=>Fv(e,{onMillis:e=>e/6048e5,onNanos:e=>Number(e)/6048e11}),Fy=e=>{let t=C2(e);switch(t.value._tag){case"Infinity":return sC();case"Nanos":return sF(t.value.nanos);case"Millis":return sF(BigInt(Math.round(1e6*t.value.millis)))}},Fb=e=>{let t=C2(e);switch(t.value._tag){case"Infinity":throw Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(1e6*t.value.millis))}},FS=e=>{let t=C2(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/C0),Number(t.value.nanos%C0)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},Fv=rS(2,(e,t)=>{let r=C2(e);switch(r.value._tag){case"Nanos":return t.onNanos(r.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(r.value.millis)}}),Fw=rS(3,(e,t,r)=>{let n=C2(e),i=C2(t);if("Infinity"===n.value._tag||"Infinity"===i.value._tag)return r.onMillis(Fh(n),Fh(i));if("Nanos"===n.value._tag||"Nanos"===i.value._tag){let e="Nanos"===n.value._tag?n.value.nanos:BigInt(Math.round(1e6*n.value.millis)),t="Nanos"===i.value._tag?i.value.nanos:BigInt(Math.round(1e6*i.value.millis));return r.onNanos(e,t)}return r.onMillis(n.value.millis,i.value.millis)}),Fx=sr((e,t)=>Fw(e,t,{onMillis:(e,t)=>e<t?-1:+(e>t),onNanos:(e,t)=>e<t?-1:+(e>t)})),Fk=sT(sf(Fx,C2)),F_=(e,t)=>Fw(e,t,{onMillis:(e,t)=>e===t,onNanos:(e,t)=>e===t}),FE=s_(Fx),FI=rS(2,(e,t)=>FE(C2(e),C2(t))),FT=sE(Fx),FO=rS(2,(e,t)=>FT(C2(e),C2(t))),FC=sI(Fx),FF=rS(2,(e,t)=>FC(C2(e),{minimum:C2(t.minimum),maximum:C2(t.maximum)})),FA=rS(2,(e,t)=>Fv(e,{onMillis:e=>0===t||isNaN(t)||!Number.isFinite(t)?sC():sF(C8(e/t)),onNanos:e=>{if(isNaN(t)||t<=0||!Number.isFinite(t))return sC();try{return sF(C8(e/BigInt(t)))}catch{return sC()}}})),FM=rS(2,(e,t)=>Fv(e,{onMillis:e=>C8(e/t),onNanos:e=>isNaN(t)||t<0||Object.is(t,-0)?Ft:Object.is(t,0)||!Number.isFinite(t)?Fr:C8(e/BigInt(t))})),FN=rS(2,(e,t)=>Fv(e,{onMillis:e=>C8(e*t),onNanos:e=>C8(e*BigInt(t))})),FR=rS(2,(e,t)=>Fw(e,t,{onMillis:(e,t)=>C8(e-t),onNanos:(e,t)=>C8(e-t)})),FD=rS(2,(e,t)=>Fw(e,t,{onMillis:(e,t)=>C8(e+t),onNanos:(e,t)=>C8(e+t)})),Fj=rS(2,(e,t)=>Fw(e,t,{onMillis:(e,t)=>e<t,onNanos:(e,t)=>e<t})),FL=rS(2,(e,t)=>Fw(e,t,{onMillis:(e,t)=>e<=t,onNanos:(e,t)=>e<=t})),FP=rS(2,(e,t)=>Fw(e,t,{onMillis:(e,t)=>e>t,onNanos:(e,t)=>e>t})),F$=rS(2,(e,t)=>Fw(e,t,{onMillis:(e,t)=>e>=t,onNanos:(e,t)=>e>=t})),Fz=rS(2,(e,t)=>F_(C2(e),C2(t))),FU=e=>{let t=C2(e);if("Infinity"===t.value._tag)return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};let r=Fb(t),n=r/CX,i=n/CY,a=i/CQ,s=a/CQ;return{days:Number(s/CZ),hours:Number(s%CZ),minutes:Number(a%CQ),seconds:Number(i%CQ),millis:Number(n%CY),nanos:Number(r%CX)}},FB=e=>{let t=C2(e);if("Infinity"===t.value._tag)return"Infinity";if(Fe(t))return"0";let r=FU(t),n=[];return 0!==r.days&&n.push(`${r.days}d`),0!==r.hours&&n.push(`${r.hours}h`),0!==r.minutes&&n.push(`${r.minutes}m`),0!==r.seconds&&n.push(`${r.seconds}s`),0!==r.millis&&n.push(`${r.millis}ms`),0!==r.nanos&&n.push(`${r.nanos}ns`),n.join(" ")},FW=e=>{let t=C2(e);if(!C9(t))throw RangeError("Cannot format infinite duration");let r=[],{days:n,hours:i,millis:a,minutes:s,nanos:o,seconds:l}=FU(t),u=n;if(u>=365){let e=Math.floor(u/365);u%=365,r.push(`${e}Y`)}if(u>=30){let e=Math.floor(u/30);u%=30,r.push(`${e}M`)}if(u>=7){let e=Math.floor(u/7);u%=7,r.push(`${e}W`)}if(u>0&&r.push(`${u}D`),(0!==i||0!==s||0!==l||0!==a||0!==o)&&(r.push("T"),0!==i&&r.push(`${i}H`),0!==s&&r.push(`${s}M`),0!==l||0!==a||0!==o)){let e=(Number(BigInt(l)*C0+BigInt(a)*CX+BigInt(o))/1e9).toFixed(9).replace(/\.?0+$/,"");r.push(`${e}S`)}return`P${r.join("")||"T0S"}`},Fq=e=>{let t=C2(e);return C9(t)?sF(FW(t)):sC()},FK=e=>{let t=FV.exec(e);if(null==t)return sC();let[r,n,i,a,s,o,l]=t.slice(1,8).map(e=>e?Number(e):0);return sF(Fs(365*r*86400+30*n*86400+7*i*86400+24*a*3600+60*s*60+60*o+l))},FV=/^P(?!$)(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?(?:T(?!$)(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?)?$/;function FJ(e,t){var r;return r=e&t-1,r-=r>>1&0x55555555,r=(r=(0x33333333&r)+(r>>2&0x33333333))+(r>>4)&0xf0f0f0f,r+=r>>8,127&(r+=r>>16)}let FH=(e,t)=>({value:e,previous:t});function FG(e,t,r,n){let i=n;if(!e){let e=n.length;i=Array(e);for(let t=0;t<e;++t)i[t]=n[t]}return i[t]=r,i}function FZ(e,t,r){let n=r.length-1,i=0,a=0,s=r;if(e)i=a=t;else for(s=Array(n);i<t;)s[a++]=r[i++];for(++i;i<=n;)s[a++]=r[i++];return e&&(s.length=n),s}class FQ{_tag="EmptyNode";modify(e,t,r,n,i,a){let s=r(sC());return sM(s)?new FQ:(++a.value,new F0(e,n,i,s))}}function FY(e){return nx(e,"EmptyNode")}function FX(e,t){return!FY(e)&&t===e.edit}class F0{edit;hash;key;value;_tag="LeafNode";constructor(e,t,r,n){this.edit=e,this.hash=t,this.key=r,this.value=n}modify(e,t,r,n,i,a){if(iv(i,this.key)){let t=r(this.value);return t===this.value?this:sM(t)?(--a.value,new FQ):FX(this,e)?(this.value=t,this):new F0(e,n,i,t)}let s=r(sC());return sM(s)?this:(++a.value,F3(e,t,this.hash,this,n,new F0(e,n,i,s)))}}class F1{edit;hash;children;_tag="CollisionNode";constructor(e,t,r){this.edit=e,this.hash=t,this.children=r}modify(e,t,r,n,i,a){if(n===this.hash){let t=FX(this,e),n=this.updateCollisionList(t,e,this.hash,this.children,r,i,a);return n===this.children?this:n.length>1?new F1(e,this.hash,n):n[0]}let s=r(sC());return sM(s)?this:(++a.value,F3(e,t,this.hash,this,n,new F0(e,n,i,s)))}updateCollisionList(e,t,r,n,i,a,s){let o=n.length;for(let l=0;l<o;++l){let o=n[l];if("key"in o&&iv(a,o.key)){let u=o.value,c=i(u);if(c===u)return n;if(sM(c))return--s.value,FZ(e,l,n);return FG(e,l,new F0(t,r,a,c),n)}}let l=i(sC());return sM(l)?n:(++s.value,FG(e,o,new F0(t,r,a,l),n))}}class F2{edit;mask;children;_tag="IndexedNode";constructor(e,t,r){this.edit=e,this.mask=t,this.children=r}modify(e,t,r,n,i,a){let s,o=this.mask,l=this.children,u=n>>>t&31,c=1<<u,h=FJ(o,c),f=o&c,d=FX(this,e);if(!f){let s=new FQ().modify(e,t+5,r,n,i,a);return s?l.length>=16?function(e,t,r,n,i){let a=[],s=n,o=0;for(let e=0;s;++e)1&s&&(a[e]=i[o++]),s>>>=1;return a[t]=r,new F6(e,o+1,a)}(e,u,s,o,l):new F2(e,o|c,function(e,t,r,n){let i=n.length;if(e){let e=i;for(;e>=t;)n[e--]=n[e];return n[t]=r,n}let a=0,s=0,o=Array(i+1);for(;a<t;)o[s++]=n[a++];for(o[t]=r;a<i;)o[++s]=n[a++];return o}(d,h,s,l)):this}let p=l[h],m=p.modify(e,t+5,r,n,i,a);if(p===m)return this;let g=o;if(FY(m)){var y;if(!(g&=~c))return new FQ;if(l.length<=2&&(FY(y=l[1^h])||"LeafNode"===y._tag||"CollisionNode"===y._tag))return l[1^h];s=FZ(d,h,l)}else s=FG(d,h,m,l);return d?(this.mask=g,this.children=s,this):new F2(e,g,s)}}class F6{edit;size;children;_tag="ArrayNode";constructor(e,t,r){this.edit=e,this.size=t,this.children=r}modify(e,t,r,n,i,a){let s,o=this.size,l=this.children,u=n>>>t&31,c=l[u],h=(c||new FQ).modify(e,t+5,r,n,i,a);if(c===h)return this;let f=FX(this,e);if(FY(c)&&!FY(h))++o,s=FG(f,u,h,l);else if(!FY(c)&&FY(h)){if(--o<=8)return function(e,t,r,n){let i=Array(t-1),a=0,s=0;for(let e=0,t=n.length;e<t;++e)if(e!==r){let t=n[e];t&&!FY(t)&&(i[a++]=t,s|=1<<e)}return new F2(e,s,i)}(e,o,u,l);s=FG(f,u,new FQ,l)}else s=FG(f,u,h,l);return f?(this.size=o,this.children=s,this):new F6(e,o,s)}}function F3(e,t,r,n,i,a){let s,o=t;for(;;){let t=function(e,t,r,n,i,a){if(r===i)return new F1(e,r,[a,n]);let s=r>>>t&31,o=i>>>t&31;return s===o?t=>new F2(e,1<<s|1<<o,[t]):new F2(e,1<<s|1<<o,s<o?[n,a]:[a,n])}(e,o,r,n,i,a);if("function"==typeof t)s=FH(t,s),o+=5;else{let e=t;for(;null!=s;)e=s.value(e),s=s.previous;return e}}}let F4="effect/HashMap",F5=Symbol.for(F4),F8={[F5]:F5,[Symbol.iterator](){return new F9(this,(e,t)=>[e,t])},[is](){let e=io(F4);for(let t of this)e^=rD(io(t[0]),iu(io(t[1])));return ib(this,e)},[iS](e){if(As(e)){if(e._size!==this._size)return!1;for(let t of this){let r=rD(e,Al(t[0],io(t[0])));if(sM(r)||!iv(t[1],r.value))return!1}return!0}return!1},toString(){return iI(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(iE)}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},F7=(e,t,r,n)=>{let i=Object.create(F8);return i._editable=e,i._edit=t,i._root=r,i._size=n,i};class F9{map;f;v;constructor(e,t){this.map=e,this.f=t,this.v=At(this.map._root,this.f,void 0)}next(){if(sM(this.v))return{done:!0,value:void 0};let e=this.v.value;return this.v=Ae(e.cont),{done:!1,value:e.value}}[Symbol.iterator](){return new F9(this.map,this.f)}}let Ae=e=>e?Ar(e[0],e[1],e[2],e[3],e[4]):sC(),At=(e,t,r)=>{switch(e._tag){case"LeafNode":if(sN(e.value))return sF({value:t(e.key,e.value.value),cont:r});return Ae(r);case"CollisionNode":case"ArrayNode":case"IndexedNode":{let n=e.children;return Ar(n.length,n,0,t,r)}default:return Ae(r)}},Ar=(e,t,r,n,i)=>{for(;r<e;){let a=t[r++];if(a&&!FY(a))return At(a,n,[e,t,r,n,i])}return Ae(i)},An=F7(!1,0,new FQ,0),Ai=()=>An,Aa=e=>{let t=Ab(Ai());for(let r of e)Ad(t,r[0],r[1]);return AS(t)},As=e=>nw(e,F5),Ao=rS(2,(e,t)=>Al(e,t,io(t))),Al=rS(3,(e,t,r)=>{let n=e._root,i=0;for(;;)switch(n._tag){case"LeafNode":return iv(t,n.key)?n.value:sC();case"CollisionNode":if(r===n.hash){let e=n.children;for(let r=0,n=e.length;r<n;++r){let n=e[r];if("key"in n&&iv(t,n.key))return n.value}}return sC();case"IndexedNode":{let e=1<<(r>>>i&31);if(n.mask&e){n=n.children[FJ(n.mask,e)],i+=5;break}return sC()}case"ArrayNode":if(n=n.children[r>>>i&31]){i+=5;break}return sC();default:return sC()}}),Au=rS(2,(e,t)=>{let r=Al(e,t,io(t));if(sM(r))throw Error("Expected map to contain key");return r.value}),Ac=rS(2,(e,t)=>sN(Al(e,t,io(t)))),Ah=rS(3,(e,t,r)=>sN(Al(e,t,r))),Af=rS(2,(e,t)=>sN(AN(e,t))),Ad=rS(3,(e,t,r)=>Aw(e,t,()=>sF(r))),Ap=rS(3,(e,t,r)=>e._editable?(e._root=t,e._size=r,e):t===e._root?e:F7(e._editable,e._edit,t,r)),Am=e=>new F9(e,e=>e),Ag=e=>e._size,Ay=rS(2,(e,t)=>{let r=0;for(let[n,i]of e)t(i,n)&&r++;return r}),Ab=e=>F7(!0,e._edit+1,e._root,e._size),AS=e=>(e._editable=!1,e),Av=rS(2,(e,t)=>{let r=Ab(e);return t(r),AS(r)}),Aw=rS(3,(e,t,r)=>Ax(e,t,io(t),r)),Ax=rS(4,(e,t,r,n)=>{let i={value:e._size},a=e._root.modify(e._editable?e._edit:NaN,0,n,r,t,i);return rD(e,Ap(a,i.value))}),Ak=rS(3,(e,t,r)=>Aw(e,t,sQ(r))),A_=rS(2,(e,t)=>{let r=Ab(e);return AC(t,(e,t)=>Ad(r,t,e)),AS(r)}),AE=rS(2,(e,t)=>Aw(e,t,sC)),AI=rS(2,(e,t)=>Av(e,e=>{for(let r of t)AE(r)(e)})),AT=rS(2,(e,t)=>AF(e,Ai(),(e,r,n)=>Ad(e,n,t(r,n)))),AO=rS(2,(e,t)=>AF(e,Ai(),(e,r,n)=>Av(e,e=>AC(t(r,n),(t,r)=>Ad(e,r,t))))),AC=rS(2,(e,t)=>AF(e,void 0,(e,r,n)=>t(r,n))),AF=rS(3,(e,t,r)=>{let n,i=e._root;if("LeafNode"===i._tag)return sN(i.value)?r(t,i.value.value,i.key):t;if("EmptyNode"===i._tag)return t;let a=[i.children];for(;n=a.pop();)for(let e=0,i=n.length;e<i;){let i=n[e++];i&&!FY(i)&&("LeafNode"===i._tag?sN(i.value)&&(t=r(t,i.value.value,i.key)):a.push(i.children))}return t}),AA=rS(2,(e,t)=>Av(Ai(),r=>{for(let[n,i]of e)t(i,n)&&Ad(r,n,i)})),AM=rS(2,(e,t)=>Av(Ai(),r=>{for(let[n,i]of e){let e=t(i,n);sN(e)&&Ad(r,n,e.value)}})),AN=rS(2,(e,t)=>{for(let r of e)if(t(r[1],r[0]))return sF(r);return sC()}),AR=rS(2,(e,t)=>{for(let r of e)if(t(r[1],r[0]))return!0;return!1}),AD=rS(2,(e,t)=>!AR(e,(e,r)=>!t(e,r))),Aj="effect/HashSet",AL=Symbol.for(Aj),AP={[AL]:AL,[Symbol.iterator](){return Am(this._keyMap)},[is](){return ib(this,iu(io(this._keyMap))(io(Aj)))},[iS](e){return!!Az(e)&&Ag(this._keyMap)===Ag(e._keyMap)&&iv(this._keyMap,e._keyMap)},toString(){return iI(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(iE)}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},A$=e=>{let t=Object.create(AP);return t._keyMap=e,t},Az=e=>nw(e,AL),AU=A$(Ai()),AB=()=>AU,AW=rS(2,(e,t)=>Ac(e._keyMap,t)),Aq=rS(2,(e,t)=>{let r=!1;for(let n of e)if(r=t(n))break;return r}),AK=rS(2,(e,t)=>!Aq(e,e=>!t(e))),AV=rS(2,(e,t)=>AK(e,e=>AW(t,e))),AJ=e=>Am(e._keyMap),AH=e=>A$(Ab(e._keyMap)),AG=e=>(e._keyMap._editable=!1,e),AZ=rS(2,(e,t)=>{let r=AH(e);return t(r),AG(r)}),AQ=rS(2,(e,t)=>e._keyMap._editable?(Ad(t,!0)(e._keyMap),e):A$(Ad(t,!0)(e._keyMap))),AY=rS(2,(e,t)=>e._keyMap._editable?(AE(t)(e._keyMap),e):A$(AE(t)(e._keyMap))),AX=rS(2,(e,t)=>AZ(e,e=>{for(let r of t)AY(e,r)})),A0=rS(2,(e,t)=>AZ(AB(),r=>{for(let n of t)AW(n)(e)&&AQ(n)(r)})),A1=rS(2,(e,t)=>AZ(AB(),r=>{for(let n of(A4(e,e=>AQ(r,e)),t))AQ(r,n)})),A2=rS(2,(e,t)=>AW(e,t)?AY(e,t):AQ(e,t)),A6=rS(2,(e,t)=>AZ(AB(),r=>{A4(e,e=>{let n=t(e);AW(r,n)||AQ(r,n)})})),A3=rS(2,(e,t)=>AZ(AB(),r=>{A4(e,e=>{for(let n of t(e))AW(r,n)||AQ(r,n)})})),A4=rS(2,(e,t)=>AC(e._keyMap,(e,r)=>t(r))),A5=rS(3,(e,t,r)=>AF(e._keyMap,t,(e,t,n)=>r(e,n))),A8=rS(2,(e,t)=>AZ(AB(),r=>{let n,i=AJ(e);for(;!(n=i.next()).done;){let e=n.value;t(e)&&AQ(r,e)}})),A7=rS(2,(e,t)=>{let r,n=AJ(e),i=AH(AB()),a=AH(AB());for(;!(r=n.next()).done;){let e=r.value;t(e)?AQ(i,e):AQ(a,e)}return[AG(a),AG(i)]}),A9=Az,Me=AB,Mt=e=>{let t=AH(AB());for(let r of e)AQ(t,r);return AG(t)},Mr=(...e)=>{let t=AH(AB());for(let r of e)AQ(t,r);return AG(t)},Mn=AW,Mi=Aq,Ma=AK,Ms=AV,Mo=AJ,Ml=e=>Array.from(Mo(e)),Mu=e=>Ag(e._keyMap),Mc=AH,Mh=AG,Mf=AZ,Md=AQ,Mp=AY,Mm=AX,Mg=A0,My=A1,Mb=A2,MS=A6,Mv=A3,Mw=A4,Mx=A5,Mk=A8,M_=A7,ME=Symbol.for("effect/MutableRef"),MI={[ME]:ME,toString(){return iI(this.toJSON())},toJSON(){return{_id:"MutableRef",current:iE(this.current)}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},MT=e=>{let t=Object.create(MI);return t.current=e,t},MO=rS(3,(e,t,r)=>!!iv(t,e.current)&&(e.current=r,!0)),MC=e=>Mz(e,e=>e-1),MF=e=>MU(e,e=>e-1),MA=e=>e.current,MM=e=>MD(e,e=>e-1),MN=e=>MD(e,e=>e+1),MR=rS(2,(e,t)=>{let r=e.current;return e.current=t,r}),MD=rS(2,(e,t)=>MR(e,t(MA(e)))),Mj=e=>Mz(e,e=>e+1),ML=e=>MU(e,e=>e+1),MP=rS(2,(e,t)=>(e.current=t,e)),M$=rS(2,(e,t)=>(e.current=t,e.current)),Mz=rS(2,(e,t)=>MP(e,t(MA(e)))),MU=rS(2,(e,t)=>M$(e,t(MA(e)))),MB=e=>Mz(e,e=>!e),MW="effect/FiberId",Mq=Symbol.for(MW),MK="None",MV="Runtime",MJ="Composite",MH=ip(`${MW}-${MK}`);class MG{id;startTimeMillis;[Mq]=Mq;_tag=MV;constructor(e,t){this.id=e,this.startTimeMillis=t}[is](){return ib(this,ip(`${MW}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[iS](e){return MY(e)&&e._tag===MV&&this.id===e.id&&this.startTimeMillis===e.startTimeMillis}toString(){return iI(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[i_](){return this.toJSON()}}class MZ{left;right;[Mq]=Mq;_tag=MJ;constructor(e,t){this.left=e,this.right=t}_hash;[is](){return rD(ip(`${MW}-${this._tag}`),iu(io(this.left)),iu(io(this.right)),ib(this))}[iS](e){return MY(e)&&e._tag===MJ&&iv(this.left,e.left)&&iv(this.right,e.right)}toString(){return iI(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,left:iE(this.left),right:iE(this.right)}}[i_](){return this.toJSON()}}let MQ=new class{[Mq]=Mq;_tag=MK;id=-1;startTimeMillis=-1;[is](){return MH}[iS](e){return MY(e)&&e._tag===MK}toString(){return iI(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[i_](){return this.toJSON()}},MY=e=>nw(e,Mq),MX=e=>e._tag===MK||rD(M4(e),Ma(e=>MX(e))),M0=rS(2,(e,t)=>e._tag===MK?t:t._tag===MK?e:new MZ(e,t)),M1=rS(2,(e,t)=>MX(e)?t:e),M2=e=>{switch(e._tag){case MK:return Me();case MV:return Mr(e.id);case MJ:return rD(M2(e.left),My(M2(e.right)))}},M6=r9(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>MT(0)),M3=e=>Array.from(M2(e)).map(e=>`#${e}`).join(","),M4=e=>{switch(e._tag){case MK:return Me();case MV:return Mr(e);case MJ:return rD(M4(e.left),My(M4(e.right)))}},M5=Mq,M8=MQ,M7=(e,t)=>new MG(e,t),M9=(e,t)=>new MZ(e,t),Ne=MY,Nt=MX,Nr=e=>e._tag===MV,Nn=e=>e._tag===MJ,Ni=M0,Na=e=>rD(e,Mx(MQ,(e,t)=>M0(t)(e))),Ns=M1,No=M2,Nl=(e,t)=>new MG(e,t),Nu=M3,Nc=e=>{let t,r=M4(e);if(0===Mu(r))return sC();let n=!0;for(let e of r)n?(t=e,n=!1):t=rD(t,M0(e));return sF(t)},Nh=M4,Nf=()=>{let e=MA(M6);return rD(M6,MP(e+1)),new MG(e,Date.now())},Nd=As,Np=Ai,Nm=(...e)=>Aa(e),Ng=Aa,Ny=e=>e&&FY(e._root),Nb=Ao,NS=Al,Nv=Au,Nw=Ac,Nx=Ah,Nk=Af,N_=Ad,NE=Am,NI=function(e){return A$(e)},NT=e=>new F9(e,(e,t)=>t),NO=e=>Array.from(NT(e)),NC=e=>new F9(e,(e,t)=>[e,t]),NF=e=>Array.from(NC(e)),NA=Ag,NM=Ay,NN=Ab,NR=AS,ND=Av,Nj=Aw,NL=Ax,NP=Ak,N$=A_,Nz=AE,NU=AI,NB=AT,NW=AO,Nq=AC,NK=AF,NV=AA,NJ=e=>AM(e,rw),NH=AM,NG=AN,NZ=AR,NQ=AD,NY=Symbol.for("effect/List"),NX=e=>ui(e),N0=e=>rQ(c6(e),NX),N1=N0(iv),N2={[NY]:NY,_tag:"Cons",toString(){return iI(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:NX(this).map(iE)}},[i_](){return this.toJSON()},[iS](e){return N5(e)&&this._tag===e._tag&&N1(this,e)},[is](){return ib(this,iy(NX(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if("Nil"===t._tag)return e=!0,this.return();let r=t.head;return t=t.tail,{done:e,value:r}},return:t=>(e||(e=!0),{done:!0,value:t})}},pipe(){return ij(this,arguments)}},N6=(e,t)=>{let r=Object.create(N2);return r.head=e,r.tail=t,r},N3=ip("Nil"),N4=Object.create({[NY]:NY,_tag:"Nil",toString(){return iI(this.toJSON())},toJSON:()=>({_id:"List",_tag:"Nil"}),[i_](){return this.toJSON()},[is]:()=>N3,[iS](e){return N5(e)&&this._tag===e._tag},[Symbol.iterator]:()=>({next:()=>({done:!0,value:void 0})}),pipe(){return ij(this,arguments)}}),N5=e=>nw(e,NY),N8=e=>"Nil"===e._tag,N7=e=>"Cons"===e._tag,N9=e=>{let t=e,r=0;for(;!N8(t);)r+=1,t=t.tail;return r},Re=()=>N4,Rt=(e,t)=>N6(e,t),Rr=Re,Rn=e=>N6(e,N4),Ri=e=>{let t,r=e[Symbol.iterator]();if(!(t=r.next())||t.done)return N4;{let e=N6(t.value,N4),n=e;for(;(t=r.next())&&!t.done;){let e=N6(t.value,N4);n.tail=e,n=e}return e}},Ra=(...e)=>Ri(e),Rs=rS(2,(e,t)=>Ro(e,Rn(t))),Ro=rS(2,(e,t)=>Ru(t,e)),Rl=rS(2,(e,t)=>Rt(t,e)),Ru=rS(2,(e,t)=>{if(N8(e))return t;{if(N8(t))return e;let r=N6(t.head,e),n=r,i=t.tail;for(;!N8(i);){let t=N6(i.head,e);n.tail=t,n=t,i=i.tail}return r}}),Rc=rS(2,(e,t)=>{let r=e,n=t;for(;N7(n);)r=N6(n.head,r),n=n.tail;return r}),Rh=rS(2,(e,t)=>{if(t<=0)return e;if(t>=N9(e))return N4;let r=e,n=0;for(;!N8(r)&&n<t;)r=r.tail,n+=1;return r}),Rf=rS(2,(e,t)=>{for(let r of e)if(!t(r))return!1;return!0}),Rd=rS(2,(e,t)=>{let r=e;for(;!N8(r);){if(t(r.head))return!0;r=r.tail}return!1}),Rp=rS(2,(e,t)=>Rm(e,t,!1)),Rm=(e,t,r)=>{for(;;)if(N8(e))return N4;else{if(t(e.head)!==r)return Rg(e,e.tail,t,r);e=e.tail}},Rg=(e,t,r,n)=>{for(;;)if(N8(t))return e;else{if(r(t.head)===n)return Ry(e,t,r,n);t=t.tail}},Ry=(e,t,r,n)=>{let i=N6(Rj(e),N4),a=RP(e),s=i;for(;a!==t;){let e=N6(Rj(a),N4);s.tail=e,s=rk(e),a=rk(a.tail)}let o=t.tail,l=rk(o);for(;!N8(o);)if(r(Rj(o))!==n)o=o.tail;else{for(;l!==o;){let e=N6(Rj(l),N4);s.tail=e,s=e,l=rk(l.tail)}l=rk(o.tail),o=o.tail}return N8(l)||(s.tail=l),i},Rb=rS(2,(e,t)=>{let r=[];for(let n of e){let e=t(n);sN(e)&&r.push(e.value)}return Ri(r)}),RS=e=>Rb(e,rw),Rv=rS(2,(e,t)=>{let r=e;for(;!N8(r);){if(t(r.head))return sF(r.head);r=r.tail}return sC()}),Rw=rS(2,(e,t)=>{let r,n,i=e;for(;!N8(i);){let e=t(i.head);for(;!N8(e);){let t=N6(e.head,N4);void 0===n?r=t:n.tail=t,n=t,e=e.tail}i=i.tail}return void 0===r?N4:r}),Rx=rS(2,(e,t)=>{let r=e;for(;!N8(r);)t(r.head),r=r.tail}),Rk=e=>N8(e)?sC():sF(e.head),R_=e=>N8(e)?sC():sF(RL(e)),RE=rS(2,(e,t)=>{if(N8(e))return e;{let r=0,n=N6(t(e.head,r++),N4),i=n,a=e.tail;for(;!N8(a);){let e=N6(t(a.head,r++),N4);i.tail=e,i=e,a=a.tail}return n}}),RI=rS(2,(e,t)=>{let r=[],n=[];for(let i of e)t(i)?n.push(i):r.push(i);return[Ri(r),Ri(n)]}),RT=rS(2,(e,t)=>{let r=[],n=[];for(let i of e){let e=t(i);aN(e)?r.push(e.left):n.push(e.right)}return[Ri(r),Ri(n)]}),RO=rS(3,(e,t,r)=>{let n=t,i=e;for(;!N8(i);)n=r(n,i.head),i=i.tail;return n}),RC=rS(3,(e,t,r)=>{let n=t,i=RF(e);for(;!N8(i);)n=r(n,i.head),i=i.tail;return n}),RF=e=>{let t=Rr(),r=e;for(;!N8(r);)t=Rl(t,r.head),r=r.tail;return t},RA=rS(2,(e,t)=>[RN(e,t),Rh(e,t)]),RM=e=>N8(e)?sC():sF(e.tail),RN=rS(2,(e,t)=>{if(t<=0)return N4;if(t>=N9(e))return e;let r=Ra(Rj(e)),n=RP(e);for(let e=1;e<t;e++)r=N6(Rj(n),r),n=RP(n);return RF(r)}),RR=e=>OD(e),RD="Expected List to be non-empty",Rj=e=>{if(N8(e))throw Error(RD);return e.head},RL=e=>{if(N8(e))throw Error(RD);let t=e,r=e.tail;for(;!N8(r);)t=r,r=r.tail;return t.head},RP=e=>{if(N8(e))throw Error(RD);return e.tail},R$=Object.assign(Object.create(Array.prototype),{[is](){return ib(this,iy(this))},[iS](e){return!!Array.isArray(e)&&this.length===e.length&&this.every((t,r)=>iv(t,e[r]))}}),Rz=function(){function e(e){e&&Object.assign(this,e)}return e.prototype=i7,e}(),RU=e=>Object.assign(Object.create(i7),e),RB=Symbol.for("effect/DifferChunkPatch");function RW(e){return e}let Rq={...Rz.prototype,[RB]:{_Value:RW,_Patch:RW}},RK=Object.create(Object.assign(Object.create(Rq),{_tag:"Empty"})),RV=Object.assign(Object.create(Rq),{_tag:"AndThen"}),RJ=Object.assign(Object.create(Rq),{_tag:"Append"}),RH=Object.assign(Object.create(Rq),{_tag:"Slice"}),RG=Object.assign(Object.create(Rq),{_tag:"Update"}),RZ=(e,t)=>{let r=Object.create(RG);return r.index=e,r.patch=t,r},RQ=rS(2,(e,t)=>{let r;return(r=Object.create(RV)).first=e,r.second=t,r}),RY=rS(3,(e,t,r)=>{if("Empty"===e._tag)return t;let n=t,i=OR(e);for(;O7(i);){let e=Ct(i),t=Cb(i);switch(e._tag){case"Empty":i=t;break;case"AndThen":i=OK(e.first)(OK(e.second)(t));break;case"Append":n=OQ(e.values)(n),i=t;break;case"Slice":n=OU(OP(n).slice(e.from,e.until)),i=t;break;case"Update":{let a=OP(n);a[e.index]=r.patch(e.patch,a[e.index]),n=OU(a),i=t}}}return n}),RX=Symbol.for("effect/DifferContextPatch");function R0(e){return e}let R1={...Rz.prototype,[RX]:{_Value:R0,_Patch:R0}},R2=Object.create(Object.assign(Object.create(R1),{_tag:"Empty"})),R6=Object.assign(Object.create(R1),{_tag:"AndThen"}),R3=Object.assign(Object.create(R1),{_tag:"AddService"}),R4=(e,t)=>{let r=Object.create(R3);return r.key=e,r.service=t,r},R5=Object.assign(Object.create(R1),{_tag:"RemoveService"}),R8=e=>{let t=Object.create(R5);return t.key=e,t},R7=Object.assign(Object.create(R1),{_tag:"UpdateService"}),R9=(e,t)=>{let r=Object.create(R7);return r.key=e,r.update=t,r},De=rS(2,(e,t)=>{let r;return(r=Object.create(R6)).first=e,r.second=t,r}),Dt=rS(2,(e,t)=>{if("Empty"===e._tag)return t;let r=!1,n=OR(e),i=new Map(t.unsafeMap);for(;O7(n);){let e=Ct(n),t=Cb(n);switch(e._tag){case"Empty":n=t;break;case"AddService":i.set(e.key,e.service),n=t;break;case"AndThen":n=OK(OK(t,e.second),e.first);break;case"RemoveService":i.delete(e.key),n=t;break;case"UpdateService":i.set(e.key,e.update(i.get(e.key))),r=!0,n=t}}if(!r)return T2(i);let a=new Map;for(let[e]of t.unsafeMap)i.has(e)&&(a.set(e,i.get(e)),i.delete(e));for(let[e,t]of i)a.set(e,t);return T2(a)}),Dr=Symbol.for("effect/DifferHashMapPatch");function Dn(e){return e}let Di={...Rz.prototype,[Dr]:{_Value:Dn,_Key:Dn,_Patch:Dn}},Da=Object.create(Object.assign(Object.create(Di),{_tag:"Empty"})),Ds=Object.assign(Object.create(Di),{_tag:"AndThen"}),Do=Object.assign(Object.create(Di),{_tag:"Add"}),Dl=Object.assign(Object.create(Di),{_tag:"Remove"}),Du=Object.assign(Object.create(Di),{_tag:"Update"}),Dc=rS(2,(e,t)=>{let r;return(r=Object.create(Ds)).first=e,r.second=t,r}),Dh=rS(3,(e,t,r)=>{if("Empty"===e._tag)return t;let n=t,i=OR(e);for(;O7(i);){let e=Ct(i),t=Cb(i);switch(e._tag){case"Empty":i=t;break;case"AndThen":i=OK(e.first)(OK(e.second)(t));break;case"Add":n=N_(e.key,e.value)(n),i=t;break;case"Remove":n=Nz(e.key)(n),i=t;break;case"Update":{let a=Nb(e.key)(n);"Some"===a._tag&&(n=N_(e.key,r.patch(e.patch,a.value))(n)),i=t}}}return n}),Df=Symbol.for("effect/DifferHashSetPatch");function Dd(e){return e}let Dp={...Rz.prototype,[Df]:{_Value:Dd,_Key:Dd,_Patch:Dd}},Dm=Object.create(Object.assign(Object.create(Dp),{_tag:"Empty"})),Dg=Object.assign(Object.create(Dp),{_tag:"AndThen"}),Dy=Object.assign(Object.create(Dp),{_tag:"Add"}),Db=Object.assign(Object.create(Dp),{_tag:"Remove"}),DS=rS(2,(e,t)=>{let r;return(r=Object.create(Dg)).first=e,r.second=t,r}),Dv=rS(2,(e,t)=>{if("Empty"===e._tag)return t;let r=t,n=OR(e);for(;O7(n);){let e=Ct(n),t=Cb(n);switch(e._tag){case"Empty":n=t;break;case"AndThen":n=OK(e.first)(OK(e.second)(t));break;case"Add":r=Md(e.value)(r),n=t;break;case"Remove":r=Mp(e.value)(r),n=t}}return r}),Dw=Symbol.for("effect/DifferOrPatch");function Dx(e){return e}let Dk={...Rz.prototype,[Dw]:{_Value:Dx,_Key:Dx,_Patch:Dx}},D_=Object.create(Object.assign(Object.create(Dk),{_tag:"Empty"})),DE=Object.assign(Object.create(Dk),{_tag:"AndThen"}),DI=Object.assign(Object.create(Dk),{_tag:"SetLeft"}),DT=Object.assign(Object.create(Dk),{_tag:"SetRight"}),DO=Object.assign(Object.create(Dk),{_tag:"UpdateLeft"}),DC=Object.assign(Object.create(Dk),{_tag:"UpdateRight"}),DF=rS(2,(e,t)=>{let r;return(r=Object.create(DE)).first=e,r.second=t,r}),DA=rS(2,(e,{left:t,oldValue:r,right:n})=>{if("Empty"===e._tag)return r;let i=OR(e),a=r;for(;O7(i);){let e=Ct(i),r=Cb(i);switch(e._tag){case"Empty":i=r;break;case"AndThen":i=OK(e.first)(OK(e.second)(r));break;case"UpdateLeft":"Left"===a._tag&&(a=aO(t.patch(e.patch,a.left))),i=r;break;case"UpdateRight":"Right"===a._tag&&(a=aI(n.patch(e.patch,a.right))),i=r;break;case"SetLeft":a=aO(e.value),i=r;break;case"SetRight":a=aI(e.value),i=r}}return a}),DM=Symbol.for("effect/DifferReadonlyArrayPatch");function DN(e){return e}let DR={...Rz.prototype,[DM]:{_Value:DN,_Patch:DN}},DD=Object.create(Object.assign(Object.create(DR),{_tag:"Empty"})),Dj=Object.assign(Object.create(DR),{_tag:"AndThen"}),DL=Object.assign(Object.create(DR),{_tag:"Append"}),DP=Object.assign(Object.create(DR),{_tag:"Slice"}),D$=Object.assign(Object.create(DR),{_tag:"Update"}),Dz=(e,t)=>{let r=Object.create(D$);return r.index=e,r.patch=t,r},DU=rS(2,(e,t)=>{let r;return(r=Object.create(Dj)).first=e,r.second=t,r}),DB=rS(3,(e,t,r)=>{if("Empty"===e._tag)return t;let n=t.slice(),i=cC(e);for(;uv(i);){let e=uF(i),t=uR(i);switch(e._tag){case"Empty":i=t;break;case"AndThen":t.unshift(e.first,e.second),i=t;break;case"Append":for(let t of e.values)n.push(t);i=t;break;case"Slice":n=n.slice(e.from,e.until),i=t;break;case"Update":n[e.index]=r.patch(e.patch,n[e.index]),i=t}}return n}),DW=Symbol.for("effect/Differ"),Dq={[DW]:{_P:rw,_V:rw},pipe(){return ij(this,arguments)}},DK=e=>{let t=Object.create(Dq);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},DV=()=>DK({empty:R2,combine:(e,t)=>De(t)(e),diff:(e,t)=>((e,t)=>{let r=new Map(e.unsafeMap),n=R2;for(let[e,i]of t.unsafeMap.entries())if(r.has(e)){let t=r.get(e);r.delete(e),iv(t,i)||(n=De(R9(e,()=>i))(n))}else r.delete(e),n=De(R4(e,i))(n);for(let[e]of r.entries())n=De(R8(e))(n);return n})(e,t),patch:(e,t)=>Dt(t)(e)}),DJ=()=>DK({empty:Dm,combine:(e,t)=>DS(t)(e),diff:(e,t)=>((e,t)=>{let[r,n]=Mx([e,Dm],([e,t],r)=>{let n;return Mn(r)(e)?[Mp(r)(e),t]:[e,DS(((n=Object.create(Dy)).value=r,n))(t)]})(t);return Mx(n,(e,t)=>{let r;return DS(((r=Object.create(Db)).value=t,r))(e)})(r)})(e,t),patch:(e,t)=>Dv(t)(e)}),DH=rS(2,(e,t)=>DK({empty:D_,combine:(e,t)=>DF(e,t),diff:(r,n)=>(e=>{var t,r;switch(e.oldValue._tag){case"Left":switch(e.newValue._tag){case"Left":{let t,r=e.left.diff(e.oldValue.left,e.newValue.left);if(iv(r,e.left.empty))return D_;return(t=Object.create(DO)).patch=r,t}case"Right":let n;return t=e.newValue.right,(n=Object.create(DT)).value=t,n}case"Right":switch(e.newValue._tag){case"Left":let i;return r=e.newValue.left,(i=Object.create(DI)).value=r,i;case"Right":{let t,r=e.right.diff(e.oldValue.right,e.newValue.right);if(iv(r,e.right.empty))return D_;return(t=Object.create(DC)).patch=r,t}}}})({oldValue:r,newValue:n,left:e,right:t}),patch:(r,n)=>DA(r,{oldValue:n,left:e,right:t})})),DG=e=>DK({empty:DD,combine:(e,t)=>DU(e,t),diff:(t,r)=>(e=>{var t,r;let n,i,a=0,s=DD;for(;a<e.oldValue.length&&a<e.newValue.length;){let t=e.oldValue[a],r=e.newValue[a],n=e.differ.diff(t,r);iv(n,e.differ.empty)||(s=DU(s,Dz(a,n))),a+=1}return a<e.oldValue.length&&(s=DU(s,(t=a,(n=Object.create(DP)).from=0,n.until=t,n))),a<e.newValue.length&&(s=DU(s,(r=uB(a)(e.newValue),(i=Object.create(DL)).values=r,i))),s})({oldValue:t,newValue:r,differ:e}),patch:(t,r)=>DB(t,r,e)}),DZ=rS(2,(e,{toNew:t,toOld:r})=>DK({empty:e.empty,combine:(t,r)=>e.combine(t,r),diff:(t,n)=>e.diff(r(t),r(n)),patch:(n,i)=>t(e.patch(n,r(i)))})),DQ=()=>DY((e,t)=>t),DY=e=>DK({empty:rw,combine:(e,t)=>e===rw?t:t===rw?e:r=>t(e(r)),diff:(e,t)=>iv(e,t)?rw:r_(t),patch:(t,r)=>e(r,t(r))}),DX=rS(2,(e,t)=>DK({empty:[e.empty,t.empty],combine:(r,n)=>[e.combine(r[0],n[0]),t.combine(r[1],n[1])],diff:(r,n)=>[e.diff(r[0],n[0]),t.diff(r[1],n[1])],patch:(r,n)=>[e.patch(r[0],n[0]),t.patch(r[1],n[1])]})),D0=(e,t)=>(255&e)+((t&e&255)<<8),D1=D0(0,0),D2=e=>D0(e,e),D6=e=>D0(e,0),D3=rS(2,(e,t)=>(255&e&t)!=0),D4=rS(2,(e,t)=>(e>>8&255&t)!=0),D5=rS(2,(e,t)=>(255&e&t)!=0&&(e>>8&255&t)==0),D8=rS(2,(e,t)=>D0(255&e&~t,e>>8&255)),D7=rS(2,(e,t)=>D0(255&e|255&t,e>>8&255&(t>>8&255))),D9=rS(2,(e,t)=>D0(255&e|255&t,e>>8&255|t>>8&255)),je=rS(2,(e,t)=>e|t),jt=[0,1,2,4,16,32],jr=e=>{switch(e){case 32:return"CooperativeYielding";case 16:return"WindDown";case 4:return"RuntimeMetrics";case 2:return"OpSupervision";case 1:return"Interruption";case 0:return"None"}},jn=e=>jh(e,32),ji=rS(2,(e,t)=>e&~t),ja=rS(2,(e,t)=>e&~t),js=rS(2,(e,t)=>e|t),jo=rS(2,(e,t)=>e|t),jl=e=>ju(e)&&!jg(e),ju=e=>jh(e,1),jc=rS(2,(e,t)=>!jh(e,t)),jh=rS(2,(e,t)=>(e&t)!=0),jf=(...e)=>e.reduce((e,t)=>e|t,0),jd=jf(0),jp=e=>jh(e,4),jm=e=>new Set(jt.filter(t=>jh(e,t))),jg=e=>jh(e,16),jy=e=>jm(255&e&(e>>8&255)),jb=e=>jm(255&e&~(e>>8&255)),jS=rS(2,(e,t)=>D0(e^t,t)),jv=rS(2,(e,t)=>e&(~(255&t)>>>0&255|t>>8&255)|255&t&(t>>8&255)),jw=DK({empty:D1,diff:(e,t)=>jS(e,t),combine:(e,t)=>je(t)(e),patch:(e,t)=>jv(t,e)}),jx=D1,jk=D0,j_=D2,jE=D6,jI=e=>0===e,jT=D3,jO=D4,jC=D5,jF=D3,jA=je,jM=D7,jN=D9,jR=D8,jD=e=>D0(e>>8&255,~(255&e)>>>0&255),jj=jy,jL=jb,jP=e=>{let t=Array.from(jy(e)).map(e=>jr(e)).join(", "),r=Array.from(jb(e)).map(e=>jr(e)).join(", ");return`RuntimeFlagsPatch(enabled = (${t}), disabled = (${r}))`},j$="Empty",jz="Fail",jU="Interrupt",jB="Parallel",jW="Sequential",jq="effect/Cause",jK=Symbol.for(jq),jV={[jK]:{_E:e=>e},[is](){return rD(io(jq),iu(io(Lf(this))),ib(this))},[iS](e){return jX(e)&&Lh(this,e)},pipe(){return ij(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:iE(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:iE(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:iE(this.left),right:iE(this.right)}}},toString(){return LE(this)},[i_](){return this.toJSON()}},jJ=((o=Object.create(jV))._tag=j$,o),jH=e=>{let t=Object.create(jV);return t._tag=jz,t.error=e,t},jG=e=>{let t=Object.create(jV);return t._tag="Die",t.defect=e,t},jZ=e=>{let t=Object.create(jV);return t._tag=jU,t.fiberId=e,t},jQ=(e,t)=>{let r=Object.create(jV);return r._tag=jB,r.left=e,r.right=t,r},jY=(e,t)=>{let r=Object.create(jV);return r._tag=jW,r.left=e,r.right=t,r},jX=e=>nw(e,jK),j0=e=>e._tag===j$,j1=e=>"Die"===e._tag,j2=e=>e._tag===j$||Lk(e,!0,(e,t)=>{switch(t._tag){case j$:return sF(e);case"Die":case jz:case jU:return sF(!1);default:return sC()}}),j6=e=>sN(Lt(e)),j3=e=>L_(void 0,Lb)(e),j4=e=>O$(Lk(e,OM(),(e,t)=>t._tag===jz?sF(rD(e,OK(t.error))):sC())),j5=e=>O$(Lk(e,OM(),(e,t)=>"Die"===t._tag?sF(rD(e,OK(t.defect))):sC())),j8=e=>Lk(e,Me(),(e,t)=>t._tag===jU?sF(rD(e,Md(t.fiberId))):sC()),j7=e=>Lp(e,e=>e._tag===jz?sF(e.error):sC()),j9=e=>{let t=j7(e);switch(t._tag){case"None":return aI(e);case"Some":return aO(t.value)}},Le=e=>Lp(e,e=>"Die"===e._tag?sF(e.defect):sC()),Lt=e=>Lp(e,e=>e._tag===jU?sF(e.fiberId):sC()),Lr=e=>Lx(e,{onEmpty:sC(),onFail:()=>sC(),onDie:e=>sF(jG(e)),onInterrupt:()=>sC(),onSequential:ox(jY),onParallel:ox(jQ)}),Ln=e=>Lx(e,{onEmpty:jJ,onFail:()=>jJ,onDie:jG,onInterrupt:jZ,onSequential:jY,onParallel:jQ}),Li=rS(2,(e,t)=>Lx(e,{onEmpty:sF(jJ),onFail:e=>sF(jH(e)),onDie:e=>sN(t(e))?sC():sF(jG(e)),onInterrupt:e=>sF(jZ(e)),onSequential:ox(jY),onParallel:ox(jQ)})),La=rS(2,(e,t)=>Ls(e,()=>t)),Ls=rS(2,(e,t)=>Lo(e,e=>jH(t(e)))),Lo=rS(2,(e,t)=>Lx(e,{onEmpty:jJ,onFail:e=>t(e),onDie:e=>jG(e),onInterrupt:e=>jZ(e),onSequential:(e,t)=>jY(e,t),onParallel:(e,t)=>jQ(e,t)})),Ll=e=>Lo(e,rw),Lu=rS(2,(e,t)=>nf(t)?Lo(e,t):Lo(e,()=>t)),Lc=rS(2,(e,t)=>t._tag===j$||e===t||Lk(e,!1,(e,r)=>sF(e||Lh(r,t)))),Lh=(e,t)=>{let r=OR(e),n=OR(t);for(;O7(r)&&O7(n);){let[e,t]=rD(Ct(r),Lk([Me(),OM()],([e,t],r)=>{let[n,i]=Lg(r);return sF([rD(e,My(n)),rD(t,OQ(i))])})),[i,a]=rD(Ct(n),Lk([Me(),OM()],([e,t],r)=>{let[n,i]=Lg(r);return sF([rD(e,My(n)),rD(t,OQ(i))])}));if(!iv(e,i))return!1;r=t,n=a}return!0},Lf=e=>Ld(OR(e),OM()),Ld=(e,t)=>{for(;;){let[r,n]=rD(e,cB([Me(),OM()],([e,t],r)=>{let[n,i]=Lg(r);return[rD(e,My(n)),rD(t,OQ(i))]})),i=Mu(r)>0?rD(t,OK(r)):t;if(O8(n))return O$(i);e=n,t=i}throw Error(nZ("Cause.flattenCauseLoop"))},Lp=rS(2,(e,t)=>{let r=[e];for(;r.length>0;){let e=r.pop(),n=t(e);switch(n._tag){case"None":switch(e._tag){case jW:case jB:r.push(e.right),r.push(e.left)}break;case"Some":return n}}return sC()}),Lm=rS(2,(e,t)=>L_(e,void 0,LS(t))),Lg=e=>{let t=e,r=[],n=Me(),i=OM();for(;void 0!==t;)switch(t._tag){case j$:if(0===r.length)return[n,i];t=r.pop();break;case jz:if(n=Md(n,ON(t._tag,t.error)),0===r.length)return[n,i];t=r.pop();break;case"Die":if(n=Md(n,ON(t._tag,t.defect)),0===r.length)return[n,i];t=r.pop();break;case jU:if(n=Md(n,ON(t._tag,t.fiberId)),0===r.length)return[n,i];t=r.pop();break;case jW:switch(t.left._tag){case j$:t=t.right;break;case jW:t=jY(t.left.left,jY(t.left.right,t.right));break;case jB:t=jQ(jY(t.left.left,t.right),jY(t.left.right,t.right));break;default:i=OK(i,t.right),t=t.left}break;case jB:r.push(t.right),t=t.left}throw Error(nZ("Cause.evaluateCauseLoop"))},Ly={emptyCase:()=>0,failCase:()=>1,dieCase:()=>1,interruptCase:()=>1,sequentialCase:(e,t,r)=>t+r,parallelCase:(e,t,r)=>t+r},Lb={emptyCase:rE,failCase:rI,dieCase:rI,interruptCase:rE,sequentialCase:(e,t,r)=>t&&r,parallelCase:(e,t,r)=>t&&r},LS=e=>({emptyCase:()=>jJ,failCase:(e,t)=>jH(t),dieCase:(e,t)=>jG(t),interruptCase:(e,t)=>jZ(t),sequentialCase:(t,r,n)=>e(r)?e(n)?jY(r,n):r:e(n)?n:jJ,parallelCase:(t,r,n)=>e(r)?e(n)?jQ(r,n):r:e(n)?n:jJ}),Lv="SequentialCase",Lw="ParallelCase",Lx=rS(2,(e,{onDie:t,onEmpty:r,onFail:n,onInterrupt:i,onParallel:a,onSequential:s})=>L_(e,void 0,{emptyCase:()=>r,failCase:(e,t)=>n(t),dieCase:(e,r)=>t(r),interruptCase:(e,t)=>i(t),sequentialCase:(e,t,r)=>s(t,r),parallelCase:(e,t,r)=>a(t,r)})),Lk=rS(3,(e,t,r)=>{let n=t,i=e,a=[];for(;void 0!==i;){let e=r(n,i);switch(n=sN(e)?e.value:n,i._tag){case jW:case jB:a.push(i.right),i=i.left;break;default:i=void 0}void 0===i&&a.length>0&&(i=a.pop())}return n}),L_=rS(3,(e,t,r)=>{let n=[e],i=[];for(;n.length>0;){let e=n.pop();switch(e._tag){case j$:i.push(aI(r.emptyCase(t)));break;case jz:i.push(aI(r.failCase(t,e.error)));break;case"Die":i.push(aI(r.dieCase(t,e.defect)));break;case jU:i.push(aI(r.interruptCase(t,e.fiberId)));break;case jW:n.push(e.right),n.push(e.left),i.push(aO({_tag:Lv}));break;case jB:n.push(e.right),n.push(e.left),i.push(aO({_tag:Lw}))}}let a=[];for(;i.length>0;){let e=i.pop();switch(e._tag){case"Left":switch(e.left._tag){case Lv:{let e=a.pop(),n=a.pop(),i=r.sequentialCase(t,e,n);a.push(i);break}case Lw:{let e=a.pop(),n=a.pop(),i=r.parallelCase(t,e,n);a.push(i)}}break;case"Right":a.push(e.right)}}if(0===a.length)throw Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return a.pop()}),LE=(e,t)=>j3(e)?"All fibers interrupted without errors.":LN(e).map(function(e){return t?.renderErrorCause!==!0||void 0===e.cause?e.stack:`${e.stack} {
${LI(e.cause,"  ")}
}`}).join("\n"),LI=(e,t)=>{let r=e.stack.split("\n"),n=`${t}[cause]: ${r[0]}`;for(let e=1,i=r.length;e<i;e++)n+=`
${t}${r[e]}`;return e.cause&&(n+=` {
${LI(e.cause,`${t}  `)}
${t}}`),n};class LT extends globalThis.Error{span=void 0;constructor(e){const t="object"==typeof e&&null!==e,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(LO(e),t&&"cause"in e&&void 0!==e.cause?{cause:new LT(e.cause)}:void 0),""===this.message&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=e instanceof Error?e.name:"Error",t&&(LM in e&&(this.span=e[LM]),Object.keys(e).forEach(t=>{t in this||(this[t]=e[t])})),this.stack=LA(`${this.name}: ${this.message}`,e instanceof Error&&e.stack?e.stack:"",this.span)}}let LO=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e&&e instanceof Error)return e.message;try{if(nw(e,"toString")&&nf(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return iF(e)},LC=/\((.*)\)/g,LF=r9("effect/Tracer/spanToTrace",()=>new WeakMap),LA=(e,t,r)=>{let n=[e],i=t.startsWith(e)?t.slice(e.length).split("\n"):t.split("\n");for(let e=1;e<i.length;e++){if(i[e].includes(" at new BaseEffectError")||i[e].includes(" at new YieldableError")){e++;continue}if(i[e].includes("Generator.next")||i[e].includes("effect_internal_function"))break;n.push(i[e].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(r){let e=r,t=0;for(;e&&"Span"===e._tag&&t<10;){let r=LF.get(e);if("function"==typeof r){let t=r();if("string"==typeof t){let r=t.matchAll(LC),i=!1;for(let[,t]of r)i=!0,n.push(`    at ${e.name} (${t})`);i||n.push(`    at ${e.name} (${t.replace(/^at /,"")})`)}else n.push(`    at ${e.name}`)}else n.push(`    at ${e.name}`);e=sJ(e.parent),t++}}return n.join("\n")},LM=Symbol.for("effect/SpanAnnotation"),LN=e=>L_(e,void 0,{emptyCase:()=>[],dieCase:(e,t)=>[new LT(t)],failCase:(e,t)=>[new LT(t)],interruptCase:()=>[],parallelCase:(e,t,r)=>[...t,...r],sequentialCase:(e,t,r)=>[...t,...r]}),LR="Pending",LD="Done",Lj=Symbol.for("effect/Deferred"),LL={_E:e=>e,_A:e=>e},LP=e=>({_tag:LD,effect:e});class L${self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new L$(this.self)}}let Lz=(e,t)=>{let r=new Lq("Blocked");return r.effect_instruction_i0=e,r.effect_instruction_i1=t,r},LU=e=>{let t=new Lq("RunBlocked");return t.effect_instruction_i0=e,t},LB=Symbol.for("effect/Effect");class LW{patch;op;_op=iX;constructor(e,t){this.patch=e,this.op=t}}class Lq{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[LB]=i5;constructor(e){this._op=e}[iS](e){return this===e}[is](){return ib(this,il(this))}pipe(){return ij(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:iE(this.effect_instruction_i0),effect_instruction_i1:iE(this.effect_instruction_i1),effect_instruction_i2:iE(this.effect_instruction_i2)}}toString(){return iI(this.toJSON())}[i_](){return this.toJSON()}[Symbol.iterator](){return new L$(new n5(this))}}class LK{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[LB]=i5;constructor(e){this._op=e,this._tag=e}[iS](e){return zb(e)&&"Failure"===e._op&&iv(this.effect_instruction_i0,e.effect_instruction_i0)}[is](){return rD(ip(this._tag),iu(io(this.effect_instruction_i0)),ib(this))}get cause(){return this.effect_instruction_i0}pipe(){return ij(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return iI(this.toJSON())}[i_](){return this.toJSON()}[Symbol.iterator](){return new L$(new n5(this))}}class LV{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[LB]=i5;constructor(e){this._op=e,this._tag=e}[iS](e){return zb(e)&&"Success"===e._op&&iv(this.effect_instruction_i0,e.effect_instruction_i0)}[is](){return rD(ip(this._tag),iu(io(this.effect_instruction_i0)),ib(this))}get value(){return this.effect_instruction_i0}pipe(){return ij(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:iE(this.value)}}toString(){return iI(this.toJSON())}[i_](){return this.toJSON()}[Symbol.iterator](){return new L$(new n5(this))}}let LJ=e=>nw(e,LB),LH=e=>{let t=new Lq(iQ);return t.effect_instruction_i0=e,t},LG=rS(3,(e,t,r)=>PB(n=>Pu(e,e=>Pu(Pr(Pj(()=>n(t(e)))),t=>Pj(()=>r(e,t)).pipe(Pm({onFailure:e=>{switch(t._tag){case iB:return Pa(jY(t.effect_instruction_i0,e));case iV:return Pa(e)}},onSuccess:()=>t})))))),LZ=rS(2,(e,t)=>Pu(e,()=>PD(t))),LQ=e=>LZ(e,void 0),LY=function(){let e=new Lq(iU);switch(arguments.length){case 2:e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break;case 3:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break;case 4:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break;default:throw Error(nZ("you're not supposed to end up here"))}return e},LX=(e,t=M8)=>{let r,n=new Lq(iz);return n.effect_instruction_i0=t=>{r=e(t)},n.effect_instruction_i1=t,PF(n,e=>LJ(r)?r:PW)},L0=(e,t=M8)=>Pj(()=>LX(e,t)),L1=(e,t=M8)=>LY(e,function(){let e,r,n,i;function a(t){e?e(t):void 0===r&&(r=t)}let s=new Lq(iz);return s.effect_instruction_i0=t=>{e=t,r&&t(r)},s.effect_instruction_i1=t,1!==this.effect_instruction_i0.length?(i=new AbortController,n=it(()=>this.effect_instruction_i0(a,i.signal))):n=it(()=>this.effect_instruction_i0(a)),n||i?PF(s,e=>(i&&i.abort(),n??PW)):s}),L2=rS(2,(e,t)=>{let r=new Lq(iW);return r.effect_instruction_i0=e,r.effect_instruction_i1=t,r}),L6=rS(2,(e,t)=>Pg(e,{onFailure:t,onSuccess:PD})),L3=rS(3,(e,t,r)=>L2(e,e=>{let n=j9(e);switch(n._tag){case"Left":return t(n.left)?r(n.left):Pa(e);case"Right":return Pa(n.right)}})),L4=rS(2,(e,t)=>L2(e,e=>{let r=j9(e);switch(r._tag){case"Left":return rD(t(r.left),s$(()=>Pa(e)));case"Right":return Pa(r.right)}})),L5=Symbol.for("effect/OriginalAnnotation"),L8=(e,t)=>sN(t)?new Proxy(e,{has:(e,t)=>t===LM||t===L5||t in e,get:(r,n)=>n===LM?t.value:n===L5?e:r[n]}):e,L7=e=>!nv(e)||LM in e?Pa(jG(e)):LH(t=>Pa(jG(L8(e,Uh(t))))),L9=e=>Ps(()=>jG(new zt(e))),Pe=e=>Pu(PL(e),L7),Pt=e=>Pg(e,{onFailure:e=>PD(aO(e)),onSuccess:e=>PD(aI(e))}),Pr=e=>Pp(e,{onFailure:zT,onSuccess:z$}),Pn=e=>!nv(e)||LM in e?Pa(jH(e)):LH(t=>Pa(jH(L8(e,Uh(t))))),Pi=e=>Pu(PL(e),Pn),Pa=e=>{let t=new LK(iB);return t.effect_instruction_i0=e,t},Ps=e=>Pu(PL(e),Pa),Po=LH(e=>PD(e.id())),Pl=e=>LH(t=>e(t.id())),Pu=rS(2,(e,t)=>{let r=new Lq(iq);return r.effect_instruction_i0=e,r.effect_instruction_i1=t,r}),Pc=rS(2,(e,t)=>Pu(e,e=>{let r="function"==typeof t?t(e):t;return LJ(r)?r:nM(r)?LX(e=>{r.then(t=>e(PD(t)),t=>e(Pn(new zy(t,"An unknown error occurred in Effect.andThen"))))}):PD(r)})),Ph=e=>{let t=new Lq("OnStep");return t.effect_instruction_i0=e,t},Pf=e=>Pu(e,rw),Pd=e=>Pg(e,{onFailure:PD,onSuccess:Pn}),Pp=rS(2,(e,t)=>Pm(e,{onFailure:e=>PD(t.onFailure(e)),onSuccess:e=>PD(t.onSuccess(e))})),Pm=rS(2,(e,t)=>{let r=new Lq(iK);return r.effect_instruction_i0=e,r.effect_instruction_i1=t.onFailure,r.effect_instruction_i2=t.onSuccess,r}),Pg=rS(2,(e,t)=>Pm(e,{onFailure:e=>{if(j5(e).length>0)return Pa(Lx(e,{onEmpty:jJ,onFail:jG,onDie:jG,onInterrupt:jZ,onSequential:jY,onParallel:jQ}));let r=j4(e);return r.length>0?t.onFailure(Ce(r)):Pa(e)},onSuccess:t.onSuccess})),Py=rS(2,(e,t)=>Pj(()=>{let r=ui(e),n=ue(r.length),i=0;return LZ(PV({while:()=>i<r.length,body:()=>t(r[i],i),step:e=>{n[i++]=e}}),n)})),Pb=rS(2,(e,t)=>Pj(()=>{let r=ui(e),n=0;return PV({while:()=>n<r.length,body:()=>t(r[n],n),step:()=>{n++}})})),PS=rS(e=>"boolean"==typeof e[0]||LJ(e[0]),(e,t)=>LJ(e)?Pu(e,e=>e?t.onTrue():t.onFalse()):e?t.onTrue():t.onFalse()),Pv=Pu(Po,e=>Pw(e)),Pw=e=>Pa(jZ(e)),Px=e=>{let t=new Lq(iH);return t.effect_instruction_i0=j_(1),t.effect_instruction_i1=()=>e,t},Pk=e=>LY(e,function(){let e=new Lq(iH);return e.effect_instruction_i0=j_(1),e.effect_instruction_i1=e=>ju(e)?it(()=>this.effect_instruction_i0(Px)):it(()=>this.effect_instruction_i0(PU)),e}),P_=rS(2,(e,t)=>PB(r=>Pu(Pr(r(e)),e=>z1(t,e)))),PE=rS(2,(e,t)=>Pu(e,e=>PL(()=>t(e)))),PI=rS(2,(e,t)=>Pg(e,{onFailure:e=>Pi(()=>t.onFailure(e)),onSuccess:e=>PL(()=>t.onSuccess(e))})),PT=rS(2,(e,t)=>Pm(e,{onFailure:e=>{let r=j9(e);switch(r._tag){case"Left":return Pi(()=>t(r.left));case"Right":return Pa(r.right)}},onSuccess:PD})),PO=rS(2,(e,t)=>PC(e,e=>zv(e)?PW:t(e.effect_instruction_i0))),PC=rS(2,(e,t)=>PB(r=>Pm(r(e),{onFailure:e=>{let r=zT(e);return Pm(t(r),{onFailure:t=>zT(jY(e,t)),onSuccess:()=>r})},onSuccess:e=>{let r=z$(e);return P3(t(r),r)}}))),PF=rS(2,(e,t)=>PC(e,zL({onFailure:e=>j3(e)?LQ(t(j8(e))):PW,onSuccess:()=>PW}))),PA=rS(2,(e,t)=>Pz(e,t,PD)),PM=e=>PN(e,rw),PN=rS(2,(e,t)=>Pg(e,{onFailure:e=>L7(t(e)),onSuccess:PD})),PR=LH((e,t)=>PD(t.runtimeFlags)),PD=e=>{let t=new LV(iV);return t.effect_instruction_i0=e,t},Pj=e=>{let t=new Lq(iU);return t.commit=e,t},PL=e=>{let t=new Lq(iJ);return t.effect_instruction_i0=e,t},PP=rS(e=>3===e.length||2===e.length&&!(nv(e[1])&&"onlyEffect"in e[1]),(e,t)=>Pu(e,e=>{let r="function"==typeof t?t(e):t;return LJ(r)?LZ(r,e):nM(r)?LX(t=>{r.then(r=>t(PD(e)),e=>t(Pn(new zy(e,"An unknown error occurred in Effect.tap"))))}):PD(e)})),P$=e=>LH(t=>{let r=rD(t.getFiberRef($G),s$(()=>t.scope()));return e($T($G,sF(r)))}),Pz=rS(3,(e,t,r)=>Pm(e,{onFailure:e=>j5(e).length>0?Pa(sZ(Lx(e,{onEmpty:sC(),onFail:e=>sF(jG(e)),onDie:e=>sF(jG(e)),onInterrupt:()=>sC(),onSequential:ox(jY),onParallel:ox(jQ)}))):t(),onSuccess:r})),PU=e=>{let t=new Lq(iH);return t.effect_instruction_i0=jE(1),t.effect_instruction_i1=()=>e,t},PB=e=>LY(e,function(){let e=new Lq(iH);return e.effect_instruction_i0=jE(1),e.effect_instruction_i1=e=>ju(e)?it(()=>this.effect_instruction_i0(Px)):it(()=>this.effect_instruction_i0(PU)),e}),PW=PD(void 0),Pq=e=>{let t=new Lq(iH);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t},PK=rS(2,(e,t)=>Pu(t,t=>t?rD(e,PE(sF)):PD(sC()))),PV=e=>{let t=new Lq(iG);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},PJ=e=>Pj(()=>{let t=new Lq(iZ);return t.effect_instruction_i0=e(),t}),PH=function(){let e=1==arguments.length?arguments[0]:arguments[1].bind(arguments[0]);return PJ(()=>e(rD))},PG=(e,...t)=>Object.defineProperty(0===t.length?function(...t){return PJ(()=>e.apply(this,t))}:function(...r){let n=PJ(()=>e.apply(this,r));for(let e of t)n=e(n,...r);return n},"length",{value:e.length,configurable:!0}),PZ=rS(2,(e,t)=>$T(e,$B,t)),PQ=rS(2,(e,t)=>$T(e,$W,t)),PY=rS(2,(e,t)=>{let r=new Lq(iH);return r.effect_instruction_i0=t,r.effect_instruction_i1=()=>e,r}),PX=rS(2,(e,t)=>$T(e,$Q,t)),P0=rS(2,(e,t)=>$T(e,$Y,t)),P1=e=>{let t=new Lq(iY);return void 0!==e?.priority?$z(t,e.priority):t},P2=rS(2,(e,t)=>Pu(e,e=>PE(t,t=>[e,t]))),P6=rS(2,(e,t)=>Pu(e,e=>LZ(t,e))),P3=rS(2,(e,t)=>Pu(e,()=>t)),P4=rS(3,(e,t,r)=>Pu(e,e=>PE(t,t=>r(e,t)))),P5=L0(()=>{let e=setInterval(()=>{},0x80000000-1);return PL(()=>clearInterval(e))}),P8=e=>Pu(Po,t=>rD(e,P7(t))),P7=rS(2,(e,t)=>Pu(e.interruptAsFork(t),()=>e.await)),P9={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return ij(this,arguments)}},$e={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return ij(this,arguments)}},$t={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return ij(this,arguments)}},$r={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return ij(this,arguments)}},$n={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return ij(this,arguments)}},$i={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return ij(this,arguments)}},$a={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return ij(this,arguments)}},$s={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return ij(this,arguments)}},$o=[P9,$a,$i,$n,$r,$t,$e,$s],$l=Symbol.for("effect/FiberRef"),$u={_A:e=>e},$c=e=>LH(t=>z$(t.getFiberRef(e))),$h=rS(2,(e,t)=>$y(e,e=>[e,t])),$f=rS(2,(e,t)=>$y(e,e=>[e,t(e)])),$d=rS(2,(e,t)=>$y(e,e=>[e,s$(t(e),()=>e)])),$p=rS(2,(e,t)=>Pu($c(e),t)),$m=rS(2,(e,t)=>$y(e,()=>[void 0,t])),$g=e=>LH(t=>(t.unsafeDeleteFiberRef(e),PW)),$y=rS(2,(e,t)=>LH(r=>{let[n,i]=t(r.getFiberRef(e));return r.setFiberRef(e,i),PD(n)})),$b=rS(2,(e,t)=>$y(e,e=>[void 0,t(e)])),$S=rS(2,(e,t)=>$y(e,e=>[void 0,s$(t(e),()=>e)])),$v=rS(2,(e,t)=>$y(e,e=>{let r=t(e);return[r,r]})),$w=rS(2,(e,t)=>$y(e,e=>{let r=s$(t(e),()=>e);return[r,r]})),$x=Symbol.for("effect/RequestResolver"),$k={_A:e=>e,_R:e=>e};class $_{runAll;target;[$x]=$k;constructor(e,t){this.runAll=e,this.target=t}[is](){return ib(this,this.target?io(this.target):il(this))}[iS](e){return this.target?$E(e)&&iv(this.target,e.target):this===e}identified(...e){return new $_(this.runAll,OD(e))}pipe(){return ij(this,arguments)}}let $E=e=>nw(e,$x),$I=rS(3,(e,t,r)=>new $_(n=>$T(e.runAll(n),t,r),ON("Locally",e,t,r))),$T=rS(3,(e,t,r)=>LG(P6($c(t),$m(t,r)),()=>e,e=>$m(t,e))),$O=rS(3,(e,t,r)=>$p(t,n=>$T(e,t,r(n)))),$C=(e,t)=>$M(e,{differ:DQ(),fork:t?.fork??rw,join:t?.join}),$F=e=>{let t=DJ();return $M(e,{differ:t,fork:t.empty})},$A=e=>{let t=DV();return $M(e,{differ:t,fork:t.empty})},$M=(e,t)=>({...i9,[$l]:$u,initial:e,commit(){return $c(this)},diff:(e,r)=>t.differ.diff(e,r),combine:(e,r)=>t.differ.combine(e,r),patch:e=>r=>t.differ.patch(e,r),fork:t.fork,join:t.join??((e,t)=>t)}),$N=e=>$M(e,{differ:jw,fork:jw.empty}),$R=r9(Symbol.for("effect/FiberRef/currentContext"),()=>$A(Oh())),$D=r9(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>$C(0)),$j=r9(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>$C(2048)),$L=r9(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>$C(Np())),$P=r9(Symbol.for("effect/FiberRef/currentLogLevel"),()=>$C($n)),$$=r9(Symbol.for("effect/FiberRef/currentLogSpan"),()=>$C(Rr())),$z=rS(2,(e,t)=>$T(e,$D,t)),$U=rS(2,(e,t)=>$T(e,$j,t)),$B=r9(Symbol.for("effect/FiberRef/currentConcurrency"),()=>$C("unbounded")),$W=r9(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>$C(!0)),$q=r9(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>$C(sF($i))),$K=r9(Symbol.for("effect/FiberRef/versionMismatchErrorLogLevel"),()=>$C(sF($r))),$V=rS(2,(e,t)=>$T(e,$q,t)),$J=r9(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>{var e;let t;return e=cO(),$M(e,{differ:t=DG(DQ()),fork:t.empty})}),$H=$c($J),$G=r9(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>$C(sC(),{fork:()=>sC(),join:(e,t)=>e})),$Z=r9(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>$C(jJ,{fork:()=>jJ,join:(e,t)=>e})),$Q=r9(Symbol.for("effect/FiberRef/currentTracerEnabled"),()=>$C(!0)),$Y=r9(Symbol.for("effect/FiberRef/currentTracerTiming"),()=>$C(!0)),$X=r9(Symbol.for("effect/FiberRef/currentTracerSpanAnnotations"),()=>$C(Np())),$0=r9(Symbol.for("effect/FiberRef/currentTracerSpanLinks"),()=>$C(OM())),$1=Symbol.for("effect/Scope"),$2=Symbol.for("effect/CloseableScope"),$6=(e,t)=>e.addFinalizer(()=>LQ(t)),$3=(e,t)=>e.addFinalizer(t),$4=(e,t)=>e.close(t),$5=(e,t)=>e.fork(t),$8=rS(2,(e,t)=>{let r=rD(e,j7,sQ(t));switch(r._tag){case"None":return rD(j5(e),O9,sR({onNone:()=>{let t=ui(j8(e)).flatMap(e=>ui(No(e)).map(e=>`#${e}`));return new zn(t?`Interrupted by fibers: ${t.join(", ")}`:void 0)},onSome:rw}));case"Some":return r.value}}),$7=function(){class e extends globalThis.Error{commit(){return Pn(this)}toJSON(){let e={...this};return this.message&&(e.message=this.message),this.cause&&(e.cause=this.cause),e}[i_](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split("\n").slice(1).join("\n")}`:this.toString():"Bun"in globalThis?LE(jH(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,ae),e}(),$9=(e,t)=>{class r extends $7{_tag=t}return Object.assign(r.prototype,e),r.prototype.name=t,r},ze=Symbol.for("effect/Cause/errors/RuntimeException"),zt=$9({[ze]:ze},"RuntimeException"),zr=Symbol.for("effect/Cause/errors/InterruptedException"),zn=$9({[zr]:zr},"InterruptedException"),zi=e=>nw(e,zr),za=Symbol.for("effect/Cause/errors/IllegalArgument"),zs=$9({[za]:za},"IllegalArgumentException"),zo=Symbol.for("effect/Cause/errors/NoSuchElement"),zl=$9({[zo]:zo},"NoSuchElementException"),zu=e=>nw(e,zo),zc=Symbol.for("effect/Cause/errors/InvalidPubSubCapacityException"),zh=$9({[zc]:zc},"InvalidPubSubCapacityException"),zf=Symbol.for("effect/Cause/errors/ExceededCapacityException"),zd=$9({[zf]:zf},"ExceededCapacityException"),zp=Symbol.for("effect/Cause/errors/Timeout"),zm=$9({[zp]:zp},"TimeoutException"),zg=Symbol.for("effect/Cause/errors/UnknownException"),zy=function(){class e extends $7{_tag="UnknownException";error;constructor(e,t){super(t??"An unknown error occurred",{cause:e}),this.error=e}}return Object.assign(e.prototype,{[zg]:zg,name:"UnknownException"}),e}(),zb=e=>LJ(e)&&"_tag"in e&&("Success"===e._tag||"Failure"===e._tag),zS=e=>"Failure"===e._tag,zv=e=>"Success"===e._tag,zw=rS(2,(e,t)=>{switch(e._tag){case iB:return zT(e.effect_instruction_i0);case iV:return z$(t)}}),zx=e=>zw(e,void 0),zk=(e,t)=>zH(e,t?.parallel?jQ:jY),z_=e=>zT(jG(e)),zE=rS(2,(e,t)=>{switch(e._tag){case iB:return!1;case iV:return t(e.effect_instruction_i0)}}),zI=e=>zT(jH(e)),zT=e=>{let t=new LK(iB);return t.effect_instruction_i0=e,t},zO=rS(2,(e,t)=>{switch(e._tag){case iB:return zT(e.effect_instruction_i0);case iV:return t(e.effect_instruction_i0)}}),zC=rS(2,(e,t)=>{switch(e._tag){case iB:return PD(zT(e.effect_instruction_i0));case iV:return t(e.effect_instruction_i0)}}),zF=rS(2,(e,t)=>{switch(e._tag){case iB:return PD(zT(e.effect_instruction_i0));case iV:return Pr(t(e.effect_instruction_i0))}}),zA=rS(2,(e,t)=>{switch(e._tag){case iB:return t(e.effect_instruction_i0);case iV:return e.effect_instruction_i0}}),zM=e=>zT(jZ(e)),zN=rS(2,(e,t)=>{switch(e._tag){case iB:return zT(e.effect_instruction_i0);case iV:return z$(t(e.effect_instruction_i0))}}),zR=rS(2,(e,{onFailure:t,onSuccess:r})=>{switch(e._tag){case iB:return zT(rD(e.effect_instruction_i0,Ls(t)));case iV:return z$(r(e.effect_instruction_i0))}}),zD=rS(2,(e,t)=>{switch(e._tag){case iB:return zT(rD(e.effect_instruction_i0,Ls(t)));case iV:return z$(e.effect_instruction_i0)}}),zj=rS(2,(e,t)=>{switch(e._tag){case iB:return zT(t(e.effect_instruction_i0));case iV:return z$(e.effect_instruction_i0)}}),zL=rS(2,(e,{onFailure:t,onSuccess:r})=>{switch(e._tag){case iB:return t(e.effect_instruction_i0);case iV:return r(e.effect_instruction_i0)}}),zP=rS(2,(e,{onFailure:t,onSuccess:r})=>{switch(e._tag){case iB:return t(e.effect_instruction_i0);case iV:return r(e.effect_instruction_i0)}}),z$=e=>{let t=new LV(iV);return t.effect_instruction_i0=e,t},zz=z$(void 0),zU=rS(2,(e,t)=>zJ(e,t,{onSuccess:(e,t)=>[e,t],onFailure:jY})),zB=rS(2,(e,t)=>zJ(e,t,{onSuccess:(e,t)=>e,onFailure:jY})),zW=rS(2,(e,t)=>zJ(e,t,{onSuccess:(e,t)=>t,onFailure:jY})),zq=rS(2,(e,t)=>zJ(e,t,{onSuccess:(e,t)=>[e,t],onFailure:jQ})),zK=rS(2,(e,t)=>zJ(e,t,{onSuccess:(e,t)=>e,onFailure:jQ})),zV=rS(2,(e,t)=>zJ(e,t,{onSuccess:(e,t)=>t,onFailure:jQ})),zJ=rS(3,(e,t,{onFailure:r,onSuccess:n})=>{switch(e._tag){case iB:switch(t._tag){case iV:return zT(e.effect_instruction_i0);case iB:return zT(r(e.effect_instruction_i0,t.effect_instruction_i0))}case iV:switch(t._tag){case iV:return z$(n(e.effect_instruction_i0,t.effect_instruction_i0));case iB:return zT(t.effect_instruction_i0)}}}),zH=(e,t)=>{let r=OD(e);return O7(r)?rD(Cb(r),cB(rD(Ct(r),zN(OR)),(e,r)=>rD(e,zJ(r,{onSuccess:(e,t)=>rD(e,OK(t)),onFailure:t}))),zN(O$),zN(e=>OP(e)),sF):sC()},zG=e=>({...i9,[Lj]:LL,state:MT({_tag:LR,joiners:[]}),commit(){return zY(this)},blockingOn:e}),zZ=()=>Pu(Po,e=>zQ(e)),zQ=e=>PL(()=>zG(e)),zY=e=>L0(t=>{let r=MA(e.state);switch(r._tag){case LD:return t(r.effect);case LR:return r.joiners.push(t),Ur(e,t)}},e.blockingOn),zX=rS(2,(e,t)=>P_(t,e)),z0=rS(2,(e,t)=>PL(()=>{let r=MA(e.state);switch(r._tag){case LD:return!1;case LR:MP(e.state,LP(t));for(let e=0,n=r.joiners.length;e<n;e++)r.joiners[e](t);return!0}})),z1=rS(2,(e,t)=>z0(e,t)),z2=rS(2,(e,t)=>z0(e,Pn(t))),z6=rS(2,(e,t)=>z0(e,Pi(t))),z3=rS(2,(e,t)=>z0(e,Pa(t))),z4=rS(2,(e,t)=>z0(e,Ps(t))),z5=rS(2,(e,t)=>z0(e,L7(t))),z8=rS(2,(e,t)=>z0(e,Pe(t))),z7=rS(2,(e,t)=>z0(e,Pw(t))),z9=rS(2,(e,t)=>z0(e,PD(t))),Ue=rS(2,(e,t)=>z0(e,PL(t))),Ut=(e,t)=>{let r=MA(e.state);if(r._tag===LR){MP(e.state,LP(t));for(let e=0,n=r.joiners.length;e<n;e++)r.joiners[e](t)}},Ur=(e,t)=>PL(()=>{let r=MA(e.state);if(r._tag===LR){let e=r.joiners.indexOf(t);e>=0&&r.joiners.splice(e,1)}}),Un=LH(e=>z$(e.currentContext)),Ui=()=>Un,Ua=e=>Pu(Ui(),e),Us=rS(2,(e,t)=>$T($R,t)(e)),Uo=rS(2,(e,t)=>$O($R,e=>Ob(e,t))(e)),Ul=rS(2,(e,t)=>Ua(r=>Us(e,t(r)))),Uu=rS(2,(e,t)=>Pu(e,e=>Pu(t.predicate(e),r=>r?PD(e):t.orElse(e)))),Uc=rS(2,(e,t)=>Uu(e,{predicate:t.predicate,orElse:e=>Pn(t.orFailWith(e))})),Uh=e=>{let t=e.currentSpan;return void 0!==t&&"Span"===t._tag?sF(t):sC()},Uf={_tag:"Span",spanId:"noop",traceId:"noop",sampled:!1,status:{_tag:"Ended",startTime:BigInt(0),endTime:BigInt(0),exit:zz},attributes:new Map,links:[],kind:"internal",attribute(){},event(){},end(){},addLinks(){}},Ud=Lj,Up=zZ,Um=zQ,Ug=zY,Uy=zX,Ub=z0,US=z1,Uv=z2,Uw=z6,Ux=z3,Uk=z4,U_=z5,UE=z8,UI=e=>Pu(Po,t=>z0(e,Pw(t))),UT=z7,UO=e=>PL(()=>MA(e.state)._tag===LD),UC=e=>PL(()=>{let t=MA(e.state);switch(t._tag){case LD:return sF(t.effect);case LR:return sC()}}),UF=z9,UA=Ue,UM=zG,UN=Ut,UR=zb,UD=zS,Uj=zv,UL=e=>{switch(e._tag){case iB:return j6(e.effect_instruction_i0);case iV:return!1}},UP=zw,U$=zx,Uz=e=>{switch(e._tag){case iB:return sF(e.effect_instruction_i0);case iV:return sC()}},UU=zk,UB=z_,UW=zE,Uq=zI,UK=zT,UV=zO,UJ=zC,UH=e=>rD(e,zO(rw)),UG=zF,UZ=e=>{switch(e._tag){case"Left":return zI(e.left);case"Right":return z$(e.right)}},UQ=e=>{switch(e._tag){case"None":return zI(void 0);case"Some":return z$(e.value)}},UY=zA,UX=zM,U0=zN,U1=zR,U2=zD,U6=zj,U3=zL,U4=zP,U5=z$,U8=zz,U7=zU,U9=zB,Be=zW,Bt=zq,Br=zK,Bn=zV,Bi=zJ,Ba=Symbol.for("effect/MutableHashMap"),Bs={[Ba]:Ba,[Symbol.iterator](){return new Bo(this)},toString(){return iI(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(iE)}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}};class Bo{self;referentialIterator;bucketIterator;constructor(e){this.self=e,this.referentialIterator=e.referential[Symbol.iterator]()}next(){if(void 0!==this.bucketIterator)return this.bucketIterator.next();let e=this.referentialIterator.next();return e.done?(this.bucketIterator=new Bl(this.self.buckets.values()),this.next()):e}[Symbol.iterator](){return new Bo(this.self)}}class Bl{backing;constructor(e){this.backing=e}currentBucket;next(){if(void 0===this.currentBucket){let e=this.backing.next();if(e.done)return e;this.currentBucket=e.value[Symbol.iterator]()}let e=this.currentBucket.next();return e.done?(this.currentBucket=void 0,this.next()):e}}let Bu=()=>{let e=Object.create(Bs);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},Bc=(...e)=>Bh(e),Bh=e=>{let t=Bu();for(let[r,n]of e)By(t,r,n);return t},Bf=rS(2,(e,t)=>{if(!1===ix(t))return e.referential.has(t)?sF(e.referential.get(t)):sC();let r=t[is](),n=e.buckets.get(r);return void 0===n?sC():Bm(e,n,t)}),Bd=e=>{let t=Array.from(e.referential.keys());for(let r of e.buckets.values())for(let e=0,n=r.length;e<n;e++)t.push(r[e][0]);return t},Bp=e=>{let t=Array.from(e.referential.values());for(let r of e.buckets.values())for(let e=0,n=r.length;e<n;e++)t.push(r[e][1]);return t},Bm=(e,t,r,n=!1)=>{for(let i=0,a=t.length;i<a;i++)if(r[iS](t[i][0])){let r=t[i][1];return n&&(t.splice(i,1),e.bucketsSize--),sF(r)}return sC()},Bg=rS(2,(e,t)=>sN(Bf(e,t))),By=rS(3,(e,t,r)=>{if(!1===ix(t))return e.referential.set(t,r),e;let n=t[is](),i=e.buckets.get(n);return void 0===i?e.buckets.set(n,[[t,r]]):(Bb(e,i,t),i.push([t,r])),e.bucketsSize++,e}),Bb=(e,t,r)=>{for(let n=0,i=t.length;n<i;n++)if(r[iS](t[n][0])){t.splice(n,1),e.bucketsSize--;return}},BS=rS(3,(e,t,r)=>{if(!1===ix(t))return e.referential.has(t)&&e.referential.set(t,r(e.referential.get(t))),e;let n=t[is](),i=e.buckets.get(n);if(void 0===i)return e;let a=Bm(e,i,t,!0);return sM(a)||(i.push([t,r(a.value)]),e.bucketsSize++),e}),Bv=rS(3,(e,t,r)=>{if(!1===ix(t)){let n=r(Bf(e,t));return sN(n)?By(e,t,n.value):Bw(e,t),e}let n=t[is](),i=e.buckets.get(n);if(void 0===i){let n=r(sC());return sN(n)?By(e,t,n.value):e}let a=r(Bm(e,i,t,!0));return sM(a)?0===i.length&&e.buckets.delete(n):(i.push([t,a.value]),e.bucketsSize++),e}),Bw=rS(2,(e,t)=>{if(!1===ix(t))return e.referential.delete(t),e;let r=t[is](),n=e.buckets.get(r);return void 0===n||(Bb(e,n,t),0===n.length&&e.buckets.delete(r)),e}),Bx=e=>(e.referential.clear(),e.buckets.clear(),e.bucketsSize=0,e),Bk=e=>e.referential.size+e.bucketsSize,B_=e=>0===Bk(e),BE=rS(2,(e,t)=>{for(let r of(e.referential.forEach(t),e.buckets.values()))for(let[e,n]of r)t(n,e)}),BI=Symbol.for("effect/MutableList"),BT={[BI]:BI,[Symbol.iterator](){let e=!1,t=this.head;return{next(){if(e)return this.return();if(null==t)return e=!0,this.return();let r=t.value;return t=t.next,{done:e,value:r}},return:t=>(e||(e=!0),{done:!0,value:t})}},toString(){return iI(this.toJSON())},toJSON(){return{_id:"MutableList",values:Array.from(this).map(iE)}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},BO=e=>({value:e,removed:!1,prev:void 0,next:void 0}),BC=()=>{let e=Object.create(BT);return e.head=void 0,e.tail=void 0,e._length=0,e},BF=e=>{let t=BC();for(let r of e)BP(t,r);return t},BA=(...e)=>BF(e),BM=e=>0===BN(e),BN=e=>e._length,BR=e=>void 0===e.tail?void 0:e.tail.value,BD=e=>void 0===e.head?void 0:e.head.value,Bj=rS(2,(e,t)=>{let r=e.head;for(;void 0!==r;)t(r.value),r=r.next}),BL=e=>(e._length=0,e.head=void 0,e.tail=void 0,e),BP=rS(2,(e,t)=>{let r=BO(t);return void 0===e.head&&(e.head=r),void 0===e.tail||(e.tail.next=r,r.prev=e.tail),e.tail=r,e._length+=1,e}),B$=e=>{let t=e.head;if(void 0!==t)return BB(e,t),t.value},Bz=e=>{let t=e.tail;if(void 0!==t)return BB(e,t),t.value},BU=rS(2,(e,t)=>{let r=BO(t);return r.next=e.head,void 0!==e.head&&(e.head.prev=r),e.head=r,void 0===e.tail&&(e.tail=r),e._length+=1,e}),BB=(e,t)=>{!t.removed&&(t.removed=!0,void 0!==t.prev&&void 0!==t.next?(t.prev.next=t.next,t.next.prev=t.prev):void 0!==t.prev?(e.tail=t.prev,t.prev.next=void 0):void 0!==t.next?(e.head=t.next,t.next.prev=void 0):(e.tail=void 0,e.head=void 0),e._length>0&&(e._length-=1))},BW=Symbol.for("effect/MutableQueue"),Bq=Symbol.for("effect/mutable/MutableQueue/Empty"),BK={[BW]:BW,[Symbol.iterator](){return Array.from(this.queue)[Symbol.iterator]()},toString(){return iI(this.toJSON())},toJSON(){return{_id:"MutableQueue",values:Array.from(this).map(iE)}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},BV=e=>{let t=Object.create(BK);return t.queue=BC(),t.capacity=e,t},BJ=e=>BV(e),BH=()=>BV(void 0),BG=e=>BN(e.queue),BZ=e=>BM(e.queue),BQ=e=>void 0!==e.capacity&&BN(e.queue)===e.capacity,BY=e=>void 0===e.capacity?1/0:e.capacity,BX=rS(2,(e,t)=>{let r=BN(e.queue);return(void 0===e.capacity||r!==e.capacity)&&(BP(t)(e.queue),!0)}),B0=rS(2,(e,t)=>{let r,n=t[Symbol.iterator](),i=OM(),a=!0;for(;a&&(r=n.next())&&!r.done;)a=BX(r.value)(e);for(;null!=r&&!r.done;)i=OK(r.value)(i),r=n.next();return O$(i)}),B1=rS(2,(e,t)=>BM(e.queue)?t:B$(e.queue)),B2=rS(2,(e,t)=>{let r=OM(),n=0;for(;n<t;){let t=B1(Bq)(e);if(t===Bq)break;r=OK(t)(r),n+=1}return O$(r)}),B6=Symbol.for("effect/Clock"),B3=Os("effect/Clock"),B4=0x80000000-1,B5={unsafeSchedule(e,t){let r=Fh(t);if(r>B4)return rI;let n=!1,i=setTimeout(()=>{n=!0,e()},r);return()=>(clearTimeout(i),!n)}},B8=(u=BigInt(1e6),"undefined"==typeof performance?()=>BigInt(Date.now())*u:()=>(void 0===l&&(l=BigInt(Date.now())*u-BigInt(Math.round(1e6*performance.now()))),l+BigInt(Math.round(1e6*performance.now())))),B7=function(){let e="object"==typeof process&&"hrtime"in process&&"function"==typeof process.hrtime.bigint?process.hrtime:void 0;if(!e)return B8;let t=B8()-e.bigint();return()=>t+e.bigint()}();class B9{[B6]=B6;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return B7()}currentTimeMillis=PL(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=PL(()=>this.unsafeCurrentTimeNanos());scheduler(){return PD(B5)}sleep(e){return L1(t=>LQ(PL(B5.unsafeSchedule(()=>t(PW),e))))}}let We=()=>new B9,Wt="InvalidData",Wr="MissingData",Wn="SourceUnavailable",Wi="Unsupported",Wa=Symbol.for("effect/ConfigError"),Ws={_tag:"ConfigError",[Wa]:Wa},Wo=(e,t)=>{let r=Object.create(Ws);return r._op="And",r.left=e,r.right=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),Object.defineProperty(r,"message",{enumerable:!1,get(){return this.toString()}}),r},Wl=(e,t)=>{let r=Object.create(Ws);return r._op="Or",r.left=e,r.right=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),Object.defineProperty(r,"message",{enumerable:!1,get(){return this.toString()}}),r},Wu=(e,t,r={pathDelim:"."})=>{let n=Object.create(Ws);return n._op=Wt,n.path=e,n.message=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){let e=rD(this.path,c9(r.pathDelim));return`(Invalid data at ${e}: "${this.message}")`}}),n},Wc=(e,t,r={pathDelim:"."})=>{let n=Object.create(Ws);return n._op=Wr,n.path=e,n.message=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){let e=rD(this.path,c9(r.pathDelim));return`(Missing data at ${e}: "${this.message}")`}}),n},Wh=(e,t,r,n={pathDelim:"."})=>{let i=Object.create(Ws);return i._op=Wn,i.path=e,i.message=t,i.cause=r,Object.defineProperty(i,"toString",{enumerable:!1,value(){let e=rD(this.path,c9(n.pathDelim));return`(Source unavailable at ${e}: "${this.message}")`}}),i},Wf=(e,t,r={pathDelim:"."})=>{let n=Object.create(Ws);return n._op=Wi,n.path=e,n.message=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){let e=rD(this.path,c9(r.pathDelim));return`(Unsupported operation at ${e}: "${this.message}")`}}),n},Wd=rS(2,(e,t)=>{switch(e._op){case"And":return Wo(Wd(e.left,t),Wd(e.right,t));case"Or":return Wl(Wd(e.left,t),Wd(e.right,t));case Wt:return Wu([...t,...e.path],e.message);case Wr:return Wc([...t,...e.path],e.message);case Wn:return Wh([...t,...e.path],e.message,e.cause);case Wi:return Wf([...t,...e.path],e.message)}}),Wp={andCase:(e,t,r)=>t&&r,orCase:(e,t,r)=>t&&r,invalidDataCase:rI,missingDataCase:rE,sourceUnavailableCase:rI,unsupportedCase:rI},Wm=rS(3,(e,t,r)=>{let n=[e],i=[];for(;n.length>0;){let e=n.pop();switch(e._op){case"And":n.push(e.right),n.push(e.left),i.push(aO({_op:"AndCase"}));break;case"Or":n.push(e.right),n.push(e.left),i.push(aO({_op:"OrCase"}));break;case Wt:i.push(aI(r.invalidDataCase(t,e.path,e.message)));break;case Wr:i.push(aI(r.missingDataCase(t,e.path,e.message)));break;case Wn:i.push(aI(r.sourceUnavailableCase(t,e.path,e.message,e.cause)));break;case Wi:i.push(aI(r.unsupportedCase(t,e.path,e.message)))}}let a=[];for(;i.length>0;){let e=i.pop();switch(e._op){case"Left":switch(e.left._op){case"AndCase":{let e=a.pop(),n=a.pop(),i=r.andCase(t,e,n);a.push(i);break}case"OrCase":{let e=a.pop(),n=a.pop(),i=r.orCase(t,e,n);a.push(i)}}break;case"Right":a.push(e.right)}}if(0===a.length)throw Error("BUG: ConfigError.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return a.pop()}),Wg={_tag:"Empty"},Wy=rS(2,(e,t)=>({_tag:"AndThen",first:e,second:t})),Wb=rS(2,(e,t)=>Wy(e,{_tag:"MapName",f:t})),WS=rS(2,(e,t)=>Wy(e,{_tag:"Nested",name:t})),Wv=rS(2,(e,t)=>Wy(e,{_tag:"Unnested",name:t})),Ww=rS(2,(e,t)=>{let r=Rn(t),n=e;for(;N7(r);){let e=r.head;switch(e._tag){case"Empty":r=r.tail;break;case"AndThen":r=Rt(e.first,Rt(e.second,r.tail));break;case"MapName":n=cF(n,e.f),r=r.tail;break;case"Nested":n=uh(n,e.name),r=r.tail;break;case"Unnested":if(!rD(uC(n),op(e.name)))return aO(Wc(n,`Expected ${e.name} to be in path in ConfigProvider#unnested`));n=uR(n),r=r.tail}}return aI(n)}),Wx="Constant",Wk="Fail",W_="Fallback",WE="Described",WI="Lazy",WT="MapOrFail",WO="Nested",WC="Primitive",WF="Sequence",WA="HashMap",WM="ZipWith",WN=e=>e.toLowerCase(),WR=e=>e.toUpperCase(),WD=(e,t,r)=>t instanceof RegExp?e.replace(t,r):t.reduce((e,t)=>e.replace(t,r),e),Wj=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],WL=/[^A-Z0-9]+/gi,WP=(e,t={})=>{let{delimiter:r=" ",splitRegexp:n=Wj,stripRegexp:i=WL,transform:a=WN}=t,s=WD(WD(e,n,"$1\0$2"),i,"\0"),o=0,l=s.length;for(;"\0"===s.charAt(o);)o++;for(;"\0"===s.charAt(l-1);)l--;return s.slice(o,l).split("\0").map(a).join(r)},W$=(e,t)=>WP(e,{delimiter:"_",transform:WR,...t}),Wz=(e,t)=>WP(e,{delimiter:"-",...t}),WU=(e,t)=>WP(e,{delimiter:"_",...t}),WB=(e,t)=>[...e,...t],WW=Symbol.for("effect/ConfigProvider"),Wq=Os("effect/ConfigProvider"),WK=Symbol.for("effect/ConfigProviderFlat"),WV=e=>({[WW]:WW,pipe(){return ij(this,arguments)},...e}),WJ=e=>({[WK]:WK,patch:e.patch,load:(t,r,n=!0)=>e.load(t,r,n),enumerateChildren:e.enumerateChildren}),WH=e=>WV({load:t=>Pu(WQ(e,cO(),t,!1),e=>sR(uC(e),{onNone:()=>Pn(Wc(cO(),`Expected a single value having structure: ${t}`)),onSome:PD})),flattened:e}),WG=e=>{let{pathDelim:t,seqDelim:r}=Object.assign({},{pathDelim:"_",seqDelim:","},e),n=()=>"undefined"!=typeof process&&"env"in process&&"object"==typeof process.env?process.env:{};return WH(WJ({load:(e,i,a=!0)=>{let s=rD(e,c9(t)),o=n();return rD(s in o?sF(o[s]):sC(),PT(()=>Wc(e,`Expected ${s} to exist in the process context`)),Pu(t=>W5(t,e,i,r,a)))},enumerateChildren:e=>PL(()=>Mt(Object.keys(n()).map(e=>e.toUpperCase().split(t)).filter(t=>{for(let r=0;r<e.length;r++){let n=rD(e,uI(r)),i=t[r];if(void 0===i||n!==i)return!1}return!0}).flatMap(t=>t.slice(e.length,e.length+1)))),patch:Wg}))},WZ=(e,t)=>{let{pathDelim:r,seqDelim:n}=Object.assign({seqDelim:",",pathDelim:"."},t),i=e=>rD(e,c9(r)),a=e=>e.split(r),s=qr(e,e=>a(e),i);return WH(WJ({load:(e,t,r=!0)=>{let a=i(e);return rD(s.has(a)?sF(s.get(a)):sC(),PT(()=>Wc(e,`Expected ${a} to exist in the provided map`)),Pu(i=>W5(i,e,t,n,r)))},enumerateChildren:e=>PL(()=>Mt(ui(s.keys()).map(a).filter(t=>{for(let r=0;r<e.length;r++){let n=rD(e,uI(r)),i=t[r];if(void 0===i||n!==i)return!1}return!0}).flatMap(t=>t.slice(e.length,e.length+1)))),patch:Wg}))},WQ=(e,t,r,n)=>{switch(r._tag){case Wx:return PD(cC(r.value));case WE:return Pj(()=>WQ(e,t,r.config,n));case Wk:return Pn(Wc(t,r.message));case W_:return rD(Pj(()=>WQ(e,t,r.first,n)),L6(i=>r.condition(i)?rD(WQ(e,t,r.second,n),L6(e=>Pn(Wl(i,e)))):Pn(i)));case WI:return Pj(()=>WQ(e,t,r.config(),n));case WT:return Pj(()=>rD(WQ(e,t,r.original,n),Pu(Py(e=>rD(r.mapOrFail(e),PT(Wd(((e,t)=>{let r=t;if("Nested"===r._tag){let t=e.slice();for(;"Nested"===r._tag;)t.push(r.name),r=r.config;return t}return e})(t,r.original))))))));case WO:return Pj(()=>WQ(e,WB(t,cC(r.name)),r.config,n));case WC:return rD(Ww(t,e.patch),Pu(t=>rD(e.load(t,r,n),Pu(e=>{if(0===e.length){let e=rD(uA(t),s$(()=>"<n/a>"));return Pn(Wc([],`Expected ${r.description} with name ${e}`))}return PD(e)}))));case WF:return rD(Ww(t,e.patch),Pu(n=>rD(e.enumerateChildren(n),Pu(W7),Pu(n=>0===n.length?Pj(()=>PE(WQ(e,t,r.config,!0),cC)):rD(Py(n,n=>WQ(e,ud(t,`[${n}]`),r.config,!0)),PE(e=>{let t=cM(e);return 0===t.length?cC(cO()):cC(t)}))))));case WA:return Pj(()=>rD(Ww(t,e.patch),Pu(t=>rD(e.enumerateChildren(t),Pu(i=>rD(i,Py(i=>WQ(e,WB(t,cC(i)),r.valueConfig,n)),PE(e=>0===e.length?cC(Np()):rD(W8(e),cF(e=>Ng(u7(ui(i),e)))))))))));case WM:return Pj(()=>rD(WQ(e,t,r.left,n),Pt,Pu(i=>rD(WQ(e,t,r.right,n),Pt,Pu(e=>{if(aN(i)&&aN(e))return Pn(Wo(i.left,e.left));if(aN(i)&&aR(e))return Pn(i.left);if(aR(i)&&aN(e))return Pn(e.left);if(aR(i)&&aR(e)){var n,a;let s,o,l=rD(t,c9(".")),u=WY(t,l),[c,h]=(n=rD(i.right,cF(aI)),a=rD(e.right,cF(aI)),s=c1(n.length,e=>e>=a.length?sC():sF([u(e),e+1])),o=c1(a.length,e=>e>=n.length?sC():sF([u(e),e+1])),[WB(n,s),WB(a,o)]);return rD(c,u7(h),Py(([e,t])=>rD(P2(e,t),PE(([e,t])=>r.zip(e,t)))))}throw Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},WY=(e,t)=>r=>aO(Wc(e,`The element at index ${r} in a sequence at path "${t}" was missing`)),WX=rS(2,(e,t)=>WH(W0(e.flattened,t))),W0=(e,t)=>WJ({load:(t,r,n=!0)=>e.load(t,r,n),enumerateChildren:t=>e.enumerateChildren(t),patch:Wb(e.patch,t)}),W1=rS(2,(e,t)=>WH(WJ({load:(t,r)=>e.flattened.load(t,r,!0),enumerateChildren:t=>e.flattened.enumerateChildren(t),patch:WS(e.flattened.patch,t)}))),W2=rS(2,(e,t)=>WH(WJ({load:(t,r)=>e.flattened.load(t,r,!0),enumerateChildren:t=>e.flattened.enumerateChildren(t),patch:Wv(e.flattened.patch,t)}))),W6=rS(2,(e,t)=>WH(W3(e.flattened,()=>t().flattened))),W3=(e,t)=>WJ({load:(r,n,i)=>rD(Ww(r,e.patch),Pu(t=>e.load(t,n,i)),L6(e=>rD(PL(t),Pu(t=>rD(Ww(r,t.patch),Pu(e=>t.load(e,n,i)),L6(t=>Pn(Wl(e,t)))))))),enumerateChildren:r=>rD(Ww(r,e.patch),Pu(t=>e.enumerateChildren(t)),Pt,Pu(e=>rD(PL(t),Pu(t=>rD(Ww(r,t.patch),Pu(e=>t.enumerateChildren(e)),Pt,Pu(t=>{if(aN(e)&&aN(t))return Pn(Wo(e.left,t.left));if(aN(e)&&aR(t))return PD(t.right);if(aR(e)&&aN(t))return PD(e.right);if(aR(e)&&aR(t))return PD(rD(e.right,My(t.right)));throw Error("BUG: ConfigProvider.orElseFlat - please report an issue at https://github.com/Effect-TS/effect/issues")})))))),patch:Wg}),W4=rS(3,(e,t,r)=>{let n=cB(t,e,(e,t)=>W2(e,t));return W6(cW(t,r(n),(e,t)=>W1(e,t)),()=>e)}),W5=(e,t,r,n,i)=>i?rD(e.split(RegExp(`\\s*${xQ(n)}\\s*`)),Py(e=>r.parse(e.trim())),PT(Wd(t))):rD(r.parse(e),PI({onFailure:Wd(t),onSuccess:cC})),W8=e=>Object.keys(e[0]).map(t=>e.map(e=>e[t])),W7=e=>rD(Py(e,qt),PI({onFailure:()=>cO(),onSuccess:u4(xj)}),Pt,PE(aq)),W9=/(^.+)(\[(\d+)\])$/,qe=/^(\[(\d+)\])$/,qt=e=>{let t=e.match(qe);if(null!==t){let e=t[2];return rD(void 0!==e&&e.length>0?sF(e):sC(),s1(qi))}return sC()},qr=(e,t,r)=>{let n=new Map;for(let[i,a]of e){let e=rD(t(i),cA(e=>sR(qn(e),{onNone:()=>cC(e),onSome:([e,t])=>l9(e,`[${t}]`)})));n.set(r(e),a)}return n},qn=e=>{let t=e.match(W9);if(null!==t){let e=t[1],r=t[3];return ot([void 0!==e&&e.length>0?sF(e):sC(),rD(void 0!==r&&r.length>0?sF(r):sC(),s1(qi))])}return sC()},qi=e=>{let t=Number.parseInt(e);return Number.isNaN(t)?sC():sF(t)},qa=Symbol.for("effect/Console"),qs=Os("effect/Console"),qo={[qa]:qa,assert:(e,...t)=>PL(()=>{console.assert(e,...t)}),clear:PL(()=>{console.clear()}),count:e=>PL(()=>{console.count(e)}),countReset:e=>PL(()=>{console.countReset(e)}),debug:(...e)=>PL(()=>{console.debug(...e)}),dir:(e,t)=>PL(()=>{console.dir(e,t)}),dirxml:(...e)=>PL(()=>{console.dirxml(...e)}),error:(...e)=>PL(()=>{console.error(...e)}),group:e=>e?.collapsed?PL(()=>console.groupCollapsed(e?.label)):PL(()=>console.group(e?.label)),groupEnd:PL(()=>{console.groupEnd()}),info:(...e)=>PL(()=>{console.info(...e)}),log:(...e)=>PL(()=>{console.log(...e)}),table:(e,t)=>PL(()=>{console.table(e,t)}),time:e=>PL(()=>console.time(e)),timeEnd:e=>PL(()=>console.timeEnd(e)),timeLog:(e,...t)=>PL(()=>{console.timeLog(e,...t)}),trace:(...e)=>PL(()=>{console.trace(...e)}),warn:(...e)=>PL(()=>{console.warn(...e)}),unsafe:console},ql=Symbol.for("effect/Random"),qu=Os("effect/Random");class qc{seed;[ql]=ql;PRNG;constructor(e){this.seed=e,this.PRNG=new n6(e)}get next(){return PL(()=>this.PRNG.number())}get nextBoolean(){return PE(this.next,e=>e>.5)}get nextInt(){return PL(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(e,t){return PE(this.next,r=>(t-e)*r+e)}nextIntBetween(e,t){return PL(()=>this.PRNG.integer(t-e)+e)}shuffle(e){return qh(e,e=>this.nextIntBetween(0,e))}}let qh=(e,t)=>Pj(()=>rD(PL(()=>Array.from(e)),Pu(e=>{let r=[];for(let t=e.length;t>=2;t-=1)r.push(t);return rD(r,Pb(r=>rD(t(r),PE(t=>qf(e,r-1,t)))),LZ(OD(e)))}))),qf=(e,t,r)=>{let n=e[t];return e[t]=e[r],e[r]=n,e},qd=e=>new qc(io(e));class qp{values;[ql]=ql;index=0;constructor(e){if(this.values=e,0===e.length)throw Error("Requires at least one value")}getNextValue(){let e=this.values[this.index];return this.index=(this.index+1)%this.values.length,e}get next(){return PL(()=>{let e=this.getNextValue();return"number"==typeof e?Math.max(0,Math.min(1,e)):io(e)/0x7fffffff})}get nextBoolean(){return PL(()=>{let e=this.getNextValue();return"boolean"==typeof e?e:io(e)%2==0})}get nextInt(){return PL(()=>{let e=this.getNextValue();return"number"==typeof e&&Number.isFinite(e)?Math.round(e):Math.abs(io(e))})}nextRange(e,t){return PE(this.next,r=>(t-e)*r+e)}nextIntBetween(e,t){return PL(()=>{let r=this.getNextValue();return"number"==typeof r&&Number.isFinite(r)?Math.max(e,Math.min(t-1,Math.round(r))):e+Math.abs(io(r))%(t-e)})}shuffle(e){return qh(e,e=>this.nextIntBetween(0,e))}}let qm=Symbol.for("effect/Tracer"),qg=e=>({[qm]:qm,...e}),qy=Os("effect/Tracer"),qb=Os("effect/ParentSpan"),qS=(h=(c="abcdef0123456789").length,function(e){let t="";for(let r=0;r<e;r++)t+=c.charAt(Math.floor(Math.random()*h));return t});class qv{name;parent;context;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];links;constructor(e,t,r,n,i,a){this.name=e,this.parent=t,this.context=r,this.startTime=i,this.kind=a,this.status={_tag:"Started",startTime:i},this.attributes=new Map,this.traceId="Some"===t._tag?t.value.traceId:qS(32),this.spanId=qS(16),this.links=Array.from(n)}end(e,t){this.status={_tag:"Ended",endTime:e,exit:t,startTime:this.status.startTime}}attribute(e,t){this.attributes.set(e,t)}event(e,t,r){this.events.push([e,t,r??{}])}addLinks(e){this.links.push(...e)}}let qw=qg({span:(e,t,r,n,i,a)=>new qv(e,t,r,n,i,a),context:e=>e()}),qx=e=>{if(e?.captureStackTrace===!1||e?.captureStackTrace!==void 0&&"boolean"!=typeof e.captureStackTrace)return e;let t=Error.stackTraceLimit;Error.stackTraceLimit=3;let r=Error();Error.stackTraceLimit=t;let n=!1;return{...e,captureStackTrace:()=>{if(!1!==n)return n;if(void 0!==r.stack){let e=r.stack.split("\n");if(void 0!==e[3])return n=e[3].trim()}}}},qk=Ok()("effect/Tracer/DisablePropagation",{defaultValue:rI}),q_=rD(Oh(),Od(B3,We()),Od(qs,qo),Od(qu,qd(Math.random())),Od(Wq,WG()),Od(qy,qw)),qE=r9(Symbol.for("effect/DefaultServices/currentServices"),()=>$A(q_)),qI=e=>LH(t=>e(t.currentDefaultServices)),qT=e=>qI(t=>e(t.unsafeMap.get(B3.key))),qO=qT(e=>e.currentTimeMillis),qC=qT(e=>e.currentTimeNanos),qF=rS(2,(e,t)=>$O(qE,Od(B3,t))(e)),qA=rS(2,(e,t)=>$O(qE,Od(Wq,t))(e)),qM=e=>qI(t=>e(t.unsafeMap.get(Wq.key))),qN=e=>qI(t=>e(t.unsafeMap.get(qu.key))),qR=rS(2,(e,t)=>$O(qE,Od(qu,t))(e)),qD=qN(e=>e.next),qj=qN(e=>e.nextInt),qL=qN(e=>e.nextBoolean),qP=e=>qI(t=>e(t.unsafeMap.get(qy.key))),q$=rS(2,(e,t)=>$O(qE,Od(qy,t))(e)),qz=B6,qU=We,qB=e=>{let t=C2(e);return qT(e=>e.sleep(t))},qW=qO,qq=qC,qK=qT,qV=B3;function qJ(e){return new qZ(e)}function qH(){return qJ(new Map)}let qG=Symbol.for("effect/FiberRefs");class qZ{locals;[qG]=qG;constructor(e){this.locals=e}pipe(){return ij(this,arguments)}}let qQ=rS(3,(e,t,r)=>{let n=new Map(e.locals);return r.locals.forEach((e,r)=>{let i=e[0][1];if(!e[0][0][iS](t)){if(!n.has(r)){if(iv(i,r.initial))return;n.set(r,[[t,r.join(r.initial,i)]]);return}let a=n.get(r),[s,o]=((e,t,r,n=!1)=>{let i,a=t,s=r,o=n;for(;void 0===i;)if(uw(a)&&uw(s)){let e=uF(a)[0],t=uR(a),r=uF(s)[0],n=uF(s)[1],l=uR(s);e.startTimeMillis<r.startTimeMillis?(s=l,o=!0):e.startTimeMillis>r.startTimeMillis?a=t:e.id<r.id?(s=l,o=!0):e.id>r.id?a=t:i=[n,o]}else i=[e.initial,!0];return i})(r,a,e);if(o){let e=r.diff(s,i),o=a[0][1],l=r.join(o,r.patch(e)(o));if(!iv(o,l)){let e,i=a[0][0];e=i[iS](t)?[[i,l],...a.slice(1)]:[[t,l],...a],n.set(r,e)}}}}),new qZ(n)}),qY=rS(2,(e,t)=>{let r=new Map;return qX(e,r,t),new qZ(r)}),qX=(e,t,r)=>{e.locals.forEach((e,n)=>{let i=e[0][1],a=n.patch(n.fork)(i);iv(i,a)?t.set(n,e):t.set(n,[[r,a],...e])})},q0=e=>Mt(e.locals.keys()),q1=rS(2,(e,t)=>{let r=new Map(e.locals);return r.delete(t),new qZ(r)}),q2=rS(2,(e,t)=>e.locals.has(t)?sF(uF(e.locals.get(t))[1]):sC()),q6=rS(2,(e,t)=>rD(q2(e,t),s$(()=>t.initial))),q3=rS(2,(e,{fiberId:t,fiberRef:r,value:n})=>{if(0===e.locals.size)return new qZ(new Map([[r,[[t,n]]]]));let i=new Map(e.locals);return q4(i,t,r,n),new qZ(i)}),q4=(e,t,r,n)=>{let i,a=e.get(r)??[];if(uw(a)){let[e,r]=uF(a);if(e[iS](t))if(iv(r,n))return;else i=[[t,n],...a.slice(1)];else i=[[t,n],...a]}else i=[[t,n]];e.set(r,i)},q5=rS(2,(e,{entries:t,forkAs:r})=>{if(0===e.locals.size)return new qZ(new Map(t));let n=new Map(e.locals);return void 0!==r&&qX(e,n,r),t.forEach(([e,t])=>{1===t.length?q4(n,t[0][0],e,t[0][1]):t.forEach(([t,r])=>{q4(n,t,e,r)})}),new qZ(n)}),q8=qG,q7=q1,q9=q0,Ke=qY,Kt=q2,Kr=q6,Kn=qQ,Ki=e=>Pb(q0(e),t=>$m(t,q6(e,t))),Ka=q3,Ks=q5,Ko=qJ,Kl=qH,Ku=P9,Kc=$e,Kh=$t,Kf=$r,Kd=$n,Kp=$i,Km=$a,Kg=$s,Ky=$o,Kb=rS(2,(e,t)=>$T(e,$P,t)),KS=rD(xj,sf(e=>e.ordinal)),Kv=sv(KS),Kw=sx(KS),Kx=sw(KS),Kk=sk(KS),K_=e=>{switch(e){case"All":return Ku;case"Debug":return Kp;case"Error":return Kh;case"Fatal":return Kc;case"Info":return Kd;case"Trace":return Km;case"None":return Kg;case"Warning":return Kf}},KE=e=>e.replace(/[\s="]/g,"_"),KI=e=>t=>{let r=KE(t.label);return`${r}=${e-t.startTime}ms`},KT=(e,t)=>({label:e,startTime:t}),KO=KI,KC=i2,KF=i6,KA=i3,KM=i4,KN=i8,KR=i9,KD=ae,Kj=at,KL=ar;class KP extends Kj{}class K$ extends KL{}let Kz=Symbol.for("effect/Readable"),KU=e=>nw(e,Kz),KB={[Kz]:Kz,pipe(){return ij(this,arguments)}},KW=e=>{let t=Object.create(KB);return t.get=e,t},Kq=rS(2,(e,t)=>KW(PE(e.get,t))),KK=rS(2,(e,t)=>KW(Pu(e.get,t))),KV=e=>KW(Pu(e,e=>e.get)),KJ=Symbol.for("effect/Ref"),KH={_A:e=>e};class KG extends KP{ref;commit(){return this.get}[KJ]=KH;[Kz]=Kz;constructor(e){super(),this.ref=e,this.get=PL(()=>MA(this.ref))}get;modify(e){return PL(()=>{let t=MA(this.ref),[r,n]=e(t);return t!==n&&MP(n)(this.ref),r})}}let KZ=e=>new KG(MT(e)),KQ=e=>PL(()=>KZ(e)),KY=e=>e.get,KX=rS(2,(e,t)=>e.modify(()=>[void 0,t])),K0=rS(2,(e,t)=>e.modify(e=>[e,t])),K1=rS(2,(e,t)=>e.modify(e=>[e,t(e)])),K2=rS(2,(e,t)=>e.modify(e=>{let r=t(e);switch(r._tag){case"None":return[e,e];case"Some":return[e,r.value]}})),K6=rS(2,(e,t)=>e.modify(()=>[t,t])),K3=rS(2,(e,t)=>e.modify(t)),K4=rS(3,(e,t,r)=>e.modify(e=>{let n=r(e);switch(n._tag){case"None":return[t,e];case"Some":return n.value}})),K5=rS(2,(e,t)=>e.modify(e=>[void 0,t(e)])),K8=rS(2,(e,t)=>e.modify(e=>{let r=t(e);return[r,r]})),K7=rS(2,(e,t)=>e.modify(e=>[void 0,sR(t(e),{onNone:()=>e,onSome:e=>e})])),K9=rS(2,(e,t)=>e.modify(e=>{let r=t(e);switch(r._tag){case"None":return[e,e];case"Some":return[r.value,r.value]}})),Ve=KJ,Vt=KQ,Vr=KY,Vn=K0,Vi=K1,Va=K2,Vs=K3,Vo=K4,Vl=KX,Vu=K6,Vc=K5,Vh=K8,Vf=K7,Vd=K9,Vp=KZ,Vm=qm,Vg=qb,Vy=qy,Vb=qg,VS=e=>({_tag:"ExternalSpan",spanId:e.spanId,traceId:e.traceId,sampled:e.sampled??!0,context:e.context??Oh()}),Vv=qP,Vw=qk,Vx="Empty",Vk="Remove",V_="Update",VE="AndThen",VI={_tag:Vx},VT=(e,t)=>{let r=new Map(e.locals),n=VI;for(let[e,i]of t.locals.entries()){let t=uF(i)[1],a=r.get(e);if(void 0!==a){let r=uF(a)[1];iv(r,t)||(n=VO({_tag:V_,fiberRef:e,patch:e.diff(r,t)})(n))}else n=VO({_tag:"Add",fiberRef:e,value:t})(n);r.delete(e)}for(let[e]of r.entries())n=VO({_tag:Vk,fiberRef:e})(n);return n},VO=rS(2,(e,t)=>({_tag:VE,first:e,second:t})),VC=rS(3,(e,t,r)=>{let n=r,i=cC(e);for(;uw(i);){let e=uF(i),r=uR(i);switch(e._tag){case Vx:i=r;break;case"Add":n=q3(n,{fiberId:t,fiberRef:e.fiberRef,value:e.value}),i=r;break;case Vk:n=q1(n,e.fiberRef),i=r;break;case V_:{let a=q6(n,e.fiberRef);n=q3(n,{fiberId:t,fiberRef:e.fiberRef,value:e.fiberRef.patch(e.patch)(a)}),i=r;break}case VE:i=uh(e.first)(uh(e.second)(r))}}return n}),VF="effect/MetricLabel",VA=Symbol.for(VF);class VM{key;value;[VA]=VA;_hash;constructor(e,t){this.key=e,this.value=t,this._hash=ip(VF+this.key+this.value)}[is](){return this._hash}[iS](e){return VR(e)&&this.key===e.key&&this.value===e.value}pipe(){return ij(this,arguments)}}let VN=(e,t)=>new VM(e,t),VR=e=>nw(e,VA),VD=rS(e=>LJ(e[0]),function(){let e=arguments;return $O(e[0],$L,"string"==typeof e[1]?N_(e[1],e[2]):t=>Object.entries(e[1]).reduce((e,[t,r])=>N_(e,t,r),t))}),Vj=e=>PE(e,sF),VL=e=>{let t,r;return"function"==typeof e?t=e:(t=e.try,r=e.catch),Pj(()=>{try{return PD(it(t))}catch(e){return Pn(r?it(()=>r(e)):new zy(e,"An unknown error occurred in Effect.try"))}})},VP=rS(3,(e,t,r)=>L6(e,e=>nw(e,t)&&e[t]===r.failure?r.onFailure(e):Pn(e))),V$=rS(2,(e,t)=>L2(e,e=>{let r=Lp(e,e=>j1(e)?sF(e):sC());switch(r._tag){case"None":return Pa(e);case"Some":return t(r.value.defect)}})),Vz=rS(2,(e,t)=>Pm(e,{onFailure:e=>{let r=t(e);switch(r._tag){case"None":return Pa(e);case"Some":return r.value}},onSuccess:PD})),VU=rS(2,(e,t)=>L2(e,e=>{let r=Lp(e,e=>j1(e)?sF(e):sC());switch(r._tag){case"None":return Pa(e);case"Some":{let n=t(r.value.defect);return"Some"===n._tag?n.value:Pa(e)}}})),VB=rS(e=>LJ(e[0]),(e,...t)=>{let r=t[t.length-1];return L3(e,2===t.length?nx(t[0]):e=>{let r=nw(e,"_tag")?e._tag:void 0;if(!r)return!1;for(let e=0;e<t.length-1;e++)if(t[e]===r)return!0;return!1},r)}),VW=rS(2,(e,t)=>{let r;return L3(e,e=>(r??=Object.keys(t),nw(e,"_tag")&&ns(e._tag)&&r.includes(e._tag)),e=>t[e._tag](e))}),Vq=qK(PD),VK=rS(2,(e,t)=>P3(qB(t),e)),VV=e=>LH((t,r)=>e({id:t.id(),status:r,interruptors:j8(t.getFiberRef($Z))})),VJ=VV(e=>Mu(e.interruptors)>0?Pv:PW),VH=VV(PD),VG=e=>Jz(e,Js,VT),VZ=PD({}),VQ=r8(PE,Pu),VY=r5(PE),VX=r4(PE),V0=rS(2,(e,t)=>Pj(()=>{let r,n=e[Symbol.iterator](),i=[],a=PD(!1),s=0;for(;(r=n.next())&&!r.done;){let e=r.value,n=s++;a=Pu(a,r=>r?(i.push(e),PD(!0)):t(e,n))}return PE(a,()=>i)})),V1=rS(2,(e,t)=>Pj(()=>{let r,n=e[Symbol.iterator](),i=[],a=PD(!0),s=0;for(;(r=n.next())&&!r.done;){let e=r.value,n=s++;a=Pu(a,r=>PE(r?t(e,n):PD(!1),t=>(t||i.push(e),t)))}return PE(a,()=>i)})),V2=e=>PA(e,()=>Pu(P1(),()=>V2(e))),V6=rS(2,(e,t)=>PE(Py(e,rw),cN(t))),V3=rS(3,(e,t,r)=>V5(e,t,e=>Pe(()=>r(e)))),V4=rS(3,(e,t,r)=>V5(e,t,()=>L9(r))),V5=rS(3,(e,t,r)=>Pu(e,e=>t(e)?PD(e):r(e))),V8=rS(3,(e,t,r)=>Pj(()=>t(e)?PD(e):Pn(r(e)))),V7=rS(e=>LJ(e[0]),(e,t,r)=>V5(e,t,e=>void 0===r?Pn(new zl):Pi(()=>r(e)))),V9=rS(2,(e,t)=>Pj(()=>{let r=e[Symbol.iterator](),n=r.next();return n.done?PD(sC()):Je(r,0,t,n.value)})),Je=(e,t,r,n)=>Pu(r(n,t),i=>{if(i)return PD(sF(n));let a=e.next();return a.done?PD(sC()):Je(e,t+1,r,a.value)}),Jt=rS(2,(e,t)=>Pd(t(Pd(e)))),Jr=rS(2,(e,t)=>Pg(e,{onFailure:e=>PD(t.onFailure(e)),onSuccess:e=>PD(t.onSuccess(e))})),Jn=rS(2,(e,t)=>Pj(()=>Ji(e[Symbol.iterator](),0,t))),Ji=(e,t,r)=>{let n=e.next();return n.done?PD(!0):Pu(r(n.value,t),n=>n?Ji(e,t+1,r):PD(n))},Ja=e=>{let t=Pu(Pu(e,()=>P1()),()=>t);return t},Js=LH(e=>PD(e.getFiberRefs())),Jo=e=>Jr(e,{onFailure:rC,onSuccess:rC}),Jl=e=>Pm(e,{onFailure:e=>Jd(e,"An error was silently ignored because it is not anticipated to be useful"),onSuccess:()=>PW}),Ju=(e,t)=>Pj(()=>t.while(e)?Pu(t.body(e),e=>Ju(e,t)):PD(e)),Jc=e=>(...t)=>{let r,n=sq(e);for(let e=0,n=t.length;e<n;e++){let n=t[e];jX(n)&&(r=void 0!==r?jY(r,n):n,t=[...t.slice(0,e),...t.slice(e+1)],e--)}return void 0===r&&(r=jJ),LH(e=>(e.log(t,r,n),PW))},Jh=Jc(),Jf=Jc(Km),Jd=Jc(Kp),Jp=Jc(Kd),Jm=Jc(Kf),Jg=Jc(Kh),Jy=Jc(Kc),Jb=rS(2,(e,t)=>Pu(qW,r=>$O(e,$$,Rl(KT(t,r))))),JS=$c($L),Jv=(e,t,r,n)=>Pj(()=>t(e)?Pu(n(e),i=>PE(Jv(r(e),t,r,n),Rl(i))):PL(()=>Rr())),Jw=(e,t,r,n)=>Pj(()=>t(e)?Pu(n(e),()=>Jw(r(e),t,r,n)):PW),Jx=rS(3,(e,t,r)=>Pj(()=>{let n,i=e[Symbol.iterator](),a=[],s=PD(t),o=0;for(;!(n=i.next()).done;){let e=o++,t=n.value;s=Pu(s,n=>PE(r(n,t,e),([e,t])=>(a.push(t),e)))}return PE(s,e=>[e,a])})),Jk=rS(2,(e,t)=>Pm(e,{onFailure:e=>Ps(()=>t(e)),onSuccess:PD})),J_=e=>rD(zZ(),Pu(t=>rD(Jz(e,P2(Js,PR),([e,t],[r,n])=>[VT(e,r),jS(t,n)]),P_(t),JI,PE(e=>P3(e,rD(zY(t),Pu(([e,t])=>LZ(P2(JC(e[0]),Pq(e[1])),t)))))))),JE=e=>PE(e,e=>!e),JI=e=>PE(Vt(!0),t=>LQ(PK(e,Vn(t,!1)))),JT=rS(2,(e,t)=>PA(e,()=>Pi(t))),JO=rS(2,(e,t)=>PA(e,()=>PL(t))),JC=e=>J6((t,r)=>rD(e,VC(t,r))),JF=rS(3,(e,t,r)=>Ua(n=>Us(e,Od(n,t,r)))),JA=rS(3,(e,t,r)=>Ua(n=>Pu(r,r=>Us(e,rD(n,Od(t,r)))))),JM=qN(PD),JN=rS(3,(e,t,r)=>ui(e).reduce((e,t,n)=>Pu(e,e=>r(e,t,n)),PD(t))),JR=rS(3,(e,t,r)=>ui(e).reduceRight((e,t,n)=>Pu(e,e=>r(t,e,n)),PD(t))),JD=rS(3,(e,t,r)=>Pu(PL(()=>e[Symbol.iterator]()),e=>Jj(e,0,t,r.while,r.body))),Jj=(e,t,r,n,i)=>{let a=e.next();return!a.done&&n(r)?Pu(i(r,a.value,t),r=>Jj(e,t+1,r,n,i)):PD(r)},JL=rS(2,(e,t)=>Pj(()=>JP(e,t))),JP=(e,t)=>Pu(e,r=>t<=0?PD(r):P3(P1(),JP(e,t-1))),J$=PD(sC()),Jz=rS(3,(e,t,r)=>Pu(t,n=>Pu(e,e=>PE(t,t=>[r(n,t),e])))),JU=rS(e=>LJ(e[0]),function(){return JB(arguments[0],"string"==typeof arguments[1]?[VN(arguments[1],arguments[2])]:Object.entries(arguments[1]).map(([e,t])=>VN(e,t)))}),JB=rS(2,(e,t)=>$O(e,$J,e=>ck(e,t))),JW=rS(2,(e,t)=>Pj(()=>{let r,n=e[Symbol.iterator](),i=[],a=PD(!1),s=0;for(;(r=n.next())&&!r.done;){let e=r.value,n=s++;a=Pu(a,r=>r?PD(!0):(i.push(e),t(e,n)))}return PE(a,()=>i)})),Jq=rS(2,(e,t)=>Pj(()=>{let r,n=e[Symbol.iterator](),i=[],a=PD(!0),s=0;for(;(r=n.next())&&!r.done;){let e=r.value,n=s++;a=Pu(a,r=>rD(r?t(e,n):PD(!1),PE(t=>(t&&i.push(e),t))))}return PE(a,()=>i)})),JK=rS(2,(e,{onFailure:t,onSuccess:r})=>Pm(e,{onFailure:e=>{let r=j9(e);switch(r._tag){case"Left":return P3(t(r.left),Pa(e));case"Right":return Pa(e)}},onSuccess:e=>LZ(r(e),e)})),JV=rS(2,(e,t)=>L2(e,e=>sR(Lr(e),{onNone:()=>Pa(e),onSome:r=>P3(t(r),Pa(e))}))),JJ=rS(2,(e,t)=>Pm(e,{onFailure:e=>{let r=j9(e);switch(r._tag){case"Left":return P3(t(r.left),Pa(e));case"Right":return Pa(e)}},onSuccess:PD})),JH=rS(3,(e,t,r)=>JJ(e,e=>nx(e,t)?r(e):PW)),JG=rS(2,(e,t)=>Pm(e,{onFailure:e=>P3(t(e),Pa(e)),onSuccess:PD})),JZ=rS(2,(e,t)=>Jz(e,t,(e,t)=>Fn(t-e))),JQ=Vv(PD),JY=e=>{let t,r;"function"==typeof e?t=e:(t=e.try,r=e.catch);let n=e=>r?Pi(()=>r(e)):Pn(new zy(e,"An unknown error occurred in Effect.tryPromise"));return t.length>=1?L1((e,r)=>{try{t(r).then(t=>e(PD(t)),t=>e(n(t)))}catch(t){e(n(t))}}):L1(e=>{try{t().then(t=>e(PD(t)),t=>e(n(t)))}catch(t){e(n(t))}})},JX=rS(2,(e,t)=>Pu(e,e=>VL({try:()=>t.try(e),catch:t.catch}))),J0=rS(2,(e,t)=>Pu(e,e=>JY({try:t.try.length>=1?r=>t.try(e,r):()=>t.try(e),catch:t.catch}))),J1=rS(2,(e,t)=>Pj(()=>t()?J$:Vj(e))),J2=rS(2,(e,t)=>Pu(t,t=>t?J$:Vj(e))),J6=e=>LH(t=>(t.setFiberRefs(e(t.id(),t.getFiberRefs())),PW)),J3=rS(3,(e,t,r)=>Ul(e,e=>Od(e,t,r(Og(e,t))))),J4=rS(2,(e,t)=>Pj(()=>t()?PE(e,sF):PD(sC()))),J5=rS(3,(e,t,r)=>Pu($c(t),t=>r(t)?PE(e,e=>[t,sF(e)]):PD([t,sC()]))),J8=rS(3,(e,t,r)=>Pu(Vr(t),t=>r(t)?PE(e,e=>[t,sF(e)]):PD([t,sC()]))),J7=rS(2,(e,t)=>t(e)),J9=e=>new Proxy({},{get:(t,r,n)=>(...t)=>Pu(e,e=>e[r](...t))}),He=e=>new Proxy({},{get:(t,r,n)=>Pu(e,e=>LJ(e[r])?e[r]:PD(e[r]))}),Ht=e=>Pu(Ui(),Oy(e)),Hr=rS(e=>LJ(e[0]),function(){let e=arguments;return $O(e[0],$X,"string"==typeof e[1]?N_(e[1],e[2]):t=>Object.entries(e[1]).reduce((e,[t,r])=>N_(e,t,r),t))}),Hn=Ht(qb),Hi=Pu(Ui(),e=>{let t=e.unsafeMap.get(qb.key);return void 0!==t&&"Span"===t._tag?PD(t):Pn(new zl)}),Ha=rS(e=>LJ(e[0]),(e,t,r)=>$O(e,$0,Oq({_tag:"SpanLink",span:t,attributes:r??{}}))),Hs=BigInt(0),Ho=s1(e=>Op(e.context,qk)?"Span"===e._tag?Ho(e.parent):sC():sF(e)),Hl=(e,t,r)=>{let n,i=!e.getFiberRef($Q)||r.context&&Op(r.context,qk),a=e.getFiberRef($R),s=r.parent?sF(r.parent):r.root?sC():Ho(Oy(a,qb));if(i){let e;e={name:t,parent:s,context:Od(r.context??Oh(),qk,!0)},n=Object.assign(Object.create(Uf),e)}else{let i=e.getFiberRef(qE),a=Op(i,qy),o=Op(i,qV),l=e.getFiberRef($Y),u=e.getFiberRefs(),c=Kt(u,$X),h=Kt(u,$0),f="Some"===h._tag?void 0!==r.links?[...OP(h.value),...r.links??[]]:OP(h.value):r.links??cO();n=a.span(t,s,r.context??Oh(),f,l?o.unsafeCurrentTimeNanos():Hs,r.kind??"internal",r),"Some"===c._tag&&Nq(c.value,(e,t)=>n.attribute(t,e)),void 0!==r.attributes&&Object.entries(r.attributes).forEach(([e,t])=>n.attribute(e,t))}return"function"==typeof r.captureStackTrace&&LF.set(n,r.captureStackTrace),n},Hu=$c($X),Hc=$c($0),Hh=(e,t,r,n)=>PL(()=>{"Ended"!==e.status._tag&&(zS(t)&&LF.has(e)&&e.attribute("code.stacktrace",LF.get(e)()),e.end(n?r.unsafeCurrentTimeNanos():Hs,t))}),Hf=(e,...t)=>{let r=qx(1===t.length?void 0:t[0]),n=t[t.length-1];return LH(t=>{let i=Hl(t,e,r),a=t.getFiberRef($Y),s=Op(t.getFiberRef(qE),B3);return PC(n(i),e=>Hh(i,e,s,a))})},Hd=rS(2,(e,t)=>JF(e,qb,t)),Hp=function(){let e="string"!=typeof arguments[0],t=e?arguments[1]:arguments[0],r=qx(e?arguments[2]:arguments[1]);if(e){let e=arguments[0];return Hf(t,r,t=>Hd(e,t))}return e=>Hf(t,r,t=>Hd(e,t))},Hm="Sequential",Hg="Parallel",Hy="ParallelN",Hb={_tag:Hm},HS=e=>e._tag===Hm,Hv=e=>e._tag===Hg,Hw=rS(2,(e,t)=>{switch(e._tag){case Hm:return t.onSequential();case Hg:return t.onParallel();case Hy:return t.onParallelN(e.parallelism)}}),Hx=Hb,Hk={_tag:Hg},H_=e=>({_tag:Hy,parallelism:e}),HE=HS,HI=Hv,HT=e=>e._tag===Hy,HO=Hw,HC=VI,HF=VT,HA=VO,HM=VC,HN="effect/FiberStatus",HR=Symbol.for(HN),HD="Done",Hj="Running",HL="Suspended",HP=ip(`${HN}-${HD}`);class H${runtimeFlags;[HR]=HR;_tag=Hj;constructor(e){this.runtimeFlags=e}[is](){return rD(io(HN),iu(io(this._tag)),iu(io(this.runtimeFlags)),ib(this))}[iS](e){return HB(e)&&e._tag===Hj&&this.runtimeFlags===e.runtimeFlags}}class Hz{runtimeFlags;blockingOn;[HR]=HR;_tag=HL;constructor(e,t){this.runtimeFlags=e,this.blockingOn=t}[is](){return rD(io(HN),iu(io(this._tag)),iu(io(this.runtimeFlags)),iu(io(this.blockingOn)),ib(this))}[iS](e){return HB(e)&&e._tag===HL&&this.runtimeFlags===e.runtimeFlags&&iv(this.blockingOn,e.blockingOn)}}let HU=new class{[HR]=HR;_tag=HD;[is](){return HP}[iS](e){return HB(e)&&e._tag===HD}},HB=e=>nw(e,HR),HW=HR,Hq=HU,HK=e=>new H$(e),HV=(e,t)=>new Hz(e,t),HJ=HB,HH=e=>e._tag===HD,HG=e=>e._tag===Hj,HZ=e=>e._tag===HL,HQ=Symbol.for("effect/Micro"),HY=Symbol.for("effect/Micro/MicroExit"),HX=e=>"object"==typeof e&&null!==e&&HQ in e,H0=Symbol.for("effect/Micro/MicroCause"),H1=e=>nw(e,H0),H2={_E:rw};class H6 extends globalThis.Error{_tag;traces;[H0];constructor(e,t,r){let n,i,a;const s=`MicroCause.${e}`;if(t instanceof globalThis.Error){n=`(${s}) ${t.name}`;const e=(i=t.message).split("\n").length;a=t.stack?`(${s}) ${t.stack.split("\n").slice(0,e+3).join("\n")}`:`${n}: ${i}`}else n=s,i=iC(t,0),a=`${n}: ${i}`;r.length>0&&(a+=`
    ${r.join("\n    ")}`),super(i),this._tag=e,this.traces=r,this[H0]=H2,this.name=n,this.stack=a}pipe(){return ij(this,arguments)}toString(){return this.stack}[i_](){return this.stack}}class H3 extends H6{error;constructor(e,t=[]){super("Fail",e,t),this.error=e}}let H4=(e,t=[])=>new H3(e,t);class H5 extends H6{defect;constructor(e,t=[]){super("Die",e,t),this.defect=e}}let H8=(e,t=[])=>new H5(e,t);class H7 extends H6{constructor(e=[]){super("Interrupt","interrupted",e)}}let H9=(e=[])=>new H7(e),Ge=e=>"Fail"===e._tag,Gt=e=>"Die"===e._tag,Gr=e=>"Interrupt"===e._tag,Gn=e=>"Fail"===e._tag?e.error:"Die"===e._tag?e.defect:e,Gi=rS(2,(e,t)=>{let r=[...e.traces,t];switch(e._tag){case"Die":return H8(e.defect,r);case"Interrupt":return H9(r);case"Fail":return H4(e.error,r)}}),Ga=Symbol.for("effect/Micro/MicroFiber"),Gs={_A:rw,_E:rw};class Go{context;interruptible;[Ga];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(e,t=!0){this.context=e,this.interruptible=t,this[Ga]=Gs}getRef(e){let t;return t=this.context,t.unsafeMap.has(e.key)?t.unsafeMap.get(e.key):T9(e)}addObserver(e){return this._exit?(e(this._exit),rC):(this._observers.push(e),()=>{let t=this._observers.indexOf(e);t>=0&&this._observers.splice(t,1)})}_interrupted=!1;unsafeInterrupt(){!this._exit&&(this._interrupted=!0,this.interruptible&&this.evaluate(Zo))}unsafePoll(){return this._exit}evaluate(e){if(this._exit)return;if(void 0!==this._yielded){let e=this._yielded;this._yielded=void 0,e()}let t=this.runLoop(e);if(t===Gv)return;let r=Gl.interruptChildren&&Gl.interruptChildren(this);if(void 0!==r)return this.evaluate(Ze(r,()=>t));this._exit=t;for(let e=0;e<this._observers.length;e++)this._observers[e](t);this._observers.length=0}runLoop(e){let t=!1,r=e;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!t&&this.getRef(ZF).shouldYield(this)){t=!0;let e=r;r=Ze(GM,()=>e)}if((r=r[Gg](this))===Gv){let e=this._yielded;if(HY in e)return this._yielded=void 0,e;return Gv}}}catch(e){if(!nw(r,Gg))return Zu(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`);return Zu(e)}}getCont(e){for(;;){let t=this._stack.pop();if(!t)return;let r=t[GS]&&t[GS](this);if(r)return{[e]:r};if(t[e])return t}}_yielded=void 0;yieldWith(e){return this._yielded=e,Gv}children(){return this._children??=new Set}}let Gl=r9("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),Gu=e=>{if(void 0!==e._children&&0!==e._children.size)return Gd(e._children)},Gc=e=>GH(t=>GC(e.addObserver(e=>t(GI(e))))),Gh=e=>Zr(Gc(e)),Gf=e=>GF(()=>(e.unsafeInterrupt(),G6(Gc(e)))),Gd=e=>GF(()=>{for(let t of e)t.unsafeInterrupt();let t=e[Symbol.iterator](),r=GF(()=>{let e=t.next();for(;!e.done;){if(e.value.unsafePoll()){e=t.next();continue}let n=e.value;return GH(e=>{n.addObserver(t=>{e(r)})})}return Zm});return r}),Gp=Symbol.for("effect/Micro/identifier"),Gm=Symbol.for("effect/Micro/args"),Gg=Symbol.for("effect/Micro/evaluate"),Gy=Symbol.for("effect/Micro/successCont"),Gb=Symbol.for("effect/Micro/failureCont"),GS=Symbol.for("effect/Micro/ensureCont"),Gv=Symbol.for("effect/Micro/Yield"),Gw={...KN,_op:"Micro",[HQ]:{_A:rw,_E:rw,_R:rw},pipe(){return ij(this,arguments)},[Symbol.iterator](){return new n0(new n5(this))},toJSON(){return{_id:"Micro",op:this[Gp],...Gm in this?{args:this[Gm]}:void 0}},toString(){return iI(this)},[i_](){return iI(this)}};function Gx(e){return Zu("Micro.evaluate: Not implemented")}let Gk=e=>({...Gw,[Gp]:e.op,[Gg]:e.eval??Gx,[Gy]:e.contA,[Gb]:e.contE,[GS]:e.ensure}),G_=e=>{let t=Gk(e);return function(){let r=Object.create(t);return r[Gm]=!1===e.single?arguments:arguments[0],r}},GE=e=>{let t={...Gk(e),[HY]:HY,_tag:e.op,get[e.prop](){return this[Gm]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[Gm]}},[iS](t){return Zi(t)&&t._tag===e.op&&iv(this[Gm],t[Gm])},[is](){return ib(this,iu(ip(e.op))(io(this[Gm])))}};return function(e){let r=Object.create(t);return r[Gm]=e,r[Gy]=void 0,r[Gb]=void 0,r[GS]=void 0,r}},GI=GE({op:"Success",prop:"value",eval(e){let t=e.getCont(Gy);return t?t[Gy](this[Gm],e):e.yieldWith(this)}}),GT=GE({op:"Failure",prop:"cause",eval(e){let t=e.getCont(Gb);for(;Gr(this[Gm])&&t&&e.interruptible;)t=e.getCont(Gb);return t?t[Gb](this[Gm],e):e.yieldWith(this)}}),GO=e=>GT(H4(e)),GC=G_({op:"Sync",eval(e){let t=this[Gm](),r=e.getCont(Gy);return r?r[Gy](t,e):e.yieldWith(Za(t))}}),GF=G_({op:"Suspend",eval(e){return this[Gm]()}}),GA=G_({op:"Yield",eval(e){let t=!1;return e.getRef(ZF).scheduleTask(()=>{t||e.evaluate(Zm)},this[Gm]??0),e.yieldWith(()=>{t=!0})}}),GM=GA(0),GN=e=>GI(sF(e)),GR=GI(sC()),GD=e=>GF(()=>GT(e())),Gj=e=>Zu(e),GL=e=>GF(()=>GO(e())),GP=e=>"Some"===e._tag?GI(e.value):GO(new Q5({})),G$=e=>"Right"===e._tag?GI(e.right):GO(e.left),Gz=GI(void 0),GU=e=>GF(()=>{try{return GI(e.try())}catch(t){return GO(e.catch(t))}}),GB=e=>GV(function(t,r){e(r).then(e=>t(GI(e)),e=>t(Gj(e)))},0!==e.length),GW=e=>GV(function(t,r){try{e.try(r).then(e=>t(GI(e)),r=>t(GO(e.catch(r))))}catch(r){t(GO(e.catch(r)))}},0!==e.try.length),Gq=G_({op:"WithMicroFiber",eval(e){return this[Gm](e)}}),GK=Gq(e=>(e.getRef(ZF).flush(),Zm)),GV=G_({op:"Async",single:!1,eval(e){let t=this[Gm][0],r=!1,n=!1,i=this[Gm][1]?new AbortController:void 0,a=t(t=>{r||(r=!0,n?e.evaluate(t):n=t)},i?.signal);return!1!==n?n:(n=!0,e._yielded=()=>{r=!0},void 0===i&&void 0===a||e._stack.push(GJ(()=>(r=!0,i?.abort(),a??Zm))),Gv)}}),GJ=G_({op:"AsyncFinalizer",ensure(e){e.interruptible&&(e.interruptible=!1,e._stack.push(QD(!0)))},contE(e,t){return Gr(e)?Ze(this[Gm](),()=>GT(e)):GT(e)}}),GH=e=>GV(e,e.length>=2),GG=GH(function(){let e=setInterval(rC,0x7ffffffe);return GC(()=>clearInterval(e))}),GZ=(...e)=>GF(()=>GQ(1===e.length?e[0]():e[1].call(e[0]))),GQ=G_({op:"Iterator",contA(e,t){let r=this[Gm].next(e);return r.done?GI(r.value):(t._stack.push(this),n8(r.value))},eval(e){return this[Gy](void 0,e)}}),GY=rS(2,(e,t)=>Zn(e,e=>t)),GX=e=>Zn(e,sF),G0=e=>Qc(e,{onFailure:GI,onSuccess:GO}),G1=rS(2,(e,t)=>Ze(e,e=>{let r=HX(t)?t:"function"==typeof t?t(e):t;return HX(r)?r:GI(r)})),G2=rS(2,(e,t)=>Ze(e,e=>{let r=HX(t)?t:"function"==typeof t?t(e):t;return HX(r)?GY(r,e):GI(e)})),G6=e=>Ze(e,e=>Zm),G3=e=>Qu(e,{onFailure:Zs,onSuccess:Za}),G4=e=>ZZ(e,GO),G5=e=>Gq(t=>GH(r=>{let n=ui(e),i=n.length,a=0,s=!1,o=new Set,l=[],u=e=>{if(a++,"Failure"===e._tag){l.push(e.cause),a>=i&&r(GT(l[0]));return}s=!0,r(0===o.size?e:Ze(QR(Gd(o)),()=>e))};for(let e=0;e<i&&!s;e++){let r=QH(t,Qj(n[e]),!0,!0);o.add(r),r.addObserver(e=>{o.delete(r),u(e)})}return Gd(o)})),G8=e=>Gq(t=>GH(r=>{let n=!1,i=new Set,a=e=>{n=!0,r(0===i.size?e:Ze(Gd(i),()=>e))};for(let r of e){if(n)break;let e=QH(t,Qj(r),!0,!0);i.add(e),e.addObserver(t=>{i.delete(e),a(t)})}return Gd(i)})),G7=rS(2,(e,t)=>G5([e,t])),G9=rS(2,(e,t)=>G8([e,t])),Ze=rS(2,(e,t)=>{let r=Object.create(Zt);return r[Gm]=e,r[Gy]=t,r}),Zt=Gk({op:"OnSuccess",eval(e){return e._stack.push(this),this[Gm]}}),Zr=e=>Ze(e,rw),Zn=rS(2,(e,t)=>Ze(e,e=>GI(t(e)))),Zi=e=>nw(e,HY),Za=GI,Zs=GT,Zo=Zs(H9()),Zl=e=>Zs(H4(e)),Zu=e=>Zs(H8(e)),Zc=e=>"Success"===e._tag,Zh=e=>"Failure"===e._tag,Zf=e=>Zh(e)&&"Interrupt"===e.cause._tag,Zd=e=>Zh(e)&&"Fail"===e.cause._tag,Zp=e=>Zh(e)&&"Die"===e.cause._tag,Zm=Za(void 0),Zg=e=>{for(let t of e)if("Failure"===t._tag)return t;return Zm},Zy="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class Zb{tasks=[];running=!1;scheduleTask(e,t){this.tasks.push(e),this.running||(this.running=!0,Zy(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){let e=this.tasks;this.tasks=[];for(let t=0,r=e.length;t<r;t++)e[t]()}shouldYield(e){return e.currentOpCount>=e.getRef(ZO)}flush(){for(;this.tasks.length>0;)this.runTasks()}}let ZS=e=>Gq(t=>GI(Og(t.context,e))),Zv=e=>Gq(t=>GI(Oy(t.context,e))),Zw=rS(2,(e,t)=>Gq(r=>{let n=r.context;return r.context=t(n),QT(e,()=>(r.context=n,Gz))})),Zx=rS(3,(e,t,r)=>Gq(n=>{let i=Og(n.context,t);return n.context=Od(n.context,t,r(i)),QT(e,()=>(n.context=Od(n.context,t,i),Gz))})),Zk=()=>Z_,Z_=Gq(e=>GI(e.context)),ZE=rS(2,(e,t)=>Zw(e,Ob(t))),ZI=rS(3,(e,t,r)=>Zw(e,Od(t,r))),ZT=rS(3,(e,t,r)=>Ze(r,r=>ZI(e,t,r)));class ZO extends Ok()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class ZC extends Ok()("effect/Micro/currentConcurrency",{defaultValue:()=>"unbounded"}){}class ZF extends Ok()("effect/Micro/currentScheduler",{defaultValue:()=>new Zb}){}let ZA=rS(2,(e,t)=>ZI(e,ZC,t)),ZM=rS(e=>HX(e[1]),(e,t,r)=>ZN(e,t,(e,t)=>[e,t],r)),ZN=rS(e=>HX(e[1]),(e,t,r,n)=>n?.concurrent?Zn(QP([e,t],{concurrency:2}),([e,t])=>r(e,t)):Ze(e,e=>Zn(t,t=>r(e,t)))),ZR=rS(e=>HX(e[0]),(e,t,r)=>Ze(e,e=>t(e)?GI(e):GT(r(e)))),ZD=rS(e=>HX(e[0]),(e,t,r)=>Ze(e,e=>t(e)?GI(e):GO(r(e)))),Zj=rS(2,(e,t)=>Ze(HX(t)?t:GC(t),t=>t?GX(e):GR)),ZL=rS(2,(e,t)=>GF(()=>{let r=t.schedule?Date.now():0,n=0,i=Ze(G3(e),e=>{if(void 0!==t.while&&!t.while(e)||void 0!==t.times&&n>=t.times)return e;n++;let a=GM;if(void 0!==t.schedule){let i=Date.now()-r,s=t.schedule(n,i);if(sM(s))return e;a=Qf(s.value)}return Ze(a,()=>i)});return i})),ZP=rS(e=>HX(e[0]),(e,t)=>ZL(e,{...t,while:e=>"Success"===e._tag&&(t?.while===void 0||t.while(e.value))})),Z$=rS(2,(e,t)=>Array.from({length:t},()=>e)),Zz=rS(e=>HX(e[0]),(e,t,r)=>QP(Z$(e,t),r)),ZU=e=>ZP(e),ZB=e=>t=>t<=e?sF(0):sC(),ZW=e=>()=>sF(e),Zq=(e,t=2)=>r=>sF(Math.pow(t,r)*e),ZK=rS(2,(e,t)=>(r,n)=>sQ(e(r,n),e=>e+t())),ZV=rS(2,(e,t)=>(r,n)=>sQ(e(r,n),e=>Math.min(e,t))),ZJ=rS(2,(e,t)=>(r,n)=>n<t?e(r,n):sC()),ZH=rS(2,(e,t)=>(r,n)=>or(e(r,n),t(r,n),(e,t)=>Math.min(e,t))),ZG=rS(2,(e,t)=>(r,n)=>or(e(r,n),t(r,n),(e,t)=>Math.max(e,t))),ZZ=rS(2,(e,t)=>{let r=Object.create(ZQ);return r[Gm]=e,r[Gb]=t,r}),ZQ=Gk({op:"OnFailure",eval(e){return e._stack.push(this),this[Gm]}}),ZY=rS(3,(e,t,r)=>ZZ(e,e=>t(e)?r(e):GT(e))),ZX=rS(2,(e,t)=>ZY(e,Ge,e=>t(e.error))),Z0=rS(2,(e,t)=>ZY(e,Gt,e=>t(e.defect))),Z1=rS(2,(e,t)=>Z2(e,rE,t)),Z2=rS(3,(e,t,r)=>ZY(e,t,e=>G1(r(e),GT(e)))),Z6=rS(2,(e,t)=>Z2(e,Ge,e=>t(e.error))),Z3=rS(2,(e,t)=>Z2(e,Gt,e=>t(e.defect))),Z4=rS(3,(e,t,r)=>ZY(e,e=>Ge(e)&&t(e.error),e=>r(e.error))),Z5=rS(3,(e,t,r)=>Z4(e,nx(t),r)),Z8=rS(2,(e,t)=>ZZ(e,e=>GT(t(e)))),Z7=rS(2,(e,t)=>ZX(e,e=>GO(t(e)))),Z9=e=>ZX(e,Gj),Qe=rS(2,(e,t)=>ZX(e,e=>GC(t))),Qt=e=>Qc(e,{onFailure:e=>Gz,onSuccess:e=>Gz}),Qr=e=>Qc(e,{onFailure:e=>GC(()=>console.error(e)),onSuccess:e=>Gz}),Qn=e=>Qh(e,{onFailure:sC,onSuccess:sF}),Qi=e=>Qh(e,{onFailure:aO,onSuccess:aI}),Qa=rS(e=>HX(e[0]),(e,t)=>ZL(e,{...t,while:e=>"Failure"===e._tag&&"Fail"===e.cause._tag&&(t?.while===void 0||t.while(e.cause.error))})),Qs=function(){let e=globalThis.Error.stackTraceLimit;globalThis.Error.stackTraceLimit=2;let t=new globalThis.Error;globalThis.Error.stackTraceLimit=e;let r=e=>r=>QF(r,r=>GT(function(e,r){let n=t.stack;if(!n)return r;let i=n.split("\n")[2]?.trim().replace(/^at /,"");if(!i)return r;let a=i.match(/\((.*)\)$/);return Gi(r,`at ${e} (${a?a[1]:i})`)}(e,r)));return 2==arguments.length?r(arguments[1])(arguments[0]):r(arguments[0])},Qo=rS(2,(e,t)=>{let r=Object.create(Ql);return r[Gm]=e,r[Gy]=t.onSuccess,r[Gb]=t.onFailure,r}),Ql=Gk({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[Gm]}}),Qu=rS(2,(e,t)=>Qo(e,{onFailure:e=>GC(()=>t.onFailure(e)),onSuccess:e=>GC(()=>t.onSuccess(e))})),Qc=rS(2,(e,t)=>Qo(e,{onFailure:e=>"Fail"===e._tag?t.onFailure(e.error):GT(e),onSuccess:t.onSuccess})),Qh=rS(2,(e,t)=>Qc(e,{onFailure:e=>GC(()=>t.onFailure(e)),onSuccess:e=>GC(()=>t.onSuccess(e))})),Qf=e=>GH(t=>{let r=setTimeout(()=>{t(Gz)},e);return GC(()=>{clearTimeout(r)})}),Qd=rS(2,(e,t)=>G1(Qf(t),e)),Qp=rS(2,(e,t)=>G9(e,G1(Qj(Qf(t.duration)),t.onTimeout))),Qm=rS(2,(e,t)=>Qp(e,{duration:t,onTimeout:()=>GO(new Q8)})),Qg=rS(2,(e,t)=>G9(GX(e),GY(Qj(Qf(t)),sC()))),Qy=Symbol.for("effect/Micro/MicroScope"),Qb=Os("effect/Micro/MicroScope");class QS{[Qy];state={_tag:"Open",finalizers:new Set};constructor(){this[Qy]=Qy}unsafeAddFinalizer(e){"Open"===this.state._tag&&this.state.finalizers.add(e)}addFinalizer(e){return GF(()=>"Open"===this.state._tag?(this.state.finalizers.add(e),Gz):e(this.state.exit))}unsafeRemoveFinalizer(e){"Open"===this.state._tag&&this.state.finalizers.delete(e)}close(e){return GF(()=>{if("Open"===this.state._tag){let t=Array.from(this.state.finalizers).reverse();return this.state={_tag:"Closed",exit:e},Ze(Qz(t,t=>G3(t(e))),Zg)}return Gz})}get fork(){return GC(()=>{let e=new QS;if("Closed"===this.state._tag)return e.state=this.state,e;function t(t){return e.close(t)}return this.state.finalizers.add(t),e.unsafeAddFinalizer(e=>GC(()=>this.unsafeRemoveFinalizer(t))),e})}}let Qv=GC(()=>new QS),Qw=()=>new QS,Qx=ZS(Qb),Qk=rS(2,(e,t)=>ZI(e,Qb,t)),Q_=e=>GF(()=>{let t=new QS;return QT(ZI(e,Qb,t),e=>t.close(e))}),QE=(e,t)=>QR(Ze(Qx,r=>G2(e,e=>r.addFinalizer(r=>t(e,r))))),QI=e=>Ze(Qx,t=>t.addFinalizer(e)),QT=rS(2,(e,t)=>QL(r=>Qo(r(e),{onFailure:e=>Ze(t(Zs(e)),()=>GT(e)),onSuccess:e=>Ze(t(Za(e)),()=>GI(e))}))),QO=rS(2,(e,t)=>QT(e,e=>t)),QC=rS(3,(e,t,r)=>QT(e,e=>t(e)?r(e):Zm)),QF=rS(2,(e,t)=>QC(e,Zh,e=>t(e.cause))),QA=rS(2,(e,t)=>QC(e,Zf,e=>t)),QM=(e,t,r)=>QL(n=>Ze(e,e=>Ze(G3(n(t(e))),t=>G1(r(e,t),t)))),QN=GT(H9()),QR=e=>Gq(t=>(t.interruptible&&(t.interruptible=!1,t._stack.push(QD(!0))),e)),QD=G_({op:"SetInterruptible",ensure(e){if(e.interruptible=this[Gm],e._interrupted&&e.interruptible)return()=>Zo}}),Qj=e=>Gq(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(QD(!1)),t._interrupted)?Zo:e),QL=e=>Gq(t=>t.interruptible?(t.interruptible=!1,t._stack.push(QD(!0)),e(Qj)):e(rw)),QP=(e,t)=>Array.isArray(e)||nO(e)?Qz(e,rw,t):t?.discard?Qz(Object.values(e),rw,t):GF(()=>{let r={};return GY(Qz(Object.entries(e),([e,t])=>Zn(t,t=>{r[e]=t}),{discard:!0,concurrency:t?.concurrency}),r)}),Q$=G_({op:"While",contA(e,t){return(this[Gm].step(e),this[Gm].while())?(t._stack.push(this),this[Gm].body()):Zm},eval(e){return this[Gm].while()?(e._stack.push(this),this[Gm].body()):Zm}}),Qz=(e,t,r)=>Gq(n=>{let i=r?.concurrency==="inherit"?n.getRef(ZC):r?.concurrency??1,a="unbounded"===i?1/0:Math.max(1,i),s=ui(e),o=s.length;if(0===o)return r?.discard?Gz:GI([]);let l=r?.discard?void 0:Array(o),u=0;return 1===a?GY(Q$({while:()=>u<s.length,body:()=>t(s[u],u),step:l?e=>l[u++]=e:e=>u++}),l):GH(e=>{let r,i=new Set,c=0,h=0,f=!1,d=!1;return!function p(){for(f=!0;c<a&&u<o;){let m=u,g=s[m];u++,c++;try{let s=QH(n,t(g,m),!0,!0);i.add(s),s.addObserver(t=>{i.delete(s),d||("Failure"===t._tag?void 0===r&&(r=t,o=u,i.forEach(e=>e.unsafeInterrupt())):void 0!==l&&(l[m]=t.value),h++,c--,h===o?e(r??GI(l)):!f&&c<a&&p())})}catch(e){r=Zu(e),o=u,i.forEach(e=>e.unsafeInterrupt())}}f=!1}(),GF(()=>(d=!0,u=o,Gd(i)))})}),QU=(e,t,r)=>QB(e,e=>Zn(t(e),t=>(t=r?.negate?!t:t)?sF(e):sC()),r),QB=(e,t,r)=>GF(()=>{let n=[];return GY(Qz(e,e=>Zn(t(e),e=>{"Some"===e._tag&&n.push(e.value)}),{discard:!0,concurrency:r?.concurrency}),n)}),QW=GI({}),Qq=r5(Zn),QK=r8(Zn,Ze),QV=r4(Zn),QJ=e=>Gq(t=>(Gl.interruptChildren??=Gu,GI(QH(t,e)))),QH=(e,t,r=!1,n=!1)=>{let i=new Go(e.context,e.interruptible);return n||(e.children().add(i),i.addObserver(()=>e.children().delete(i))),r?i.evaluate(t):e.getRef(ZF).scheduleTask(()=>i.evaluate(t),0),i},QG=e=>Gq(t=>GI(QH(t,e,!1,!0))),QZ=rS(2,(e,t)=>QL(r=>Ze(t.fork,t=>G2(r(QG(QT(e,e=>t.close(e)))),e=>t.addFinalizer(t=>Gf(e)))))),QQ=e=>Ze(Qx,t=>QZ(e,t)),QY=(e,t)=>{let r=new Go(ZF.context(t?.scheduler??new Zb));if(r.evaluate(e),t?.signal)if(t.signal.aborted)r.unsafeInterrupt();else{let e=()=>r.unsafeInterrupt();t.signal.addEventListener("abort",e,{once:!0}),r.addObserver(()=>t.signal.removeEventListener("abort",e))}return r},QX=(e,t)=>new Promise((r,n)=>{QY(e,t).addObserver(r)}),Q0=(e,t)=>QX(e,t).then(e=>{if("Failure"===e._tag)throw e.cause;return e.value}),Q1=e=>{let t=new Zb,r=QY(e,{scheduler:t});return t.flush(),r._exit??Zu(r)},Q2=e=>{let t=Q1(e);if("Failure"===t._tag)throw t.cause;return t.value},Q6=function(){class e extends globalThis.Error{}return Object.assign(e.prototype,Gw,i7,{[Gp]:"Failure",[Gg](){return GO(this)},toString(){return this.message?`${this.name}: ${this.message}`:this.name},toJSON(){return{...this}},[i_](){let e=this.stack;return e?`${this.toString()}
${e.split("\n").slice(1).join("\n")}`:this.toString()}}),e}(),Q3=class extends Q6{constructor(e){super(),e&&Object.assign(this,e)}},Q4=e=>{class t extends Q3{_tag=e}return t.prototype.name=e,t};class Q5 extends Q4("NoSuchElementException"){}class Q8 extends Q4("TimeoutException"){}class Q7{buckets=[];scheduleTask(e,t){let r,n=this.buckets.length,i=0;for(;i<n;i++)if(this.buckets[i][0]<=t)r=this.buckets[i];else break;r&&r[0]===t?r[1].push(e):i===n?this.buckets.push([t,[e]]):this.buckets.splice(i,0,[t,[e]])}}class Q9{maxNextTickBeforeTimer;running=!1;tasks=new Q7;constructor(e){this.maxNextTickBeforeTimer=e}starveInternal(e){let t=this.tasks.buckets;for(let[e,r]of(this.tasks.buckets=[],t))for(let e=0;e<r.length;e++)r[e]();0===this.tasks.buckets.length?this.running=!1:this.starve(e)}starve(e=0){e>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(e+1))}shouldYield(e){return e.currentOpCount>e.getFiberRef($j)&&e.getFiberRef($D)}scheduleTask(e,t){this.tasks.scheduleTask(e,t),this.running||(this.running=!0,this.starve())}}let Ye=r9(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new Q9(2048));class Yt{tasks=new Q7;deferred=!1;scheduleTask(e,t){this.deferred?Ye.scheduleTask(e,t):this.tasks.scheduleTask(e,t)}shouldYield(e){return e.currentOpCount>e.getFiberRef($j)&&e.getFiberRef($D)}flush(){for(;this.tasks.buckets.length>0;){let e=this.tasks.buckets;for(let[t,r]of(this.tasks.buckets=[],e))for(let e=0;e<r.length;e++)r[e]()}this.deferred=!0}}class Yr{tasks=new Q7;deferred=!1;scheduleTask(e,t){this.deferred?Ye.scheduleTask(e,t):this.tasks.scheduleTask(e,t)}shouldYield(e){return e.currentOpCount>e.getFiberRef($j)&&e.getFiberRef($D)}step(){let e=this.tasks.buckets;for(let[t,r]of(this.tasks.buckets=[],e))for(let e=0;e<r.length;e++)r[e]()}}let Yn=(...e)=>{let t=e.sort(([e],[t])=>e<t?-1:+(e>t));return{shouldYield(t){for(let r of e){let e=r[1].shouldYield(t);if(!1!==e)return e}return!1},scheduleTask(e,r){let n;for(let e of t)if(r>=e[0])n=e[1];else break;return(n??Ye).scheduleTask(e,r)}}},Yi=e=>e.currentOpCount>e.getFiberRef($j)&&e.getFiberRef($D),Ya=(e,t=Yi)=>({scheduleTask:e,shouldYield:t}),Ys=(e,t=Yi)=>{let r=!1,n=new Q7,i=()=>{let e=n.buckets;for(let[t,r]of(n.buckets=[],e))for(let e=0;e<r.length;e++)r[e]();0===n.buckets.length?r=!1:a()},a=()=>e(i);return Ya((e,t)=>{n.scheduleTask(e,t),r||(r=!0,a())},t)},Yo=(e,t=Yi)=>Ya(t=>setTimeout(t,e),t),Yl=(e,t=Yi)=>Ys(t=>setTimeout(t,e),t),Yu=r9(Symbol.for("effect/FiberRef/currentScheduler"),()=>$C(Ye)),Yc=rS(2,(e,t)=>$T(e,Yu,t)),Yh={_tag:"Empty"},Yf=(e,t)=>({_tag:"Par",left:e,right:t}),Yd=(e,t)=>({_tag:"Seq",left:e,right:t}),Yp=(e,t)=>({_tag:"Single",dataSource:e,blockedRequest:t}),Ym=(e,t)=>{let r=Rn(e),n=Rr();for(;N7(r);){let e=r.head;switch(e._tag){case"Empty":n=Rt(aI(t.emptyCase()),n),r=r.tail;break;case"Par":n=Rt(aO({_tag:"ParCase"}),n),r=Rt(e.left,Rt(e.right,r.tail));break;case"Seq":n=Rt(aO({_tag:"SeqCase"}),n),r=Rt(e.left,Rt(e.right,r.tail));break;case"Single":n=Rt(aI(t.singleCase(e.dataSource,e.blockedRequest)),n),r=r.tail}}let i=RO(n,Rr(),(e,r)=>{switch(r._tag){case"Left":{let n=Rj(e),i=Rj(RP(e)),a=RP(RP(e));switch(r.left._tag){case"ParCase":return Rt(t.parCase(n,i),a);case"SeqCase":return Rt(t.seqCase(n,i),a)}}case"Right":return Rt(r.right,e)}});if(N8(i))throw Error("BUG: BlockedRequests.reduce - please report an issue at https://github.com/Effect-TS/effect/issues");return i.head},Yg=e=>{let t=e,r=YE(),n=Rr(),i=Rr();for(;;)switch(t._tag){case"Empty":if(N8(n))return[r,i];t=n.head,n=n.tail;break;case"Par":n=Rt(t.right,n),t=t.left;break;case"Seq":{let e=t.left,r=t.right;switch(e._tag){case"Empty":t=r;break;case"Par":{let n=e.left,i=e.right;t=Yf(Yd(n,r),Yd(i,r));break}case"Seq":t=Yd(e.left,Yd(e.right,r));break;case"Single":t=e,i=Rt(r,i)}break}case"Single":if(r=YI(r,t),N8(n))return[r,i];t=n.head,n=n.tail}throw Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},Yy=(e,t)=>{if(N8(e))return Rn(YF(t));if(YO(t))return e;let r=Yj(e.head),n=YC(t);return 1===r.length&&1===n.length&&iv(r[0],n[0])?Rt(YD(e.head,YF(t)),e.tail):Rt(YF(t),e)},Yb=Symbol.for("effect/RequestBlock/Entry");class YS{request;result;listeners;ownerId;state;[Yb]=Yv;constructor(e,t,r,n,i){this.request=e,this.result=t,this.listeners=r,this.ownerId=n,this.state=i}}let Yv={_R:e=>e},Yw=e=>new YS(e.request,e.result,e.listeners,e.ownerId,e.state),Yx=Symbol.for("effect/RequestBlock/RequestBlockParallel"),Yk={_R:e=>e};class Y_{map;[Yx]=Yk;constructor(e){this.map=e}}let YE=()=>new Y_(Np()),YI=(e,t)=>new Y_(Nj(e.map,t.dataSource,e=>sU(sQ(e,Oq(t.blockedRequest)),()=>OR(t.blockedRequest)))),YT=(e,t)=>new Y_(NK(e.map,t.map,(e,t,r)=>N_(e,r,sR(Nb(e,r),{onNone:()=>t,onSome:e=>OQ(t,e)})))),YO=e=>Ny(e.map),YC=e=>Array.from(NE(e.map)),YF=e=>YR(NB(e.map,e=>OR(e))),YA=Symbol.for("effect/RequestBlock/RequestBlockSequential"),YM={_R:e=>e};class YN{map;[YA]=YM;constructor(e){this.map=e}}let YR=e=>new YN(e),YD=(e,t)=>new YN(NK(t.map,e.map,(e,t,r)=>N_(e,r,sR(Nb(e,r),{onNone:()=>OM(),onSome:e=>OQ(e,t)})))),Yj=e=>Array.from(NE(e.map)),YL=r9(Symbol.for("effect/FiberRef/currentRequestMap"),()=>$C(new Map)),YP=(e,t,r,n)=>{switch(e){case void 0:return t();case"unbounded":return r();case"inherit":return $p($B,e=>"unbounded"===e?r():e>1?n(e):t());default:return e>1?n(e):t()}},Y$=(e,t,r)=>{switch(e){case void 0:return t();case"unbounded":return r();case"inherit":return $p($B,e=>"unbounded"===e||e>1?r():t());default:return e>1?r():t()}},Yz="InterruptSignal",YU="Stateful",YB="Resume",YW="YieldNow",Yq=e=>({_tag:Yz,cause:e}),YK=e=>({_tag:YU,onFiber:e}),YV=e=>({_tag:YB,effect:e}),YJ=()=>({_tag:YW}),YH=Symbol.for("effect/FiberScope");class YG{[YH]=YH;fiberId=M8;roots=new Set;add(e,t){this.roots.add(t),t.addObserver(()=>{this.roots.delete(t)})}}class YZ{fiberId;parent;[YH]=YH;constructor(e,t){this.fiberId=e,this.parent=t}add(e,t){this.parent.tell(YK(e=>{e.addChild(t),t.addObserver(()=>{e.removeChild(t)})}))}}let YQ=r9(Symbol.for("effect/FiberScope/Global"),()=>new YG),YY=Symbol.for("effect/Fiber"),YX={_E:e=>e,_A:e=>e},Y0={[YY]:YX,pipe(){return ij(this,arguments)}},Y1=Symbol.for("effect/Fiber"),Y2=rD(sy(xj,xj),sf(e=>[e.id().startTimeMillis,e.id().id])),Y6=e=>Y1 in e,Y3=e=>e.await,Y4=e=>({...i9,commit(){return Xt(this)},...Y0,id:()=>M8,await:PD(e),children:PD([]),inheritAll:PW,poll:PD(sF(e)),interruptAsFork:()=>PW}),Y5=e=>PE(e.status,t=>({id:e.id(),status:t})),Y8=e=>Y4(UK(e)),Y7=e=>e.inheritAll,Y9=rS(2,PG(function*(e,t){for(let r of e){if(Y6(r)){r.unsafeInterruptAsFork(t);continue}yield*r.interruptAsFork(t)}for(let t of e)Y6(t)&&t.unsafePoll()||(yield*t.await)})),Xe=rS(2,(e,t)=>e.interruptAsFork(t)),Xt=e=>P6(Pf(e.await),e.inheritAll),Xr=rS(2,(e,t)=>Xn(e,e=>PL(()=>t(e)))),Xn=rS(2,(e,t)=>({...i9,commit(){return Xt(this)},...Y0,id:()=>e.id(),await:Pu(e.await,UG(t)),children:e.children,inheritAll:e.inheritAll,poll:Pu(e.poll,e=>{switch(e._tag){case"None":return PD(sC());case"Some":return rD(UG(e.value,t),PE(sF))}}),interruptAsFork:t=>e.interruptAsFork(t)})),Xi=rS(2,(e,t)=>PE(e.await,U3({onFailure:e=>Y8(e),onSuccess:e=>t(e)}))),Xa=rS(2,(e,{onFiber:t,onRuntimeFiber:r})=>Y6(e)?r(e):t(e)),Xs={...i9,commit(){return Xt(this)},...Y0,id:()=>M8,await:P5,children:PD([]),inheritAll:P5,poll:PD(sC()),interruptAsFork:()=>P5},Xo=rS(2,(e,t)=>({...i9,commit(){return Xt(this)},...Y0,id:()=>Ns(e.id(),t.id()),await:P4(e.await,t.await,(e,t)=>Uj(e)?e:t),children:e.children,inheritAll:P3(t.inheritAll,e.inheritAll),poll:P4(e.poll,t.poll,(e,t)=>{switch(e._tag){case"None":return sC();case"Some":return Uj(e.value)?e:t}}),interruptAsFork:r=>rD(P7(e,r),P3(rD(t,P7(r))),LQ)})),Xl=rS(2,(e,t)=>Xo(Xr(e,aO),Xr(t,aI))),Xu=()=>Array.from(YQ.roots),Xc=PL(Xu),Xh=e=>Y4(U5(e)),Xf=Xh(void 0),Xd="effect/FiberCurrent",Xp=Symbol.for("effect/Logger"),Xm={_Message:e=>e,_Output:e=>e},Xg=e=>({[Xp]:Xm,log:e,pipe(){return ij(this,arguments)}}),Xy=rS(2,(e,t)=>Xg(r=>e.log({...r,message:t(r.message)}))),Xb=rS(2,(e,t)=>Xg(r=>e.log(t(r)))),XS=rS(2,(e,t)=>Xg(r=>t(r.logLevel)?sF(e.log(r)):sC())),Xv=rS(2,(e,t)=>Xg(r=>t(e.log(r)))),Xw=e=>({[Xp]:Xm,log:({message:t})=>e(t),pipe(){return ij(this,arguments)}}),Xx=rS(2,(e,t)=>Xg(r=>[e.log(r),t.log(r)])),Xk=rS(2,(e,t)=>Xv(Xx(e,t),e=>e[0])),X_=rS(2,(e,t)=>Xv(Xx(e,t),e=>e[1])),XE=/^[^\s"=]*$/,XI=(e,t)=>({annotations:r,cause:n,date:i,fiberId:a,logLevel:s,message:o,spans:l})=>{let u=t=>t.match(XE)?t:e(t),c=(e,t)=>`${KE(e)}=${u(t)}`,h=(e,t)=>" "+c(e,t),f=c("timestamp",i.toISOString());f+=h("level",s.label),f+=h("fiber",M3(a));let d=ua(o);for(let e=0;e<d.length;e++)f+=h("message",iC(d[e],t));for(let e of(j0(n)||(f+=h("cause",LE(n,{renderErrorCause:!0}))),l))f+=" "+KI(i.getTime())(e);for(let[e,n]of r)f+=h(e,iC(n,t));return f},XT=Xg(XI(e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`)),XO=Xg(XI(JSON.stringify,0)),XC=Xg(({annotations:e,cause:t,date:r,fiberId:n,logLevel:i,message:a,spans:s})=>{let o=r.getTime(),l={},u={};if(NA(e)>0)for(let[t,r]of e)l[t]=XF(r);if(N7(s))for(let e of s)u[e.label]=o-e.startTime;let c=ua(a);return{message:1===c.length?XF(c[0]):c.map(XF),logLevel:i.label,timestamp:r.toISOString(),cause:j2(t)?void 0:LE(t,{renderErrorCause:!0}),annotations:l,spans:u,fiberId:M3(n)}}),XF=e=>{switch(typeof e){case"bigint":case"function":case"symbol":return String(e);default:return iE(e)}},XA=Xv(XC,iF),XM=(e,...t)=>{let r="";for(let e=0;e<t.length;e++)r+=`\x1b[${t[e]}m`;return r+e+"\x1b[0m"},XN=(e,...t)=>e,XR={None:[],All:[],Trace:["90"],Debug:["34"],Info:["32"],Warning:["33"],Error:["31"],Fatal:["101","30"]},XD={None:"",All:"",Trace:"color:gray",Debug:"color:blue",Info:"color:green",Warning:"color:orange",Error:"color:red",Fatal:"background-color:red;color:white"},Xj=e=>`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}.${e.getMilliseconds().toString().padStart(3,"0")}`,XL="object"==typeof process&&null!==process&&"object"==typeof process.stdout&&null!==process.stdout,XP=XL&&!0===process.stdout.isTTY,X$=XL||"Deno"in globalThis,Xz=e=>{let t=e?.mode??"auto",r="browser"===("auto"===t?X$?"tty":"browser":t),n="boolean"==typeof e?.colors?e.colors:XP||r,i=e?.formatDate??Xj;return r?XB({colors:n,formatDate:i}):XU({colors:n,formatDate:i,stderr:e?.stderr===!0})},XU=e=>{let t=e.colors?XM:XN;return Xg(({annotations:r,cause:n,context:i,date:a,fiberId:s,logLevel:o,message:l,spans:u})=>{let c=Op(Kr(i,qE),qs).unsafe,h=!0===e.stderr?c.error:c.log,f=ua(l),d=t(`[${e.formatDate(a)}]`,"37")+` ${t(o.label,...XR[o._tag])}`+` (${M3(s)})`;if(N7(u)){let e=KI(a.getTime());for(let t of u)d+=" "+e(t)}d+=":";let p=0;if(f.length>0){let e=XF(f[0]);"string"==typeof e&&(d+=" "+t(e,"1","36"),p++)}if(h(d),c.group(),j2(n)||h(LE(n,{renderErrorCause:!0})),p<f.length)for(;p<f.length;p++)h(iD(f[p]));if(NA(r)>0)for(let[e,n]of r)h(t(`${e}:`,"1","37"),iD(n));c.groupEnd()})},XB=e=>{let t=e.colors?"%c":"";return Xg(({annotations:r,cause:n,context:i,date:a,fiberId:s,logLevel:o,message:l,spans:u})=>{let c=Op(Kr(i,qE),qs).unsafe,h=ua(l),f=`${t}[${e.formatDate(a)}]`,d=[];if(e.colors&&d.push("color:gray"),f+=` ${t}${o.label}${t} (${M3(s)})`,e.colors&&d.push(XD[o._tag],""),N7(u)){let e=KI(a.getTime());for(let t of u)f+=" "+e(t)}f+=":";let p=0;if(h.length>0){let r=XF(h[0]);"string"==typeof r&&(f+=` ${t}${r}`,e.colors&&d.push("color:deepskyblue"),p++)}if(c.groupCollapsed(f,...d),j2(n)||c.error(LE(n,{renderErrorCause:!0})),p<h.length)for(;p<h.length;p++)c.log(iD(h[p]));if(NA(r)>0)for(let[t,n]of r){let r=iD(n);e.colors?c.log(`%c${t}:`,"color:gray",r):c.log(`${t}:`,r)}c.groupEnd()})},XW=r9("effect/Logger/prettyLoggerDefault",()=>Xz()),Xq="effect/MetricBoundaries",XK=Symbol.for(Xq);class XV{values;[XK]=XK;constructor(e){this.values=e,this._hash=rD(ip(Xq),iu(iy(this.values)))}_hash;[is](){return this._hash}[iS](e){return XJ(e)&&iv(this.values,e.values)}pipe(){return ij(this,arguments)}}let XJ=e=>nw(e,XK),XH=e=>new XV(rD(e,up(OR(1/0)),c5)),XG=e=>rD(ut(e.count-1,t=>e.start*Math.pow(e.factor,t)),OU,XH),XZ=Symbol.for("effect/MetricKeyType"),XQ="effect/MetricKeyType/Counter",XY=Symbol.for(XQ),XX="effect/MetricKeyType/Frequency",X0=Symbol.for(XX),X1="effect/MetricKeyType/Gauge",X2=Symbol.for(X1),X6="effect/MetricKeyType/Histogram",X3=Symbol.for(X6),X4="effect/MetricKeyType/Summary",X5=Symbol.for(X4),X8={_In:e=>e,_Out:e=>e};class X7{incremental;bigint;[XZ]=X8;[XY]=XY;constructor(e,t){this.incremental=e,this.bigint=t,this._hash=ip(XQ)}_hash;[is](){return this._hash}[iS](e){return eec(e)}pipe(){return ij(this,arguments)}}let X9=ip(XX);class eee{preregisteredWords;[XZ]=X8;[X0]=X0;constructor(e){this.preregisteredWords=e}[is](){return X9}[iS](e){return eeh(e)}pipe(){return ij(this,arguments)}}let eet=ip(X1);class eer{bigint;[XZ]=X8;[X2]=X2;constructor(e){this.bigint=e}[is](){return eet}[iS](e){return eef(e)}pipe(){return ij(this,arguments)}}class een{boundaries;[XZ]=X8;[X3]=X3;constructor(e){this.boundaries=e,this._hash=rD(ip(X6),iu(io(this.boundaries)))}_hash;[is](){return this._hash}[iS](e){return eed(e)&&iv(this.boundaries,e.boundaries)}pipe(){return ij(this,arguments)}}class eei{maxAge;maxSize;error;quantiles;[XZ]=X8;[X5]=X5;constructor(e,t,r,n){this.maxAge=e,this.maxSize=t,this.error=r,this.quantiles=n,this._hash=rD(ip(X4),iu(io(this.maxAge)),iu(io(this.maxSize)),iu(io(this.error)),iu(iy(this.quantiles)))}_hash;[is](){return this._hash}[iS](e){return eep(e)&&iv(this.maxAge,e.maxAge)&&this.maxSize===e.maxSize&&this.error===e.error&&iv(this.quantiles,e.quantiles)}pipe(){return ij(this,arguments)}}let eea=e=>new X7(e?.incremental??!1,e?.bigint??!1),ees=e=>new eee(e?.preregisteredWords??[]),eeo=e=>new eer(e?.bigint??!1),eel=e=>new een(e),eeu=e=>new eei(C2(e.maxAge),e.maxSize,e.error,e.quantiles),eec=e=>nw(e,XY),eeh=e=>nw(e,X0),eef=e=>nw(e,X2),eed=e=>nw(e,X3),eep=e=>nw(e,X5),eem=Symbol.for("effect/MetricKey"),eeg={_Type:e=>e},eey=c6(iv);class eeb{name;keyType;description;tags;[eem]=eeg;constructor(e,t,r,n=[]){this.name=e,this.keyType=t,this.description=r,this.tags=n,this._hash=rD(ip(this.name+this.description),iu(io(this.keyType)),iu(iy(this.tags)))}_hash;[is](){return this._hash}[iS](e){return eeS(e)&&this.name===e.name&&iv(this.keyType,e.keyType)&&iv(this.description,e.description)&&eey(this.tags,e.tags)}pipe(){return ij(this,arguments)}}let eeS=e=>nw(e,eem),eev=(e,t)=>new eeb(e,eea(t),sq(t?.description)),eew=(e,t)=>new eeb(e,ees(t),sq(t?.description)),eex=(e,t)=>new eeb(e,eeo(t),sq(t?.description)),eek=(e,t,r)=>new eeb(e,eel(t),sq(r)),ee_=e=>new eeb(e.name,eeu(e),sq(e.description)),eeE=rS(3,(e,t,r)=>eeI(e,[VN(t,r)])),eeI=rS(2,(e,t)=>0===t.length?e:new eeb(e.name,e.keyType,e.description,ck(e.tags,t))),eeT=Symbol.for("effect/MetricState"),eeO="effect/MetricState/Counter",eeC=Symbol.for(eeO),eeF="effect/MetricState/Frequency",eeA=Symbol.for(eeF),eeM="effect/MetricState/Gauge",eeN=Symbol.for(eeM),eeR="effect/MetricState/Histogram",eeD=Symbol.for(eeR),eej="effect/MetricState/Summary",eeL=Symbol.for(eej),eeP={_A:e=>e};class ee${count;[eeT]=eeP;[eeC]=eeC;constructor(e){this.count=e}[is](){return rD(io(eeO),iu(io(this.count)),ib(this))}[iS](e){return eeZ(e)&&this.count===e.count}pipe(){return ij(this,arguments)}}let eez=c6(iv);class eeU{occurrences;[eeT]=eeP;[eeA]=eeA;constructor(e){this.occurrences=e}_hash;[is](){return rD(ip(eeF),iu(iy(ui(this.occurrences.entries()))),ib(this))}[iS](e){return eeQ(e)&&eez(ui(this.occurrences.entries()),ui(e.occurrences.entries()))}pipe(){return ij(this,arguments)}}class eeB{value;[eeT]=eeP;[eeN]=eeN;constructor(e){this.value=e}[is](){return rD(io(eeM),iu(io(this.value)),ib(this))}[iS](e){return eeY(e)&&this.value===e.value}pipe(){return ij(this,arguments)}}class eeW{buckets;count;min;max;sum;[eeT]=eeP;[eeD]=eeD;constructor(e,t,r,n,i){this.buckets=e,this.count=t,this.min=r,this.max=n,this.sum=i}[is](){return rD(io(eeR),iu(io(this.buckets)),iu(io(this.count)),iu(io(this.min)),iu(io(this.max)),iu(io(this.sum)),ib(this))}[iS](e){return eeX(e)&&iv(this.buckets,e.buckets)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return ij(this,arguments)}}class eeq{error;quantiles;count;min;max;sum;[eeT]=eeP;[eeL]=eeL;constructor(e,t,r,n,i,a){this.error=e,this.quantiles=t,this.count=r,this.min=n,this.max=i,this.sum=a}[is](){return rD(io(eej),iu(io(this.error)),iu(io(this.quantiles)),iu(io(this.count)),iu(io(this.min)),iu(io(this.max)),iu(io(this.sum)),ib(this))}[iS](e){return ee0(e)&&this.error===e.error&&iv(this.quantiles,e.quantiles)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return ij(this,arguments)}}let eeK=e=>new ee$(e),eeV=e=>new eeU(e),eeJ=e=>new eeB(e),eeH=e=>new eeW(e.buckets,e.count,e.min,e.max,e.sum),eeG=e=>new eeq(e.error,e.quantiles,e.count,e.min,e.max,e.sum),eeZ=e=>nw(e,eeC),eeQ=e=>nw(e,eeA),eeY=e=>nw(e,eeN),eeX=e=>nw(e,eeD),ee0=e=>nw(e,eeL),ee1=Symbol.for("effect/MetricHook"),ee2={_In:e=>e,_Out:e=>e},ee6=e=>({[ee1]:ee2,pipe(){return ij(this,arguments)},...e}),ee3=rS(2,(e,t)=>({[ee1]:ee2,pipe(){return ij(this,arguments)},get:e.get,update:e.update,modify:r=>(e.modify(r),t(r))})),ee4=rS(2,(e,t)=>({[ee1]:ee2,pipe(){return ij(this,arguments)},get:e.get,update:r=>(e.update(r),t(r)),modify:e.modify})),ee5=BigInt(0),ee8=e=>{let t=e.keyType.bigint?ee5:0,r=e.keyType.incremental?e.keyType.bigint?e=>e>=ee5:e=>e>=0:e=>!0,n=e=>{r(e)&&(t+=e)};return ee6({get:()=>eeK(t),update:n,modify:n})},ee7=e=>{let t=new Map;for(let r of e.keyType.preregisteredWords)t.set(r,0);let r=e=>{let r=t.get(e)??0;t.set(e,r+1)};return ee6({get:()=>eeV(t),update:r,modify:r})},ee9=(e,t)=>{let r=t;return ee6({get:()=>eeJ(r),update:e=>{r=e},modify:e=>{r+=e}})},ete=e=>{let t=e.keyType.boundaries.values,r=t.length,n=new Uint32Array(r+1),i=new Float64Array(r),a=0,s=0,o=Number.MAX_VALUE,l=5e-324;rD(t,u4(xj),cF((e,t)=>{i[t]=e}));let u=e=>{let t=0,u=r;for(;t!==u;){let r=Math.floor(t+(u-t)/2);e<=i[r]?u=r:t=r,u===t+1&&(e<=i[t]?u=t:t=u)}n[t]=n[t]+1,a+=1,s+=e,e<o&&(o=e),e>l&&(l=e)};return ee6({get:()=>eeH({buckets:(()=>{let e=ue(r),t=0;for(let a=0;a<r;a++){let r=i[a];t+=n[a],e[a]=[r,t]}return e})(),count:a,min:o,max:l,sum:s}),update:u,modify:u})},ett=e=>{let{error:t,maxAge:r,maxSize:n,quantiles:i}=e.keyType,a=rD(i,u4(xj)),s=ue(n),o=0,l=0,u=0,c=0,h=0,f=(e,t)=>{n>0&&(s[(o+=1)%n]=[t,e]),c=0===l?e:Math.min(c,e),h=0===l?e:Math.max(h,e),l+=1,u+=e};return ee6({get:()=>eeG({error:t,quantiles:(e=>{let i=[],o=0;for(;o!==n-1;){let t=s[o];if(null!=t){let[n,a]=t,s=Fa(e-n);F$(s,Ft)&&FL(s,r)&&i.push(a)}o+=1}return etr(t,a,u4(i,xj))})(Date.now()),count:l,min:c,max:h,sum:u}),update:([e,t])=>f(e,t),modify:([e,t])=>f(e,t)})},etr=(e,t,r)=>{let n=r.length;if(!uw(t))return cO();let i=t[0],a=t.slice(1),s=etn(e,n,sC(),0,i,r),o=cC(s);return a.forEach(t=>{o.push(etn(e,n,s.value,s.consumed,t,s.rest))}),cF(o,e=>[e.quantile,e.value])},etn=(e,t,r,n,i,a)=>{let s=e,o=t,l=r,u=n,c=i,h=a,f=e,d=t,p=r,m=n,g=i,y=a;for(;;){if(!uw(h))return{quantile:c,value:sC(),consumed:u,rest:[]};if(1===c)return{quantile:c,value:sF(uM(h)),consumed:u+h.length,rest:[]};let e=uF(h),t=uU(h,t=>t===e),r=c*o,n=s/2*r,i=u+t[0].length,a=Math.abs(i-r);if(i<r-n){f=s,d=o,p=uC(h),m=i,g=c,y=t[1],s=f,o=d,l=p,u=m,c=g,h=y;continue}if(i>r+n)return{quantile:c,value:sM(l)?sF(e):l,consumed:u,rest:h};switch(l._tag){case"None":f=s,d=o,p=uC(h),m=i,g=c,y=t[1],s=f,o=d,l=p,u=m,c=g,h=y;continue;case"Some":if(a<Math.abs(r-l.value)){f=s,d=o,p=uC(h),m=i,g=c,y=t[1],s=f,o=d,l=p,u=m,c=g,h=y;continue}return{quantile:c,value:sF(l.value),consumed:u,rest:h}}}throw Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},eti=Symbol.for("effect/MetricPair"),eta={_Type:e=>e},ets=(e,t)=>({[eti]:eta,metricKey:e,metricState:t,pipe(){return ij(this,arguments)}}),eto=Symbol.for("effect/MetricRegistry");class etl{[eto]=eto;map=Bu();snapshot(){let e=[];for(let[t,r]of this.map)e.push(ets(t,r.get()));return e}get(e){let t=rD(this.map,Bf(e),sJ);if(null!=t)return t;if(eec(e.keyType))return this.getCounter(e);if(eef(e.keyType))return this.getGauge(e);if(eeh(e.keyType))return this.getFrequency(e);if(eed(e.keyType))return this.getHistogram(e);if(eep(e.keyType))return this.getSummary(e);throw Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}getCounter(e){let t=rD(this.map,Bf(e),sJ);if(null==t){let r=ee8(e);rD(this.map,Bg(e))||rD(this.map,By(e,r)),t=r}return t}getFrequency(e){let t=rD(this.map,Bf(e),sJ);if(null==t){let r=ee7(e);rD(this.map,Bg(e))||rD(this.map,By(e,r)),t=r}return t}getGauge(e){let t=rD(this.map,Bf(e),sJ);if(null==t){let r=ee9(e,e.keyType.bigint?BigInt(0):0);rD(this.map,Bg(e))||rD(this.map,By(e,r)),t=r}return t}getHistogram(e){let t=rD(this.map,Bf(e),sJ);if(null==t){let r=ete(e);rD(this.map,Bg(e))||rD(this.map,By(e,r)),t=r}return t}getSummary(e){let t=rD(this.map,Bf(e),sJ);if(null==t){let r=ett(e);rD(this.map,Bg(e))||rD(this.map,By(e,r)),t=r}return t}}let etu=()=>new etl,etc=Symbol.for("effect/Metric"),eth={_Type:e=>e,_In:e=>e,_Out:e=>e},etf=r9(Symbol.for("effect/Metric/globalMetricRegistry"),()=>etu()),etd=function(e,t,r,n){let i=Object.assign(e=>PP(e,e=>etL(i,e)),{[etc]:eth,keyType:e,unsafeUpdate:t,unsafeValue:r,unsafeModify:n,register(){return this.unsafeValue([]),this},pipe(){return ij(this,arguments)}});return i},etp=rS(2,(e,t)=>etd(e.keyType,(r,n)=>e.unsafeUpdate(t(r),n),e.unsafeValue,(r,n)=>e.unsafeModify(t(r),n))),etm=(e,t)=>ety(eev(e,t)),etg=rS(2,(e,t)=>etp(e,()=>t)),ety=e=>{let t,r=new WeakMap,n=n=>{if(0===n.length)return void 0!==t?t:t=etf.get(e);let i=r.get(n);return void 0!==i||(i=etf.get(eeI(e,n)),r.set(n,i)),i};return etd(e.keyType,(e,t)=>n(t).update(e),e=>n(e).get(),(e,t)=>n(t).modify(e))},etb=(e,t,r)=>ety(eek(e,t,r)),etS=rS(2,(e,t)=>eec(e.keyType)?etL(e,t):etx(e,t)),etv=rS(2,(e,t)=>etd(e.keyType,e.unsafeUpdate,r=>t(e.unsafeValue(r)),e.unsafeModify)),etw=rS(2,(e,t)=>etd(t(e.keyType),e.unsafeUpdate,e.unsafeValue,e.unsafeModify)),etx=rS(2,(e,t)=>$p($J,r=>PL(()=>e.unsafeModify(t,r)))),etk=rS(2,(e,t)=>etL(e,t)),et_=e=>ety(ee_(e)),etE=rS(3,(e,t,r)=>etT(e,[VN(t,r)])),etI=rS(2,(e,t)=>etv(etd(e.keyType,(r,n)=>e.unsafeUpdate(r,ck(t(r),n)),e.unsafeValue,(r,n)=>e.unsafeModify(r,ck(t(r),n))),rC)),etT=rS(2,(e,t)=>etd(e.keyType,(r,n)=>e.unsafeUpdate(r,ck(t,n)),r=>e.unsafeValue(ck(t,r)),(r,n)=>e.unsafeModify(r,ck(t,n)))),etO=rS(2,(e,t)=>r=>Pm(r,{onFailure:r=>P3(etL(e,t),Pa(r)),onSuccess:r=>P3(etL(e,t),PD(r))})),etC=rS(2,(e,t)=>etF(e,t,rw)),etF=rS(3,(e,t,r)=>{let n=e=>etL(t,r(e));return JV(e,e=>Pb(j5(e),n))}),etA=rS(2,(e,t)=>etM(e,t,rw)),etM=rS(3,(e,t,r)=>qK(n=>{let i=n.unsafeCurrentTimeNanos();return PP(e,e=>etL(t,r(Fn(n.unsafeCurrentTimeNanos()-i))))})),etN=rS(2,(e,t)=>etR(e,t,e=>e)),etR=rS(3,(e,t,r)=>JJ(e,e=>etL(t,r(e)))),etD=rS(2,(e,t)=>etj(e,t,e=>e)),etj=rS(3,(e,t,r)=>PP(e,e=>etL(t,r(e)))),etL=rS(2,(e,t)=>$p($J,r=>PL(()=>e.unsafeUpdate(t,r)))),etP=e=>$p($J,t=>PL(()=>e.unsafeValue(t))),et$=e=>etp(e,e=>[e,Date.now()]),etz=rS(2,(e,t)=>etd([e.keyType,t.keyType],(r,n)=>{let[i,a]=r;e.unsafeUpdate(i,n),t.unsafeUpdate(a,n)},r=>[e.unsafeValue(r),t.unsafeValue(r)],(r,n)=>{let[i,a]=r;e.unsafeModify(i,n),t.unsafeModify(a,n)})),etU=()=>etf.snapshot(),etB=PL(etU),etW=Symbol.for("effect/Request"),etq={...i7,[etW]:{_E:e=>e,_A:e=>e}},etK=function(){function e(e){e&&Object.assign(this,e)}return e.prototype=etq,e}(),etV=rS(2,(e,t)=>$p(YL,r=>PL(()=>{if(r.has(e)){let n=r.get(e);n.state.completed||(n.state.completed=!0,Ut(n.result,t))}}))),etJ=rS(2,(e,t)=>Pg(t,{onFailure:t=>etV(e,zI(t)),onSuccess:t=>etV(e,z$(t))})),etH=rS(2,(e,t)=>etV(e,zI(t))),etG=rS(2,(e,t)=>etV(e,zT(t))),etZ=rS(2,(e,t)=>etV(e,z$(t)));class etQ{count=0;observers=new Set;interrupted=!1;addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}increment(){this.count++,this.observers.forEach(e=>e(this.count))}decrement(){this.count--,this.observers.forEach(e=>e(this.count))}}let etY={Forward:0,Backward:1};class etX{self;stack;direction;count=0;constructor(e,t,r){this.self=e,this.stack=t,this.direction=r}clone(){return new etX(this.self,this.stack.slice(),this.direction)}reversed(){return new etX(this.self,this.stack.slice(),this.direction===etY.Forward?etY.Backward:etY.Forward)}next(){let e=this.entry;switch(this.count++,this.direction===etY.Forward?this.moveNext():this.movePrev(),e._tag){case"None":return{done:!0,value:this.count};case"Some":return{done:!1,value:e.value}}}get key(){return this.stack.length>0?sF(this.stack[this.stack.length-1].key):sC()}get value(){return this.stack.length>0?sF(this.stack[this.stack.length-1].value):sC()}get entry(){return sQ(uA(this.stack),e=>[e.key,e.value])}get index(){let e=0,t=this.stack;if(0===t.length){let e=this.self._root;return null!=e?e.count:0}null!=t[t.length-1].left&&(e=t[t.length-1].left.count);for(let r=t.length-2;r>=0;--r)t[r+1]===t[r].right&&(++e,null!=t[r].left&&(e+=t[r].left.count));return e}moveNext(){let e=this.stack;if(0===e.length)return;let t=e[e.length-1];if(null!=t.right)for(t=t.right;null!=t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}get hasNext(){let e=this.stack;if(0===e.length)return!1;if(null!=e[e.length-1].right)return!0;for(let t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}movePrev(){let e=this.stack;if(0===e.length)return;let t=e[e.length-1];if(null!=t&&null!=t.left)for(t=t.left;null!=t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}get hasPrev(){let e=this.stack;if(0===e.length)return!1;if(null!=e[e.length-1].left)return!0;for(let t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}}let et0=({color:e,count:t,key:r,left:n,right:i,value:a})=>({color:e,key:r,value:a,left:n,right:i,count:t});function et1(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e.color=t.color,e.count=t.count}let et2=({count:e,key:t,left:r,right:n,value:i},a)=>({color:a,key:t,value:i,left:r,right:n,count:e}),et6=e=>{e.count=1+(e.left?.count??0)+(e.right?.count??0)},et3="effect/RedBlackTree",et4=Symbol.for(et3),et5={[et4]:{_Key:e=>e,_Value:e=>e},[is](){let e=io(et3);for(let t of this)e^=rD(io(t[0]),iu(io(t[1])));return ib(this,e)},[iS](e){if(et7(e)){if((this._root?.count??0)!==(e._root?.count??0))return!1;let t=Array.from(e);return Array.from(this).every((e,r)=>{let n=t[r];return iv(e[0],n[0])&&iv(e[1],n[1])})}return!1},[Symbol.iterator](){let e=[],t=this._root;for(;null!=t;)e.push(t),t=t.left;return new etX(this,e,etY.Forward)},toString(){return iI(this.toJSON())},toJSON(){return{_id:"RedBlackTree",values:Array.from(this).map(iE)}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},et8=(e,t)=>{let r=Object.create(et5);return r._ord=e,r._root=t,r},et7=e=>nw(e,et4),et9=e=>et8(e,void 0),ere=rS(2,(e,t)=>{let r=et9(t);for(let[t,n]of e)r=erl(r,t,n);return r}),ert=rS(2,(e,t)=>ern(e,t,etY.Backward)),err=rS(2,(e,t)=>ern(e,t,etY.Forward)),ern=(e,t,r)=>({[Symbol.iterator]:()=>{if(t<0)return new etX(e,[],r);let n=e._root,i=[];for(;void 0!==n;){if(i.push(n),void 0!==n.left){if(t<n.left.count){n=n.left;continue}t-=n.left.count}if(!t)return new etX(e,i,r);if(t-=1,void 0!==n.right){if(t>=n.right.count)break;n=n.right}else break}return new etX(e,[],r)}}),eri=rS(2,(e,t)=>{let r=[],n=e._root,i=OM();for(;void 0!==n||r.length>0;)if(n)r.push(n),n=n.left;else{let e=r.pop();iv(t,e.key)&&(i=OK(e.value)(i)),n=e.right}return i}),era=rS(2,(e,t)=>{let r=e._ord,n=e._root;for(;void 0!==n;){let e=r(t,n.key);if(iv(t,n.key))return sF(n.value);n=e<=0?n.left:n.right}return sC()}),ers=rS(2,(e,t)=>{let r;if(t<0)return sC();let n=e._root;for(;void 0!==n;){if(r=n,n.left){if(t<n.left.count){n=n.left;continue}t-=n.left.count}if(!t)return sF([r.key,r.value]);if(t-=1,n.right){if(t>=n.right.count)break;n=n.right}else break}return sC()}),ero=rS(2,(e,t)=>sN(era(e,t))),erl=rS(3,(e,t,r)=>{let n=e._ord,i=e._root,a=[],s=[];for(;null!=i;){let e=n(t,i.key);a.push(i),s.push(e),i=e<=0?i.left:i.right}a.push({color:0,key:t,value:r,left:void 0,right:void 0,count:1});for(let e=a.length-2;e>=0;--e){let t=a[e];s[e]<=0?a[e]={color:t.color,key:t.key,value:t.value,left:a[e+1],right:t.right,count:t.count+1}:a[e]={color:t.color,key:t.key,value:t.value,left:t.left,right:a[e+1],count:t.count+1}}for(let e=a.length-1;e>1;--e){let t=a[e-1],r=a[e];if(1===t.color||1===r.color)break;let n=a[e-2];if(n.left===t)if(t.left===r){let i=n.right;if(i&&0===i.color)t.color=1,n.right=et2(i,1),n.color=0,e-=1;else{if(n.color=0,n.left=t.right,t.color=1,t.right=n,a[e-2]=t,a[e-1]=r,et6(n),et6(t),e>=3){let r=a[e-3];r.left===n?r.left=t:r.right=t}break}}else{let i=n.right;if(i&&0===i.color)t.color=1,n.right=et2(i,1),n.color=0,e-=1;else{if(t.right=r.left,n.color=0,n.left=r.right,r.color=1,r.left=t,r.right=n,a[e-2]=r,a[e-1]=t,et6(n),et6(t),et6(r),e>=3){let t=a[e-3];t.left===n?t.left=r:t.right=r}break}}else if(t.right===r){let i=n.left;if(i&&0===i.color)t.color=1,n.left=et2(i,1),n.color=0,e-=1;else{if(n.color=0,n.right=t.left,t.color=1,t.left=n,a[e-2]=t,a[e-1]=r,et6(n),et6(t),e>=3){let r=a[e-3];r.right===n?r.right=t:r.left=t}break}}else{let i=n.left;if(i&&0===i.color)t.color=1,n.left=et2(i,1),n.color=0,e-=1;else{if(t.left=r.right,n.color=0,n.right=r.left,r.color=1,r.right=t,r.left=n,a[e-2]=r,a[e-1]=t,et6(n),et6(t),et6(r),e>=3){let t=a[e-3];t.right===n?t.right=r:t.left=r}break}}}return a[0].color=1,et8(e._ord,a[0])}),eru=(e,t)=>{let r=e[Symbol.iterator](),n=0;return{[Symbol.iterator]:()=>eru(e,t),next:()=>{n++;let e=r.key;switch(t===etY.Forward?r.moveNext():r.movePrev(),e._tag){case"None":return{done:!0,value:n};case"Some":return{done:!1,value:e.value}}}}},erc=rS(2,(e,t)=>erf(e,t,etY.Backward)),erh=rS(2,(e,t)=>erf(e,t,etY.Forward)),erf=(e,t,r)=>({[Symbol.iterator]:()=>{let n=e._ord,i=e._root,a=[],s=0;for(;void 0!==i;){let e=n(t,i.key);a.push(i),e<0&&(s=a.length),i=e<0?i.left:i.right}return a.length=s,new etX(e,a,r)}}),erd=rS(2,(e,t)=>erm(e,t,etY.Backward)),erp=rS(2,(e,t)=>erm(e,t,etY.Forward)),erm=(e,t,r=etY.Forward)=>({[Symbol.iterator]:()=>{let n=e._ord,i=e._root,a=[],s=0;for(;void 0!==i;){let e=n(t,i.key);a.push(i),e<=0&&(s=a.length),i=e<=0?i.left:i.right}return a.length=s,new etX(e,a,r)}}),erg=rS(2,(e,t)=>erb(e,t,etY.Backward)),ery=rS(2,(e,t)=>erb(e,t,etY.Forward)),erb=(e,t,r)=>({[Symbol.iterator]:()=>{let n=e._ord,i=e._root,a=[],s=0;for(;void 0!==i;){let e=n(t,i.key);a.push(i),e>0&&(s=a.length),i=e<=0?i.left:i.right}return a.length=s,new etX(e,a,r)}}),erS=rS(2,(e,t)=>erw(e,t,etY.Backward)),erv=rS(2,(e,t)=>erw(e,t,etY.Forward)),erw=(e,t,r)=>({[Symbol.iterator]:()=>{let n=e._ord,i=e._root,a=[],s=0;for(;void 0!==i;){let e=n(t,i.key);a.push(i),e>=0&&(s=a.length),i=e<0?i.left:i.right}return a.length=s,new etX(e,a,r)}}),erx=rS(2,(e,t)=>{let r=e._root;void 0!==r&&erC(r,(e,r)=>(t(e,r),sC()))}),erk=rS(3,(e,t,r)=>{let n=e._root,i=e._ord;void 0!==n&&erF(n,t,i,(e,t)=>(r(e,t),sC()))}),er_=rS(3,(e,t,r)=>{let n=e._root,i=e._ord;void 0!==n&&erA(n,t,i,(e,t)=>(r(e,t),sC()))}),erE=rS(2,(e,{body:t,max:r,min:n})=>{let i=e._root,a=e._ord;i&&erM(i,n,r,a,(e,r)=>(t(e,r),sC()))}),erI=rS(3,(e,t,r)=>{let n=t;for(let t of e)n=r(n,t[1],t[0]);return n}),erT=rS(2,(e,t)=>{if(!ero(e,t))return e;let r=e._ord,n=e._root,i=[];for(;void 0!==n;){let e=r(t,n.key);i.push(n),n=iv(t,n.key)?void 0:e<=0?n.left:n.right}if(0===i.length)return e;let a=Array(i.length),s=i[i.length-1];a[a.length-1]={color:s.color,key:s.key,value:s.value,left:s.left,right:s.right,count:s.count};for(let e=i.length-2;e>=0;--e)(s=i[e]).left===i[e+1]?a[e]={color:s.color,key:s.key,value:s.value,left:a[e+1],right:s.right,count:s.count}:a[e]={color:s.color,key:s.key,value:s.value,left:s.left,right:a[e+1],count:s.count};if(void 0!==(s=a[a.length-1]).left&&void 0!==s.right){let e=a.length;for(s=s.left;null!=s.right;)a.push(s),s=s.right;let t=a[e-1];a.push({color:s.color,key:t.key,value:t.value,left:s.left,right:s.right,count:s.count}),a[e-1].key=s.key,a[e-1].value=s.value;for(let t=a.length-2;t>=e;--t)s=a[t],a[t]={color:s.color,key:s.key,value:s.value,left:s.left,right:a[t+1],count:s.count};a[e-1].left=a[e]}if(0===(s=a[a.length-1]).color){let e=a[a.length-2];e.left===s?e.left=void 0:e.right===s&&(e.right=void 0),a.pop();for(let e=0;e<a.length;++e)a[e].count--}else if(void 0!==s.left||void 0!==s.right){void 0!==s.left?et1(s,s.left):void 0!==s.right&&et1(s,s.right),s.color=1;for(let e=0;e<a.length-1;++e)a[e].count--}else{if(1===a.length)return et8(r,void 0);for(let e=0;e<a.length;++e)a[e].count--;let e=a[a.length-2];erN(a),e.left===s?e.left=void 0:e.right=void 0}return et8(r,a[0])}),erO=(e,t)=>{let r=e[Symbol.iterator](),n=0;return{[Symbol.iterator]:()=>erO(e,t),next:()=>{n++;let e=r.value;switch(t===etY.Forward?r.moveNext():r.movePrev(),e._tag){case"None":return{done:!0,value:n};case"Some":return{done:!1,value:e.value}}}}},erC=(e,t)=>{let r,n=e,i=!1;for(;!i;)if(null!=n)r=FH(n,r),n=n.left;else if(null!=r){let e=t(r.value.key,r.value.value);if(sN(e))return e;n=r.value.right,r=r.previous}else i=!0;return sC()},erF=(e,t,r,n)=>{let i,a=e,s=!1;for(;!s;)if(void 0!==a)i=FH(a,i),a=0>=r(t,a.key)?a.left:void 0;else if(void 0!==i){if(0>=r(t,i.value.key)){let e=n(i.value.key,i.value.value);if(sN(e))return e}a=i.value.right,i=i.previous}else s=!0;return sC()},erA=(e,t,r,n)=>{let i,a=e,s=!1;for(;!s;)if(void 0!==a)i=FH(a,i),a=a.left;else if(void 0!==i&&r(t,i.value.key)>0){let e=n(i.value.key,i.value.value);if(sN(e))return e;a=i.value.right,i=i.previous}else s=!0;return sC()},erM=(e,t,r,n,i)=>{let a,s=e,o=!1;for(;!o;)if(void 0!==s)a=FH(s,a),s=0>=n(t,s.key)?s.left:void 0;else if(void 0!==a&&n(r,a.value.key)>0){if(0>=n(t,a.value.key)){let e=i(a.value.key,a.value.value);if(sN(e))return e}s=a.value.right,a=a.previous}else o=!0;return sC()},erN=e=>{let t,r,n,i;for(let a=e.length-1;a>=0;--a){if(t=e[a],0===a){t.color=1;return}if((r=e[a-1]).left===t){if(void 0!==(n=r.right)&&void 0!==n.right&&0===n.right.color){if(i=(n=r.right=et0(n)).right=et0(n.right),r.right=n.left,n.left=r,n.right=i,n.color=r.color,t.color=1,r.color=1,i.color=1,et6(r),et6(n),a>1){let t=e[a-2];t.left===r?t.left=n:t.right=n}e[a-1]=n;return}if(void 0!==n&&void 0!==n.left&&0===n.left.color){if(i=(n=r.right=et0(n)).left=et0(n.left),r.right=i.left,n.left=i.right,i.left=r,i.right=n,i.color=r.color,r.color=1,n.color=1,t.color=1,et6(r),et6(n),et6(i),a>1){let t=e[a-2];t.left===r?t.left=i:t.right=i}e[a-1]=i;return}if(void 0!==n&&1===n.color)if(0===r.color){r.color=1,r.right=et2(n,0);return}else{r.right=et2(n,0);continue}if(void 0!==n){if(r.right=(n=et0(n)).left,n.left=r,n.color=r.color,r.color=0,et6(r),et6(n),a>1){let t=e[a-2];t.left===r?t.left=n:t.right=n}e[a-1]=n,e[a]=r,a+1<e.length?e[a+1]=t:e.push(t),a+=2}}else{if(void 0!==(n=r.left)&&void 0!==n.left&&0===n.left.color){if(i=(n=r.left=et0(n)).left=et0(n.left),r.left=n.right,n.right=r,n.left=i,n.color=r.color,t.color=1,r.color=1,i.color=1,et6(r),et6(n),a>1){let t=e[a-2];t.right===r?t.right=n:t.left=n}e[a-1]=n;return}if(void 0!==n&&void 0!==n.right&&0===n.right.color){if(i=(n=r.left=et0(n)).right=et0(n.right),r.left=i.right,n.right=i.left,i.right=r,i.left=n,i.color=r.color,r.color=1,n.color=1,t.color=1,et6(r),et6(n),et6(i),a>1){let t=e[a-2];t.right===r?t.right=i:t.left=i}e[a-1]=i;return}if(void 0!==n&&1===n.color)if(0===r.color){r.color=1,r.left=et2(n,0);return}else{r.left=et2(n,0);continue}if(void 0!==n){if(r.left=(n=et0(n)).right,n.right=r,n.color=r.color,r.color=0,et6(r),et6(n),a>1){let t=e[a-2];t.right===r?t.right=n:t.left=n}e[a-1]=n,e[a]=r,a+1<e.length?e[a+1]=t:e.push(t),a+=2}}}},erR=etY,erD=et7,erj=et9,erL=ere,erP=e=>(...t)=>ere(t,e),er$=err,erz=ert,erU=eri,erB=era,erW=e=>{let t=e._root,r=e._root;for(;void 0!==t;)r=t,t=t.left;return r?sF([r.key,r.value]):sC()},erq=ers,erK=e=>e._ord,erV=erh,erJ=erc,erH=erp,erG=erd,erZ=ero,erQ=erl,erY=e=>eru(e,etY.Forward),erX=e=>eru(e,etY.Backward),er0=e=>{let t=e._root,r=e._root;for(;void 0!==t;)r=t,t=t.right;return r?sF([r.key,r.value]):sC()},er1=ery,er2=erg,er6=erv,er3=erS,er4=erx,er5=erk,er8=er_,er7=erE,er9=erI,ene=erT,ent=e=>({[Symbol.iterator]:()=>{let t=[],r=e._root;for(;void 0!==r;)t.push(r),r=r.right;return new etX(e,t,etY.Backward)}}),enr=e=>e._root?.count??0,enn=e=>erO(e,etY.Forward),eni=e=>erO(e,etY.Backward),ena=Symbol.for("effect/SortedSet"),ens={[ena]:{_A:e=>e},[is](){return rD(io(this.keyTree),iu(io(ena)),ib(this))},[iS](e){return enl(e)&&iv(this.keyTree,e.keyTree)},[Symbol.iterator](){return erY(this.keyTree)},toString(){return iI(this.toJSON())},toJSON(){return{_id:"SortedSet",values:Array.from(this).map(iE)}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},eno=e=>{let t=Object.create(ens);return t.keyTree=e,t},enl=e=>nw(e,ena),enu=e=>eno(erj(e)),enc=rS(2,(e,t)=>eno(erL(Array.from(e).map(e=>[e,!0]),t))),enh=e=>(...t)=>enc(t,e),enf=rS(2,(e,t)=>erZ(e.keyTree,t)?e:eno(erQ(e.keyTree,t,!0))),end=rS(2,(e,t)=>{let r=e;for(let e of t)r=enk(r,e);return r}),enp=rS(2,(e,t)=>{for(let r of e)if(!t(r))return!1;return!0}),enm=rS(2,(e,t)=>{let r=enu(erK(e.keyTree));for(let n of e)t(n)&&(r=enf(r,n));return r}),eng=rS(3,(e,t,r)=>{let n=enu(t);return eny(e,e=>{for(let t of r(e))n=enf(n,t)}),n}),eny=rS(2,(e,t)=>er4(e.keyTree,t)),enb=rS(2,(e,t)=>erZ(e.keyTree,t)),enS=rS(2,(e,t)=>{let r=enu(erK(e.keyTree));for(let n of t)enb(e,n)&&(r=enf(r,n));return r}),env=rS(2,(e,t)=>enp(e,e=>enb(t,e))),enw=rS(3,(e,t,r)=>{let n=enu(t);return eny(e,e=>{let t=r(e);enb(n,t)||(n=enf(n,t))}),n}),enx=rS(2,(e,t)=>{let r=erK(e.keyTree),n=enu(r),i=enu(r);for(let r of e)t(r)?n=enf(n,r):i=enf(i,r);return[i,n]}),enk=rS(2,(e,t)=>eno(ene(e.keyTree,t))),en_=e=>enr(e.keyTree),enE=rS(2,(e,t)=>{for(let r of e)if(t(r))return!0;return!1}),enI=rS(2,(e,t)=>enb(e,t)?enk(e,t):enf(e,t)),enT=rS(2,(e,t)=>{let r=enu(erK(e.keyTree));for(let t of e)r=enf(t)(r);for(let e of t)r=enf(e)(r);return r}),enO=e=>erY(e.keyTree),enC=()=>(e,t)=>env(e,t)&&env(t,e),enF=Symbol.for("effect/Supervisor"),enA={_T:e=>e};class enM{underlying;value0;[enF]=enA;constructor(e,t){this.underlying=e,this.value0=t}get value(){return this.value0}onStart(e,t,r,n){this.underlying.onStart(e,t,r,n)}onEnd(e,t){this.underlying.onEnd(e,t)}onEffect(e,t){this.underlying.onEffect(e,t)}onSuspend(e){this.underlying.onSuspend(e)}onResume(e){this.underlying.onResume(e)}map(e){return new enM(this,rD(this.value,PE(e)))}zip(e){return new enN(this,e)}}class enN{left;right;_tag="Zip";[enF]=enA;constructor(e,t){this.left=e,this.right=t}get value(){return P2(this.left.value,this.right.value)}onStart(e,t,r,n){this.left.onStart(e,t,r,n),this.right.onStart(e,t,r,n)}onEnd(e,t){this.left.onEnd(e,t),this.right.onEnd(e,t)}onEffect(e,t){this.left.onEffect(e,t),this.right.onEffect(e,t)}onSuspend(e){this.left.onSuspend(e),this.right.onSuspend(e)}onResume(e){this.left.onResume(e),this.right.onResume(e)}map(e){return new enM(this,rD(this.value,PE(e)))}zip(e){return new enN(this,e)}}let enR=e=>nw(e,enF)&&nx(e,"Zip");class enD{[enF]=enA;fibers=new Set;get value(){return PL(()=>Array.from(this.fibers))}onStart(e,t,r,n){this.fibers.add(n)}onEnd(e,t){this.fibers.delete(t)}onEffect(e,t){}onSuspend(e){}onResume(e){}map(e){return new enM(this,rD(this.value,PE(e)))}zip(e){return new enN(this,e)}onRun(e,t){return e()}}class enj{effect;[enF]=enA;constructor(e){this.effect=e}get value(){return this.effect}onStart(e,t,r,n){}onEnd(e,t){}onEffect(e,t){}onSuspend(e){}onResume(e){}map(e){return new enM(this,rD(this.value,PE(e)))}zip(e){return new enN(this,e)}onRun(e,t){return e()}}class enL{ref;[enF]=enA;constructor(e){this.ref=e}get value(){return PL(()=>MA(this.ref))}onStart(e,t,r,n){rD(this.ref,MP(rD(MA(this.ref),enf(n))))}onEnd(e,t){rD(this.ref,MP(rD(MA(this.ref),enk(t))))}onEffect(e,t){}onSuspend(e){}onResume(e){}map(e){return new enM(this,rD(this.value,PE(e)))}zip(e){return new enN(this,e)}onRun(e,t){return e()}}let enP=()=>new enD,en$=PL(enP),enz=e=>new enj(e),enU=r9("effect/Supervisor/none",()=>enz(PW)),enB=DW,enW=e=>e.empty,enq=rS(3,(e,t,r)=>e.diff(t,r)),enK=rS(3,(e,t,r)=>e.combine(t,r)),enV=rS(3,(e,t,r)=>e.patch(t,r)),enJ=DK,enH=DV,enG=e=>DK({empty:RK,combine:(e,t)=>RQ(t)(e),diff:(t,r)=>(e=>{var t,r;let n,i,a=0,s=RK;for(;a<e.oldValue.length&&a<e.newValue.length;){let t=OW(a)(e.oldValue),r=OW(a)(e.newValue),n=e.differ.diff(t,r);iv(n,e.differ.empty)||(s=rD(s,RQ(RZ(a,n)))),a+=1}return a<e.oldValue.length&&(s=rD(s,RQ((t=a,(n=Object.create(RH)).from=0,n.until=t,n)))),a<e.newValue.length&&(s=rD(s,RQ((r=OJ(a)(e.newValue),(i=Object.create(RJ)).values=r,i)))),s})({oldValue:t,newValue:r,differ:e}),patch:(t,r)=>RY(r,e)(t)}),enZ=e=>DK({empty:Da,combine:(e,t)=>Dc(t)(e),diff:(t,r)=>(e=>{let[t,r]=NK([e.oldValue,Da],([t,r],n,i)=>{let a=Nb(i)(t);switch(a._tag){case"Some":{let s,o=e.differ.diff(a.value,n);if(iv(o,e.differ.empty))return[Nz(i)(t),r];return[Nz(i)(t),Dc(((s=Object.create(Du)).key=i,s.patch=o,s))(r)]}case"None":let s;return[t,Dc(((s=Object.create(Do)).key=i,s.value=n,s))(r)]}})(e.newValue);return NK(r,(e,t,r)=>{let n;return Dc(((n=Object.create(Dl)).key=r,n))(e)})(t)})({oldValue:t,newValue:r,differ:e}),patch:(t,r)=>Dh(r,e)(t)}),enQ=DJ,enY=DH,enX=DG,en0=DZ,en1=DQ,en2=DY,en6=DX,en3="Empty",en4="AddSupervisor",en5="RemoveSupervisor",en8="AndThen",en7={_tag:en3},en9=(e,t)=>({_tag:en8,first:e,second:t}),eie=(e,t)=>iv(e,t)?enU:enR(e)?eie(e.left,t).zip(eie(e.right,t)):e,eit=e=>iv(e,enU)?Me():enR(e)?rD(eit(e.left),My(eit(e.right))):Mr(e),eir=enJ({empty:en7,patch:(e,t)=>((e,t)=>{let r=e,n=t;for(;O7(n);){let e=Ct(n);switch(e._tag){case en3:n=Cb(n);break;case en4:r=r.zip(e.supervisor),n=Cb(n);break;case en5:r=eie(r,e.supervisor),n=Cb(n);break;case en8:n=OK(e.first)(OK(e.second)(Cb(n)))}}return r})(t,OR(e)),combine:en9,diff:(e,t)=>{if(iv(e,t))return en7;let r=eit(e),n=eit(t),i=rD(n,Mm(r),Mx(en7,(e,t)=>en9(e,{_tag:en4,supervisor:t}))),a=rD(r,Mm(n),Mx(en7,(e,t)=>en9(e,{_tag:en5,supervisor:t})));return en9(i,a)}}),ein=etm("effect_fiber_started",{incremental:!0}),eii=etm("effect_fiber_active"),eia=etm("effect_fiber_successes",{incremental:!0}),eis=etm("effect_fiber_failures",{incremental:!0}),eio=etE(etb("effect_fiber_lifetimes",XG({start:.5,factor:2,count:35})),"time_unit","milliseconds"),eil="Continue",eiu="Yield",eic={_E:e=>e,_A:e=>e},eih=e=>{throw Error(`BUG: FiberRuntime - ${iC(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},eif=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),eid=r9("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),eip={[iq]:(e,t,r)=>it(()=>t.effect_instruction_i1(r)),OnStep:(e,t,r)=>z$(z$(r)),[iK]:(e,t,r)=>it(()=>t.effect_instruction_i2(r)),[iX]:(e,t,r)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),jl(e.currentRuntimeFlags)&&e.isInterrupted())?zT(e.getInterruptedCause()):z$(r),[iG]:(e,t,r)=>(it(()=>t.effect_instruction_i2(r)),it(()=>t.effect_instruction_i0()))?(e.pushStack(t),it(()=>t.effect_instruction_i1())):PW,[iZ]:(e,t,r)=>{let n=it(()=>t.effect_instruction_i0.next(r));return n.done?z$(n.value):(e.pushStack(t),n8(n.value))}},eim={[Yz]:(e,t,r,n)=>(e.processNewInterruptSignal(n.cause),jl(t)?zT(n.cause):r),[YB]:(e,t,r,n)=>{throw Error("It is illegal to have multiple concurrent run loops in a single fiber")},[YU]:(e,t,r,n)=>(n.onFiber(e,HK(t)),r),[YW]:(e,t,r,n)=>Pu(P1(),()=>r)},eig=i1();class eiy extends KP{[YY]=YX;[Y1]=eic;_fiberRefs;_fiberId;_queue=[];_children=null;_observers=[];_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(e,t,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=e,this._fiberRefs=t,jp(r)){const e=this.getFiberRef($J);ein.unsafeUpdate(1,e),eii.unsafeUpdate(1,e)}this.refreshRefCache()}commit(){return Xt(this)}id(){return this._fiberId}resume(e){this.tell(YV(e))}get status(){return this.ask((e,t)=>t)}get runtimeFlags(){return this.ask((e,t)=>HH(t)?e.currentRuntimeFlags:t.runtimeFlags)}scope(){return new YZ(this.id(),this)}get children(){return this.ask(e=>Array.from(e.getChildren()))}getChildren(){return null===this._children&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef($Z)}fiberRefs(){return this.ask(e=>e.getFiberRefs())}ask(e){return Pj(()=>{let t=zG(this._fiberId);return this.tell(YK((r,n)=>{Ut(t,PL(()=>e(r,n)))})),zY(t)})}tell(e){this._queue.push(e),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return L1(e=>{let t=t=>e(PD(t));return this.tell(YK((e,r)=>{null!==e._exitValue?t(this._exitValue):e.addObserver(t)})),PL(()=>this.tell(YK((e,r)=>{e.removeObserver(t)})))},this.id())}get inheritAll(){return LH((e,t)=>{let r=e.id(),n=e.getFiberRefs(),i=t.runtimeFlags,a=qQ(n,r,this.getFiberRefs());return e.setFiberRefs(a),Pq(rD(jS(i,e.getFiberRef(eaw)),jR(1),jR(16)))})}get poll(){return PL(()=>sq(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(e){return PL(()=>this.tell(Yq(jZ(e))))}unsafeInterruptAsFork(e){this.tell(Yq(jZ(e)))}addObserver(e){null!==this._exitValue?e(this._exitValue):this._observers.push(e)}removeObserver(e){this._observers=this._observers.filter(t=>t!==e)}getFiberRefs(){return this.setFiberRef(eaw,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(e){this._fiberRefs=q1(this._fiberRefs,e)}getFiberRef(e){return this._fiberRefs.locals.has(e)?this._fiberRefs.locals.get(e)[0][1]:e.initial}setFiberRef(e,t){this._fiberRefs=q3(this._fiberRefs,{fiberId:this._fiberId,fiberRef:e,value:t}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(qE),this.currentTracer=this.currentDefaultServices.unsafeMap.get(qy.key),this.currentSupervisor=this.getFiberRef(eax),this.currentScheduler=this.getFiberRef(Yu),this.currentContext=this.getFiberRef($R),this.currentSpan=this.currentContext.unsafeMap.get(qb.key)}setFiberRefs(e){this._fiberRefs=e,this.refreshRefCache()}addChild(e){this.getChildren().add(e)}removeChild(e){this.getChildren().delete(e)}transferChildren(e){let t=this._children;if(this._children=null,null!==t&&t.size>0)for(let r of t)null===r._exitValue&&e.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let e=!0;for(;e;){let t=eil,r=globalThis[Xd];globalThis[Xd]=this;try{for(;t===eil;)t=0===this._queue.length?"Done":this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Xd]=r}this._queue.length>0&&!this._running?(this._running=!0,t===eiu?(this.drainQueueLaterOnExecutor(),e=!1):e=!0):e=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef($D))}drainQueueWhileRunning(e,t){let r=t;for(;this._queue.length>0;){let t=this._queue.splice(0,1)[0];r=eim[t._tag](this,e,r,t)}return r}isInterrupted(){return!j2(this.getFiberRef($Z))}addInterruptedCause(e){let t=this.getFiberRef($Z);this.setFiberRef($Z,jY(t,e))}processNewInterruptSignal(e){this.addInterruptedCause(e),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(null===this._children||0===this._children.size)return!1;let e=!1;for(let t of this._children)t.tell(Yq(jZ(this.id()))),e=!0;return e}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){let e=this._children.values();this._children=null;let t=!1;return PV({while:()=>!t,body:()=>{let r=e.next();return r.done?PL(()=>{t=!0}):LQ(r.value.await)},step:()=>{}})}return null}reportExitValue(e){if(jp(this.currentRuntimeFlags)){let t=this.getFiberRef($J),r=this.id().startTimeMillis,n=Date.now();switch(eio.unsafeUpdate(n-r,t),eii.unsafeUpdate(-1,t),e._tag){case iV:eia.unsafeUpdate(1,t);break;case iB:eis.unsafeUpdate(1,t)}}if("Failure"===e._tag){let t=this.getFiberRef($q);j3(e.cause)||"Some"!==t._tag||this.log("Fiber terminated with an unhandled error",e.cause,t)}}setExitValue(e){this._exitValue=e,this.reportExitValue(e);for(let t=this._observers.length-1;t>=0;t--)this._observers[t](e);this._observers=[]}getLoggers(){return this.getFiberRef(eiI)}log(e,t,r){let n=sN(r)?r.value:this.getFiberRef($P);if(Kx(this.getFiberRef(eib),n))return;let i=this.getFiberRef($$),a=this.getFiberRef($L),s=this.getLoggers(),o=this.getFiberRefs();if(Mu(s)>0){let r=new Date(Op(this.getFiberRef(qE),B3).unsafeCurrentTimeMillis());iR(o,()=>{for(let l of s)l.log({fiberId:this.id(),logLevel:n,message:e,cause:t,context:o,spans:i,annotations:a,date:r})})}}evaluateMessageWhileSuspended(e){switch(e._tag){case YW:return eiu;case Yz:return this.processNewInterruptSignal(e.cause),null!==this._asyncInterruptor&&(this._asyncInterruptor(zT(e.cause)),this._asyncInterruptor=null),eil;case YB:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(e.effect),eil;case YU:return e.onFiber(this,null!==this._exitValue?Hq:HV(this.currentRuntimeFlags,this._asyncBlockingOn)),eil;default:return eih(e)}}evaluateEffect(e){this.currentSupervisor.onResume(this);try{let t=jl(this.currentRuntimeFlags)&&this.isInterrupted()?zT(this.getInterruptedCause()):e;for(;null!==t;){let e=t,r=this.runLoop(e);if(r===eif){let e=eid.currentOp;eid.currentOp=null,e._op===iY?jn(this.currentRuntimeFlags)?(this.tell(YJ()),this.tell(YV(zz)),t=null):t=zz:e._op===iz&&(t=null)}else{this.currentRuntimeFlags=rD(this.currentRuntimeFlags,js(16));let e=this.interruptAllChildren();null!==e?t=Pu(e,()=>r):(0===this._queue.length?this.setExitValue(r):this.tell(YV(r)),t=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(e){if(this._running)this.tell(YV(e));else{this._running=!0;let t=globalThis[Xd];globalThis[Xd]=this;try{this.evaluateEffect(e)}finally{this._running=!1,globalThis[Xd]=t,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(e){this.tell(YV(e))}patchRuntimeFlags(e,t){let r=jv(e,t);return globalThis[Xd]=this,this.currentRuntimeFlags=r,r}initiateAsync(e,t){let r=!1,n=e=>{r||(r=!0,this.tell(YV(e)))};jl(e)&&(this._asyncInterruptor=n);try{t(n)}catch(e){n(Pa(jG(e)))}}pushStack(e){this._stack.push(e),"OnStep"===e._op&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){let e=this._stack.pop();if(e)return"OnStep"===e._op&&this._steps.pop(),e}getNextSuccessCont(){let e=this.popStack();for(;e;){if(e._op!==iW)return e;e=this.popStack()}}getNextFailCont(){let e=this.popStack();for(;e;){if(e._op!==iq&&e._op!==iG&&e._op!==iZ)return e;e=this.popStack()}}Tag(e){return PL(()=>Og(this.currentContext,e))}Left(e){return Pn(e.left)}None(e){return Pn(new zl)}Right(e){return z$(e.right)}Some(e){return z$(e.value)}Micro(e){return LX(t=>{let r=t,n=QY(ZE(e,this.currentContext));return n.addObserver(e=>{if("Success"===e._tag)return r(z$(e.value));switch(e.cause._tag){case"Interrupt":return r(zT(jZ(M8)));case"Fail":return r(Pn(e.cause.error));case"Die":return r(L7(e.cause.defect))}}),LX(e=>{r=t=>{e(PW)},n.unsafeInterrupt()})})}[iJ](e){let t=it(()=>e.effect_instruction_i0()),r=this.getNextSuccessCont();return void 0!==r?(r._op in eip||eih(r),eip[r._op](this,r,t)):(eid.currentOp=z$(t),eif)}[iV](e){let t=this.getNextSuccessCont();return void 0!==t?(t._op in eip||eih(t),eip[t._op](this,t,e.effect_instruction_i0)):(eid.currentOp=e,eif)}[iB](e){let t=e.effect_instruction_i0,r=this.getNextFailCont();if(void 0===r)return eid.currentOp=zT(t),eif;switch(r._op){case iW:case iK:if(!(jl(this.currentRuntimeFlags)&&this.isInterrupted()))return it(()=>r.effect_instruction_i1(t));return zT(Ln(t));case"OnStep":if(!(jl(this.currentRuntimeFlags)&&this.isInterrupted()))return z$(zT(t));return zT(Ln(t));case iX:if(this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),jl(this.currentRuntimeFlags)&&this.isInterrupted())return zT(jY(t,this.getInterruptedCause()));return zT(t);default:eih(r)}}[iQ](e){return it(()=>e.effect_instruction_i0(this,HK(this.currentRuntimeFlags)))}Blocked(e){let t=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){let n=[],i=this._steps[this._steps.length-1],a=this.popStack();for(;a&&"OnStep"!==a._op;)n.push(a),a=this.popStack();this.setFiberRefs(i.refs),this.currentRuntimeFlags=i.flags;let s=HF(i.refs,t),o=jS(i.flags,r);return z$(Lz(e.effect_instruction_i0,LH(t=>{for(;n.length>0;)t.pushStack(n.pop());return t.setFiberRefs(HM(t.id(),t.getFiberRefs())(s)),t.currentRuntimeFlags=jv(o)(t.currentRuntimeFlags),e.effect_instruction_i1})))}return PB(t=>Pu(eiq(LU(e.effect_instruction_i0)),()=>t(e.effect_instruction_i1)))}RunBlocked(e){return Pb((e=>{let t=Rn(e),r=Rr();for(;;){let[e,n]=RO(t,[YE(),Rr()],([e,t],r)=>{let[n,i]=Yg(r);return[YT(e,n),Ro(t,i)]});if(r=Yy(r,e),N8(n))return RF(r);t=n}throw Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")})(e.effect_instruction_i0),e=>eiU(Array.from(e.map),([e,t])=>{let r=new Map,n=[];for(let e of t)for(let t of(n.push(OP(e)),e))r.set(t.request,t);let i=n.flat();return $T(eaF(e.runAll(n),i,()=>i.forEach(e=>{e.listeners.interrupted=!0})),YL,r)},!1,!1))}[iH](e){let t=e.effect_instruction_i0,r=this.currentRuntimeFlags,n=jv(r,t);if(jl(n)&&this.isInterrupted())return zT(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,t),!e.effect_instruction_i1)return zz;{let t=jS(n,r);return this.pushStack(new LW(t,e)),it(()=>e.effect_instruction_i1(r))}}[iq](e){return this.pushStack(e),e.effect_instruction_i0}OnStep(e){return this.pushStack(e),e.effect_instruction_i0}[iW](e){return this.pushStack(e),e.effect_instruction_i0}[iK](e){return this.pushStack(e),e.effect_instruction_i0}[iz](e){return this._asyncBlockingOn=e.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,e.effect_instruction_i0),eid.currentOp=e,eif}[iY](e){return this._isYielding=!1,eid.currentOp=e,eif}[iG](e){let t=e.effect_instruction_i0,r=e.effect_instruction_i1;return t()?(this.pushStack(e),r()):zz}[iZ](e){return eip[iZ](this,e,void 0)}[iU](e){return it(()=>e.commit())}runLoop(e){let t=e;for(this.currentOpCount=0;;){if((2&this.currentRuntimeFlags)!=0&&this.currentSupervisor.onEffect(this,t),this._queue.length>0&&(t=this.drainQueueWhileRunning(this.currentRuntimeFlags,t)),!this._isYielding){this.currentOpCount+=1;let e=this.currentScheduler.shouldYield(this);if(!1!==e){this._isYielding=!0,this.currentOpCount=0;let r=t;t=Pu(P1({priority:e}),()=>r)}}try{if((t=this.currentTracer.context(()=>{if(eig!==t[LB]._V){let e=this.getFiberRef($K);if("Some"===e._tag){let r=t[LB]._V;this.log(`Executing an Effect versioned ${r} with a Runtime of version ${i1()}, you may want to dedupe the effect dependencies, you can use the language service plugin to detect this at compile time: https://github.com/Effect-TS/language-service`,jJ,e)}}return this[t._op](t)},this))===eif){let e=eid.currentOp;if(e._op===iY||e._op===iz)return eif;return eid.currentOp=null,e._op===iV||e._op===iB?e:zT(jG(e))}}catch(e){t=(t===eif||nw(t,"_op"))&&t._op in this?zi(e)?zT(jY(jG(e),jZ(M8))):L7(e):L9(`Not a valid effect: ${iC(t)}`)}}}run=()=>{this.drainQueueOnCurrentThread()}}let eib=r9("effect/FiberRef/currentMinimumLogLevel",()=>$C(K_("Info"))),eiS=e=>Xg(t=>{Op(Kr(t.context,qE),qs).unsafe.log(e.log(t))}),eiv=r9(Symbol.for("effect/Logger/defaultLogger"),()=>eiS(XT)),eiw=r9(Symbol.for("effect/Logger/jsonLogger"),()=>eiS(XA)),eix=r9(Symbol.for("effect/Logger/logFmtLogger"),()=>eiS(XO)),eik=r9(Symbol.for("effect/Logger/prettyLogger"),()=>XW),ei_=r9(Symbol.for("effect/Logger/structuredLogger"),()=>eiS(XC)),eiE=r9(Symbol.for("effect/Logger/tracerLogger"),()=>Xg(({annotations:e,cause:t,context:r,fiberId:n,logLevel:i,message:a})=>{let s=Oy(q6(r,$R),qb);if("None"===s._tag||"ExternalSpan"===s.value._tag)return;let o=Og(q6(r,qE),B3),l={};for(let[t,r]of e)l[t]=r;l["effect.fiberId"]=Nu(n),l["effect.logLevel"]=i.label,null!==t&&"Empty"!==t._tag&&(l["effect.cause"]=LE(t,{renderErrorCause:!0})),s.value.event(iC(Array.isArray(a)&&1===a.length?a[0]:a),o.unsafeCurrentTimeNanos(),l)})),eiI=r9(Symbol.for("effect/FiberRef/currentLoggers"),()=>$F(Mr(eiv,eiE))),eiT=rS(3,(e,t,r)=>Pu(eac,n=>{let i=[],a=Pj(()=>{if(0===i.length)return PW;let e=i;return i=[],r(e)});return PB(r=>rD(qB(t),P3(a),Ja,r,eiq,Pu(e=>$6(n,P8(e))),P3(eiA(()=>a)),LZ(Xg(t=>{i.push(e.log(t))}))))})),eiO=rS(2,(e,t)=>{let r="string"==typeof t?K_(t):t;return LH(t=>Kx(t.getFiberRef(eib),r)?PD(sC()):PE(e,sF))}),eiC=rS(e=>LJ(e[0]),(e,t)=>PU(PP(e,e=>eiA(r=>t(e,r))))),eiF=rS(e=>LJ(e[0]),(e,t)=>eaC(e,eiA(e=>t(e)))),eiA=e=>LH(t=>{let r=t.getFiberRefs(),n=ji(t.currentRuntimeFlags,1);return Pu(eac,t=>$3(t,t=>LH(i=>{let a=i.getFiberRefs(),s=i.currentRuntimeFlags,o=HF(a,r),l=jS(s,n),u=HF(r,a);return i.setFiberRefs(HM(o,i.id(),r)),eaC(PY(e(t),l),PL(()=>{i.setFiberRefs(HM(u,i.id(),i.getFiberRefs()))}))})))}),eiM=Symbol.for("effect/Effect/existsPar/found"),eiN=rS(e=>nO(e[0])&&!LJ(e[0]),(e,t,r)=>Y$(r?.concurrency,()=>Pj(()=>eiR(e[Symbol.iterator](),0,t)),()=>Pg(ei$(e,(e,r)=>PS(t(e,r),{onTrue:()=>Pn(eiM),onFalse:()=>PW}),r),{onFailure:e=>e===eiM?PD(!0):Pn(e),onSuccess:()=>PD(!1)}))),eiR=(e,t,r)=>{let n=e.next();return n.done?PD(!1):Pu(r(n.value,t),n=>n?PD(n):eiR(e,t+1,r))},eiD=rS(e=>nO(e[0])&&!LJ(e[0]),(e,t,r)=>{let n=r?.negate?(e,r)=>PE(t(e,r),TA):t;return Y$(r?.concurrency,()=>Pj(()=>ui(e).reduceRight((e,t,r)=>P4(e,Pj(()=>n(t,r)),(e,r)=>r?[t,...e]:e),PL(()=>[]))),()=>PE(ei$(e,(e,t)=>PE(n(e,t),t=>t?sF(e):sC()),r),cj))}),eij=(e,t)=>{let[r,n]=(e=>{if(Array.isArray(e)||nO(e))return[e,sC()];let t=Object.keys(e),r=t.length;return[t.map(t=>e[t]),sF(e=>{let n={};for(let i=0;i<r;i++)n[t[i]]=e[i];return n})]})(e);if(t?.mode==="validate"){let e=[];for(let t of r)e.push(Pt(t));return Pu(ei$(e,rw,{concurrency:t?.concurrency,batching:t?.batching,concurrentFinalizers:t?.concurrentFinalizers}),e=>{let r=sC(),i=e.length,a=Array(i),s=Array(i),o=!1;for(let t=0;t<i;t++){let n=e[t];"Left"===n._tag?(a[t]=sF(n.left),o=!0):(s[t]=n.right,a[t]=r)}return o?"Some"===n._tag?Pn(n.value(a)):Pn(a):t?.discard?PW:"Some"===n._tag?PD(n.value(s)):PD(s)})}if(t?.mode==="either"){let e=[];for(let t of r)e.push(Pt(t));return t?.discard?ei$(e,rw,{concurrency:t?.concurrency,batching:t?.batching,discard:!0,concurrentFinalizers:t?.concurrentFinalizers}):PE(ei$(e,rw,{concurrency:t?.concurrency,batching:t?.batching,concurrentFinalizers:t?.concurrentFinalizers}),e=>"Some"===n._tag?n.value(e):e)}return t?.discard!==!0&&"Some"===n._tag?PE(ei$(r,rw,t),n.value):ei$(r,rw,t)},eiL=rS(2,(e,t)=>Array.from({length:t},()=>e)),eiP=rS(e=>LJ(e[0]),(e,t,r)=>eij(eiL(e,t),r)),ei$=rS(e=>nO(e[0]),(e,t,r)=>LH(n=>{let i=r?.batching===!0||r?.batching==="inherit"&&n.getFiberRef($W);return r?.discard?YP(r.concurrency,()=>ei2(Hx,r?.concurrentFinalizers)(r=>i?eiU(e,(e,n)=>r(t(e,n)),!0,!1,1):Pb(e,(e,n)=>r(t(e,n)))),()=>ei2(Hk,r?.concurrentFinalizers)(r=>eiU(e,(e,n)=>r(t(e,n)),i,!1)),n=>ei2(H_(n),r?.concurrentFinalizers)(r=>eiU(e,(e,n)=>r(t(e,n)),i,!1,n))):YP(r?.concurrency,()=>ei2(Hx,r?.concurrentFinalizers)(r=>i?eiB(e,1,(e,n)=>r(t(e,n)),!0):Py(e,(e,n)=>r(t(e,n)))),()=>ei2(Hk,r?.concurrentFinalizers)(r=>eiz(e,(e,n)=>r(t(e,n)),i)),n=>ei2(H_(n),r?.concurrentFinalizers)(r=>eiB(e,n,(e,n)=>r(t(e,n)),i)))})),eiz=(e,t,r)=>Pj(()=>{let n=ui(e),i=Array(n.length);return P3(eiU(n,(e,r)=>Pu(t(e,r),e=>PL(()=>i[r]=e)),r,!1),PD(i))}),eiU=(e,t,r,n,i)=>PB(a=>P$(s=>LH(o=>{let l=Array.from(e).reverse(),u=l.length;if(0===u)return PW;let c=0,h=!1,f=i?Math.min(l.length,i):l.length,d=new Set,p=[],m=[],g=[],y=[],b=()=>{let e=p.filter(({exit:e})=>"Failure"===e._tag).sort((e,t)=>e.index<t.index?-1:+(e.index!==t.index)).map(({exit:e})=>e);return 0===e.length&&e.push(zz),e},S=(e,t=!1)=>{let r=PU(s(e)),n=eiJ(r,o,o.currentRuntimeFlags,YQ);return o.currentScheduler.scheduleTask(()=>{t&&n.unsafeInterruptAsFork(o.id()),n.resume(r)},0),n},v=()=>{n||(u-=l.length,l=[]),h=!0,d.forEach(e=>{e.currentScheduler.scheduleTask(()=>{e.unsafeInterruptAsFork(o.id())},0)})},w=r?Ph:Pr,x=S(L1(e=>{let n=(e,t)=>{"Blocked"===e._op?y.push(e):(p.push({index:t,exit:e}),"Failure"!==e._op||h||v())},s=()=>{if(l.length>0){let f=l.pop(),v=c++,x=e=>{if(l.length>0&&(n(e,v),l.length>0)){let e;return e=l.pop(),v=c++,Pu(P1(),()=>Pu(w(a(t(e,v))),x))}return PD(e)},k=S(Pu(w(a(t(f,v))),x));m.push(k),d.add(k),h&&k.currentScheduler.scheduleTask(()=>{k.unsafeInterruptAsFork(o.id())},0),k.addObserver(t=>{let a;if(a="Failure"===t._op?t:t.effect_instruction_i0,g.push(k),d.delete(k),n(a,v),p.length===u)e(PD(s$(zk(b(),{parallel:!0}),()=>zz)));else if(y.length+p.length===u){let t=b();e(PD(Lz(y.map(e=>e.effect_instruction_i0).reduce(Yf),eiU([s$(zk(t,{parallel:!0}),()=>zz),...y.map(e=>e.effect_instruction_i1)],e=>e,r,!0,i))))}else s()})}};for(let e=0;e<f;e++)s()}));return LQ(PC(Pf(a(Xt(x))),zL({onFailure:e=>{v();let t=y.length+1,r=Math.min("number"==typeof i?i:y.length,y.length),n=Array.from(y);return L1(i=>{let a=[],s=0,o=0,l=(r,o)=>l=>{a[r]=l,++s===t&&i(z$(zT(e))),n.length>0&&o&&u()},u=()=>{S(n.pop(),!0).addObserver(l(o,!0)),o++};x.addObserver(l(o,!1)),o++;for(let e=0;e<r;e++)u()})},onSuccess:()=>Py(g,e=>e.inheritAll)})))}))),eiB=(e,t,r,n)=>Pj(()=>{let i=ui(e),a=Array(i.length);return P3(eiU(i,(e,t)=>PE(r(e,t),e=>a[t]=e),n,!1,t),PD(a))}),eiW=e=>LH((t,r)=>PD(eiV(e,t,r.runtimeFlags))),eiq=e=>eiG(e,YQ),eiK=rS(2,(e,t)=>eiW(PO(e,e=>{let r=j9(e);switch(r._tag){case"Left":return t(r.left);case"Right":return Pa(r.right)}}))),eiV=(e,t,r,n=null)=>{let i=eiH(e,t,r,n);return i.resume(e),i},eiJ=(e,t,r,n=null)=>eiH(e,t,r,n),eiH=(e,t,r,n=null)=>{let i=Nf(),a=qY(t.getFiberRefs(),i),s=new eiy(i,a,r),o=q6(a,$R),l=s.currentSupervisor;return l.onStart(o,e,sF(t),s),s.addObserver(e=>l.onEnd(e,s)),(null!==n?n:rD(t.getFiberRef($G),s$(()=>t.scope()))).add(r,s),s},eiG=(e,t)=>LH((r,n)=>PD(eiV(e,r,n.runtimeFlags,t))),eiZ=rS(e=>nf(e[2]),(e,t,r,n)=>Y$(n?.concurrency,()=>ui(e).reduce((e,t,n)=>P4(e,t,(e,t)=>r(e,t,n)),PD(t)),()=>Pu(Vt(t),t=>Pu(ei$(e,(e,n)=>Pu(e,e=>Vc(t,t=>r(t,e,n))),n),()=>Vr(t))))),eiQ=rS(e=>nO(e[0]),(e,t,r)=>rD(ei$(e,(e,r)=>Pt(t(e,r)),r),PE(e=>cD(e,rw)))),eiY=rS(e=>nO(e[0]),(e,t,r)=>Pu(eiQ(e,t,{concurrency:r?.concurrency,batching:r?.batching,concurrentFinalizers:r?.concurrentFinalizers}),([e,t])=>uv(e)?Pn(e):r?.discard?PW:PD(t))),eiX=rS(e=>nO(e[0])&&!LJ(e[0]),(e,t,r,n)=>Y$(n?.concurrency,()=>ui(e).reduce((e,t,n)=>P4(e,t,(e,t)=>r(e,t,n)),t),()=>Pj(()=>rD(eiZ([t,...e],sC(),(e,t,n)=>{switch(e._tag){case"None":return sF(t);case"Some":return sF(r(e.value,t,n))}},n),PE(e=>{switch(e._tag){case"None":throw Error("BUG: Effect.reduceEffect - please report an issue at https://github.com/Effect-TS/effect/issues");case"Some":return e.value}}))))),ei0=e=>Ua(t=>sR(Oy(t,eau),{onNone:()=>e,onSome:t=>{switch(t.strategy._tag){case"Parallel":return e;case"Sequential":case"ParallelN":return Pu($5(t,Hk),t=>eap(e,t))}}})),ei1=e=>t=>Ua(r=>sR(Oy(r,eau),{onNone:()=>t,onSome:r=>"ParallelN"===r.strategy._tag&&r.strategy.parallelism===e?t:Pu($5(r,H_(e)),e=>eap(t,e))})),ei2=(e,t)=>r=>Ua(n=>sR(Oy(n,eau),{onNone:()=>r(rw),onSome:n=>{if(!0!==t)return r(rw);{let t="Parallel"===e._tag?ei0:"Sequential"===e._tag?ei5:ei1(e.parallelism);switch(n.strategy._tag){case"Parallel":return t(r(ei0));case"Sequential":return t(r(ei5));case"ParallelN":return t(r(ei1(n.strategy.parallelism)))}}}})),ei6=e=>Pu(eau,e),ei3=e=>Pu(ead(),t=>PC(e(t),e=>t.close(e))),ei4=e=>Pu(ead(),t=>eam(e,t)),ei5=e=>Ua(t=>sR(Oy(t,eau),{onNone:()=>e,onSome:t=>{switch(t.strategy._tag){case"Sequential":return e;case"Parallel":case"ParallelN":return Pu($5(t,Hx),t=>eap(e,t))}}})),ei8=e=>eab($J,t=>ck(t,e)),ei7=rS(2,(e,t)=>ei3(r=>Pu(eap(e,r),t))),ei9=rS(e=>LJ(e[1]),(e,t,r)=>eae(e,t,(e,t)=>[e,t],r)),eae=rS(e=>LJ(e[1]),(e,t,r,n)=>Pf(eao(Pr(e),Pr(t),(e,t)=>zJ(e,t,{onSuccess:r,onFailure:(e,t)=>n?.concurrent?jQ(e,t):jY(e,t)}),n))),eat=rS(e=>nO(e[0]),(e,t,r)=>Pd(ei$(e,(e,r)=>Pd(t(e,r)),r))),ear=e=>eab(qE,Od(B3,e)),ean=e=>eab(qE,Od(Wq,e)),eai=rS(e=>LJ(e[1]),(e,t,r)=>eao(e,t,(e,t)=>[e,t],r)),eaa=rS(e=>LJ(e[1]),(e,t,r)=>r?.concurrent!==!0&&(r?.batching===void 0||!1===r.batching)?P6(e,t):eao(e,t,(e,t)=>e,r)),eas=rS(e=>LJ(e[1]),(e,t,r)=>r?.concurrent!==!0&&(r?.batching===void 0||!1===r.batching)?P3(e,t):eao(e,t,(e,t)=>t,r)),eao=rS(e=>LJ(e[1]),(e,t,r,n)=>PE(eij([e,t],{concurrency:n?.concurrent?2:1,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),([e,t])=>r(e,t))),eal=e=>e===jx?PW:rD(PR,Pu(t=>{let r=jS(jv(t,e),t);return rD(Pq(e),P3(eiA(()=>Pq(r))),LQ)}),PU),eau=Os("effect/Scope"),eac=eau,eah={[$1]:$1,[$2]:$2,pipe(){return ij(this,arguments)},fork(e){return PL(()=>{var t;let r=eaf(e);if("Closed"===this.state._tag)return r.state=this.state,r;let n={};return this.state.finalizers.set(n,e=>r.close(e)),t=e=>PL(()=>{"Open"===this.state._tag&&this.state.finalizers.delete(n)}),"Open"===r.state._tag&&r.state.finalizers.set({},t),r})},close(e){return Pj(()=>{if("Closed"===this.state._tag)return PW;let t=Array.from(this.state.finalizers.values()).reverse();return(this.state={_tag:"Closed",exit:e},0===t.length)?PW:HS(this.strategy)?rD(Py(t,t=>Pr(t(e))),Pu(e=>rD(zk(e),sQ(zx),s$(()=>zz)))):Hv(this.strategy)?rD(eiz(t,t=>Pr(t(e)),!1),Pu(e=>rD(zk(e,{parallel:!0}),sQ(zx),s$(()=>zz)))):rD(eiB(t,this.strategy.parallelism,t=>Pr(t(e)),!1),Pu(e=>rD(zk(e,{parallel:!0}),sQ(zx),s$(()=>zz))))})},addFinalizer(e){return Pj(()=>"Closed"===this.state._tag?e(this.state.exit):(this.state.finalizers.set({},e),PW))}},eaf=(e=Hb)=>{let t=Object.create(eah);return t.strategy=e,t.state={_tag:"Open",finalizers:new Map},t},ead=(e=Hb)=>PL(()=>eaf(e)),eap=rS(2,(e,t)=>Ul(e,Ob(Of(eau,t)))),eam=rS(2,(e,t)=>rD(e,eap(t),PC(e=>t.close(e)))),eag=e=>$M(e,{differ:eir,fork:en7}),eay=rS(2,(e,t)=>LQ(eiC(Pu($c(e),r=>LZ($m(e,t),r)),t=>$m(e,t)))),eab=rS(2,(e,t)=>$p(e,r=>eay(e,t(r)))),eaS=(e,t)=>eav(()=>$C(e,t)),eav=e=>eiC(PP(PL(e),e=>$b(e,rw)),e=>$g(e)),eaw=$N(jd),eax=eag(enU),eak=e=>ei$(e,Y3),ea_=e=>({...KR,commit(){return Xt(this)},[YY]:YX,id:()=>ui(e).reduce((e,t)=>Ni(e,t.id()),M8),await:Pr(eiz(e,e=>Pf(e.await),!1)),children:PE(eiz(e,e=>e.children,!1),cM),inheritAll:Pb(e,e=>e.inheritAll),poll:PE(Py(e,e=>e.poll),cW(sF(z$([])),(e,t)=>{switch(t._tag){case"None":return sC();case"Some":switch(e._tag){case"None":return sC();case"Some":return sF(zJ(t.value,e.value,{onSuccess:(e,t)=>[e,...t],onFailure:jQ}))}}})),interruptAsFork:t=>Pb(e,e=>e.interruptAsFork(t))}),eaE=rS(3,(e,t,r)=>eaT(e,t,{onSelfWin:(e,t)=>Pu(e.await,n=>{switch(n._tag){case iV:return Pu(e.inheritAll,()=>r.onSelfDone(n,t));case iB:return r.onSelfDone(n,t)}}),onOtherWin:(e,t)=>Pu(e.await,n=>{switch(n._tag){case iV:return Pu(e.inheritAll,()=>r.onOtherDone(n,t));case iB:return r.onOtherDone(n,t)}})})),eaI=rS(2,(e,t)=>Pl(r=>eaE(e,t,{onSelfDone:(e,t)=>zP(e,{onFailure:e=>rD(Xt(t),Jk(t=>jQ(e,t))),onSuccess:e=>rD(t,P7(r),LZ(e))}),onOtherDone:(e,t)=>zP(e,{onFailure:e=>rD(Xt(t),Jk(t=>jQ(t,e))),onSuccess:e=>rD(t,P7(r),LZ(e))})}))),eaT=rS(3,(e,t,r)=>LH((n,i)=>{let a=i.runtimeFlags,s=MT(!0),o=eiH(e,n,a,r.selfScope),l=eiH(t,n,a,r.otherScope);return L1(n=>{o.addObserver(()=>eaO(o,l,r.onSelfWin,s,n)),l.addObserver(()=>eaO(l,o,r.onOtherWin,s,n)),o.startFork(e),l.startFork(t)},Ni(o.id(),l.id()))})),eaO=(e,t,r,n,i)=>{MO(!0,!1)(n)&&i(r(e,t))},eaC=rS(2,(e,t)=>PB(r=>Pm(r(e),{onFailure:e=>Pm(t,{onFailure:t=>Pa(jY(e,t)),onSuccess:()=>Pa(e)}),onSuccess:e=>LZ(t,e)}))),eaF=(e,t,r)=>Pl(n=>Pu(Pu(eiq(Px(e)),e=>L1(n=>{let i=t.map(e=>e.listeners.count),a=()=>{i.every(e=>0===e)&&t.every(e=>"Pending"===e.result.state.current._tag||!!("Done"===e.result.state.current._tag&&zb(e.result.state.current.effect)&&"Failure"===e.result.state.current.effect._tag&&j6(e.result.state.current.effect.cause)))&&(s.forEach(e=>e()),r?.(),n(P8(e)))};e.addObserver(e=>{s.forEach(e=>e()),n(e)});let s=t.map((e,t)=>{let r=e=>{i[t]=e,a()};return e.listeners.addObserver(r),()=>e.listeners.removeObserver(r)});return a(),PL(()=>{s.forEach(e=>e())})})),()=>Pj(()=>Pb(t.flatMap(e=>e.state.completed?[]:[e]),e=>etV(e.request,zM(n)))))),eaA=rS(2,(e,t)=>$p(YL,r=>Pj(()=>eaF(e,ui(t).flatMap(e=>r.has(e)?[r.get(e)]:[]))))),eaM=(e,t)=>(t=qx(t),PU(LH(r=>{let n=Og(r.getFiberRef($R),eau),i=Hl(r,e,t),a=r.getFiberRef($Y),s=Op(r.getFiberRef(qE),B3);return LZ($3(n,e=>Hh(i,e,s,a)),i)}))),eaN=e=>eab(qE,Od(qy,e)),eaR=(e,t,r,n)=>RU({_tag:"Complete",key:e,exit:t,entryStats:r,timeToLiveMillis:n}),eaD=(e,t)=>RU({_tag:"Pending",key:e,deferred:t}),eaj=Symbol.for("effect/Cache/MapKey");class eaL{current;[eaj]=eaj;previous=void 0;next=void 0;constructor(e){this.current=e}[is](){return rD(io(this.current),iu(io(this.previous)),iu(io(this.next)),ib(this))}[iS](e){return this===e||ea$(e)&&iv(this.current,e.current)&&iv(this.previous,e.previous)&&iv(this.next,e.next)}}let eaP=e=>new eaL(e),ea$=e=>nw(e,eaj);class eaz{head=void 0;tail=void 0;add(e){if(e!==this.tail)if(void 0===this.tail)this.head=e,this.tail=e;else{let t=e.previous,r=e.next;void 0!==r&&(e.next=void 0,void 0!==t?(t.next=r,r.previous=t):(this.head=r,this.head.previous=void 0)),this.tail.next=e,e.previous=this.tail,this.tail=e}}remove(){let e=this.head;if(void 0!==e){let t=e.next;void 0!==t?(e.next=void 0,this.head=t,this.head.previous=void 0):(this.head=void 0,this.tail=void 0)}return e}}let eaU=()=>new eaz,eaB=Symbol.for("effect/Cache"),eaW={_Key:e=>e,_Error:e=>e,_Value:e=>e},eaq=Symbol.for("effect/ConsumerCache"),eaK={_Key:e=>e,_Error:e=>e,_Value:e=>e},eaV=e=>e,eaJ=e=>({loadedMillis:e});class eaH{capacity;context;fiberId;lookup;timeToLive;[eaB]=eaW;[eaq]=eaK;cacheState;constructor(e,t,r,n,i){this.capacity=e,this.context=t,this.fiberId=r,this.lookup=n,this.timeToLive=i,this.cacheState=(()=>{let e,t;return e=Bu(),t=eaU(),{map:e,keys:t,accesses:BH(),updating:MT(!1),hits:0,misses:0}})()}get(e){return PE(this.getEither(e),aq)}get cacheStats(){return PL(()=>eaV({hits:this.cacheState.hits,misses:this.cacheState.misses,size:Bk(this.cacheState.map)}))}getOption(e){return Pj(()=>sR(Bf(this.cacheState.map,e),{onNone:()=>{let t=eaP(e);return this.trackAccess(t),this.trackMiss(),PD(sC())},onSome:e=>this.resolveMapValue(e)}))}getOptionComplete(e){return Pj(()=>sR(Bf(this.cacheState.map,e),{onNone:()=>{let t=eaP(e);return this.trackAccess(t),this.trackMiss(),PD(sC())},onSome:e=>this.resolveMapValue(e,!0)}))}contains(e){return PL(()=>Bg(this.cacheState.map,e))}entryStats(e){return PL(()=>{let t=Bf(this.cacheState.map,e);if(sN(t))switch(t.value._tag){case"Complete":return sF(eaJ(t.value.entryStats.loadedMillis));case"Pending":break;case"Refreshing":return sF(eaJ(t.value.complete.entryStats.loadedMillis))}return sC()})}getEither(e){return Pj(()=>{let t,r,n=sJ(Bf(this.cacheState.map,e));return(void 0===n&&(r=UM(this.fiberId),t=eaP(e),Bg(this.cacheState.map,e)?n=sJ(Bf(this.cacheState.map,e)):By(this.cacheState.map,e,eaD(t,r))),void 0===n)?(this.trackAccess(t),this.trackMiss(),PE(this.lookupValueOf(e,r),aI)):Pu(this.resolveMapValue(n),sR({onNone:()=>this.getEither(e),onSome:e=>PD(aO(e))}))})}invalidate(e){return PL(()=>{Bw(this.cacheState.map,e)})}invalidateWhen(e,t){return PL(()=>{let r=Bf(this.cacheState.map,e);sN(r)&&"Complete"===r.value._tag&&"Success"===r.value.exit._tag&&t(r.value.exit.value)&&Bw(this.cacheState.map,e)})}get invalidateAll(){return PL(()=>{this.cacheState.map=Bu()})}refresh(e){return qK(t=>Pj(()=>{let r=UM(this.fiberId),n=sJ(Bf(this.cacheState.map,e));if(void 0===n&&(Bg(this.cacheState.map,e)?n=sJ(Bf(this.cacheState.map,e)):By(this.cacheState.map,e,eaD(eaP(e),r))),void 0===n)return LQ(this.lookupValueOf(e,r));switch(n._tag){case"Complete":if(this.hasExpired(t,n.timeToLiveMillis))return iv(sJ(Bf(this.cacheState.map,e)),n)&&Bw(this.cacheState.map,e),LQ(this.get(e));return rD(this.lookupValueOf(e,r),J4(()=>{if(iv(sJ(Bf(this.cacheState.map,e)),n)){let t=RU({_tag:"Refreshing",deferred:r,complete:n});return By(this.cacheState.map,e,t),!0}return!1}),LQ);case"Pending":case"Refreshing":return Ug(n.deferred)}}))}set(e,t){return qK(r=>PL(()=>{let n=r.unsafeCurrentTimeMillis(),i=U5(t),a=eaR(eaP(e),i,eaJ(n),n+Fh(C2(this.timeToLive(i))));By(this.cacheState.map,e,a)}))}get size(){return PL(()=>Bk(this.cacheState.map))}get values(){return PL(()=>{let e=[];for(let t of this.cacheState.map)"Complete"===t[1]._tag&&"Success"===t[1].exit._tag&&e.push(t[1].exit.value);return e})}get entries(){return PL(()=>{let e=[];for(let t of this.cacheState.map)"Complete"===t[1]._tag&&"Success"===t[1].exit._tag&&e.push([t[0],t[1].exit.value]);return e})}get keys(){return PL(()=>{let e=[];for(let t of this.cacheState.map)"Complete"===t[1]._tag&&"Success"===t[1].exit._tag&&e.push(t[0]);return e})}resolveMapValue(e,t=!1){return qK(r=>{switch(e._tag){case"Complete":if(this.trackAccess(e.key),this.hasExpired(r,e.timeToLiveMillis))return Bw(this.cacheState.map,e.key.current),PD(sC());return this.trackHit(),PE(e.exit,sF);case"Pending":if(this.trackAccess(e.key),this.trackHit(),t)return PD(sC());return PE(Ug(e.deferred),sF);case"Refreshing":if(this.trackAccess(e.complete.key),this.trackHit(),this.hasExpired(r,e.complete.timeToLiveMillis)){if(t)return PD(sC());return PE(Ug(e.deferred),sF)}return PE(e.complete.exit,sF)}})}trackHit(){this.cacheState.hits=this.cacheState.hits+1}trackMiss(){this.cacheState.misses=this.cacheState.misses+1}trackAccess(e){if(BX(this.cacheState.accesses,e),MO(this.cacheState.updating,!1,!0)){let e=!0;for(;e;){let t=B1(this.cacheState.accesses,Bq);t===Bq?e=!1:this.cacheState.keys.add(t)}let t=Bk(this.cacheState.map);for(e=t>this.capacity;e;){let r=this.cacheState.keys.remove();void 0!==r?Bg(this.cacheState.map,r.current)&&(Bw(this.cacheState.map,r.current),t-=1,e=t>this.capacity):e=!1}MP(this.cacheState.updating,!1)}}hasExpired(e,t){return e.unsafeCurrentTimeMillis()>t}lookupValueOf(e,t){return qK(r=>Pj(()=>rD(this.lookup(e),Us(this.context),Pr,Pu(n=>{let i=r.unsafeCurrentTimeMillis(),a=eaJ(i),s=eaR(eaP(e),n,a,i+Fh(C2(this.timeToLive(n))));return By(this.cacheState.map,e,s),P3(US(t,n),n)}),PF(()=>P3(UI(t),PL(()=>{Bw(this.cacheState.map,e)}))))))}}let eaG=e=>{let t=C2(e.timeToLive);return eaZ({capacity:e.capacity,lookup:e.lookup,timeToLive:()=>t})},eaZ=e=>PE(eij([Ui(),Po]),([t,r])=>new eaH(e.capacity,t,r,e.lookup,t=>C2(e.timeToLive(t)))),eaQ=eaB,eaY=eaq,eaX=eaG,ea0=eaZ,ea1=eaV,ea2=eaJ,ea6=jK,ea3=ze,ea4=zr,ea5=za,ea8=zo,ea7=zc,ea9=zf,ese=zp,est=zg,esr=$7,esn=jJ,esi=jH,esa=jG,ess=jZ,eso=jQ,esl=jY,esu=jX,esc=j0,esh=e=>e._tag===jz,esf=j1,esd=e=>e._tag===jU,esp=e=>e._tag===jW,esm=e=>e._tag===jB,esg=e=>L_(e,void 0,Ly),esy=j2,esb=e=>sN(j7(e)),esS=e=>sN(Le(e)),esv=j6,esw=j3,esx=j4,esk=j5,es_=j8,esE=j7,esI=j9,esT=e=>Lx(e,{onEmpty:sF(jJ),onFail:sQ(jH),onDie:e=>sF(jG(e)),onInterrupt:e=>sF(jZ(e)),onSequential:ox(jY),onParallel:ox(jQ)}),esO=Le,esC=Lt,esF=Lr,esA=e=>Lx(e,{onEmpty:Me(),onFail:e=>Mr(jH(e)),onDie:e=>Mr(jG(e)),onInterrupt:e=>Mr(jZ(e)),onSequential:(e,t)=>Mv(e,e=>MS(t,t=>jY(e,t))),onParallel:(e,t)=>Mv(e,e=>MS(t,t=>jQ(e,t)))}),esM=Ln,esN=Li,esR=La,esD=Ls,esj=Lo,esL=Lu,esP=Ll,es$=Lc,esz=e=>$8(rw)(e),esU=$8,esB=Lp,esW=Lm,esq=Lx,esK=Lk,esV=L_,esJ=zn,esH=zi,esG=zs,esZ=e=>nw(e,za),esQ=zl,esY=zu,esX=zt,es0=e=>nw(e,ze),es1=zm,es2=e=>nw(e,zp),es6=zy,es3=e=>nw(e,zg),es4=zd,es5=e=>nw(e,zf),es8=LE,es7=LN,es9=e=>nw(e,L5)?e[L5]:e,eoe=Symbol.for("effect/ScheduleInterval"),eot={[eoe]:eoe,startMillis:0,endMillis:0},eor=(e,t)=>e>t?eot:{[eoe]:eoe,startMillis:e,endMillis:t},eon=rS(2,(e,t)=>eoi(e,t)===e),eoi=rS(2,(e,t)=>e.endMillis<=t.startMillis?e:t.endMillis<=e.startMillis?t:e.startMillis<t.startMillis?e:t.startMillis<e.startMillis?t:e.endMillis<=t.endMillis?e:t),eoa=rS(2,(e,t)=>eoi(e,t)===e?t:e),eos=e=>e.startMillis>=e.endMillis,eoo=rS(2,(e,t)=>eor(Math.max(e.startMillis,t.startMillis),Math.min(e.endMillis,t.endMillis))),eol=rS(2,(e,t)=>{let r=Math.max(e.startMillis,t.startMillis),n=Math.min(e.endMillis,t.endMillis);return r<n?sC():sF(eor(r,n))}),eou=eoe,eoc=eor,eoh=eot,eof=eon,eod=eoi,eop=eoa,eom=eos,eog=e=>!eos(e),eoy=eoo,eob=e=>Fa(e.endMillis-e.startMillis),eoS=eol,eov=e=>eor(e,1/0),eow=e=>eor(-1/0,e),eox=Symbol.for("effect/ScheduleIntervals"),eok=e=>({[eox]:eox,intervals:e}),eo_=eok(OM()),eoE=rS(2,(e,t)=>O7(t.intervals)?O7(e.intervals)?Ct(e.intervals).startMillis<Ct(t.intervals).startMillis?eoI(Cb(e.intervals),t.intervals,Ct(e.intervals),OM()):eoI(e.intervals,Cb(t.intervals),Ct(t.intervals),OM()):t:e),eoI=(e,t,r,n)=>{let i=e,a=t,s=r,o=n;for(;O7(i)||O7(a);)if(!O7(i)&&O7(a))s.endMillis<Ct(a).startMillis?(o=rD(o,OK(s)),s=Ct(a)):s=eoc(s.startMillis,Ct(a).endMillis),a=Cb(a),i=OM();else if(O7(i)&&O8(a))s.endMillis<Ct(i).startMillis?(o=rD(o,OK(s)),s=Ct(i)):s=eoc(s.startMillis,Ct(i).endMillis),a=OM(),i=Cb(i);else if(O7(i)&&O7(a))Ct(i).startMillis<Ct(a).startMillis?(s.endMillis<Ct(i).startMillis?(o=rD(o,OK(s)),s=Ct(i)):s=eoc(s.startMillis,Ct(i).endMillis),i=Cb(i)):(s.endMillis<Ct(a).startMillis?(o=rD(o,OK(s)),s=Ct(a)):s=eoc(s.startMillis,Ct(a).endMillis),a=Cb(a));else throw Error(nZ("Intervals.unionLoop"));return eok(rD(o,OK(s),O$))},eoT=rS(2,(e,t)=>eoO(e.intervals,t.intervals,OM())),eoO=(e,t,r)=>{let n=e,i=t,a=r;for(;O7(n)&&O7(i);){let e=rD(Ct(n),eoy(Ct(i))),t=eom(e)?a:rD(a,OK(e));rD(Ct(n),eof(Ct(i)))?n=Cb(n):i=Cb(i),a=t}return eok(O$(a))},eoC=e=>rD(e.intervals,O9,s$(()=>eoh)).startMillis,eoF=rS(2,(e,t)=>eoC(e)<eoC(t)),eoA=rS(2,(e,t)=>eoF(e,t)?t:e),eoM=eox,eoN=eok,eoR=eo_,eoD=e=>Array.from(e).reduce((e,t)=>rD(e,eoE(eok(OR(t)))),eo_),eoj=eoE,eoL=eoT,eoP=eoC,eo$=e=>rD(e.intervals,O9,s$(()=>eoh)).endMillis,eoz=eoF,eoU=e=>O7(e.intervals),eoB=eoA,eoW="Continue",eoq="Done",eoK=e=>({_tag:eoW,intervals:e}),eoV=e=>({_tag:eoW,intervals:eoN(OR(e))}),eoJ={_tag:eoq},eoH=e=>e._tag===eoW,eoG=e=>e._tag===eoq,eoZ=$1,eoQ=$2,eoY=eau,eoX=$6,eo0=$3,eo1=$4,eo2=eap,eo6=$5,eo3=eam,eo4=ead;class eo5{permits;waiters=new Set;taken=0;constructor(e){this.permits=e}get free(){return this.permits-this.taken}take=e=>L0(t=>{if(this.free<e){let r=()=>{this.free<e||(this.waiters.delete(r),this.taken+=e,t(PD(e)))};return this.waiters.add(r),PL(()=>{this.waiters.delete(r)})}return this.taken+=e,t(PD(e))});updateTakenUnsafe(e,t){return this.taken=t(this.taken),this.waiters.size>0&&e.getFiberRef(Yu).scheduleTask(()=>{let e=this.waiters.values(),t=e.next();for(;!1===t.done&&this.free>0;)t.value(),t=e.next()},e.getFiberRef($D)),PD(this.free)}updateTaken(e){return LH(t=>this.updateTakenUnsafe(t,e))}resize=e=>LQ(LH(t=>(this.permits=e,this.free<0)?PW:this.updateTakenUnsafe(t,e=>e)));release=e=>this.updateTaken(t=>t-e);releaseAll=this.updateTaken(e=>0);withPermits=e=>t=>PB(r=>Pu(r(this.take(e)),e=>eaC(r(t),this.release(e))));withPermitsIfAvailable=e=>t=>PB(r=>Pj(()=>this.free<e?J$:(this.taken+=e,eaC(r(Vj(t)),this.release(e)))))}let eo8=e=>new eo5(e);class eo7 extends KP{isOpen;waiters=[];scheduled=!1;constructor(e){super(),this.isOpen=e}commit(){return this.await}unsafeSchedule(e){return this.scheduled||0===this.waiters.length||(this.scheduled=!0,e.currentScheduler.scheduleTask(this.flushWaiters,e.getFiberRef($D))),PW}flushWaiters=()=>{this.scheduled=!1;let e=this.waiters;this.waiters=[];for(let t=0;t<e.length;t++)e[t](zz)};open=LH(e=>this.isOpen?PW:(this.isOpen=!0,this.unsafeSchedule(e)));unsafeOpen(){this.isOpen||(this.isOpen=!0,this.flushWaiters())}release=LH(e=>this.isOpen?PW:this.unsafeSchedule(e));await=L0(e=>this.isOpen?e(PW):(this.waiters.push(e),PL(()=>{let t=this.waiters.indexOf(e);-1!==t&&this.waiters.splice(t,1)})));unsafeClose(){this.isOpen=!1}close=PL(()=>{this.isOpen=!1});whenOpen=e=>P3(this.await,e)}let eo9=e=>new eo7(e??!1),ele=rS(2,(e,t)=>PE(elt(e,t),e=>e[0])),elt=rS(2,(e,t)=>{let r=C2(t);return Pu(Ui(),t=>PE(elx(sC()),n=>[Us(eln(e,r,n),t),eli(n)]))}),elr=(e,t,r)=>{let n=Fh(C2(t));return rD(zZ(),PP(t=>P_(e,t)),PE(e=>sF([r+n,e])))},eln=(e,t,r)=>PB(n=>rD(qK(e=>e.currentTimeMillis),Pu(n=>el_(r,r=>{switch(r._tag){case"None":return sF(elr(e,t,n));case"Some":{let[i]=r.value;return i-n<=0?sF(elr(e,t,n)):sC()}}})),Pu(e=>sM(e)?L9("BUG: Effect.cachedInvalidate - please report an issue at https://github.com/Effect-TS/effect/issues"):n(zY(e.value[1]))))),eli=e=>KX(e,sC()),ela=rS(2,(e,t)=>els(e,e=>t(ea_(e)))),els=rS(2,(e,t)=>Pu(en$,r=>rD(eld(e,r),eaC(Pu(r.value,t))))),elo=rS(e=>nO(e[0]),(e,t)=>t?.discard?Pb(e,eiW):PE(Py(e,eiW),ea_)),ell=rS(2,(e,t)=>LH((r,n)=>{let i=eiV(e,r,n.runtimeFlags,YQ);if("Open"===t.state._tag){let e={};t.state.finalizers.set(e,()=>Pl(e=>iv(e,i.id())?PW:LQ(P8(i)))),i.addObserver(()=>{"Closed"!==t.state._tag&&t.state.finalizers.delete(e)})}else i.unsafeInterruptAsFork(r.id());return PD(i)})),elu=e=>ei6(t=>ell(e,t)),elc=Symbol.for("effect/Effect/memoizeFunction.key");class elh{a;eq;[elc]=elc;constructor(e,t){this.a=e,this.eq=t}[iS](e){if(nw(e,elc))if(this.eq)return this.eq(this.a,e.a);else return iv(this.a,e.a);return!1}[is](){return this.eq?0:ib(this,io(this.a))}}let elf=rS(2,(e,t)=>rD(Pr(e),eaI(Pr(t)),e=>Pf(e))),eld=rS(2,(e,t)=>$O(eax,e=>e.zip(t))(e)),elp=rS(2,(e,t)=>elm(e,{onTimeout:()=>new zm(`Operation timed out after '${FB(t)}'`),duration:t})),elm=rS(2,(e,{duration:t,onTimeout:r})=>Pf(elb(e,{onTimeout:()=>Pi(r),onSuccess:PD,duration:t}))),elg=rS(2,(e,{duration:t,onTimeout:r})=>Pf(elb(e,{onTimeout:()=>Ps(r),onSuccess:PD,duration:t}))),ely=rS(2,(e,t)=>elb(e,{duration:t,onSuccess:sF,onTimeout:sC})),elb=rS(2,(e,{duration:t,onSuccess:r,onTimeout:n})=>Pl(i=>PB(a=>eaT(a(e),Px(qB(t)),{onSelfWin:(e,t)=>Pu(e.await,n=>"Success"===n._tag?Pu(e.inheritAll,()=>LZ(P7(t,i),r(n.value))):Pu(P7(t,i),()=>zT(n.cause))),onOtherWin:(e,t)=>Pu(e.await,r=>"Success"===r._tag?Pu(e.inheritAll,()=>LZ(P7(t,i),n())):Pu(P7(t,i),()=>zT(r.cause))),otherScope:YQ})))),elS=Symbol.for("effect/Ref/SynchronizedRef"),elv={_A:e=>e};class elw extends KP{ref;withLock;[elS]=elv;[KJ]=KH;[Kz]=Kz;constructor(e,t){super(),this.ref=e,this.withLock=t,this.get=KY(this.ref)}get;commit(){return this.get}modify(e){return this.modifyEffect(t=>PD(e(t)))}modifyEffect(e){return this.withLock(rD(Pu(KY(this.ref),e),Pu(([e,t])=>LZ(KX(this.ref,t),e))))}}let elx=e=>PL(()=>elk(e)),elk=e=>new elw(KZ(e),eo8(1).withPermits(1)),el_=rS(2,(e,t)=>e.modifyEffect(e=>{let r=t(e);switch(r._tag){case"None":return PD([e,e]);case"Some":return PE(r.value,e=>[e,e])}})),elE=rS(2,(e,t)=>elO(e,t,(e,t)=>[e,t])),elI=rS(2,(e,t)=>elO(e,t,(e,t)=>e)),elT=rS(2,(e,t)=>elO(e,t,(e,t)=>t)),elO=rS(3,(e,t,r)=>({...KR,commit(){return Xt(this)},[YY]:YX,id:()=>rD(e.id(),Ns(t.id())),await:rD(e.await,Pf,eao(Pf(t.await),r,{concurrent:!0}),Pr),children:e.children,inheritAll:P3(t.inheritAll,e.inheritAll),poll:P4(e.poll,t.poll,(e,t)=>rD(e,s1(e=>rD(t,sQ(t=>Bi(e,t,{onSuccess:r,onFailure:jQ})))))),interruptAsFork:r=>P3(e.interruptAsFork(r),t.interruptAsFork(r)),pipe(){return ij(this,arguments)}})),elC=rS(e=>LJ(e[0]),(e,t,r)=>Pu(e,e=>eij(t(e),r).pipe(PE(t=>Object.assign({},e,t))))),elF=Symbol.for("effect/ManagedRuntime"),elA="Fresh",elM="ProvideMerge",elN=YY,elR=Y1,elD=Y2,elj=e=>nw(e,YY),elL=Y6,elP=e=>e.id(),el$=Y3,elz=eak,elU=e=>e.children,elB=ea_,elW=Y4,elq=Y5,elK=e=>Py(e,Y5),elV=e=>Y4(Uq(e)),elJ=Y8,elH=e=>PE(Pr(e),Y4),elG=()=>sq(globalThis[Xd]),elZ=Y7,elQ=P8,elY=e=>Y4(UX(e)),elX=P7,el0=Xe,el1=e=>Pu(Po,t=>rD(e,Y9(t))),el2=Y9,el6=e=>LQ(eiq(P8(e))),el3=Xt,el4=e=>Xt(ea_(e)),el5=Xr,el8=Xn,el7=Xi,el9=Xa,eue=Xs,eut=Xo,eur=Xl,eun=e=>e.poll,eui=e=>Pu(qW,t=>PE(Y5(e),e=>{var r;let n,i,{days:a,hours:s,milliseconds:o,minutes:l,seconds:u}={days:(n=(r=t-e.id.startTimeMillis)>0?Math.floor:Math.ceil)(r/864e5),hours:n(r/36e5)%24,minutes:n(r/6e4)%60,seconds:n(r/1e3)%60,milliseconds:n(r)%1e3,microseconds:n(1e3*r)%1e3,nanoseconds:n(1e6*r)%1e3},c=(0===a?"":`${a}d`)+(0===a&&0===s?"":`${s}h`)+(0===a&&0===s&&0===l?"":`${l}m`)+(0===a&&0===s&&0===l&&0===u?"":`${u}s`)+`${o}ms`,h=HZ(e.status)&&Mu(i=No(e.status.blockingOn))>0?"waiting on "+Array.from(i).map(e=>`${e}`).join(", "):"",f=(e=>{if(HH(e))return"Done";if(HG(e))return"Running";let t=jl(e.runtimeFlags)?"interruptible":"uninterruptible";return`Suspended(${t})`})(e.status);return`[Fiber](#${e.id.id}) (${c}) ${h}
   Status: ${f}`})),eua=Xc,eus=Xu,euo=e=>eiC(PD(e),P8),eul=e=>e.status,euu=Xh,euc=Xf,euh=elE,euf=elI,eud=elT,eup=elO,eum=e=>function(){if(1==arguments.length){let t=arguments[0];return(r,...n)=>e(t,r,...n)}return e.apply(this,arguments)},eug=eum((e,t,r)=>{let n=Nf(),i=[[$R,[[n,e.context]]]];r?.scheduler&&i.push([Yu,[[n,r.scheduler]]]);let a=Ks(e.fiberRefs,{entries:i,forkAs:n});r?.updateRefs&&(a=r.updateRefs(a,n));let s=new eiy(n,a,e.runtimeFlags),o=t;r?.scope&&(o=Pu(eo6(r.scope,Hb),e=>P3($6(e,Pl(e=>iv(e,s.id())?PW:P7(s,e))),PC(t,t=>eo1(e,t)))));let l=s.currentSupervisor;return l!==enU&&(l.onStart(e.context,o,sC(),s),s.addObserver(e=>l.onEnd(e,s))),YQ.add(e.runtimeFlags,s),r?.immediate===!1?s.resume(o):s.start(o),s}),euy=eum((e,t,r={})=>{let n=eug(e,t,r);return r.onExit&&n.addObserver(e=>{r.onExit(e)}),(t,r)=>euy(e)(rD(n,elX(t??M8)),{...r,onExit:r?.onExit?e=>r.onExit(UH(e)):void 0})}),eub=eum((e,t)=>{let r=euE(e)(t);if("Failure"===r._tag)throw euk(r.effect_instruction_i0);return r.effect_instruction_i0});class euS extends Error{fiber;_tag="AsyncFiberException";constructor(e){super(`Fiber #${e.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`),this.fiber=e,this.name=this._tag,this.stack=this.message}}let euv=Symbol.for("effect/Runtime/FiberFailure"),euw=Symbol.for("effect/Runtime/FiberFailure/Cause");class eux extends Error{[euv];[euw];constructor(e){const t=LN(e)[0];super(t?.message||"An error has occurred"),this[euv]=euv,this[euw]=e,this.name=t?`(FiberFailure) ${t.name}`:"FiberFailure",t?.stack&&(this.stack=t.stack)}toJSON(){return{_id:"FiberFailure",cause:this[euw].toJSON()}}toString(){return"(FiberFailure) "+LE(this[euw],{renderErrorCause:!0})}[i_](){return this.toString()}}let euk=e=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=0;let r=new eux(e);return Error.stackTraceLimit=t,r},eu_=e=>{switch(e._op){case"Failure":case"Success":return e;case"Left":return zI(e.left);case"Right":return z$(e.right);case"Some":return z$(e.value);case"None":return zI(zl())}},euE=eum((e,t)=>{let r,n,i=eu_(t);if(i)return i;let a=new Yt,s=eug(e)(t,{scheduler:a});a.flush();let o=s.unsafePoll();return o?o:z_(L8((r=Error.stackTraceLimit,Error.stackTraceLimit=0,n=new euS(s),Error.stackTraceLimit=r,n),Uh(s)))}),euI=eum((e,t,r)=>euT(e,t,r).then(e=>{switch(e._tag){case iV:return e.effect_instruction_i0;case iB:throw euk(e.effect_instruction_i0)}})),euT=eum((e,t,r)=>new Promise(n=>{let i=eu_(t);i&&n(i);let a=eug(e)(t);a.addObserver(e=>{n(e)}),r?.signal!==void 0&&(r.signal.aborted?a.unsafeInterruptAsFork(a.id()):r.signal.addEventListener("abort",()=>{a.unsafeInterruptAsFork(a.id())},{once:!0}))}));class euO{context;runtimeFlags;fiberRefs;constructor(e,t,r){this.context=e,this.runtimeFlags=t,this.fiberRefs=r}pipe(){return ij(this,arguments)}}let euC=e=>new euO(e.context,e.runtimeFlags,e.fiberRefs),euF=()=>LH((e,t)=>PD(new euO(e.getFiberRef($R),t.runtimeFlags,e.getFiberRefs()))),euA=jf(1,32,4),euM=euC({context:Oh(),runtimeFlags:euA,fiberRefs:Kl()}),euN=rS(2,(e,t)=>euC({context:e.context,runtimeFlags:t(e.runtimeFlags),fiberRefs:e.fiberRefs})),euR=rS(2,(e,t)=>euN(e,ji(t))),euD=rS(2,(e,t)=>euN(e,js(t))),euj=rS(2,(e,t)=>euC({context:t(e.context),runtimeFlags:e.runtimeFlags,fiberRefs:e.fiberRefs})),euL=rS(3,(e,t,r)=>euj(e,Od(t,r))),euP=rS(2,(e,t)=>euC({context:e.context,runtimeFlags:e.runtimeFlags,fiberRefs:t(e.fiberRefs)})),eu$=rS(3,(e,t,r)=>euP(e,Ka({fiberId:M8,fiberRef:t,value:r}))),euz=rS(2,(e,t)=>euP(e,q7(t))),euU=euy(euM),euB=eug(euM),euW=euI(euM),euq=euT(euM),euK=eub(euM),euV=euE(euM),euJ=rS(2,(e,t)=>e.modifyEffect(e=>PE(t(e),t=>[e,t]))),euH=rS(2,(e,t)=>e.modifyEffect(e=>{let r=t(e);switch(r._tag){case"None":return PD([e,e]);case"Some":return PE(r.value,t=>[e,t])}})),euG=rS(2,(e,t)=>e.modify(t)),euZ=rS(2,(e,t)=>e.modifyEffect(t)),euQ=rS(3,(e,t,r)=>e.modifyEffect(e=>rD(r(e),s$(()=>PD([t,e]))))),euY=rS(2,(e,t)=>e.modifyEffect(e=>PE(t(e),e=>[void 0,e]))),euX=rS(2,(e,t)=>e.modifyEffect(e=>PE(t(e),e=>[e,e]))),eu0=rS(2,(e,t)=>e.modifyEffect(e=>{let r=t(e);switch(r._tag){case"None":return PD([void 0,e]);case"Some":return PE(r.value,e=>[void 0,e])}})),eu1=Symbol.for("effect/Layer"),eu2={[eu1]:{_RIn:e=>e,_E:e=>e,_ROut:e=>e},pipe(){return ij(this,arguments)}},eu6=Symbol.for("effect/Layer/MemoMap"),eu3=Ok()("effect/Layer/CurrentMemoMap",{defaultValue:()=>eu9()}),eu4=e=>nw(e,eu1),eu5=e=>e._op_layer===elA;class eu8{ref;[eu6];constructor(e){this.ref=e,this[eu6]=eu6}getOrElseMemoize(e,t){return rD(euZ(this.ref,r=>{let n=r.get(e);if(void 0!==n){let[e,i]=n;return PD([rD(e,Pu(([e,t])=>rD(JC(e),LZ(t))),PC(zL({onFailure:()=>PW,onSuccess:()=>$3(t,i)}))),r])}return rD(KQ(0),Pu(n=>rD(zZ(),Pu(i=>rD(KQ(()=>PW),PE(a=>{let s=PB(s=>rD(ead(),Pu(o=>rD(s(Pu(ecn(e,o,!0),e=>VG(e(this)))),Pr,Pu(s=>{switch(s._tag){case iB:return rD(z3(i,s.effect_instruction_i0),P3($4(o,s)),P3(Pa(s.effect_instruction_i0)));case iV:return rD(KX(a,e=>rD($4(o,e),PK(K3(n,e=>[1===e,e-1])),LQ)),P3(K5(n,e=>e+1)),P3($3(t,t=>rD(PL(()=>r.delete(e)),P3(KY(a)),Pu(e=>e(t))))),P3(z9(i,s.effect_instruction_i0)),LZ(s.effect_instruction_i0[1]))}}))))),o=[rD(zY(i),PC(zP({onFailure:()=>PW,onSuccess:()=>K5(n,e=>e+1)}))),e=>rD(KY(a),Pu(t=>t(e)))];return[s,eu5(e)?r:r.set(e,o)]}))))))}),Pf)}}let eu7=Pj(()=>PE(elx(new Map),e=>new eu8(e))),eu9=()=>new eu8(elk(new Map)),ece=e=>ei6(t=>ect(e,t)),ect=rS(2,(e,t)=>Pu(eu7,r=>ecr(e,r,t))),ecr=rS(3,(e,t,r)=>Pu(ecn(e,r),e=>JF(e(t),eu3,t))),ecn=(e,t,r=!1)=>{switch(e._op_layer){case"Locally":return PL(()=>r=>e.f(r.getOrElseMemoize(e.self,t)));case"ExtendScope":return PL(()=>t=>ei6(r=>t.getOrElseMemoize(e.layer,r)));case"Fold":return PL(()=>r=>rD(r.getOrElseMemoize(e.layer,t),Pm({onFailure:n=>r.getOrElseMemoize(e.failureK(n),t),onSuccess:n=>r.getOrElseMemoize(e.successK(n),t)})));case"Fresh":return PL(()=>r=>rD(e.layer,ect(t)));case"FromEffect":return r?PL(()=>t=>e.effect):PL(()=>r=>r.getOrElseMemoize(e,t));case"Provide":return PL(()=>r=>rD(r.getOrElseMemoize(e.first,t),Pu(n=>rD(r.getOrElseMemoize(e.second,t),Us(n)))));case"Scoped":return r?PL(()=>r=>eap(e.effect,t)):PL(()=>r=>r.getOrElseMemoize(e,t));case"Suspend":return PL(()=>r=>r.getOrElseMemoize(e.evaluate(),t));case"ProvideMerge":return PL(()=>r=>rD(r.getOrElseMemoize(e.first,t),P4(r.getOrElseMemoize(e.second,t),e.zipK)));case"ZipWith":return PL(()=>r=>rD(r.getOrElseMemoize(e.first,t),eao(r.getOrElseMemoize(e.second,t),e.zipK,{concurrent:!0})))}},eci=rS(2,(e,t)=>ecE(e,{onFailure:t,onSuccess:ecP})),eca=rS(2,(e,t)=>ec_(e,{onFailure:t,onSuccess:ecP})),ecs=e=>ecc(esa(e)),eco=()=>ecg(Ui()),ecl=e=>ecc(esi(e)),ecu=e=>ech(()=>esi(e())),ecc=e=>ecg(Pa(e)),ech=e=>ecg(Ps(e)),ecf=rS(2,(e,t)=>ecE(e,{onFailure:ecl,onSuccess:t})),ecd=rS(2,(e,t)=>ecf(e,Op(t))),ecp=e=>{let t=Object.create(eu2);return t._op_layer=elA,t.layer=e,t},ecm=rS(2,(e,t)=>{let r=Ou(e),n=r?e:t;return ecg(PE(r?t:e,e=>Of(n,e)))});function ecg(e){let t=Object.create(eu2);return t._op_layer="FromEffect",t.effect=e,t}let ecy=rS(3,(e,t,r)=>ecb(e,$T(t,r))),ecb=rS(2,(e,t)=>{let r=Object.create(eu2);return r._op_layer="Locally",r.self=e,r.f=t,r}),ecS=rS(3,(e,t,r)=>ecb(e,$O(t,r))),ecv=(e,t)=>ecL(e,new Proxy({...t},{get(t,r,n){if(r in t)return t[r];let i=Error.stackTraceLimit;Error.stackTraceLimit=2;let a=Error(`${e.key}: Unimplemented method "${r.toString()}"`);return Error.stackTraceLimit=i,a.name="UnimplementedError",ecw(a)},has:rE})),ecw=e=>{let t=L7(e);function r(){return t}return Object.assign(r,t),Object.setPrototypeOf(r,Object.getPrototypeOf(t)),r},ecx=rS(2,(e,t)=>ecf(e,e=>ecP(t(e)))),eck=rS(2,(e,t)=>eci(e,e=>ecu(()=>t(e)))),ec_=rS(2,(e,{onFailure:t,onSuccess:r})=>{let n=Object.create(eu2);return n._op_layer="Fold",n.layer=e,n.failureK=t,n.successK=r,n}),ecE=rS(2,(e,{onFailure:t,onSuccess:r})=>ec_(e,{onFailure:e=>{let r=esI(e);switch(r._tag){case"Left":return t(r.left);case"Right":return ecc(r.right)}},onSuccess:r})),ecI=rS(2,(e,t)=>ecG(e,t,(e,t)=>Ob(e,t))),ecT=(...e)=>{let t=e[0];for(let r=1;r<e.length;r++)t=ecI(t,e[r]);return t},ecO=rS(2,(e,t)=>eci(e,t)),ecC=rS(4,(e,t,r,n)=>ecx(e,e=>Of(r,n(Og(e,t))))),ecF=rS(2,(e,t)=>ecz(()=>{let r=Os("effect/Layer/retry/{ state: unknown }");return rD(ecL(r,{state:t.initial}),ecf(n=>ecA(e,t,r,rD(n,Op(r)).state)))})),ecA=(e,t,r,n)=>rD(e,eci(i=>rD(ecM(t,r,i,n),ecf(n=>ecp(ecA(e,t,r,rD(n,Op(r)).state)))))),ecM=(e,t,r,n)=>ecm(t,rD(qW,Pu(t=>rD(e.step(t,r,n),Pu(([e,n,i])=>eoG(i)?Pn(r):rD(qB(Fa(eoP(i.intervals)-t)),LZ({state:e}))))))),ecN=rS(2,(e,t)=>{let r=Ou(e),n=r?e:t;return ecD(PE(r?t:e,e=>Of(n,e)))}),ecR=e=>ecD(rD(e,LZ(Oh()))),ecD=e=>{let t=Object.create(eu2);return t._op_layer="Scoped",t.effect=e,t},ecj=ecD(PE(eiC(ead(),(e,t)=>e.close(t)),e=>Of(eoY,e))),ecL=rS(2,(e,t)=>{let r=Ou(e);return ecg(PD(Of(r?e:t,r?t:e)))}),ecP=e=>ecg(PD(e)),ec$=ecP(Oh()),ecz=e=>{let t=Object.create(eu2);return t._op_layer="Suspend",t.evaluate=e,t},ecU=rS(2,(e,t)=>{let r=Ou(e),n=r?e:t,i=r?t:e;return ecg(PL(()=>Of(n,i())))}),ecB=e=>ecg(PL(e)),ecW=rS(2,(e,t)=>ecf(e,e=>ecg(LZ(t(e),e)))),ecq=rS(2,(e,t)=>eci(e,e=>ecg(Pu(t(e),()=>Pn(e))))),ecK=rS(2,(e,t)=>eca(e,e=>ecg(Pu(t(e),()=>Pa(e))))),ecV=rS(2,(e,t)=>Pu(ei6(r=>ecr(e,t,r)),e=>rD(euF(),Us(e)))),ecJ=rS(2,(e,t)=>ecz(()=>{let r=Object.create(eu2);return r._op_layer="Provide",r.first=Object.create(eu2,{_op_layer:{value:elM,enumerable:!0},first:{value:eco(),enumerable:!0},second:{value:Array.isArray(t)?ecT(...t):t},zipK:{value:(e,t)=>rD(e,Ob(t))}}),r.second=e,r})),ecH=rS(2,(e,t)=>{let r=Object.create(eu2);return r._op_layer=elM,r.first=t,r.second=ecJ(e,t),r.zipK=(e,t)=>rD(e,Ob(t)),r}),ecG=rS(3,(e,t,r)=>ecz(()=>{let n=Object.create(eu2);return n._op_layer="ZipWith",n.first=e,n.second=t,n.zipK=r,n})),ecZ=e=>{let t=Os("effect/Layer/unwrapEffect/Layer.Layer<R1, E1, A>");return ecf(ecm(t,e),e=>Op(e,t))},ecQ=e=>{let t=Os("effect/Layer/unwrapScoped/Layer.Layer<R1, E1, A>");return ecf(ecN(t,e),e=>Op(e,t))},ecY=rS(e=>eu4(e[0]),function(){let e=arguments;return ecS(e[0],$L,"string"==typeof e[1]?N_(e[1],e[2]):t=>Object.entries(e[1]).reduce((e,[t,r])=>N_(e,t,r),t))}),ecX=rS(e=>eu4(e[0]),function(){let e=arguments;return ecS(e[0],$X,"string"==typeof e[1]?N_(e[1],e[2]):t=>Object.entries(e[1]).reduce((e,[t,r])=>N_(e,t,r),t))}),ec0=rS(2,(e,t)=>ecJ(e,ecP(Of(qb,t)))),ec1=rS(2,(e,t)=>ei3(r=>Pu(ect(t,r),t=>Uo(e,t)))),ec2=rS(2,(e,t)=>{let r=HF(euM.fiberRefs,t.fiberRefs),n=jS(euM.runtimeFlags,t.runtimeFlags);return PB(i=>LH(a=>{let s=a.getFiberRef($R),o=a.getFiberRefs(),l=HM(a.id(),o)(r),u=a.currentRuntimeFlags,c=jv(n)(u),h=HF(l,o),f=jS(c,u);return a.setFiberRefs(l),a.currentRuntimeFlags=c,eaC(Uo(i(e),Ob(s,t.context)),LH(e=>(e.setFiberRefs(HM(e.id(),e.getFiberRefs())(h)),e.currentRuntimeFlags=jv(f)(e.currentRuntimeFlags),PW)))}))}),ec6=rS(2,(e,t)=>Array.isArray(t)?ec1(e,ecT(...t)):eu4(t)?ec1(e,t):Ol(t)?Uo(e,t):elF in t?Pu(t.runtimeEffect,t=>ec2(e,t)):ec2(e,t)),ec3=PE($c(qE),Op(qs)),ec4=e=>$p(qE,t=>e(Op(t,qs))),ec5=rS(2,(e,t)=>$O(e,qE,Od(qs,t))),ec8=ec4(e=>e.clear),ec7=rS(e=>LJ(e[0]),(e,t)=>ec4(r=>LG(r.group(t),()=>e,()=>r.groupEnd))),ec9=rS(e=>LJ(e[0]),(e,t)=>ec4(r=>LG(r.time(t),()=>e,()=>r.timeEnd(t)))),ehe=RU,eht=e=>Object.setPrototypeOf(e,i7),ehr=(...e)=>ehi(e),ehn=e=>ehi(e.slice(0)),ehi=e=>Object.setPrototypeOf(e,R$),eha=()=>e=>void 0===e?Object.create(i7):ehe(e),ehs=e=>t=>{let r=void 0===t?Object.create(i7):ehe(t);return r._tag=e,r},eho=Rz,ehl=e=>class extends eho{_tag=e},ehu=Rz,ehc=()=>new Proxy({},{get:(e,t,r)=>"$is"===t?nx:"$match"===t?ehh:ehs(t)});function ehh(){if(1==arguments.length){let e=arguments[0];return function(t){return e[t._tag](t)}}let e=arguments[0],t=arguments[1];return t[e._tag](e)}let ehf=(f=Symbol.for("effect/Data/Error/plainArgs"),({BaseEffectError:class extends $7{constructor(e){super(e?.message,e?.cause?{cause:e.cause}:void 0),e&&(Object.assign(this,e),Object.defineProperty(this,f,{value:e,enumerable:!1}))}toJSON(){return{...this[f],...this}}}}).BaseEffectError),ehd=e=>{let t=class extends ehf{_tag=e};return t.prototype.name=e,t},ehp=Symbol.for("effect/DateTime"),ehm=Symbol.for("effect/DateTime/TimeZone"),ehg={[ehp]:ehp,pipe(){return ij(this,arguments)},[i_](){return this.toString()},toJSON(){return eft(this).toJSON()}},ehy={...ehg,_tag:"Utc",[is](){return ib(this,id(this.epochMillis))},[iS](e){return ehk(e)&&"Utc"===e._tag&&this.epochMillis===e.epochMillis},toString(){return`DateTime.Utc(${eft(this).toJSON()})`}},ehb={...ehg,_tag:"Zoned",[is](){return rD(id(this.epochMillis),iu(io(this.zone)),ib(this))},[iS](e){return ehk(e)&&"Zoned"===e._tag&&this.epochMillis===e.epochMillis&&iv(this.zone,e.zone)},toString(){return`DateTime.Zoned(${efz(this)})`}},ehS={[ehm]:ehm,[i_](){return this.toString()}},ehv={...ehS,_tag:"Named",[is](){return ib(this,ip(`Named:${this.id}`))},[iS](e){return ehE(e)&&"Named"===e._tag&&this.id===e.id},toString(){return`TimeZone.Named(${this.id})`},toJSON(){return{_id:"TimeZone",_tag:"Named",id:this.id}}},ehw={...ehS,_tag:"Offset",[is](){return ib(this,ip(`Offset:${this.offset}`))},[iS](e){return ehE(e)&&"Offset"===e._tag&&this.offset===e.offset},toString(){return`TimeZone.Offset(${efi(this.offset)})`},toJSON(){return{_id:"TimeZone",_tag:"Offset",offset:this.offset}}},ehx=(e,t,r)=>{let n=Object.create(ehb);return n.epochMillis=e,n.zone=t,Object.defineProperty(n,"partsUtc",{value:r,enumerable:!1,writable:!0}),Object.defineProperty(n,"adjustedEpochMillis",{value:void 0,enumerable:!1,writable:!0}),Object.defineProperty(n,"partsAdjusted",{value:void 0,enumerable:!1,writable:!0}),n},ehk=e=>nw(e,ehp),eh_=e=>ehk(e[0]),ehE=e=>nw(e,ehm),ehI=e=>ehE(e)&&"Named"===e._tag,ehT=e=>"Zoned"===e._tag,ehO=r$((e,t)=>e.epochMillis===t.epochMillis),ehC=sr((e,t)=>e.epochMillis<t.epochMillis?-1:+(e.epochMillis>t.epochMillis)),ehF=sI(ehC),ehA=e=>{let t=Object.create(ehy);return t.epochMillis=e,Object.defineProperty(t,"partsUtc",{value:void 0,enumerable:!1,writable:!0}),t},ehM=e=>{let t=e.getTime();if(Number.isNaN(t))throw new esG("Invalid date");return ehA(t)},ehN=e=>{if(ehk(e))return e;if(e instanceof Date)return ehM(e);if("object"==typeof e){let t=new Date(0);return eff(t,e),ehM(t)}return"string"!=typeof e||ehR(e)?ehM(new Date(e)):ehM(new Date(e+"Z"))},ehR=e=>/Z|[+-]\d{2}$|[+-]\d{2}:?\d{2}$|\]$/.test(e),ehD=(e,t)=>{let r;if(t?.timeZone===void 0&&ehk(e)&&ehT(e))return e;let n=ehN(e);if(n.epochMillis<-86399999568e5||n.epochMillis>86399999496e5)throw RangeError(`Epoch millis out of range: ${n.epochMillis}`);if(t?.timeZone===void 0)r=ehH(-60*new Date(n.epochMillis).getTimezoneOffset()*1e3);else if(ehE(t?.timeZone))r=t.timeZone;else if("number"==typeof t?.timeZone)r=ehH(t.timeZone);else{let e=ehY(t.timeZone);if(sM(e))throw new esG(`Invalid time zone: ${t.timeZone}`);r=e.value}return t?.adjustForTimeZone!==!0?ehx(n.epochMillis,r,n.partsUtc):efm(n.epochMillis,r,t?.disambiguation??"compatible")},ehj=sH(ehD),ehL=sH(ehN),ehP=/^(.{17,35})\[(.+)\]$/,eh$=PE(qW,ehA),ehz=PE(qW,e=>new Date(e)),ehU=()=>ehA(Date.now()),ehB=rS(eh_,(e,t,r)=>r?.adjustForTimeZone===!0?efm(e.epochMillis,t,r?.disambiguation??"compatible"):ehx(e.epochMillis,t,e.partsUtc)),ehW=rS(eh_,(e,t,r)=>ehB(e,ehH(t),r)),ehq=r9("effect/DateTime/validZoneCache",()=>new Map),ehK={day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"longOffset",fractionalSecondDigits:3,hourCycle:"h23"},ehV=e=>{let t=e.resolvedOptions().timeZone;if(ehq.has(t))return ehq.get(t);let r=Object.create(ehv);return r.id=t,r.format=e,ehq.set(t,r),r},ehJ=e=>{if(ehq.has(e))return ehq.get(e);try{return ehV(new Intl.DateTimeFormat("en-US",{...ehK,timeZone:e}))}catch{throw new esG(`Invalid time zone: ${e}`)}},ehH=e=>{let t=Object.create(ehw);return t.offset=e,t},ehG=sH(ehJ),ehZ=e=>VL({try:()=>ehJ(e),catch:e=>e}),ehQ=/^(?:GMT|[+-])/,ehY=e=>{if(ehQ.test(e)){let t=efy(e);return null===t?sC():sF(ehH(t))}return ehG(e)},ehX=rS(eh_,(e,t,r)=>sQ(ehG(t),t=>ehB(e,t,r))),eh0=rS(eh_,(e,t,r)=>ehB(e,ehJ(t),r)),eh1=rS(2,(e,t)=>efs(t)-efs(e)),eh2=rS(2,(e,t)=>{let r=eh1(e,t);return r>0?aI(Fa(r)):aO(Fa(-r))}),eh6=rS(2,(e,t)=>Fa(Math.abs(eh1(e,t)))),eh3=s_(ehC),eh4=sE(ehC),eh5=sw(ehC),eh8=sk(ehC),eh7=sv(ehC),eh9=sx(ehC),efe=sT(ehC),eft=e=>new Date(e.epochMillis),efr=e=>{if("Utc"===e._tag)return new Date(e.epochMillis);if("Offset"===e.zone._tag)return new Date(e.epochMillis+e.zone.offset);if(void 0!==e.adjustedEpochMillis)return new Date(e.adjustedEpochMillis);let t=e.zone.format.formatToParts(e.epochMillis).filter(e=>"literal"!==e.type),r=new Date(0);return r.setUTCFullYear(Number(t[2].value),Number(t[0].value)-1,Number(t[1].value)),r.setUTCHours(Number(t[3].value),Number(t[4].value),Number(t[5].value),Number(t[6].value)),e.adjustedEpochMillis=r.getTime(),r},efn=e=>efr(e).getTime()-efs(e),efi=e=>{let t=Math.abs(e),r=Math.floor(t/36e5),n=Math.round(t%36e5/6e4);return 60===n&&(r+=1,n=0),`${e<0?"-":"+"}${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}`},efa=e=>efi(efn(e)),efs=e=>e.epochMillis,efo=e=>({millis:e.getUTCMilliseconds(),seconds:e.getUTCSeconds(),minutes:e.getUTCMinutes(),hours:e.getUTCHours(),day:e.getUTCDate(),weekDay:e.getUTCDay(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}),efl=e=>"Utc"===e._tag?efu(e):(void 0!==e.partsAdjusted||(e.partsAdjusted=efx(e,efo)),e.partsAdjusted),efu=e=>(void 0!==e.partsUtc||(e.partsUtc=efk(e,efo)),e.partsUtc),efc=rS(2,(e,t)=>efu(e)[t]),efh=rS(2,(e,t)=>efl(e)[t]),eff=(e,t)=>{if(void 0!==t.year&&e.setUTCFullYear(t.year),void 0!==t.month&&e.setUTCMonth(t.month-1),void 0!==t.day&&e.setUTCDate(t.day),void 0!==t.weekDay){let r=t.weekDay-e.getUTCDay();e.setUTCDate(e.getUTCDate()+r)}void 0!==t.hours&&e.setUTCHours(t.hours),void 0!==t.minutes&&e.setUTCMinutes(t.minutes),void 0!==t.seconds&&e.setUTCSeconds(t.seconds),void 0!==t.millis&&e.setUTCMilliseconds(t.millis)},efd=rS(2,(e,t)=>efS(e,e=>eff(e,t))),efp=rS(2,(e,t)=>efv(e,e=>eff(e,t))),efm=(e,t,r)=>{if("Offset"===t._tag)return ehx(e-t.offset,t);let n=efb(e-864e5,e,t),i=efb(e+864e5,e,t);if(n===i)return ehx(e-n,t);let a=n-i;if(n<i){if(efb(e-i,e,t)===i)return ehx(e-i,t);let a=ehx(e-n,t);if(e!==efr(a).getTime())switch(r){case"reject":{let r=new Date(e).toISOString();throw RangeError(`Gap time: ${r} does not exist in time zone ${t.id}`)}case"earlier":return ehx(e-i,t)}return a}if(efb(e-n,e,t)===n){if("earlier"===r||"compatible"===r||efb(e-n+a,e+a,t)===n)return ehx(e-n,t);if("reject"===r){let r=new Date(e).toISOString();throw RangeError(`Ambiguous time: ${r} occurs twice in time zone ${t.id}`)}}return ehx(e-i,t)},efg=/([+-])(\d{2}):(\d{2})$/,efy=e=>{let t=efg.exec(e);if(null===t)return null;let[,r,n,i]=t;return("+"===r?1:-1)*(60*Number(n)+Number(i))*6e4},efb=(e,t,r)=>{let n=r.format.formatToParts(e).find(e=>"timeZoneName"===e.type)?.value??"";if("GMT"===n)return 0;let i=efy(n);return null===i?efn(ehx(t,r)):i},efS=rS(eh_,(e,t,r)=>{if("Utc"===e._tag){let r=eft(e);return t(r),ehA(r.getTime())}let n=new Date(efr(e).getTime());return t(n),efm(n.getTime(),e.zone,r?.disambiguation??"compatible")}),efv=rS(2,(e,t)=>efw(e,e=>{let r=new Date(e);return t(r),r.getTime()})),efw=rS(2,(e,t)=>{let r=t(efs(e));return"Utc"===e._tag?ehA(r):ehx(r,e.zone)}),efx=rS(2,(e,t)=>t(efr(e))),efk=rS(2,(e,t)=>t(eft(e))),ef_=rS(2,(e,t)=>"Utc"===e._tag?t.onUtc(e):t.onZoned(e)),efE=rS(2,(e,t)=>efw(e,e=>e+Fh(t))),efI=rS(2,(e,t)=>efw(e,e=>e-Fh(t))),efT=(e,t)=>{e.setTime(e.getTime()+t)},efO=rS(2,(e,t)=>efS(e,e=>{if(t.millis&&efT(e,t.millis),t.seconds&&efT(e,1e3*t.seconds),t.minutes&&efT(e,60*t.minutes*1e3),t.hours&&efT(e,60*t.hours*6e4),t.days&&e.setUTCDate(e.getUTCDate()+t.days),t.weeks&&e.setUTCDate(e.getUTCDate()+7*t.weeks),t.months){let r=e.getUTCDate();e.setUTCMonth(e.getUTCMonth()+t.months+1,0),r<e.getUTCDate()&&e.setUTCDate(r)}if(t.years){let r=e.getUTCDate(),n=e.getUTCMonth();e.setUTCFullYear(e.getUTCFullYear()+t.years,n+1,0),r<e.getUTCDate()&&e.setUTCDate(r)}})),efC=rS(2,(e,t)=>{let r={};for(let e in t)r[e]=-1*t[e];return efO(e,r)}),efF=(e,t,r)=>{switch(t){case"second":e.setUTCMilliseconds(0);break;case"minute":e.setUTCSeconds(0,0);break;case"hour":e.setUTCMinutes(0,0,0);break;case"day":e.setUTCHours(0,0,0,0);break;case"week":{let t=r?.weekStartsOn??0,n=e.getUTCDay();e.setUTCDate(e.getUTCDate()-(n-t+7)%7),e.setUTCHours(0,0,0,0);break}case"month":e.setUTCDate(1),e.setUTCHours(0,0,0,0);break;case"year":e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}},efA=rS(eh_,(e,t,r)=>efS(e,e=>efF(e,t,r))),efM=(e,t,r)=>{switch(t){case"second":e.setUTCMilliseconds(999);break;case"minute":e.setUTCSeconds(59,999);break;case"hour":e.setUTCMinutes(59,59,999);break;case"day":e.setUTCHours(23,59,59,999);break;case"week":{let t=r?.weekStartsOn??0,n=e.getUTCDay();e.setUTCDate(e.getUTCDate()-(n-t+7)%7+6),e.setUTCHours(23,59,59,999);break}case"month":e.setUTCMonth(e.getUTCMonth()+1,0),e.setUTCHours(23,59,59,999);break;case"year":e.setUTCMonth(11,31),e.setUTCHours(23,59,59,999)}},efN=rS(eh_,(e,t,r)=>efS(e,e=>efM(e,t,r))),efR=rS(eh_,(e,t,r)=>efS(e,e=>{if("milli"===t)return;let n=e.getTime(),i=new Date(n);efF(i,t,r);let a=i.getTime(),s=new Date(n);efM(s,t,r);let o=s.getTime()+1;n-a<o-n?e.setTime(a):e.setTime(o)})),efD=rS(eh_,(e,t)=>{try{var r;return new Intl.DateTimeFormat(t?.locale,{timeZone:"Utc"===e._tag?"UTC":(r=e.zone,"Named"===r._tag?r.id:efi(r.offset)),...t}).format(e.epochMillis)}catch{return new Intl.DateTimeFormat(t?.locale,{timeZone:"UTC",...t}).format(efr(e))}}),efj=rS(eh_,(e,t)=>new Intl.DateTimeFormat(t?.locale,t).format(e.epochMillis)),efL=rS(eh_,(e,t)=>new Intl.DateTimeFormat(t?.locale,{...t,timeZone:"UTC"}).format(e.epochMillis)),efP=rS(2,(e,t)=>t.format(e.epochMillis)),ef$=e=>{let t=efr(e);return"Utc"===e._tag?t.toISOString():`${t.toISOString().slice(0,-1)}${efa(e)}`},efz=e=>"Offset"===e.zone._tag?ef$(e):`${ef$(e)}[${e.zone.id}]`,efU=ns,efB=rB,efW=sn,efq="",efK=rS(2,(e,t)=>e+t),efV=e=>e.toUpperCase(),efJ=e=>e.toLowerCase(),efH=e=>0===e.length?e:efV(e[0])+e.slice(1),efG=e=>0===e.length?e:efJ(e[0])+e.slice(1),efZ=(e,t)=>r=>r.replace(e,t),efQ=e=>e.trim(),efY=e=>e.trimStart(),efX=e=>e.trimEnd(),ef0=(e,t)=>r=>r.slice(e,t),ef1=e=>0===e.length,ef2=e=>e.length>0,ef6=e=>e.length,ef3=rS(2,(e,t)=>{let r=e.split(t);return st(r)?r:[e]}),ef4=(e,t)=>r=>r.includes(e,t),ef5=(e,t)=>r=>r.startsWith(e,t),ef8=(e,t)=>r=>r.endsWith(e,t),ef7=rS(2,(e,t)=>ol(sF(e.charCodeAt(t)),e=>!isNaN(e))),ef9=(e,t)=>r=>r.substring(e,t),ede=rS(2,(e,t)=>sq(e.at(t))),edt=rS(2,(e,t)=>ol(sF(e.charAt(t)),ef2)),edr=rS(2,(e,t)=>sq(e.codePointAt(t))),edn=e=>t=>ol(sF(t.indexOf(e)),xz(0)),edi=e=>t=>ol(sF(t.lastIndexOf(e)),xz(0)),eda=(e,t,r)=>n=>xK(n.localeCompare(e,t,r)),eds=e=>t=>sq(t.match(e)),edo=e=>t=>t.matchAll(e),edl=e=>t=>t.normalize(e),edu=(e,t)=>r=>r.padEnd(e,t),edc=(e,t)=>r=>r.padStart(e,t),edh=e=>t=>t.repeat(e),edf=(e,t)=>r=>r.replaceAll(e,t),edd=rS(2,(e,t)=>ol(sF(e.search(t)),xz(0))),edp=e=>t=>t.toLocaleLowerCase(e),edm=e=>t=>t.toLocaleUpperCase(e),edg=rS(2,(e,t)=>e.slice(0,Math.max(t,0))),edy=rS(2,(e,t)=>e.slice(Math.max(0,e.length-Math.floor(t)),1/0)),edb=e=>edA(e,!0),edS=e=>edA(e,!1),edv=rS(2,(e,t)=>{let r="";for(let n of edS(e)){let e=0;for(;e<n.length&&" ">=n.charAt(e);)e+=1;r+=e<n.length&&n.charAt(e)===t?n.substring(e+1):n}return r}),edw=e=>edv(e,"|"),edx=e=>{let t=e[0];for(let r=1;r<e.length;r++)t+="_"===e[r]?e[++r].toUpperCase():e[r];return t},edk=e=>{let t=e[0].toUpperCase();for(let r=1;r<e.length;r++)t+="_"===e[r]?e[++r].toUpperCase():e[r];return t},ed_=e=>e.replace(/_/g,"-"),edE=e=>e.replace(/([A-Z])/g,"_$1").toLowerCase(),edI=e=>(e.slice(0,1)+e.slice(1).replace(/([A-Z])/g,"_$1")).toLowerCase(),edT=e=>e.replace(/-/g,"_");class edO{s;stripped;index;length;constructor(e,t=!1){this.s=e,this.stripped=t,this.index=0,this.length=e.length}next(){if(this.done)return{done:!0,value:void 0};let e=this.index;for(;!this.done&&!edC(this.s[this.index]);)this.index=this.index+1;let t=this.index;if(!this.done){let e=this.s[this.index];this.index=this.index+1,!this.done&&edF(e,this.s[this.index])&&(this.index=this.index+1),this.stripped||(t=this.index)}return{done:!1,value:this.s.substring(e,t)}}[Symbol.iterator](){return new edO(this.s,this.stripped)}get done(){return this.index>=this.length}}let edC=e=>{let t=e.charCodeAt(0);return 13===t||10===t},edF=(e,t)=>13===e.charCodeAt(0)&&10===t.charCodeAt(0),edA=(e,t)=>new edO(e,t),edM=Symbol.for("effect/Cron"),edN={[edM]:edM,[iS](e){return edR(e)&&edG(this,e)},[is](){return rD(io(this.tz),iu(iy(ui(this.seconds))),iu(iy(ui(this.minutes))),iu(iy(ui(this.hours))),iu(iy(ui(this.days))),iu(iy(ui(this.months))),iu(iy(ui(this.weekdays))),ib(this))},toString(){return iI(this.toJSON())},toJSON(){return{_id:"Cron",tz:this.tz,seconds:ui(this.seconds),minutes:ui(this.minutes),hours:ui(this.hours),days:ui(this.days),months:ui(this.months),weekdays:ui(this.weekdays)}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},edR=e=>nw(e,edM),edD=e=>{let t=Object.create(edN);t.seconds=new Set(u4(e.seconds??[0],xj)),t.minutes=new Set(u4(e.minutes,xj)),t.hours=new Set(u4(e.hours,xj)),t.days=new Set(u4(e.days,xj)),t.months=new Set(u4(e.months,xj)),t.weekdays=new Set(u4(e.weekdays,xj)),t.tz=sq(e.tz);let r=Array.from(t.seconds),n=Array.from(t.minutes),i=Array.from(t.hours),a=Array.from(t.days),s=Array.from(t.months),o=Array.from(t.weekdays);return t.first={second:r[0]??0,minute:n[0]??0,hour:i[0]??0,day:a[0]??1,month:(s[0]??1)-1,weekday:o[0]??0},t.next={second:edj(r,60),minute:edj(n,60),hour:edj(i,24),day:edj(a,32),month:edj(s,13),weekday:edj(o,7)},t},edj=(e,t)=>{let r,n=Array(t).fill(void 0);if(0===e.length)return n;let i=e.length-1;for(let a=t-1;a>=0;a--){for(;i>=0&&e[i]>=a;)r=e[i--];n[a]=r}return n},edL=Symbol.for("effect/Cron/errors/ParseError");class edP extends ehd("CronParseError"){[edL]=edL}let ed$=e=>nw(e,edL),edz=(e,t)=>{let r=e.split(" ").filter(ef2);if(5!==r.length&&6!==r.length)return aO(new edP({message:"Invalid number of segments in cron expression",input:e}));5===r.length&&r.unshift("0");let[n,i,a,s,o,l]=r;return a1({tz:void 0===t||ehE(t)?aI(t):aF(ehY(t),()=>new edP({message:"Invalid time zone in cron expression",input:t})),seconds:ed2(n,edZ),minutes:ed2(i,edQ),hours:ed2(a,edY),days:ed2(s,edX),months:ed2(o,ed0),weekdays:ed2(l,ed1)}).pipe(az(edD))},edU=(e,t)=>aH(edz(e,t),rw),edB=(e,t)=>{let r=ehD(t,{timeZone:sJ(e.tz)}).pipe(efl);return(0===e.seconds.size||!!e.seconds.has(r.seconds))&&(0===e.minutes.size||!!e.minutes.has(r.minutes))&&(0===e.hours.size||!!e.hours.has(r.hours))&&(0===e.months.size||!!e.months.has(r.month))&&(0===e.days.size&&0===e.weekdays.size||(0===e.weekdays.size?e.days.has(r.day):0===e.days.size?e.weekdays.has(r.weekDay):e.days.has(r.day)||e.weekdays.has(r.weekDay)))},edW=e=>new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1,0)).getUTCDate(),edq=(e,t)=>{let r=sJ(e.tz),n=ehD(t??new Date,{timeZone:r}),i=void 0!==r&&ehI(r)&&"UTC"===r.id?rC:e=>{let t=ehD(e,{timeZone:n.zone,adjustForTimeZone:!0}).pipe(efr),r=e.getTime()-t.getTime();r>0&&e.setTime(e.getTime()+r)};return eft(efS(n,t=>{t.setUTCSeconds(t.getUTCSeconds()+1,0);for(let r=0;r<1e4;r++){if(0!==e.seconds.size){let r=t.getUTCSeconds(),n=e.next.second[r];if(void 0===n){t.setUTCMinutes(t.getUTCMinutes()+1,e.first.second),i(t);continue}if(n>r){t.setUTCSeconds(n),i(t);continue}}if(0!==e.minutes.size){let r=t.getUTCMinutes(),n=e.next.minute[r];if(void 0===n){t.setUTCHours(t.getUTCHours()+1,e.first.minute,e.first.second),i(t);continue}if(n>r){t.setUTCMinutes(n,e.first.second),i(t);continue}}if(0!==e.hours.size){let r=t.getUTCHours(),n=e.next.hour[r];if(void 0===n){t.setUTCDate(t.getUTCDate()+1),t.setUTCHours(e.first.hour,e.first.minute,e.first.second),i(t);continue}if(n>r){t.setUTCHours(n,e.first.minute,e.first.second),i(t);continue}}if(0!==e.weekdays.size||0!==e.days.size){let r=1/0,n=1/0;if(0!==e.weekdays.size){let n=t.getUTCDay(),i=e.next.weekday[n];r=void 0===i?7-n+e.first.weekday:i-n}if(0!==e.days.size&&0!==r){let r=t.getUTCDate(),i=e.next.day[r];n=void 0===i?edW(t)-r+e.first.day:i-r}let a=Math.min(r,n);if(0!==a){t.setUTCDate(t.getUTCDate()+a),t.setUTCHours(e.first.hour,e.first.minute,e.first.second),i(t);continue}}if(0!==e.months.size){let r=t.getUTCMonth()+1,n=e.next.month[r];if(void 0===n){t.setUTCFullYear(t.getUTCFullYear()+1),t.setUTCMonth(e.first.month,e.first.day),t.setUTCHours(e.first.hour,e.first.minute,e.first.second),i(t);continue}if(n>r){t.setUTCMonth(n-1,e.first.day),t.setUTCHours(e.first.hour,e.first.minute,e.first.second),i(t);continue}}return}throw Error("Unable to find next cron date")}))},edK=function*(e,t){for(;;)yield t=edq(e,t)},edV=r$((e,t)=>edH(e.seconds,t.seconds)&&edH(e.minutes,t.minutes)&&edH(e.hours,t.hours)&&edH(e.days,t.days)&&edH(e.months,t.months)&&edH(e.weekdays,t.weekdays)),edJ=r6(rW),edH=(e,t)=>edJ(ui(e),ui(t)),edG=rS(2,(e,t)=>edV(e,t)),edZ={min:0,max:59},edQ={min:0,max:59},edY={min:0,max:23},edX={min:1,max:31},ed0={min:1,max:12,aliases:{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}},ed1={min:0,max:6,aliases:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6}},ed2=(e,t)=>{let r=t.max-t.min+1,n=new Set;for(let i of e.split(",")){let[a,s]=ed6(i);if("*"===a&&void 0===s)return aI(new Set);if(void 0!==s){if(!Number.isInteger(s))return aO(new edP({message:"Expected step value to be a positive integer",input:e}));if(s<1)return aO(new edP({message:"Expected step value to be greater than 0",input:e}));if(s>t.max)return aO(new edP({message:`Expected step value to be less than ${t.max}`,input:e}))}if("*"===a)for(let e=t.min;e<=t.max;e+=s??1)n.add(e);else{let[r,i]=ed3(a,t.aliases);if(!Number.isInteger(r))return aO(new edP({message:"Expected a positive integer",input:e}));if(r<t.min||r>t.max)return aO(new edP({message:`Expected a value between ${t.min} and ${t.max}`,input:e}));if(void 0===i)n.add(r);else{if(!Number.isInteger(i))return aO(new edP({message:"Expected a positive integer",input:e}));if(i<t.min||i>t.max)return aO(new edP({message:`Expected a value between ${t.min} and ${t.max}`,input:e}));if(r>i)return aO(new edP({message:"Invalid value range",input:e}));for(let e=r;e<=i;e+=s??1)n.add(e)}}if(n.size>=r)return aI(new Set)}return aI(n)},ed6=e=>{let t=e.indexOf("/");return -1!==t?[e.slice(0,t),Number(e.slice(t+1))]:[e,void 0]},ed3=(e,t)=>{let r=e.indexOf("-");return -1!==r?[ed4(e.slice(0,r),t),ed4(e.slice(r+1),t)]:[ed4(e,t),void 0]};function ed4(e,t){return t?.[e.toLocaleLowerCase()]??Number(e)}let ed5=ql,ed8=qD,ed7=qj,ed9=qL,epe=(e,t)=>qN(r=>r.nextRange(e,t)),ept=(e,t)=>qN(r=>r.nextIntBetween(e,t)),epr=e=>qN(t=>t.shuffle(e)),epn=e=>{let t=ui(e);return PE(0===t.length?Pn(new zl("Cannot select a random element from an empty array")):qN(e=>e.nextIntBetween(0,t.length)),e=>t[e])},epi=qN,epa=qu,eps=qd,epo=e=>new qp(e),epl=Symbol.for("effect/Schedule"),epu=e=>nw(e,epl),epc=Symbol.for("effect/ScheduleDriver"),eph={start:0,now:0,input:void 0,output:void 0,elapsed:Ft,elapsedSincePrevious:Ft,recurrence:0},epf=Ok()("effect/Schedule/CurrentIterationMetadata",{defaultValue:()=>eph}),epd={_Out:e=>e,_In:e=>e,_R:e=>e},epp={_Out:e=>e,_In:e=>e,_R:e=>e};class epm{initial;step;[epl]=epd;constructor(e,t){this.initial=e,this.step=t}pipe(){return ij(this,arguments)}}let epg=(e,t,r,n)=>K5(e,e=>0===e.recurrence?{now:t,input:r,output:n,recurrence:e.recurrence+1,elapsed:Ft,elapsedSincePrevious:Ft,start:t}:{now:t,input:r,output:n,recurrence:e.recurrence+1,elapsed:Fa(t-e.start),elapsedSincePrevious:Fa(t-e.now),start:e.start});class epy{schedule;ref;[epc]=epp;constructor(e,t){this.schedule=e,this.ref=t}get state(){return PE(KY(this.ref),e=>e[1])}get last(){return Pu(KY(this.ref),([e,t])=>{switch(e._tag){case"None":return Pi(()=>new zl);case"Some":return PD(e.value)}})}iterationMeta=KZ(eph);get reset(){return KX(this.ref,[sC(),this.schedule.initial]).pipe(P6(KX(this.iterationMeta,eph)))}next(e){return rD(PE(KY(this.ref),e=>e[1]),Pu(t=>rD(qW,Pu(r=>rD(Pj(()=>this.schedule.step(r,e,t)),Pu(([t,n,i])=>{let a=KX(this.ref,[sF(n),t]);if(eoG(i))return a.pipe(P3(Pn(sC())));let s=eoP(i.intervals)-r;if(s<=0)return a.pipe(P3(epg(this.iterationMeta,r,e,n)),LZ(n));let o=Fa(s);return rD(a,P3(epg(this.iterationMeta,r,e,n)),P3(qB(o)),LZ(n))}))))))}}let epb=(e,t)=>new epm(e,t),epS=rS(2,(e,t)=>epv(e,e=>PL(()=>t(e)))),epv=rS(2,(e,t)=>epQ(e,(e,r)=>PE(t(e),e=>FD(r,C2(e))))),epw=rS(2,(e,t)=>epH(epx(e,t),aq)),epx=rS(2,(e,t)=>epb([e.initial,t.initial,!0],(r,n,i)=>i[2]?Pu(e.step(r,n,i[0]),([e,a,s])=>eoG(s)?PE(t.step(r,n,i[1]),([t,r,n])=>[[e,t,!1],aI(r),n]):PD([[e,i[1],!0],aO(a),s])):PE(t.step(r,n,i[1]),([e,t,r])=>[[i[0],e,!1],aI(t),r]))),epk=rS(2,(e,t)=>epH(e,()=>t)),ep_=e=>epH(e,rC),epE=rS(2,(e,t)=>epb([e.initial,t.initial],(r,[n,i],a)=>P4(e.step(r,n,a[0]),t.step(r,i,a[1]),([e,t,r],[n,i,a])=>eoH(r)&&eoH(a)?[[e,n],[t,i],eoK(rD(r.intervals,eoj(a.intervals)))]:[[e,n],[t,i],eoJ]))),epI=rS(2,(e,t)=>epT(e,(e,r)=>PL(()=>t(e,r)))),epT=rS(2,(e,t)=>epb(e.initial,(r,n,i)=>Pu(e.step(r,n,i),([e,r,i])=>eoG(i)?PD([e,r,eoJ]):PE(t(n,r),t=>t?[e,r,i]:[e,r,eoJ])))),epO=e=>ep7(e,OM(),(e,t)=>rD(e,Oq(t))),epC=rS(2,(e,t)=>epb([e.initial,t.initial],(r,n,i)=>Pu(e.step(r,n,i[0]),([e,n,a])=>PE(t.step(r,n,i[1]),([t,r,n])=>eoG(a)||eoG(n)?[[e,t],r,eoJ]:[[e,t],r,eoK(rD(a.intervals,eoB(n.intervals)))])))),epF=rS(2,(e,t)=>epM(e,e=>PL(()=>t(e)))),epA=rS(2,(e,t)=>epb(e.initial,(r,n,i)=>Ul(e.step(r,n,i),t))),epM=rS(2,(e,t)=>epb(e.initial,(r,n,i)=>Pu(t(n),t=>e.step(r,t,i)))),epN=rS(2,(e,t)=>epR(e,e=>PL(()=>t(e)))),epR=rS(2,(e,t)=>epQ(e,(e,r)=>t(r))),epD=e=>epS(e,e=>e),epj=rS(2,(e,{onInput:t,onOutput:r})=>epH(epF(e,t),r)),epL=rS(2,(e,{onInput:t,onOutput:r})=>epG(epM(e,t),r)),epP=e=>rD(KQ([sC(),e.initial]),PE(t=>new epy(e,t))),ep$=e=>{let t=C2(e),r=Fh(t);return epb(!0,(e,n,i)=>PD(i?[!1,t,eoV(eov(e+r))]:[!1,Ft,eoJ]))},epz=rS(2,(e,t)=>emo(e,t)),epU=rS(3,(e,t,r)=>eml(e,t,r)),epB=rS(2,(e,t)=>epb(e.initial,(r,n,i)=>Pu(e.step(r,n,i),([e,r,n])=>eoG(n)?LZ(t,[e,r,n]):PD([e,r,n])))),epW=()=>epb(void 0,(e,t,r)=>PD([r,t,eoV(eov(e))])),epq=rS(2,(e,t)=>epK(e,t,eoL)),epK=rS(3,(e,t,r)=>epb([e.initial,t.initial],(n,i,a)=>rD(P4(e.step(n,i,a[0]),t.step(n,i,a[1]),(e,t)=>[e,t]),Pu(([[n,a,s],[o,l,u]])=>eoH(s)&&eoH(u)?epV(e,t,i,n,a,s.intervals,o,l,u.intervals,r):PD([[n,o],[a,l],eoJ]))))),epV=(e,t,r,n,i,a,s,o,l,u)=>{let c=u(a,l);return eoU(c)?PD([[n,s],[i,o],eoK(c)]):rD(a,eoz(l))?Pu(e.step(eo$(a),r,n),([n,i,a])=>eoG(a)?PD([[n,s],[i,o],eoJ]):epV(e,t,r,n,i,a.intervals,s,o,l,u)):Pu(t.step(eo$(l),r,s),([s,o,l])=>eoG(l)?PD([[n,s],[i,o],eoJ]):epV(e,t,r,n,i,a,s,o,l.intervals,u))},epJ=rS(2,(e,t)=>{let{max:r,min:n}=Object.assign({min:.8,max:1.2},t);return epR(e,e=>PE(ed8,t=>{let i=Fh(e);return Fa(i*n*(1-t)+i*r*t)}))}),epH=rS(2,(e,t)=>epG(e,e=>PL(()=>t(e)))),epG=rS(2,(e,t)=>epb(e.initial,(r,n,i)=>Pu(e.step(r,n,i),([e,r,n])=>PE(t(r),t=>[e,t,n])))),epZ=rS(2,(e,t)=>epQ(e,(e,r)=>PL(()=>t(e,r)))),epQ=rS(2,(e,t)=>epb(e.initial,(r,n,i)=>Pu(e.step(r,n,i),([e,n,i])=>{if(eoG(i))return PD([e,n,i]);let a=i.intervals;return PE(t(n,eob(eoc(r,eoP(a)))),t=>{let i=C2(t),s=eoP(a),o=r+Fh(i),l=o-s;return[e,n,eoV(eoc(o,Math.max(0,eo$(a)+l)))]})}))),epY=rS(2,(e,t)=>epb(e.initial,(r,n,i)=>Pu(e.step(r,n,i),([e,r,n])=>LZ(t(r,n),[e,r,n])))),epX=e=>epb(e.initial,(t,r,n)=>rD(e.step(t,r,n),PE(([e,t,n])=>[e,r,n]))),ep0=rS(2,(e,t)=>epb(e.initial,(r,n,i)=>Us(e.step(r,n,i),t))),ep1=rS(3,(e,t,r)=>epb(e.initial,(n,i,a)=>Ua(s=>Us(e.step(n,i,a),Od(s,t,r))))),ep2=e=>emu(epW(),e),ep6=e=>emc(epW(),e),ep3=e=>{let t=C2(e);return emg(emV,e=>Fj(e,t))},ep4=e=>emp(epW(),e),ep5=e=>emm(epW(),e),ep8=e=>emg(emJ,t=>t<e),ep7=rS(3,(e,t,r)=>ep9(e,t,(e,t)=>PL(()=>r(e,t)))),ep9=rS(3,(e,t,r)=>epb([e.initial,t],(t,n,[i,a])=>Pu(e.step(t,n,i),([e,t,n])=>eoG(n)?PD([[e,a],a,n]):PE(r(a,t),t=>[[e,t],a,n])))),eme=rS(2,(e,t)=>{let r=C2(t);return rD(e,epq(emV),emt(([,e])=>F$(e,r)),epH(e=>e[0]))}),emt=rS(2,(e,t)=>epb(e.initial,(r,n,i)=>Pu(e.step(r,n,i),([i,a,s])=>t(a)?e.step(r,n,e.initial):PD([i,a,s])))),emr=rS(3,(e,t,r)=>rD(emn(e,t,OD(r),e.initial,OM()),PE(e=>O$(e)))),emn=(e,t,r,n,i)=>{if(!O7(r))return PD(i);let a=Ct(r),s=Cb(r);return Pu(e.step(t,a,n),([t,r,n])=>eoG(n)?PL(()=>rD(i,OK(r))):emn(e,eoP(n.intervals),s,t,OK(i,r)))},emi=rS(2,(e,t)=>epb(e.initial,(r,n,i)=>P3(t(n),e.step(r,n,i)))),ema=rS(2,(e,t)=>epb(e.initial,(r,n,i)=>PP(e.step(r,n,i),([,e])=>t(e)))),ems=(e,t)=>epb(e,(e,r,n)=>PL(()=>[t(n),n,eoV(eov(e))])),emo=rS(2,(e,t)=>eml(e,t,eoj)),eml=rS(3,(e,t,r)=>epb([e.initial,t.initial],(n,i,a)=>P4(e.step(n,i,a[0]),t.step(n,i,a[1]),([e,t,n],[i,a,s])=>{if(eoG(n)&&eoG(s))return[[e,i],[t,a],eoJ];if(eoG(n)&&eoH(s))return[[e,i],[t,a],eoK(s.intervals)];if(eoH(n)&&eoG(s))return[[e,i],[t,a],eoK(n.intervals)];if(eoH(n)&&eoH(s))return[[e,i],[t,a],eoK(r(n.intervals,s.intervals))];throw Error("BUG: Schedule.unionWith - please report an issue at https://github.com/Effect-TS/effect/issues")}))),emu=rS(2,(e,t)=>epI(e,(e,r)=>!t(e))),emc=rS(2,(e,t)=>epT(e,(e,r)=>JE(t(e)))),emh=rS(2,(e,t)=>epI(e,(e,r)=>!t(r))),emf=rS(2,(e,t)=>epT(e,(e,r)=>JE(t(r)))),emd=rS(2,(e,t)=>emb(e,ep3(t))),emp=rS(2,(e,t)=>epI(e,(e,r)=>t(e))),emm=rS(2,(e,t)=>epT(e,(e,r)=>t(e))),emg=rS(2,(e,t)=>epI(e,(e,r)=>t(r))),emy=rS(2,(e,t)=>epT(e,(e,r)=>t(r))),emb=rS(2,(e,t)=>epH(epq(e,t),e=>e[0])),emS=rS(2,(e,t)=>epH(epq(e,t),e=>e[1])),emv=rS(3,(e,t,r)=>epH(epq(e,t),([e,t])=>r(e,t))),emw=e=>{let t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),0).getTime()},emx=e=>{let t=new Date(emw(e));return t.setSeconds(t.getSeconds()+1)},emk=e=>{let t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),0,0).getTime()},em_=e=>{let t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),0,0,0).getTime()},emE=e=>{let t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).getTime()},emI=e=>{let t=new Date(emE(e));return t.setDate(t.getDate()+1)},emT=(e,t,r)=>{let n=new Date(new Date(e).setDate(t));if(new Date(n.setMonth(n.getMonth()+r)).getDate()===t){let n=new Date(new Date(e).setDate(t));return n.setMonth(n.getMonth()+r)}return emT(e,t,r+1)},emO=Symbol.for("effect/Schedule/ScheduleDefect");class emC{error;[emO];constructor(e){this.error=e,this[emO]=emO}}let emF=e=>L6(e,e=>L7(new emC(e))),emA=e=>sR(Lp(e,e=>j1(e)&&nw(e.defect,emO)?sF(e.defect):sC()),{onNone:()=>e,onSome:e=>jH(e.error)}),emM=e=>L2(e,e=>Pa(emA(e))),emN=rS(2,(e,t)=>emD(e,t,(e,t)=>Pn(e))),emR=rS(2,(e,t)=>{if(epu(t))return emN(e,t);let r=t.schedule??epX(emJ),n=t.while?emm(r,e=>{let r=t.while(e);return"boolean"==typeof r?PD(r):emF(r)}):r,i=t.until?emc(n,e=>{let r=t.until(e);return"boolean"==typeof r?PD(r):emF(r)}):n;return emM(emN(e,t.times?epq(i,ep8(t.times)).pipe(epH(e=>e[0])):i))}),emD=rS(3,(e,t,r)=>Pu(epP(t),t=>Pg(e,{onFailure:e=>r(e,sC()),onSuccess:n=>emj(JA(e,epf,KY(t.iterationMeta)),t,(e,n)=>JA(r(e,n),epf,KY(t.iterationMeta)),n)}))),emj=(e,t,r,n)=>Pg(t.next(n),{onFailure:()=>PM(t.last),onSuccess:n=>Pg(e,{onFailure:e=>r(e,sF(n)),onSuccess:n=>emj(e,t,r,n)})}),emL=rS(2,(e,t)=>emz(e,t,(e,t)=>Pn(e))),emP=rS(2,(e,t)=>epu(t)?emL(e,t):emM(emL(e,em$(t)))),em$=e=>{let t=e.schedule??emJ,r=e.while?emm(t,t=>{let r=e.while(t);return"boolean"==typeof r?PD(r):emF(r)}):t,n=e.until?emc(r,t=>{let r=e.until(t);return"boolean"==typeof r?PD(r):emF(r)}):r;return e.times?epq(n,ep8(e.times)):n},emz=rS(3,(e,t,r)=>Pu(epP(t),t=>emU(JA(e,epf,KY(t.iterationMeta)),t,(e,n)=>JA(r(e,n),epf,KY(t.iterationMeta))))),emU=(e,t,r)=>L6(e,n=>Pg(t.next(n),{onFailure:()=>rD(t.last,PM,Pu(e=>r(n,e))),onSuccess:()=>emU(e,t,r)})),emB=rS(2,(e,t)=>emW(e,void 0,t)),emW=rS(3,(e,t,r)=>Pu(epP(r),r=>emq(JA(e,epf,KY(r.iterationMeta)),t,r))),emq=(e,t,r)=>Pg(r.next(t),{onFailure:()=>PM(r.last),onSuccess:()=>Pu(e,t=>emq(e,t,r))}),emK=ems(0,e=>e+1),emV=epb(sC(),(e,t,r)=>{switch(r._tag){case"None":return PD([sF(e),Ft,eoV(eov(e))]);case"Some":return PD([sF(r.value),Fa(e-r.value),eoV(eov(e))])}}),emJ=ems(0,e=>e+1),emH=ep_(ep8(1)),emG=ep_(ep8(0)),emZ=rS(2,(e,t)=>elu(emB(e,t))),emQ=Symbol.for("effect/ExecutionPlan"),emY=rS(2,(e,t)=>Pj(()=>{let r,n=0;return Pu(PV({while:()=>n<t.steps.length&&(void 0===r||aN(r)),body:()=>{let i=t.steps[n],a=ec6(e,i.provide);if(r){let e=!1,t=a;a=emM(emL(a=Pj(()=>e?t:(e=!0,r)),emX(i,!1)))}else{let e=emX(i,!0);a=e?emM(emL(a,e)):a}return Pt(a)},step:e=>{r=e,n++}}),()=>r)})),emX=(e,t)=>t?1!==e.attempts&&(e.schedule||e.attempts)?em$({schedule:e.schedule,while:e.while,times:e.attempts?e.attempts-1:void 0}):void 0:em$({schedule:e.schedule?e.schedule:e.attempts?void 0:emH,times:e.attempts,while:e.while}),em0=r9(Symbol.for("effect/FiberRef/currentCache"),()=>{let e,t;return $C((e=()=>PE(zZ(),e=>({listeners:new etQ,handle:e})),t=()=>Fs(60),new eaH(65536,Oh(),MQ,e,e=>C2(t(e)))))}),em1=r9(Symbol.for("effect/FiberRef/currentCacheEnabled"),()=>$C(!1)),em2=rS(2,(e,t)=>$T(e,em1,t)),em6=rS(2,(e,t)=>$T(e,em0,t)),em3=etW,em4=e=>nw(e,etW),em5=()=>e=>Object.assign(Object.create(etq),e),em8=e=>t=>{let r=Object.assign(Object.create(etq),t);return r._tag=e,r},em7=etK,em9=e=>class extends etK{_tag=e},ege=etV,egt=eaA,egr=etJ,egn=etH,egi=etG,ega=etZ,egs=e=>eaG({...e,lookup:()=>PE(zZ(),e=>({listeners:new etQ,handle:e}))}),ego=Symbol.for("effect/RequestBlock.Entry"),egl=e=>nw(e,Yb),egu=Yw,egc=LB,egh=LJ,egf=ele,egd=elt,egp=J_,egm=(e,t)=>rD(PL(()=>Bu()),Pu(elx),PE(r=>n=>rD(r.modifyEffect(r=>{let i=rD(r,Bf(new elh(n,t)));return sM(i)?rD(zZ(),PP(t=>rD(VG(e(n)),P_(t),eiW)),PE(e=>[e,rD(r,By(new elh(n,t),e))])):PD([i.value,r])}),Pu(zY),Pu(([e,t])=>rD(JC(e),LZ(t)))))),egg=JI,egy=eij,egb=e=>t=>eij(t,e),egS=(e,t)=>PE(eij(ui(e).map(Pr),t),cN(e=>zv(e)?sF(e.effect_instruction_i0):sC())),egv=V0,egw=V1,egx=JW,egk=Jq,eg_=Jn,egE=eiN,egI=eiD,egT=V6,egO=V9,egC=ei$,egF=e=>Pu(e,e=>{let t=e[Symbol.iterator]().next();return t.done?Pn(new zl):PD(t.value)}),egA=eiZ,egM=eiQ,egN=JN,egR=JD,egD=JR,egj=eiX,egL=eiL,egP=eiP,eg$=eiY,egz=eat,egU=L1,egB=e=>Pj(()=>{let t;return Pu(zZ(),r=>Pu(euF(),n=>PB(i=>P3(eiW(i(Pm(e(e=>euy(n)(P_(e,r))),{onFailure:e=>z3(r,e),onSuccess:e=>(t=e,PW)}))),i(PF(zY(r),()=>t??PW))))))}),egW=LY,egq=LH,egK=Pn,egV=Pi,egJ=Pa,egH=Ps,egG=L7,egZ=L9,egQ=Pe,egY=PH,egX=P5,eg0=e=>Pu(e,e=>{switch(e._tag){case"None":return PW;case"Some":return Pn(new zl)}}),eg1=e=>e.length>=1?L1((t,r)=>{try{e(r).then(e=>t(PD(e)),e=>t(L7(e)))}catch(e){t(L7(e))}}):L1(t=>{try{e().then(e=>t(PD(e)),e=>t(L7(e)))}catch(e){t(L7(e))}}),eg2=PD,eg6=J$,eg3=e=>PD(sF(e)),eg4=Pj,eg5=PL,eg8=PW,eg7=P1,eg9=VP,eye=L6,eyt=L2,eyr=V$,eyn=L3,eyi=L4,eya=Vz,eys=VU,eyo=VB,eyl=VW,eyu=e=>Pp(e,{onFailure:rw,onSuccess:()=>jJ}),eyc=V2,eyh=Jo,eyf=Jl,eyd=e=>Pm(e,{onFailure:e=>{let t=ui(j4(e));return 0===t.length?Pa(e):Pn(t)},onSuccess:PD}),eyp=e=>Pm(e,{onFailure:Pn,onSuccess:PD}),eym=emP,eyg=emY,eyy=emz,eyb=VL,eyS=JX,eyv=J0,eyw=JY,eyx=e=>Jk(e,Ll),eyk=VJ,ey_=e=>LH((t,r)=>e(ju(r.runtimeFlags))),eyE=e=>PB(t=>Pl(r=>Pu(eiq(t(e)),e=>rD(t(Xt(e)),PF(()=>rD(e,Xe(r))))))),eyI=Pv,eyT=Pw,eyO=Px,eyC=Pk,eyF=PF,eyA=PU,eyM=PB,eyN=V8,eyR=LZ,eyD=Vj,eyj=e=>PT(e,sF),eyL=LQ,eyP=Pd,ey$=Jt,eyz=PE,eyU=Jx,eyB=PI,eyW=PT,eyq=Jk,eyK=e=>Pg(e,{onFailure:e=>PD(e),onSuccess:PD}),eyV=JE,eyJ=eiC,eyH=eiF,eyG=LG,eyZ=eiA,eyQ=eaC,eyY=PO,eyX=PC,ey0=ei0,ey1=ei5,ey2=e=>t=>ei2(e,!0)(t),ey6=eac,ey3=ei6,ey4=ei3,ey5=ei4,ey8=ei7,ey7=e=>ei6(t=>Pu($5(t,Hb),t=>rD(e,eap(t),PE(e=>[Pl(e=>$4(t,zM(e))),e])))),ey9=e=>els(e,eak),ebe=e=>$T($G,sF(YQ))(e),ebt=VH,ebr=VV,ebn=VG,ebi=ela,eba=els,ebs=Po,ebo=Pl,ebl=eiW,ebu=eiq,ebc=elo,ebh=ell,ebf=elu,ebd=eiK,ebp=e=>Xt(e),ebm=e=>Pj(()=>Pu(e,Xt)),ebg=eld,eby=P$,ebb=PZ,ebS=Yc,ebv=$z,ebw=$U,ebx=Vq,ebk=qK,eb_=ear,ebE=qF,ebI=ec3,ebT=ec4,ebO=e=>eab(qE,Od(qs,e)),ebC=ec5,ebF=VK,ebA=qB,ebM=e=>JZ(e,qq),ebN=JZ,ebR=elp,ebD=ely,ebj=elm,ebL=elg,ebP=elb,eb$=qM,ebz=qA,ebU=ean,ebB=Ui,ebW=e=>PE(Ui(),e),ebq=Ua,ebK=Ul,ebV=ec6,ebJ=JF,ebH=JA,ebG=(e,t)=>(...r)=>PE(e,e=>t(e)(...r)),ebZ=(e,t)=>(...r)=>Pu(e,e=>t(e)(...r)),ebQ=J9,ebY=He,ebX=e=>({functions:J9(e),constants:He(e)}),eb0=e=>PE(Ui(),Oy(e)),eb1=Ht,eb2=J3,eb6=VZ,eb3=VQ,eb4=elC,eb5=VY,eb8=VX,eb7=e=>Pg(e,{onFailure:()=>PD(sC()),onSuccess:e=>PD(sF(e))}),eb9=Pt,eSe=Pr,eSt=P_,eSr=PS,eSn=V3,eSi=V4,eSa=V5,eSs=V7,eSo=Uu,eSl=Uc,eSu=J1,eSc=J2,eSh=J4,eSf=PK,eSd=J5,eSp=J8,eSm=Pu,eSg=Pc,eSy=Pf,eSb=eaI,eSS=e=>LH((t,r)=>L1(n=>{let i,a=new Set,s=jJ,o=()=>{for(let e of a)e.unsafeInterruptAsFork(t.id())},l=!1,u=!0;for(let c of e){u=!1;let e=eiV(Px(c),t,r.runtimeFlags);if(a.add(e),e.addObserver(t=>{a.delete(e),i||("Success"===t._tag?(l=!0,i=e,s=jJ,o()):s=jQ(t.cause,s)),l&&0===a.size&&n(i?P3(Y7(i),i.unsafePoll()):Pa(s))}),i)break}return u?n(Pe(()=>new zs("Received an empty collection of effects"))):(l=!0,Y9(a,t.id()))})),eSv=elf,eSw=eaE,eSx=Jz,eSk=PP,eS_=JK,eSE=JV,eSI=JJ,eST=JH,eSO=JG,eSC=Ja,eSF=Ju,eSA=(e,t)=>t.discard?Jw(e,t.while,t.step,t.body):PE(Jv(e,t.while,t.step,t.body),ui),eSM=emR,eSN=JL,eSR=emD,eSD=emB,eSj=emZ,eSL=emW,eSP=PV,eS$=Js,eSz=e=>J6((t,r)=>Kn(r,t,e)),eSU=$T,eSB=$O,eSW=eay,eSq=eab,eSK=JC,eSV=e=>Pj(()=>Ki(e)),eSJ=J6,eSH=e=>Jr(e,{onFailure:rE,onSuccess:rI}),eSG=e=>Jr(e,{onFailure:rI,onSuccess:rE}),eSZ=Jr,eSQ=Pp,eSY=Pm,eSX=Pg,eS0=Jh,eS1=(e,...t)=>Jc(e)(...t),eS2=Jf,eS6=Jd,eS3=Jp,eS4=Jm,eS5=Jg,eS8=Jy,eS7=Jb,eS9=VD,eve=function(){if("string"==typeof arguments[0])return eab($L,N_(arguments[0],arguments[1]));let e=Object.entries(arguments[0]);return eab($L,ND(t=>{for(let r=0;r<e.length;r++){let[n,i]=e[r];N_(t,n,i)}return t}))},evt=JS,evr=$V,evn=eiO,evi=PM,eva=PN,evs=PA,evo=JT,evl=JO,evu=e=>Pj(()=>{let t=OD(e);return O7(t)?rD(Cb(t),cB(Ct(t),(e,t)=>PA(e,()=>t))):Pe(()=>new zs("Received an empty collection of effects"))}),evc=JM,evh=qN,evf=qR,evd=rS(2,(e,t)=>evf(e,epo(t))),evp=e=>eab(qE,Od(qu,e)),evm=euF,evg=PR,evy=Pq,evb=PY,evS=eal,evv=JU,evw=JB,evx=(e,t)=>ei8([VN(e,t)]),evk=ei8,ev_=$H,evE=J7,evI=eo8,evT=e=>PL(()=>eo8(e)),evO=eo9,evC=e=>PL(()=>eo9(e)),evF=euB,evA=euU,evM=euW,evN=euq,evR=euK,evD=euV,evj=ei9,evL=eae,evP=eai,ev$=eaa,evz=eas,evU=eao,evB=rS(2,(e,t)=>evU(e,t,(e,t)=>e(t))),evW=Lz,evq=LU,evK=Ph,evV=rS(e=>em4(e[0]),(e,t)=>Pu(LJ(t)?t:PD(t),t=>Pl(r=>{let n=new Proxy(e,{});return $p(em1,e=>{if(e){let e=$p(em0,i=>Pu(i.getEither(n),a=>{switch(a._tag){case"Left":if(a.left.listeners.interrupted)return Pu(i.invalidateWhen(n,e=>e.handle===a.left.handle),()=>e);return a.left.listeners.increment(),PB(e=>Pu(Pr(Lz(Yh,e(zY(a.left.handle)))),e=>(a.left.listeners.decrement(),e)));case"Right":return a.right.listeners.increment(),PB(e=>Pu(Pr(Lz(Yp(t,Yw({request:n,result:a.right.handle,listeners:a.right.listeners,ownerId:r,state:{completed:!1}})),e(zY(a.right.handle)))),()=>(a.right.listeners.decrement(),zY(a.right.handle))))}}));return e}let i=new etQ;return i.increment(),Pu(zZ(),e=>eaC(Lz(Yp(t,Yw({request:n,result:e,listeners:i,ownerId:r,state:{completed:!1}})),zY(e)),PL(()=>i.decrement())))})}))),evJ=(e,t)=>$p(em1,r=>r?$p(em0,r=>Pu(r.getEither(e),e=>{switch(e._tag){case"Left":return PW;case"Right":return zX(e.right.handle,t)}})):PW),evH=PQ,evG=em2,evZ=em6,evQ=JQ,evY=qP,evX=q$,ev0=eaN,ev1=PX,ev2=P0,ev6=Hr,ev3=function(){let e=arguments;return Jo(Pu(Hi,t=>PL(()=>{if("string"==typeof e[0])t.attribute(e[0],e[1]);else for(let r in e[0])t.attribute(r,e[0][r])})))},ev4=Hi,ev5=Hn,ev8=Hu,ev7=Hc,ev9=Ha,ewe=function(){let e=arguments,t=Array.isArray(e[0])?e[0]:[{_tag:"SpanLink",span:e[0],attributes:e[1]??{}}];return Jo(Pu(Hi,e=>PL(()=>e.addLinks(t))))},ewt=(e,t)=>(t=qx(t),LH(r=>PD(Hl(r,e,t)))),ewr=eaM,ewn=Hf,ewi=Hp,ewa=e=>function(){let t=e.captureStackTrace??!1;if(!1!==e.captureStackTrace){let e=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=Error();Error.stackTraceLimit=e;let n=!1;t=()=>!1!==n?n:r.stack?n=r.stack.trim().split("\n").slice(2).join("\n").trim():void 0}return Pj(()=>{let r="function"==typeof e.options?e.options.apply(null,arguments):e.options;return Hp(Pj(()=>it(()=>e.body.apply(this,arguments))),r.name,{...r,captureStackTrace:t})})},ews=function(){let e="string"!=typeof arguments[0],t=e?arguments[1]:arguments[0],r=qx(e?arguments[2]:arguments[1]);if(e){let e=arguments[0];return Pu(eaM(t,qx(r)),t=>JF(e,qb,t))}return e=>Pu(eaM(t,qx(r)),t=>JF(e,qb,t))},ewo=Hd,ewl=e=>null==e?Pn(new zl):PD(e),ewu=e=>L6(PE(e,sF),e=>zu(e)?J$:Pn(e)),ewc=e=>au(e)?eg6:eyz(e.value,af),ewh=rS(2,(e,t)=>au(e)?eg6:eyz(t(e.value),af)),ewf=e=>{let t=new Map;return new Proxy(e,{get(e,r,n){if(r in e)return Reflect.get(e,r,n);if(t.has(r))return t.get(r);let i=(...n)=>Pc(e,i=>"function"==typeof i[r]?(t.set(r,(...t)=>Pc(e,e=>e[r](...t))),i[r](...n)):(t.set(r,Pc(e,e=>e[r])),i[r])),a=Pc(e,e=>e[r]);Object.assign(i,a);let s=i.apply,o=i.bind,l=i.call,u=Object.setPrototypeOf({},Object.getPrototypeOf(a));return u.apply=s,u.bind=o,u.call=l,Object.setPrototypeOf(i,u),t.set(r,i),i}})},ewd=e=>()=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=Error();function n(){}return Error.stackTraceLimit=t,Object.setPrototypeOf(n,TY),n.key=e,Object.defineProperty(n,"use",{get(){return e=>Pc(this,e)}}),Object.defineProperty(n,"stack",{get:()=>r.stack}),ewf(n)},ewp=function(){return function(){let e,[t,r]=arguments,n="accessors"in r&&r.accessors,i=Error.stackTraceLimit;Error.stackTraceLimit=2;let a=Error();Error.stackTraceLimit=i;let s="unchecked",o=function(e){if("unchecked"===s){let t=Object.getPrototypeOf(e);t===Object.prototype||null===t?s="plain":(Object.setPrototypeOf(Object.getPrototypeOf(this),t),s="patched")}if("plain"===s)Object.assign(this,e);else if("patched"===s)return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e};o.prototype._tag=t,Object.defineProperty(o,"make",{get(){return e=>new this(e)}}),Object.defineProperty(o,"use",{get(){return e=>Pc(this,e)}}),o.key=t,Object.assign(o,TY),Object.defineProperty(o,"stack",{get:()=>a.stack});let l="dependencies"in r&&r.dependencies.length>0,u=l?"DefaultWithoutDependencies":"Default",c=!1;if("effect"in r?(c="function"==typeof r.effect,Object.defineProperty(o,u,{get(){return c?(function(){return ecm(o,eyz(r.effect.apply(null,arguments),e=>new this(e)))}).bind(this):e??=ecm(o,eyz(r.effect,e=>new this(e)))}})):"scoped"in r?(c="function"==typeof r.scoped,Object.defineProperty(o,u,{get(){return c?(function(){return ecN(o,eyz(r.scoped.apply(null,arguments),e=>new this(e)))}).bind(this):e??=ecN(o,eyz(r.scoped,e=>new this(e)))}})):"sync"in r?Object.defineProperty(o,u,{get(){return e??=ecU(o,()=>new this(r.sync()))}}):Object.defineProperty(o,u,{get(){return e??=ecL(o,new this(r.succeed))}}),l){let e;Object.defineProperty(o,"Default",{get(){return c?function(){return ecJ(this.DefaultWithoutDependencies.apply(null,arguments),r.dependencies)}:e??=ecJ(this.DefaultWithoutDependencies,r.dependencies)}})}return!0===n?ewf(o):o}},ewm=function(e,...t){let r=Error.stackTraceLimit;Error.stackTraceLimit=2;let n=Error();if(Error.stackTraceLimit=r,"string"!=typeof e)return ewg(e.length,function(...r){let i=Error.stackTraceLimit;Error.stackTraceLimit=2;let a=Error();return Error.stackTraceLimit=i,ewy({self:this,body:e,args:r,pipeables:t,spanName:"<anonymous>",spanOptions:{context:qk.context(!0)},errorDef:n,errorCall:a})});let i=t[0];return(t,...r)=>ewg(t.length,{[e](...a){let s=Error.stackTraceLimit;Error.stackTraceLimit=2;let o=Error();return Error.stackTraceLimit=s,ewy({self:this,body:t,args:a,pipeables:r,spanName:e,spanOptions:i,errorDef:n,errorCall:o})}}[e])};function ewg(e,t){return Object.defineProperty(t,"length",{value:e,configurable:!0})}function ewy(e){let t,r;if(ii(e.body))t=PJ(()=>e.body.apply(e.self,e.args));else try{t=e.body.apply(e.self,e.args)}catch(e){r=e,t=egG(e)}if(e.pipeables.length>0)try{for(let r of e.pipeables)t=r(t,...e.args)}catch(e){t=r?egJ(jY(jG(r),jG(e))):egG(e)}let n=!1,i=e.spanOptions&&"captureStackTrace"in e.spanOptions?e.spanOptions:{captureStackTrace:()=>{if(!1!==n)return n;if(e.errorCall.stack){let t=e.errorDef.stack.trim().split("\n"),r=e.errorCall.stack.trim().split("\n"),i=t.slice(2).join("\n").trim();i.includes("(")||(i=i.replace(/at (.*)/,"at ($1)"));let a=r.slice(2).join("\n").trim();return a.includes("(")||(a=a.replace(/at (.*)/,"at ($1)")),n=`${i}
${a}`}},...e.spanOptions};return ewi(t,e.spanName,i)}let ewb=PG,ewS=()=>e=>e,ewv=()=>e=>e,eww=()=>e=>e,ewx=$l,ewk=eaS,ew_=eav,ewE=e=>eav(()=>$A(e)),ewI=e=>eav(()=>$N(e)),ewT=$C,ewO=$F,ewC=$A,ewF=eag,ewA=$M,ewM=$c,ewN=$h,ewR=$f,ewD=$d,ewj=$p,ewL=$m,ewP=$g,ew$=e=>$m(e,e.initial),ewz=$y,ewU=(e,t,r)=>$y(e,e=>s$(r(e),()=>[t,e])),ewB=$b,ewW=$S,ewq=$v,ewK=$w,ewV=$B,ewJ=$W,ewH=em0,ewG=em1,ewZ=$R,ewQ=$D,ewY=$j,ewX=$q,ew0=$K,ew1=$L,ew2=eiI,ew6=$P,ew3=eib,ew4=$$,ew5=eaw,ew8=Yu,ew7=eax,ew9=$J,exe=$Q,ext=$Y,exr=$X,exn=$0,exi=$Z,exa=rS(2,(e,t)=>$T(eib,t)(e)),exs=e=>ecR(eab(eiI,Md(e))),exo=e=>ecZ(PE(e,exs)),exl=e=>ecQ(PE(e,exs)),exu=e=>ecR(eab(eiI,Mp(e))),exc=rS(2,(e,t)=>ecf(exu(e),()=>exs(t))),exh=rS(2,(e,t)=>ecf(exu(e),()=>exo(t))),exf=rS(2,(e,t)=>ecf(exu(e),()=>exl(t))),exd=ecR(eal(D2(32))),exp=ecR(eal(D2(1))),exm=ecR(eal(D2(2))),exg=ecR(eal(D2(4))),exy=ecR(eal(D2(16))),exb=ecR(eal(D6(32))),exS=ecR(eal(D6(1))),exv=ecR(eal(D6(2))),exw=ecR(eal(D6(4))),exx=ecR(eal(D6(16))),exk=eu1,ex_=eu6,exE=eu3,exI=eu4,exT=eu5,exO=ecY,exC=ecX,exF=ece,exA=ect,exM=eci,exN=eca,exR=eco,exD=ecs,exj=e=>ech(()=>esa(e())),exL=e=>ecx(e,()=>Oh()),exP=ecm,ex$=e=>ecg(PE(e,()=>Oh())),exz=ecg,exU=ec$,exB=e=>{let t=Object.create(eu2);return t._op_layer="ExtendScope",t.layer=e,t},exW=ecl,exq=ecu,exK=ecc,exV=ech,exJ=ecf,exH=ecd,exG=ecp,exZ=function(){return 1==arguments.length?e=>ecv(arguments[0],e):ecv(arguments[0],arguments[1])},exQ=(e,t,r)=>ecg(PE(e,e=>Of(t,r(e)))),exY=e=>ei4(P3(ei6(t=>rD(e,ect(t))),P5)),exX=ecx,ex0=eck,ex1=ecE,ex2=ec_,ex6=e=>ei6(t=>PE(J_(ect(e,t)),ecg)),ex3=ecI,ex4=ecT,ex5=e=>eci(e,e=>ecs(e)),ex8=ecO,ex7=e=>ecI(eco(),e),ex9=ecC,eke=ecb,ekt=ecy,ekr=ecS,ekn=(e,t)=>ecR(eay(e,t)),eki=(e,t)=>ecR(eab(e,t)),eka=ecF,eks=ecj,eko=ecN,ekl=ecR,eku=ecD,ekc=e=>ecm(e,e),ekh=ecL,ekf=ecP,ekd=ecz,ekp=ecU,ekm=ecB,ekg=ecW,eky=ecq,ekb=ecK,ekS=e=>rD(ei6(t=>ect(e,t)),Pu(e=>rD(euF(),Us(e)))),ekv=ecV,ekw=ecJ,ekx=ecH,ekk=ecG,ek_=ecZ,ekE=ecQ,ekI=e=>ekl(eab(qE,Od(B3,e))),ekT=e=>ecR(ean(e)),ekO=e=>ecP(Of(qb,e)),ekC=e=>ekl(eab(qE,Od(qu,e))),ekF=e=>ekl(eay($W,e)),ekA=e=>ekl(eay(em1,e)),ekM=e=>ekl(LJ(e)?Pu(e,e=>eay(em0,e)):eay(em0,e)),ekN=e=>ekl(eay(Yu,e)),ekR=(e,t)=>(t=qx(t),ecN(qb,t?.onEnd?PP(eaM(e,t),e=>eiA(r=>t.onEnd(e,r))):eaM(e,t))),ekD=e=>ecR(eaN(e)),ekj=e=>ekl(eay($Q,e)),ekL=e=>ekl(eay($Y,e)),ekP=e=>ekl(eay($q,e)),ek$=e=>ekl(eay($K,e)),ekz=function(){let e="string"!=typeof arguments[0],t=e?arguments[1]:arguments[0],r=qx(e?arguments[2]:arguments[1]);if(e){let e=arguments[0];return ecQ(PE(r?.onEnd?PP(eaM(t,r),e=>eiA(t=>r.onEnd(e,t))):eaM(t,r),t=>ec0(e,t)))}return e=>ecQ(PE(r?.onEnd?PP(eaM(t,r),e=>eiA(t=>r.onEnd(e,t))):eaM(t,r),t=>ec0(e,t)))},ekU=ec0,ekB=eu7,ekW=ecr,ekq=rS(3,(e,t,r)=>ekw(e,exX(exR(),e=>Od(e,t,r(Og(e,t)))))),ekK=Symbol.for("effect/QueueEnqueue"),ekV=Symbol.for("effect/QueueDequeue"),ekJ=Symbol.for("effect/QueueStrategy"),ekH=Symbol.for("effect/BackingQueue"),ekG={_A:e=>e},ekZ={_A:e=>e},ekQ={_In:e=>e},ekY={_Out:e=>e};class ekX extends KP{queue;takers;shutdownHook;shutdownFlag;strategy;[ekK]=ekQ;[ekV]=ekY;constructor(e,t,r,n,i){super(),this.queue=e,this.takers=t,this.shutdownHook=r,this.shutdownFlag=n,this.strategy=i}pipe(){return ij(this,arguments)}commit(){return this.take}capacity(){return this.queue.capacity()}get size(){return Pj(()=>L6(this.unsafeSize(),()=>Pv))}unsafeSize(){return MA(this.shutdownFlag)?sC():sF(this.queue.length()-BG(this.takers)+this.strategy.surplusSize())}get isEmpty(){return PE(this.size,e=>e<=0)}get isFull(){return PE(this.size,e=>e>=this.capacity())}get shutdown(){return PU(LH(e=>(rD(this.shutdownFlag,MP(!0)),rD(eiU(e_f(this.takers),t=>z7(t,e.id()),!1,!1),P3(this.strategy.shutdown),PK(z9(this.shutdownHook,void 0)),LQ))))}get isShutdown(){return PL(()=>MA(this.shutdownFlag))}get awaitShutdown(){return zY(this.shutdownHook)}isActive(){return!MA(this.shutdownFlag)}unsafeOffer(e){let t;if(MA(this.shutdownFlag))return!1;if(0===this.queue.length()){let r=rD(this.takers,B1(Bq));r!==Bq?(e_c(r,e),t=!0):t=!1}else t=!1;if(t)return!0;let r=this.queue.offer(e);return e_m(this.strategy,this.queue,this.takers),r}offer(e){return Pj(()=>{let t;if(MA(this.shutdownFlag))return Pv;if(0===this.queue.length()){let r=rD(this.takers,B1(Bq));r!==Bq?(e_c(r,e),t=!0):t=!1}else t=!1;if(t)return PD(!0);let r=this.queue.offer(e);return e_m(this.strategy,this.queue,this.takers),r?PD(!0):this.strategy.handleSurplus([e],this.queue,this.takers,this.shutdownFlag)})}offerAll(e){return Pj(()=>{if(MA(this.shutdownFlag))return Pv;let t=ui(e),r=0===this.queue.length()?ui(e_d(this.takers,t.length)):cO,[n,i]=rD(t,ch(r.length));for(let e=0;e<r.length;e++)e_c(r[e],n[e]);if(0===i.length)return PD(!0);let a=this.queue.offerAll(i);return e_m(this.strategy,this.queue,this.takers),O8(a)?PD(!0):this.strategy.handleSurplus(a,this.queue,this.takers,this.shutdownFlag)})}get take(){return LH(e=>{if(MA(this.shutdownFlag))return Pv;let t=this.queue.poll(Bq);if(t!==Bq)return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),PD(t);{let t=zG(e.id());return rD(Pj(()=>(rD(this.takers,BX(t)),e_m(this.strategy,this.queue,this.takers),MA(this.shutdownFlag)?Pv:zY(t))),PF(()=>PL(()=>e_p(this.takers,t))))}})}get takeAll(){return Pj(()=>MA(this.shutdownFlag)?Pv:PL(()=>{let e=this.queue.pollUpTo(1/0);return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),OD(e)}))}takeUpTo(e){return Pj(()=>MA(this.shutdownFlag)?Pv:PL(()=>{let t=this.queue.pollUpTo(e);return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),OD(t)}))}takeBetween(e,t){return Pj(()=>ek0(this,e,t,OM()))}}let ek0=(e,t,r,n)=>r<t?PD(n):rD(e_t(e,r),Pu(i=>{let a=t-i.length;return 1===a?rD(e_e(e),PE(e=>rD(n,OQ(i),Oq(e)))):a>1?rD(e_e(e),Pu(t=>ek0(e,a-1,r-i.length-1,rD(n,OQ(i),Oq(t))))):PD(rD(n,OQ(i)))})),ek1=e=>nw(e,ekK),ek2=e=>nw(e,ekV),ek6=()=>rD(PL(()=>BH()),Pu(e=>ek3(ek5(e),e_a()))),ek3=(e,t)=>rD(zZ(),PE(r=>{let n;return n=BH(),new ekX(e,n,r,MT(!1),t)}));class ek4{mutable;[ekH]=ekZ;constructor(e){this.mutable=e}poll(e){return B1(this.mutable,e)}pollUpTo(e){return B2(this.mutable,e)}offerAll(e){return B0(this.mutable,e)}offer(e){return BX(this.mutable,e)}capacity(){return BY(this.mutable)}length(){return BG(this.mutable)}}let ek5=e=>new ek4(e),ek8=rS(2,(e,t)=>e.offer(t)),ek7=rS(2,(e,t)=>e.unsafeOffer(t)),ek9=rS(2,(e,t)=>e.offerAll(t)),e_e=e=>e.take,e_t=rS(2,(e,t)=>e.takeUpTo(t)),e_r=rS(3,(e,t,r)=>e.takeBetween(t,r)),e_n=rS(2,(e,t)=>e.takeBetween(t,t)),e_i=()=>new e_o,e_a=()=>new e_l,e_s=()=>new e_u;class e_o{[ekJ]=ekG;putters=BH();surplusSize(){return BG(this.putters)}onCompleteTakersWithEmptyQueue(e){for(;!BZ(this.putters)&&!BZ(e);){let t=B1(e,void 0),r=B1(this.putters,void 0);r[2]&&e_c(r[1],!0),e_c(t,r[0])}}get shutdown(){return rD(Po,Pu(e=>rD(PL(()=>e_f(this.putters)),Pu(t=>eiU(t,([t,r,n])=>n?rD(z7(r,e),LQ):PW,!1,!1)))))}handleSurplus(e,t,r,n){return LH(i=>{let a=zG(i.id());return rD(Pj(()=>(this.unsafeOffer(e,a),this.unsafeOnQueueEmptySpace(t,r),e_m(this,t,r),MA(n)?Pv:zY(a))),PF(()=>PL(()=>this.unsafeRemove(a))))})}unsafeOnQueueEmptySpace(e,t){let r=!0;for(;r&&(e.capacity()===1/0||e.length()<e.capacity());){let n=rD(this.putters,B1(Bq));if(n===Bq)r=!1;else{let r=e.offer(n[0]);r&&n[2]?e_c(n[1],!0):r||e_h(this.putters,rD(e_f(this.putters),OK(n))),e_m(this,e,t)}}}unsafeOffer(e,t){let r=ui(e);for(let e=0;e<r.length;e++){let n=r[e];e===r.length-1?rD(this.putters,BX([n,t,!0])):rD(this.putters,BX([n,t,!1]))}}unsafeRemove(e){e_h(this.putters,rD(e_f(this.putters),OX(([,t])=>t!==e)))}}class e_l{[ekJ]=ekG;surplusSize(){return 0}get shutdown(){return PW}onCompleteTakersWithEmptyQueue(){}handleSurplus(e,t,r,n){return PD(!1)}unsafeOnQueueEmptySpace(e,t){}}class e_u{[ekJ]=ekG;surplusSize(){return 0}get shutdown(){return PW}onCompleteTakersWithEmptyQueue(){}handleSurplus(e,t,r,n){return PL(()=>(this.unsafeOffer(t,e),e_m(this,t,r),!0))}unsafeOnQueueEmptySpace(e,t){}unsafeOffer(e,t){let r,n=t[Symbol.iterator](),i=!0;for(;!(r=n.next()).done&&i;){if(0===e.capacity())return;e.poll(Bq),i=e.offer(r.value)}}}let e_c=(e,t)=>Ut(e,PD(t)),e_h=(e,t)=>rD(e,B0(t)),e_f=e=>rD(e,B2(1/0)),e_d=(e,t)=>rD(e,B2(t)),e_p=(e,t)=>{e_h(e,rD(e_f(e),OX(e=>t!==e)))},e_m=(e,t,r)=>{let n=!0;for(;n&&0!==t.length();){let i=rD(r,B1(Bq));if(i!==Bq){let a=t.poll(Bq);a!==Bq?(e_c(i,a),e.unsafeOnQueueEmptySpace(t,r)):e_h(r,rD(e_f(r),OK(i))),n=!0}else n=!1}n&&0===t.length()&&!BZ(r)&&e.onCompleteTakersWithEmptyQueue(r)},e_g=Symbol.for("effect/PubSub/AbsentValue"),e_y=(e,t)=>r=>{r.has(e)||r.set(e,new Set),r.get(e).add(t)},e_b=(e,t)=>r=>{if(!r.has(e))return;let n=r.get(e);n.delete(t),0===n.size&&r.delete(e)},e_S=rS(2,(e,t)=>e.publish(t)),e_v=rS(2,(e,t)=>e.publishAll(t)),e_w=e=>{let t="number"==typeof e?{capacity:e}:e;e_D(t.capacity);let r=t.replay&&t.replay>0?new e_H(Math.ceil(t.replay)):void 0;return 1===t.capacity?new e_I(r):xJ(t.capacity)===t.capacity?new e__(t.capacity,r):new e_x(t.capacity,r)};class e_x{capacity;replayBuffer;array;publisherIndex=0;subscribers;subscriberCount=0;subscribersIndex=0;constructor(e,t){this.capacity=e,this.replayBuffer=t,this.array=Array.from({length:e}),this.subscribers=Array.from({length:e})}replayWindow(){return this.replayBuffer?new e_G(this.replayBuffer):e_Z}isEmpty(){return this.publisherIndex===this.subscribersIndex}isFull(){return this.publisherIndex===this.subscribersIndex+this.capacity}size(){return this.publisherIndex-this.subscribersIndex}publish(e){if(this.isFull())return!1;if(0!==this.subscriberCount){let t=this.publisherIndex%this.capacity;this.array[t]=e,this.subscribers[t]=this.subscriberCount,this.publisherIndex+=1}return this.replayBuffer&&this.replayBuffer.offer(e),!0}publishAll(e){if(0===this.subscriberCount)return this.replayBuffer&&this.replayBuffer.offerAll(e),OM();let t=OD(e),r=t.length,n=this.publisherIndex-this.subscribersIndex,i=Math.min(r,this.capacity-n);if(0===i)return t;let a=0,s=this.publisherIndex+i;for(;this.publisherIndex!==s;){let e=OW(t,a++),r=this.publisherIndex%this.capacity;this.array[r]=e,this.subscribers[r]=this.subscriberCount,this.publisherIndex+=1,this.replayBuffer&&this.replayBuffer.offer(e)}return OJ(t,a)}slide(){if(this.subscribersIndex!==this.publisherIndex){let e=this.subscribersIndex%this.capacity;this.array[e]=e_g,this.subscribers[e]=0,this.subscribersIndex+=1}this.replayBuffer&&this.replayBuffer.slide()}subscribe(){return this.subscriberCount+=1,new e_k(this,this.publisherIndex,!1)}}class e_k{self;subscriberIndex;unsubscribed;constructor(e,t,r){this.self=e,this.subscriberIndex=t,this.unsubscribed=r}isEmpty(){return this.unsubscribed||this.self.publisherIndex===this.subscriberIndex||this.self.publisherIndex===this.self.subscribersIndex}size(){return this.unsubscribed?0:this.self.publisherIndex-Math.max(this.subscriberIndex,this.self.subscribersIndex)}poll(e){if(this.unsubscribed)return e;if(this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex),this.subscriberIndex!==this.self.publisherIndex){let e=this.subscriberIndex%this.self.capacity,t=this.self.array[e];return this.self.subscribers[e]-=1,0===this.self.subscribers[e]&&(this.self.array[e]=e_g,this.self.subscribersIndex+=1),this.subscriberIndex+=1,t}return e}pollUpTo(e){if(this.unsubscribed)return OM();this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex);let t=Math.min(e,this.self.publisherIndex-this.subscriberIndex);if(t<=0)return OM();let r=[],n=this.subscriberIndex+t;for(;this.subscriberIndex!==n;){let e=this.subscriberIndex%this.self.capacity,t=this.self.array[e];this.self.subscribers[e]-=1,0===this.self.subscribers[e]&&(this.self.array[e]=e_g,this.self.subscribersIndex+=1),r.push(t),this.subscriberIndex+=1}return OD(r)}unsubscribe(){if(!this.unsubscribed)for(this.unsubscribed=!0,this.self.subscriberCount-=1,this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex);this.subscriberIndex!==this.self.publisherIndex;){let e=this.subscriberIndex%this.self.capacity;this.self.subscribers[e]-=1,0===this.self.subscribers[e]&&(this.self.array[e]=e_g,this.self.subscribersIndex+=1),this.subscriberIndex+=1}}}class e__{capacity;replayBuffer;array;mask;publisherIndex=0;subscribers;subscriberCount=0;subscribersIndex=0;constructor(e,t){this.capacity=e,this.replayBuffer=t,this.array=Array.from({length:e}),this.mask=e-1,this.subscribers=Array.from({length:e})}replayWindow(){return this.replayBuffer?new e_G(this.replayBuffer):e_Z}isEmpty(){return this.publisherIndex===this.subscribersIndex}isFull(){return this.publisherIndex===this.subscribersIndex+this.capacity}size(){return this.publisherIndex-this.subscribersIndex}publish(e){if(this.isFull())return!1;if(0!==this.subscriberCount){let t=this.publisherIndex&this.mask;this.array[t]=e,this.subscribers[t]=this.subscriberCount,this.publisherIndex+=1}return this.replayBuffer&&this.replayBuffer.offer(e),!0}publishAll(e){if(0===this.subscriberCount)return this.replayBuffer&&this.replayBuffer.offerAll(e),OM();let t=OD(e),r=t.length,n=this.publisherIndex-this.subscribersIndex,i=Math.min(r,this.capacity-n);if(0===i)return t;let a=0,s=this.publisherIndex+i;for(;this.publisherIndex!==s;){let e=OW(t,a++),r=this.publisherIndex&this.mask;this.array[r]=e,this.subscribers[r]=this.subscriberCount,this.publisherIndex+=1,this.replayBuffer&&this.replayBuffer.offer(e)}return OJ(t,a)}slide(){if(this.subscribersIndex!==this.publisherIndex){let e=this.subscribersIndex&this.mask;this.array[e]=e_g,this.subscribers[e]=0,this.subscribersIndex+=1}this.replayBuffer&&this.replayBuffer.slide()}subscribe(){return this.subscriberCount+=1,new e_E(this,this.publisherIndex,!1)}}class e_E{self;subscriberIndex;unsubscribed;constructor(e,t,r){this.self=e,this.subscriberIndex=t,this.unsubscribed=r}isEmpty(){return this.unsubscribed||this.self.publisherIndex===this.subscriberIndex||this.self.publisherIndex===this.self.subscribersIndex}size(){return this.unsubscribed?0:this.self.publisherIndex-Math.max(this.subscriberIndex,this.self.subscribersIndex)}poll(e){if(this.unsubscribed)return e;if(this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex),this.subscriberIndex!==this.self.publisherIndex){let e=this.subscriberIndex&this.self.mask,t=this.self.array[e];return this.self.subscribers[e]-=1,0===this.self.subscribers[e]&&(this.self.array[e]=e_g,this.self.subscribersIndex+=1),this.subscriberIndex+=1,t}return e}pollUpTo(e){if(this.unsubscribed)return OM();this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex);let t=Math.min(e,this.self.publisherIndex-this.subscriberIndex);if(t<=0)return OM();let r=[],n=this.subscriberIndex+t;for(;this.subscriberIndex!==n;){let e=this.subscriberIndex&this.self.mask,t=this.self.array[e];this.self.subscribers[e]-=1,0===this.self.subscribers[e]&&(this.self.array[e]=e_g,this.self.subscribersIndex+=1),r.push(t),this.subscriberIndex+=1}return OD(r)}unsubscribe(){if(!this.unsubscribed)for(this.unsubscribed=!0,this.self.subscriberCount-=1,this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex);this.subscriberIndex!==this.self.publisherIndex;){let e=this.subscriberIndex&this.self.mask;this.self.subscribers[e]-=1,0===this.self.subscribers[e]&&(this.self.array[e]=e_g,this.self.subscribersIndex+=1),this.subscriberIndex+=1}}}class e_I{replayBuffer;publisherIndex=0;subscriberCount=0;subscribers=0;value=e_g;capacity=1;constructor(e){this.replayBuffer=e}replayWindow(){return this.replayBuffer?new e_G(this.replayBuffer):e_Z}pipe(){return ij(this,arguments)}isEmpty(){return 0===this.subscribers}isFull(){return!this.isEmpty()}size(){return+!this.isEmpty()}publish(e){return!this.isFull()&&(0!==this.subscriberCount&&(this.value=e,this.subscribers=this.subscriberCount,this.publisherIndex+=1),this.replayBuffer&&this.replayBuffer.offer(e),!0)}publishAll(e){if(0===this.subscriberCount)return this.replayBuffer&&this.replayBuffer.offerAll(e),OM();let t=OD(e);return O8(t)?t:this.publish(Ce(t))?OJ(t,1):t}slide(){this.isFull()&&(this.subscribers=0,this.value=e_g),this.replayBuffer&&this.replayBuffer.slide()}subscribe(){return this.subscriberCount+=1,new e_T(this,this.publisherIndex,!1)}}class e_T{self;subscriberIndex;unsubscribed;constructor(e,t,r){this.self=e,this.subscriberIndex=t,this.unsubscribed=r}isEmpty(){return this.unsubscribed||0===this.self.subscribers||this.subscriberIndex===this.self.publisherIndex}size(){return+!this.isEmpty()}poll(e){if(this.isEmpty())return e;let t=this.self.value;return this.self.subscribers-=1,0===this.self.subscribers&&(this.self.value=e_g),this.subscriberIndex+=1,t}pollUpTo(e){if(this.isEmpty()||e<1)return OM();let t=this.self.value;return this.self.subscribers-=1,0===this.self.subscribers&&(this.self.value=e_g),this.subscriberIndex+=1,OR(t)}unsubscribe(){this.unsubscribed||(this.unsubscribed=!0,this.self.subscriberCount-=1,this.subscriberIndex!==this.self.publisherIndex&&(this.self.subscribers-=1,0===this.self.subscribers&&(this.self.value=e_g)))}}class e_O{replayBuffer;publisherHead={value:e_g,subscribers:0,next:null};publisherTail=this.publisherHead;publisherIndex=0;subscribersIndex=0;capacity=Number.MAX_SAFE_INTEGER;constructor(e){this.replayBuffer=e}replayWindow(){return this.replayBuffer?new e_G(this.replayBuffer):e_Z}isEmpty(){return this.publisherHead===this.publisherTail}isFull(){return!1}size(){return this.publisherIndex-this.subscribersIndex}publish(e){let t=this.publisherTail.subscribers;return 0!==t&&(this.publisherTail.next={value:e,subscribers:t,next:null},this.publisherTail=this.publisherTail.next,this.publisherIndex+=1),this.replayBuffer&&this.replayBuffer.offer(e),!0}publishAll(e){if(0!==this.publisherTail.subscribers)for(let t of e)this.publish(t);else this.replayBuffer&&this.replayBuffer.offerAll(e);return OM()}slide(){this.publisherHead!==this.publisherTail&&(this.publisherHead=this.publisherHead.next,this.publisherHead.value=e_g,this.subscribersIndex+=1),this.replayBuffer&&this.replayBuffer.slide()}subscribe(){return this.publisherTail.subscribers+=1,new e_C(this,this.publisherTail,this.publisherIndex,!1)}}class e_C{self;subscriberHead;subscriberIndex;unsubscribed;constructor(e,t,r,n){this.self=e,this.subscriberHead=t,this.subscriberIndex=r,this.unsubscribed=n}isEmpty(){if(this.unsubscribed)return!0;let e=!0,t=!0;for(;t;)this.subscriberHead===this.self.publisherTail?t=!1:this.subscriberHead.next.value!==e_g?(e=!1,t=!1):(this.subscriberHead=this.subscriberHead.next,this.subscriberIndex+=1);return e}size(){return this.unsubscribed?0:this.self.publisherIndex-Math.max(this.subscriberIndex,this.self.subscribersIndex)}poll(e){if(this.unsubscribed)return e;let t=!0,r=e;for(;t;)if(this.subscriberHead===this.self.publisherTail)t=!1;else{let e=this.subscriberHead.next.value;e!==e_g&&(r=e,this.subscriberHead.subscribers-=1,0===this.subscriberHead.subscribers&&(this.self.publisherHead=this.self.publisherHead.next,this.self.publisherHead.value=e_g,this.self.subscribersIndex+=1),t=!1),this.subscriberHead=this.subscriberHead.next,this.subscriberIndex+=1}return r}pollUpTo(e){let t=[],r=0;for(;r!==e;){let n=this.poll(e_g);n===e_g?r=e:(t.push(n),r+=1)}return OD(t)}unsubscribe(){if(!this.unsubscribed)for(this.unsubscribed=!0,this.self.publisherTail.subscribers-=1;this.subscriberHead!==this.self.publisherTail;)this.subscriberHead.next.value!==e_g&&(this.subscriberHead.subscribers-=1,0===this.subscriberHead.subscribers&&(this.self.publisherHead=this.self.publisherHead.next,this.self.publisherHead.value=e_g,this.self.subscribersIndex+=1)),this.subscriberHead=this.subscriberHead.next}}class e_F extends KP{pubsub;subscribers;subscription;pollers;shutdownHook;shutdownFlag;strategy;replayWindow;[ekV]=ekY;constructor(e,t,r,n,i,a,s,o){super(),this.pubsub=e,this.subscribers=t,this.subscription=r,this.pollers=n,this.shutdownHook=i,this.shutdownFlag=a,this.strategy=s,this.replayWindow=o}commit(){return this.take}pipe(){return ij(this,arguments)}capacity(){return this.pubsub.capacity}isActive(){return!MA(this.shutdownFlag)}get size(){return Pj(()=>MA(this.shutdownFlag)?Pv:PD(this.subscription.size()+this.replayWindow.remaining))}unsafeSize(){return MA(this.shutdownFlag)?sC():sF(this.subscription.size()+this.replayWindow.remaining)}get isFull(){return Pj(()=>MA(this.shutdownFlag)?Pv:PD(this.subscription.size()===this.capacity()))}get isEmpty(){return PE(this.size,e=>0===e)}get shutdown(){return PU(LH(e=>(MP(this.shutdownFlag,!0),rD(eiz(e_P(this.pollers),t=>z7(t,e.id()),!1),P3(PL(()=>{this.subscribers.delete(this.subscription),this.subscription.unsubscribe(),this.strategy.unsafeOnPubSubEmptySpace(this.pubsub,this.subscribers)})),PK(z9(this.shutdownHook,void 0)),LQ))))}get isShutdown(){return PL(()=>MA(this.shutdownFlag))}get awaitShutdown(){return zY(this.shutdownHook)}get take(){return LH(e=>{if(MA(this.shutdownFlag))return Pv;if(this.replayWindow.remaining>0)return PD(this.replayWindow.take());let t=BZ(this.pollers)?this.subscription.poll(Bq):Bq;if(t!==Bq)return this.strategy.unsafeOnPubSubEmptySpace(this.pubsub,this.subscribers),PD(t);{let t=zG(e.id());return rD(Pj(()=>(rD(this.pollers,BX(t)),rD(this.subscribers,e_y(this.subscription,this.pollers)),this.strategy.unsafeCompletePollers(this.pubsub,this.subscribers,this.subscription,this.pollers),MA(this.shutdownFlag)?Pv:zY(t))),PF(()=>PL(()=>e_B(this.pollers,t))))}})}get takeAll(){return Pj(()=>{if(MA(this.shutdownFlag))return Pv;let e=BZ(this.pollers)?e_$(this.subscription):OM();return(this.strategy.unsafeOnPubSubEmptySpace(this.pubsub,this.subscribers),this.replayWindow.remaining>0)?PD(OQ(this.replayWindow.takeAll(),e)):PD(e)})}takeUpTo(e){return Pj(()=>{let t;if(MA(this.shutdownFlag))return Pv;if(this.replayWindow.remaining>=e)return PD(this.replayWindow.takeN(e));this.replayWindow.remaining>0&&(t=this.replayWindow.takeAll(),e-=t.length);let r=BZ(this.pollers)?e_z(this.subscription,e):OM();return this.strategy.unsafeOnPubSubEmptySpace(this.pubsub,this.subscribers),t?PD(OQ(t,r)):PD(r)})}takeBetween(e,t){return Pj(()=>e_A(this,e,t,OM()))}}let e_A=(e,t,r,n)=>r<t?PD(n):rD(e.takeUpTo(r),Pu(i=>{let a=t-i.length;return 1===a?rD(e.take,PE(e=>rD(n,OQ(i),Oq(e)))):a>1?rD(e.take,Pu(t=>e_A(e,a-1,r-i.length-1,rD(n,OQ(i),Oq(t))))):PD(rD(n,OQ(i)))}));class e_M{pubsub;subscribers;scope;shutdownHook;shutdownFlag;strategy;[ekK]=ekQ;[ekV]=ekY;constructor(e,t,r,n,i,a){this.pubsub=e,this.subscribers=t,this.scope=r,this.shutdownHook=n,this.shutdownFlag=i,this.strategy=a}capacity(){return this.pubsub.capacity}get size(){return Pj(()=>MA(this.shutdownFlag)?Pv:PL(()=>this.pubsub.size()))}unsafeSize(){return MA(this.shutdownFlag)?sC():sF(this.pubsub.size())}get isFull(){return PE(this.size,e=>e===this.capacity())}get isEmpty(){return PE(this.size,e=>0===e)}get awaitShutdown(){return zY(this.shutdownHook)}get isShutdown(){return PL(()=>MA(this.shutdownFlag))}get shutdown(){return PU(LH(e=>(rD(this.shutdownFlag,MP(!0)),rD(this.scope.close(zM(e.id())),P3(this.strategy.shutdown),PK(z9(this.shutdownHook,void 0)),LQ))))}publish(e){return Pj(()=>MA(this.shutdownFlag)?Pv:this.pubsub.publish(e)?(this.strategy.unsafeCompleteSubscribers(this.pubsub,this.subscribers),PD(!0)):this.strategy.handleSurplus(this.pubsub,this.subscribers,OR(e),this.shutdownFlag))}isActive(){return!MA(this.shutdownFlag)}unsafeOffer(e){return!MA(this.shutdownFlag)&&!!this.pubsub.publish(e)&&(this.strategy.unsafeCompleteSubscribers(this.pubsub,this.subscribers),!0)}publishAll(e){return Pj(()=>{if(MA(this.shutdownFlag))return Pv;let t=e_U(this.pubsub,e);return(this.strategy.unsafeCompleteSubscribers(this.pubsub,this.subscribers),O8(t))?PD(!0):this.strategy.handleSurplus(this.pubsub,this.subscribers,t,this.shutdownFlag)})}get subscribe(){let e,t,r,n=PP(eij([this.scope.fork(Hb),(e=this.pubsub,t=this.subscribers,r=this.strategy,PE(zZ(),n=>{let i,a,s,o,l,u;return i=e,a=t,s=e.subscribe(),o=BH(),l=n,u=MT(!1),new e_F(i,a,s,o,l,u,r,i.replayWindow())}))]),e=>e[0].addFinalizer(()=>e[1].shutdown));return PE(eiC(n,(e,t)=>e[0].close(t)),e=>e[1])}offer(e){return this.publish(e)}offerAll(e){return this.publishAll(e)}pipe(){return ij(this,arguments)}}let e_N=(e,t)=>Pu(ead(),r=>PE(zZ(),n=>e_R(e,new Map,r,n,MT(!1),t))),e_R=(e,t,r,n,i,a)=>new e_M(e,t,r,n,i,a),e_D=e=>{if(e<=0)throw new zh(`Cannot construct PubSub with capacity of ${e}`)},e_j=(e,t)=>{Ut(e,PD(t))},e_L=(e,t)=>rD(e,B0(t)),e_P=e=>rD(e,B2(1/0)),e_$=e=>e.pollUpTo(1/0),e_z=(e,t)=>e.pollUpTo(t),e_U=(e,t)=>e.publishAll(t),e_B=(e,t)=>{e_L(e,rD(e_P(e),OX(e=>e!==t)))};class e_W{publishers=BH();get shutdown(){return Pu(Po,e=>Pu(PL(()=>e_P(this.publishers)),t=>eiU(t,([t,r,n])=>n?rD(z7(r,e),LQ):PW,!1,!1)))}handleSurplus(e,t,r,n){return LH(i=>{let a=zG(i.id());return rD(Pj(()=>(this.unsafeOffer(r,a),this.unsafeOnPubSubEmptySpace(e,t),this.unsafeCompleteSubscribers(e,t),MA(n)?Pv:zY(a))),PF(()=>PL(()=>this.unsafeRemove(a))))})}unsafeOnPubSubEmptySpace(e,t){let r=!0;for(;r&&!e.isFull();){let n=rD(this.publishers,B1(Bq));if(n===Bq)r=!1;else{let r=e.publish(n[0]);r&&n[2]?e_j(n[1],!0):r||e_L(this.publishers,rD(e_P(this.publishers),OK(n))),this.unsafeCompleteSubscribers(e,t)}}}unsafeCompletePollers(e,t,r,n){return e_V(this,e,t,r,n)}unsafeCompleteSubscribers(e,t){return e_J(this,e,t)}unsafeOffer(e,t){let r=e[Symbol.iterator](),n=r.next();if(!n.done)for(;;){let e=n.value;if((n=r.next()).done){rD(this.publishers,BX([e,t,!0]));break}rD(this.publishers,BX([e,t,!1]))}}unsafeRemove(e){e_L(this.publishers,rD(e_P(this.publishers),OX(([t,r])=>r!==e)))}}class e_q{get shutdown(){return PW}handleSurplus(e,t,r,n){return PD(!1)}unsafeOnPubSubEmptySpace(e,t){}unsafeCompletePollers(e,t,r,n){return e_V(this,e,t,r,n)}unsafeCompleteSubscribers(e,t){return e_J(this,e,t)}}class e_K{get shutdown(){return PW}handleSurplus(e,t,r,n){return PL(()=>(this.unsafeSlidingPublish(e,r),this.unsafeCompleteSubscribers(e,t),!0))}unsafeOnPubSubEmptySpace(e,t){}unsafeCompletePollers(e,t,r,n){return e_V(this,e,t,r,n)}unsafeCompleteSubscribers(e,t){return e_J(this,e,t)}unsafeSlidingPublish(e,t){let r=t[Symbol.iterator](),n=r.next();if(!n.done&&e.capacity>0){let t=n.value,i=!0;for(;i;){e.slide();let a=e.publish(t);a&&(n=r.next())&&!n.done?t=n.value:a&&(i=!1)}}}}let e_V=(e,t,r,n,i)=>{let a=!0;for(;a&&!n.isEmpty();){let s=rD(i,B1(Bq));if(s===Bq)rD(r,e_b(n,i)),BZ(i)?a=!1:rD(r,e_y(n,i));else{let a=n.poll(Bq);a===Bq?e_L(i,rD(e_P(i),OK(s))):(e_j(s,a),e.unsafeOnPubSubEmptySpace(t,r))}}},e_J=(e,t,r)=>{for(let[n,i]of r)for(let a of i)e.unsafeCompletePollers(t,r,n,a)};class e_H{capacity;constructor(e){this.capacity=e}head={value:e_g,next:null};tail=this.head;size=0;index=0;slide(){this.index++}offer(e){this.tail.value=e,this.tail.next={value:e_g,next:null},this.tail=this.tail.next,this.size===this.capacity?this.head=this.head.next:this.size+=1}offerAll(e){for(let t of e)this.offer(t)}}class e_G{buffer;head;index;remaining;constructor(e){this.buffer=e,this.index=e.index,this.remaining=e.size,this.head=e.head}fastForward(){for(;this.index<this.buffer.index;)this.head=this.head.next,this.index++}take(){if(0===this.remaining)return;this.index<this.buffer.index&&this.fastForward(),this.remaining--;let e=this.head.value;return this.head=this.head.next,e}takeN(e){if(0===this.remaining)return OM();this.index<this.buffer.index&&this.fastForward();let t=Math.min(e,this.remaining),r=Array(t);for(let e=0;e<t;e++){let t=this.head.value;this.head=this.head.next,r[e]=t}return this.remaining-=t,OU(r)}takeAll(){return this.takeN(this.remaining)}}let e_Z={remaining:0,take:()=>void 0,takeN:()=>OM(),takeAll:()=>OM()},e_Q=e=>Pj(()=>e_N(e_w(e),new e_W)),e_Y=e=>Pj(()=>e_N(e_w(e),new e_q)),e_X=e=>Pj(()=>e_N(e_w(e),new e_K)),e_0=e=>Pj(()=>{let t;return e_N((t=e,new e_O(t?.replay?new e_H(t.replay):void 0)),new e_q)}),e_1=e=>e.capacity(),e_2=e=>e.size,e_6=e=>e.isFull,e_3=e=>e.isEmpty,e_4=e=>e.shutdown,e_5=e=>e.isShutdown,e_8=e=>e.awaitShutdown,e_7=e_S,e_9=e_v,eEe=e=>e.subscribe,eEt=ekK,eEr=ekV,eEn=ekJ,eEi=ekH,eEa=e=>ek1(e)&&ek2(e),eEs=ek2,eEo=ek1,eEl=e_i,eEu=e_a,eEc=e_s,eEh=ek3,eEf=e=>rD(PL(()=>BJ(e)),Pu(e=>ek3(ek5(e),e_i()))),eEd=e=>rD(PL(()=>BJ(e)),Pu(e=>ek3(ek5(e),e_a()))),eEp=e=>rD(PL(()=>BJ(e)),Pu(e=>ek3(ek5(e),e_s()))),eEm=ek6,eEg=e=>e.capacity(),eEy=e=>e.size,eEb=e=>e.isEmpty,eES=e=>e.isFull,eEv=e=>e.isShutdown,eEw=e=>e.awaitShutdown,eEx=e=>e.shutdown,eEk=ek8,eE_=ek7,eEE=ek9,eEI=e=>PE(e.takeUpTo(1),O9),eET=e_e,eEO=e=>e.takeAll,eEC=e_t,eEF=e_r,eEA=e_n,eEM="Continue",eEN="Close",eER="Yield",eED=Symbol.for("effect/ChannelChildExecutorDecision"),eEj={[eED]:eED},eEL=e=>{let t=Object.create(eEj);return t._tag=eEM,t},eEP=rS(2,(e,{onClose:t,onContinue:r,onYield:n})=>{switch(e._tag){case eEM:return r();case eEN:return t(e.value);case eER:return n()}}),eE$="ContinuationK",eEz=Symbol.for("effect/ChannelContinuation"),eEU={_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutDone:e=>e,_OutErr2:e=>e,_OutElem:e=>e,_OutDone2:e=>e};class eEB{onSuccess;onHalt;_tag=eE$;[eEz]=eEU;constructor(e,t){this.onSuccess=e,this.onHalt=t}onExit(e){return UD(e)?this.onHalt(e.cause):this.onSuccess(e.value)}}class eEW{finalizer;_tag="ContinuationFinalizer";[eEz]=eEU;constructor(e){this.finalizer=e}}let eEq="PullAfterNext",eEK="PullAfterAllEnqueued",eEV=Symbol.for("effect/ChannelUpstreamPullStrategy"),eEJ={[eEV]:{_A:e=>e}},eEH=e=>{let t=Object.create(eEJ);return t._tag=eEq,t.emitSeparator=e,t},eEG=rS(2,(e,{onAllEnqueued:t,onNext:r})=>{switch(e._tag){case eEq:return r(e.emitSeparator);case eEK:return t(e.emitSeparator)}}),eEZ="BracketOut",eEQ="Bridge",eEY="ConcatAll",eEX="Emit",eE0="Ensuring",eE1="Fail",eE2="Fold",eE6="FromEffect",eE3="PipeTo",eE4="Provide",eE5="Read",eE8="Succeed",eE7="SucceedNow",eE9="Suspend",eIe=Symbol.for("effect/Channel"),eIt={[eIe]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},pipe(){return ij(this,arguments)}},eIr=e=>nw(e,eIe)||egh(e),eIn=rS(2,(e,t)=>{let r=Object.create(eIt);return r._tag=eEZ,r.acquire=()=>e,r.finalizer=t,r}),eIi=rS(2,(e,t)=>{let r=Object.create(eIt);return r._tag=eE2,r.channel=e,r.k=new eEB(eIE,t),r}),eIa=e=>eIT(()=>{let t=[];return eIy(eIv(e,eIs(t)),e=>eIO(()=>[OD(t),e]))}),eIs=e=>eIk({onInput:t=>eIy(eIO(()=>{e.push(t)}),()=>eIs(e)),onFailure:eId,onDone:eII}),eIo=e=>eIl(e,rC,rC),eIl=(e,t,r)=>{let n=Object.create(eIt);return n._tag=eEY,n.combineInners=t,n.combineAll=r,n.onPull=()=>eEH(sC()),n.onEmit=()=>eEL,n.value=()=>e,n.k=rw,n},eIu=rS(4,(e,t,r,n)=>{let i=Object.create(eIt);return i._tag=eEY,i.combineInners=r,i.combineAll=n,i.onPull=()=>eEH(sC()),i.onEmit=()=>eEL,i.value=()=>e,i.k=t,i}),eIc=rS(6,(e,t,r,n,i,a)=>{let s=Object.create(eIt);return s._tag=eEY,s.combineInners=r,s.combineAll=n,s.onPull=i,s.onEmit=a,s.value=()=>e,s.k=t,s}),eIh=rS(2,(e,t)=>{let r=Object.create(eIt);return r._tag=eEQ,r.input=t,r.channel=e,r}),eIf=rS(2,(e,t)=>{let r=Object.create(eIt);return r._tag=eE0,r.channel=e,r.finalizer=t,r}),eId=e=>eIm(esi(e)),eIp=e=>eIg(()=>esi(e())),eIm=e=>eIg(()=>e),eIg=e=>{let t=Object.create(eIt);return t._tag=eE1,t.error=e,t},eIy=rS(2,(e,t)=>{let r=Object.create(eIt);return r._tag=eE2,r.channel=e,r.k=new eEB(t,eIm),r}),eIb=rS(2,(e,t)=>{let r=Object.create(eIt);return r._tag=eE2,r.channel=e,r.k=new eEB(t.onSuccess,t.onFailure),r}),eIS=e=>{let t=Object.create(eIt);return t._tag=eE6,t.effect=()=>e,t},eIv=rS(2,(e,t)=>{let r=Object.create(eIt);return r._tag=eE3,r.left=()=>e,r.right=()=>t,r}),eIw=rS(2,(e,t)=>{let r=Object.create(eIt);return r._tag=eE4,r.context=()=>t,r.inner=e,r}),eIx=e=>{let t=Object.create(eIt);return t._tag=eE5,t.more=eIE,t.done=new eEB(()=>eId(e),()=>eId(e)),t},eIk=e=>eI_({onInput:e.onInput,onFailure:t=>aU(esI(t),{onLeft:e.onFailure,onRight:eIm}),onDone:e.onDone}),eI_=e=>{let t=Object.create(eIt);return t._tag=eE5,t.more=e.onInput,t.done=new eEB(e.onDone,e.onFailure),t},eIE=e=>eIO(()=>e),eII=e=>{let t=Object.create(eIt);return t._tag=eE7,t.terminal=e,t},eIT=e=>{let t=Object.create(eIt);return t._tag=eE9,t.channel=e,t},eIO=e=>{let t=Object.create(eIt);return t._tag=eE8,t.evaluate=e,t},eIC=eII(void 0),eIF=e=>{let t=Object.create(eIt);return t._tag=eEX,t.out=e,t},eIA="Done",eIM="Emit",eIN="FromEffect",eIR="Read",eID={[Symbol.for("effect/ChannelState")]:{_E:e=>e,_R:e=>e}},eIj=()=>{let e=Object.create(eID);return e._tag=eIA,e},eIL=()=>{let e=Object.create(eID);return e._tag=eIM,e},eIP=e=>{let t=Object.create(eID);return t._tag=eIN,t.effect=e,t},eI$=(e,t,r,n)=>{let i=Object.create(eID);return i._tag=eIR,i.upstream=e,i.onEffect=t,i.onEmit=r,i.onDone=n,i},eIz=e=>e._tag===eIN,eIU=e=>eIz(e)?eyh(e.effect):void 0,eIB="PullFromChild",eIW="PullFromUpstream",eIq="DrainChildExecutors",eIK="Emit";class eIV{childExecutor;parentSubexecutor;onEmit;_tag=eIB;constructor(e,t,r){this.childExecutor=e,this.parentSubexecutor=t,this.onEmit=r}close(e){let t=this.childExecutor.close(e),r=this.parentSubexecutor.close(e);return void 0!==t&&void 0!==r?evU(eSe(t),eSe(r),(e,t)=>rD(e,Be(t))):void 0!==t?t:void 0!==r?r:void 0}enqueuePullFromChild(e){return this}}class eIJ{upstreamExecutor;createChild;lastDone;activeChildExecutors;combineChildResults;combineWithChildResult;onPull;onEmit;_tag=eIW;constructor(e,t,r,n,i,a,s,o){this.upstreamExecutor=e,this.createChild=t,this.lastDone=r,this.activeChildExecutors=n,this.combineChildResults=i,this.combineWithChildResult=a,this.onPull=s,this.onEmit=o}close(e){let t=this.upstreamExecutor.close(e);return[...this.activeChildExecutors.map(t=>void 0!==t?t.childExecutor.close(e):void 0),t].reduce((e,t)=>void 0!==e&&void 0!==t?evU(e,eSe(t),(e,t)=>Be(e,t)):void 0!==e?e:void 0!==t?eSe(t):void 0,void 0)}enqueuePullFromChild(e){return new eIJ(this.upstreamExecutor,this.createChild,this.lastDone,[...this.activeChildExecutors,e],this.combineChildResults,this.combineWithChildResult,this.onPull,this.onEmit)}}class eIH{upstreamExecutor;lastDone;activeChildExecutors;upstreamDone;combineChildResults;combineWithChildResult;onPull;_tag=eIq;constructor(e,t,r,n,i,a,s){this.upstreamExecutor=e,this.lastDone=t,this.activeChildExecutors=r,this.upstreamDone=n,this.combineChildResults=i,this.combineWithChildResult=a,this.onPull=s}close(e){let t=this.upstreamExecutor.close(e);return[...this.activeChildExecutors.map(t=>void 0!==t?t.childExecutor.close(e):void 0),t].reduce((e,t)=>void 0!==e&&void 0!==t?evU(e,eSe(t),(e,t)=>Be(e,t)):void 0!==e?e:void 0!==t?eSe(t):void 0,void 0)}enqueuePullFromChild(e){return new eIH(this.upstreamExecutor,this.lastDone,[...this.activeChildExecutors,e],this.upstreamDone,this.combineChildResults,this.combineWithChildResult,this.onPull)}}class eIG{value;next;_tag=eIK;constructor(e,t){this.value=e,this.next=t}close(e){return this.next.close(e)}enqueuePullFromChild(e){return this}}let eIZ="Pulled",eIQ="NoUpstream",eIY=Symbol.for("effect/ChannelUpstreamPullRequest"),eIX={[eIY]:{_A:e=>e}},eI0=e=>{let t=Object.create(eIX);return t._tag=eIZ,t.value=e,t},eI1=e=>{let t=Object.create(eIX);return t._tag=eIQ,t.activeDownstreamCount=e,t},eI2=rS(2,(e,{onNoUpstream:t,onPulled:r})=>{switch(e._tag){case eIZ:return r(e.value);case eIQ:return t(e.activeDownstreamCount)}});class eI6{_activeSubexecutor=void 0;_cancelled=void 0;_closeLastSubstream=void 0;_currentChannel;_done=void 0;_doneStack=[];_emitted=void 0;_executeCloseLastSubstream;_input=void 0;_inProgressFinalizer=void 0;_providedEnv;constructor(e,t,r){this._currentChannel=e,this._executeCloseLastSubstream=r,this._providedEnv=t}run(){let e;for(;void 0===e;)if(void 0!==this._cancelled)e=this.processCancellation();else if(void 0!==this._activeSubexecutor)e=this.runSubexecutor();else try{if(void 0===this._currentChannel)e=eIj();else switch(egh(this._currentChannel)&&(this._currentChannel=eIS(this._currentChannel)),this._currentChannel._tag){case eEZ:e=this.runBracketOut(this._currentChannel);break;case eEQ:{let t=this._currentChannel.input;if(this._currentChannel=this._currentChannel.channel,void 0!==this._input){let r=this._input;this._input=void 0;let n=()=>eSm(t.awaitRead(),()=>eg4(()=>{let e=r.run();switch(e._tag){case eIA:return U3(r.getDone(),{onFailure:e=>t.error(e),onSuccess:e=>t.done(e)});case eIM:return eSm(t.emit(r.getEmit()),()=>n());case eIN:return eSY(e.effect,{onFailure:e=>t.error(e),onSuccess:()=>n()});case eIR:return eI5(e,()=>n(),e=>t.error(e))}}));e=eIP(eSm(ebu(eyO(n())),e=>eg5(()=>this.addFinalizer(t=>eSm(elQ(e),()=>eg4(()=>{let e=this.restorePipe(t,r);return void 0!==e?e:eg8}))))))}break}case eEY:{let e=new eI6(this._currentChannel.value(),this._providedEnv,e=>eg5(()=>{let t=void 0===this._closeLastSubstream?eg8:this._closeLastSubstream;this._closeLastSubstream=rD(t,evz(e))}));e._input=this._input;let t=this._currentChannel;this._activeSubexecutor=new eIJ(e,e=>t.k(e),void 0,[],(e,r)=>t.combineInners(e,r),(e,r)=>t.combineAll(e,r),e=>t.onPull(e),e=>t.onEmit(e)),this._closeLastSubstream=void 0,this._currentChannel=void 0;break}case eEX:this._emitted=this._currentChannel.out,this._currentChannel=void 0!==this._activeSubexecutor?void 0:eIC,e=eIL();break;case eE0:this.runEnsuring(this._currentChannel);break;case eE1:e=this.doneHalt(this._currentChannel.error());break;case eE2:this._doneStack.push(this._currentChannel.k),this._currentChannel=this._currentChannel.channel;break;case eE6:{let t=void 0===this._providedEnv?this._currentChannel.effect():rD(this._currentChannel.effect(),ebV(this._providedEnv));e=eIP(eSY(t,{onFailure:e=>{let t=this.doneHalt(e);return void 0!==t&&eIz(t)?t.effect:eg8},onSuccess:e=>{let t=this.doneSucceed(e);return void 0!==t&&eIz(t)?t.effect:eg8}}));break}case eE3:{let e=this._input,t=new eI6(this._currentChannel.left(),this._providedEnv,e=>this._executeCloseLastSubstream(e));t._input=e,this._input=t,this.addFinalizer(t=>{let r=this.restorePipe(t,e);return void 0!==r?r:eg8}),this._currentChannel=this._currentChannel.right();break}case eE4:{let e=this._providedEnv;this._providedEnv=this._currentChannel.context(),this._currentChannel=this._currentChannel.inner,this.addFinalizer(()=>eg5(()=>{this._providedEnv=e}));break}case eE5:{let t=this._currentChannel;e=eI$(this._input,rw,e=>{try{this._currentChannel=t.more(e)}catch(e){this._currentChannel=t.done.onExit(UB(e))}},e=>{let r=e=>t.done.onExit(e);this._currentChannel=r(e)});break}case eE8:e=this.doneSucceed(this._currentChannel.evaluate());break;case eE7:e=this.doneSucceed(this._currentChannel.terminal);break;case eE9:this._currentChannel=this._currentChannel.channel()}}catch(e){this._currentChannel=eIm(esa(e))}return e}getDone(){return this._done}getEmit(){return this._emitted}cancelWith(e){this._cancelled=e}clearInProgressFinalizer(){this._inProgressFinalizer=void 0}storeInProgressFinalizer(e){this._inProgressFinalizer=e}popAllFinalizers(e){let t=[],r=this._doneStack.pop();for(;r;)"ContinuationFinalizer"===r._tag&&t.push(r.finalizer),r=this._doneStack.pop();let n=0===t.length?eg8:eI4(t,e);return this.storeInProgressFinalizer(n),n}popNextFinalizers(){let e=[];for(;0!==this._doneStack.length;){let t=this._doneStack[this._doneStack.length-1];if(t._tag===eE$)break;e.push(t),this._doneStack.pop()}return e}restorePipe(e,t){let r=this._input;return(this._input=t,void 0!==r)?r.close(e):eg8}close(e){let t,r,n=this._inProgressFinalizer;void 0!==n&&(t=rD(n,eyQ(eg5(()=>this.clearInProgressFinalizer()))));let i=this.popAllFinalizers(e);void 0!==i&&(r=rD(i,eyQ(eg5(()=>this.clearInProgressFinalizer()))));let a=void 0===this._activeSubexecutor?void 0:this._activeSubexecutor.close(e);if(void 0!==a||void 0!==t||void 0!==r)return rD(eSe(eI3(a)),evP(eSe(eI3(t))),evP(eSe(eI3(r))),eyz(([[e,t],r])=>rD(e,Be(t),Be(r))),eyA,eSm(e=>eg4(()=>e)))}doneSucceed(e){if(0===this._doneStack.length)return this._done=U5(e),this._currentChannel=void 0,eIj();let t=this._doneStack[this._doneStack.length-1];if(t._tag===eE$){this._doneStack.pop(),this._currentChannel=t.onSuccess(e);return}let r=this.popNextFinalizers();if(0===this._doneStack.length)return this._doneStack=r.reverse(),this._done=U5(e),this._currentChannel=void 0,eIj();let n=eI4(r.map(e=>e.finalizer),U5(e));return this.storeInProgressFinalizer(n),eIP(rD(n,eyQ(eg5(()=>this.clearInProgressFinalizer())),eyA,eSm(()=>eg5(()=>this.doneSucceed(e)))))}doneHalt(e){if(0===this._doneStack.length)return this._done=UK(e),this._currentChannel=void 0,eIj();let t=this._doneStack[this._doneStack.length-1];if(t._tag===eE$){this._doneStack.pop();try{this._currentChannel=t.onHalt(e)}catch(e){this._currentChannel=eIm(esa(e))}return}let r=this.popNextFinalizers();if(0===this._doneStack.length)return this._doneStack=r.reverse(),this._done=UK(e),this._currentChannel=void 0,eIj();let n=eI4(r.map(e=>e.finalizer),UK(e));return this.storeInProgressFinalizer(n),eIP(rD(n,eyQ(eg5(()=>this.clearInProgressFinalizer())),eyA,eSm(()=>eg5(()=>this.doneHalt(e)))))}processCancellation(){return this._currentChannel=void 0,this._done=this._cancelled,this._cancelled=void 0,eIj()}runBracketOut(e){return eIP(eyA(eSY(this.provide(e.acquire()),{onFailure:e=>eg5(()=>{this._currentChannel=eIm(e)}),onSuccess:t=>eg5(()=>{this.addFinalizer(r=>this.provide(e.finalizer(t,r))),this._currentChannel=eIF(t)})})))}provide(e){return void 0===this._providedEnv?e:rD(e,ebV(this._providedEnv))}runEnsuring(e){this.addFinalizer(e.finalizer),this._currentChannel=e.channel}addFinalizer(e){this._doneStack.push(new eEW(e))}runSubexecutor(){let e=this._activeSubexecutor;switch(e._tag){case eIB:return this.pullFromChild(e.childExecutor,e.parentSubexecutor,e.onEmit,e);case eIW:return this.pullFromUpstream(e);case eIq:return this.drainChildExecutors(e);case eIK:return this._emitted=e.value,this._activeSubexecutor=e.next,eIL()}}replaceSubexecutor(e){this._currentChannel=void 0,this._activeSubexecutor=e}finishWithExit(e){let t=U3(e,{onFailure:e=>this.doneHalt(e),onSuccess:e=>this.doneSucceed(e)});return this._activeSubexecutor=void 0,void 0===t?eg8:eIz(t)?t.effect:eg8}finishSubexecutorWithCloseEffect(e,...t){this.addFinalizer(()=>rD(t,egC(t=>rD(eg5(()=>t(e)),eSm(e=>void 0!==e?e:eg8)),{discard:!0})));let r=rD(e,U3({onFailure:e=>this.doneHalt(e),onSuccess:e=>this.doneSucceed(e)}));return this._activeSubexecutor=void 0,r}applyUpstreamPullStrategy(e,t,r){switch(r._tag){case eEq:{let n=!e||t.some(e=>void 0!==e);return[r.emitSeparator,n?[void 0,...t]:t]}case eEK:{let n=!e||t.some(e=>void 0!==e);return[r.emitSeparator,n?[...t,void 0]:t]}}}pullFromChild(e,t,r,n){return eI$(e,rw,i=>{let a=r(i);switch(a._tag){case eEM:break;case eEN:this.finishWithDoneValue(e,t,a.value);break;case eER:{let e=t.enqueuePullFromChild(n);this.replaceSubexecutor(e)}}this._activeSubexecutor=new eIG(i,this._activeSubexecutor)},U3({onFailure:r=>{let n=this.handleSubexecutorFailure(e,t,r);return void 0===n?void 0:eIU(n)},onSuccess:r=>{this.finishWithDoneValue(e,t,r)}}))}finishWithDoneValue(e,t,r){switch(t._tag){case eIW:{let n=new eIJ(t.upstreamExecutor,t.createChild,void 0!==t.lastDone?t.combineChildResults(t.lastDone,r):r,t.activeChildExecutors,t.combineChildResults,t.combineWithChildResult,t.onPull,t.onEmit);this._closeLastSubstream=e.close(U5(r)),this.replaceSubexecutor(n);break}case eIq:{let n=new eIH(t.upstreamExecutor,void 0!==t.lastDone?t.combineChildResults(t.lastDone,r):r,t.activeChildExecutors,t.upstreamDone,t.combineChildResults,t.combineWithChildResult,t.onPull);this._closeLastSubstream=e.close(U5(r)),this.replaceSubexecutor(n)}}}handleSubexecutorFailure(e,t,r){return this.finishSubexecutorWithCloseEffect(UK(r),e=>t.close(e),t=>e.close(t))}pullFromUpstream(e){if(0===e.activeChildExecutors.length)return this.performPullFromUpstream(e);let t=e.activeChildExecutors[0],r=new eIJ(e.upstreamExecutor,e.createChild,e.lastDone,e.activeChildExecutors.slice(1),e.combineChildResults,e.combineWithChildResult,e.onPull,e.onEmit);if(void 0===t)return this.performPullFromUpstream(r);this.replaceSubexecutor(new eIV(t.childExecutor,r,t.onEmit))}performPullFromUpstream(e){return eI$(e.upstreamExecutor,e=>{let t=void 0===this._closeLastSubstream?eg8:this._closeLastSubstream;return this._closeLastSubstream=void 0,rD(this._executeCloseLastSubstream(t),evz(e))},t=>{if(void 0!==this._closeLastSubstream){let r=this._closeLastSubstream;return this._closeLastSubstream=void 0,rD(this._executeCloseLastSubstream(r),eyz(()=>{let r=new eI6(e.createChild(t),this._providedEnv,this._executeCloseLastSubstream);r._input=this._input;let[n,i]=this.applyUpstreamPullStrategy(!1,e.activeChildExecutors,e.onPull(eI0(t)));this._activeSubexecutor=new eIV(r,new eIJ(e.upstreamExecutor,e.createChild,e.lastDone,i,e.combineChildResults,e.combineWithChildResult,e.onPull,e.onEmit),e.onEmit),sN(n)&&(this._activeSubexecutor=new eIG(n.value,this._activeSubexecutor))}))}let r=new eI6(e.createChild(t),this._providedEnv,this._executeCloseLastSubstream);r._input=this._input;let[n,i]=this.applyUpstreamPullStrategy(!1,e.activeChildExecutors,e.onPull(eI0(t)));this._activeSubexecutor=new eIV(r,new eIJ(e.upstreamExecutor,e.createChild,e.lastDone,i,e.combineChildResults,e.combineWithChildResult,e.onPull,e.onEmit),e.onEmit),sN(n)&&(this._activeSubexecutor=new eIG(n.value,this._activeSubexecutor))},t=>{if(e.activeChildExecutors.some(e=>void 0!==e)){let t=new eIH(e.upstreamExecutor,e.lastDone,[void 0,...e.activeChildExecutors],e.upstreamExecutor.getDone(),e.combineChildResults,e.combineWithChildResult,e.onPull);if(void 0!==this._closeLastSubstream){let e=this._closeLastSubstream;return this._closeLastSubstream=void 0,rD(this._executeCloseLastSubstream(e),eyz(()=>this.replaceSubexecutor(t)))}return void this.replaceSubexecutor(t)}let r=this._closeLastSubstream,n=this.finishSubexecutorWithCloseEffect(rD(t,U0(t=>e.combineWithChildResult(e.lastDone,t))),()=>r,t=>e.upstreamExecutor.close(t));return void 0===n?void 0:eIU(n)})}drainChildExecutors(e){if(0===e.activeChildExecutors.length){let t=this._closeLastSubstream;return void 0!==t&&this.addFinalizer(()=>eg2(t)),this.finishSubexecutorWithCloseEffect(e.upstreamDone,()=>t,t=>e.upstreamExecutor.close(t))}let t=e.activeChildExecutors[0],r=e.activeChildExecutors.slice(1);if(void 0===t){let[t,n]=this.applyUpstreamPullStrategy(!0,r,e.onPull(eI1(r.reduce((e,t)=>void 0!==t?e+1:e,0))));return(this.replaceSubexecutor(new eIH(e.upstreamExecutor,e.lastDone,n,e.upstreamDone,e.combineChildResults,e.combineWithChildResult,e.onPull)),sN(t))?(this._emitted=t.value,eIL()):void 0}let n=new eIH(e.upstreamExecutor,e.lastDone,r,e.upstreamDone,e.combineChildResults,e.combineWithChildResult,e.onPull);this.replaceSubexecutor(new eIV(t.childExecutor,n,t.onEmit))}}let eI3=e=>void 0!==e?e:eg8,eI4=(e,t)=>rD(egC(e,e=>eSe(e(t))),eyz(e=>rD(UU(e),s$(()=>U8))),eSm(e=>eg4(()=>e))),eI5=(e,t,r)=>{let n=[e],i=()=>{let e=n.pop();if(void 0===e||void 0===e.upstream)return egZ("Unexpected end of input for channel execution");let a=e.upstream.run();switch(a._tag){case eIM:{let a=e.onEmit(e.upstream.getEmit());if(0===n.length){if(void 0===a)return eg4(t);return rD(a,eSY({onFailure:r,onSuccess:t}))}if(void 0===a)return eg4(()=>i());return rD(a,eSY({onFailure:r,onSuccess:()=>i()}))}case eIA:{let a=e.onDone(e.upstream.getDone());if(0===n.length){if(void 0===a)return eg4(t);return rD(a,eSY({onFailure:r,onSuccess:t}))}if(void 0===a)return eg4(()=>i());return rD(a,eSY({onFailure:r,onSuccess:()=>i()}))}case eIN:return n.push(e),rD(e.onEffect(a.effect),eyt(t=>eg4(()=>{let r=e.onDone(UK(t));return void 0===r?eg8:r})),eSY({onFailure:r,onSuccess:()=>i()}));case eIR:return n.push(e),n.push(a),eg4(()=>i())}};return i()},eI8=rS(2,(e,t)=>eyM(r=>egy([eo6(t,Hx),Up(),Up()]).pipe(eSm(([n,i,a])=>r(eyG(eg5(()=>new eI6(e,void 0,rw)),e=>eg4(()=>eI7(e.run(),e).pipe(eSt(i),evz(Ug(i)),ev$(Ug(a)))),(e,t)=>{let r=e.close(t);return void 0===r?eg8:eSO(r,e=>eoX(n,egJ(e)))})).pipe(ebh(t),eSm(e=>t.addFinalizer(t=>{let r=UD(t)?es_(t.cause):void 0;return UO(i).pipe(eSm(t=>t?UF(a,void 0).pipe(evz(el$(e)),evz(elZ(e))):UF(a,void 0).pipe(evz(r&&Mu(r)>0?elX(e,Na(r)):elQ(e)),evz(elZ(e)))))}).pipe(evz(r(Ug(i)))))))))),eI7=(e,t)=>{switch(e._tag){case eIN:return rD(e.effect,eSm(()=>eI7(t.run(),t)));case eIM:return eI7(t.run(),t);case eIA:return eg4(()=>t.getDone());case eIR:return eI5(e,()=>eI7(t.run(),t),egJ)}},eI9="Done",eTe="Await",eTt=Symbol.for("effect/ChannelMergeDecision"),eTr={[eTt]:{_R:e=>e,_E0:e=>e,_Z0:e=>e,_E:e=>e,_Z:e=>e}},eTn=e=>{let t=Object.create(eTr);return t._tag=eI9,t.effect=e,t},eTi=e=>{let t=Object.create(eTr);return t._tag=eTe,t.f=e,t},eTa=rS(2,(e,{onAwait:t,onDone:r})=>{switch(e._tag){case eI9:return r(e.effect);case eTe:return t(e.f)}}),eTs="BothRunning",eTo="LeftDone",eTl="RightDone",eTu=Symbol.for("effect/ChannelMergeState"),eTc={[eTu]:eTu},eTh=(e,t)=>{let r=Object.create(eTc);return r._tag=eTs,r.left=e,r.right=t,r},eTf=e=>{let t=Object.create(eTc);return t._tag=eTo,t.f=e,t},eTd=e=>{let t=Object.create(eTc);return t._tag=eTl,t.f=e,t},eTp=rS(2,(e,{onBothRunning:t,onLeftDone:r,onRightDone:n})=>{switch(e._tag){case eTs:return t(e.left,e.right);case eTo:return r(e.f);case eTl:return n(e.f)}}),eTm="BackPressure",eTg="BufferSliding",eTy=Symbol.for("effect/ChannelMergeStrategy"),eTb={[eTy]:eTy},eTS=e=>{let t=Object.create(eTb);return t._tag=eTm,t},eTv=e=>{let t=Object.create(eTb);return t._tag=eTg,t},eTw=rS(2,(e,{onBackPressure:t,onBufferSliding:r})=>{switch(e._tag){case eTm:return t();case eTg:return r()}}),eTx="Empty",eTk="Emit",eT_="Error",eTE="Done",eTI=e=>({_tag:eTx,notifyProducer:e}),eTT=e=>({_tag:eTk,notifyConsumers:e});class eTO{ref;constructor(e){this.ref=e}awaitRead(){return eSy(Vs(this.ref,e=>e._tag===eTx?[Ug(e.notifyProducer),e]:[eg8,e]))}get close(){return ebo(e=>this.error(ess(e)))}done(e){return eSy(Vs(this.ref,t=>{switch(t._tag){case eTx:return[Ug(t.notifyProducer),t];case eTk:return[egC(t.notifyConsumers,t=>UF(t,aO(e)),{discard:!0}),{_tag:eTE,done:e}];case eT_:case eTE:return[eyI,t]}}))}emit(e){return eSm(Up(),t=>eSy(Vs(this.ref,r=>{switch(r._tag){case eTx:return[Ug(r.notifyProducer),r];case eTk:{let n=r.notifyConsumers[0],i=r.notifyConsumers.slice(1);if(void 0!==n)return[UF(n,aI(e)),0===i.length?eTI(t):eTT(i)];throw Error("Bug: Channel.SingleProducerAsyncInput.emit - Queue was empty! please report an issue at https://github.com/Effect-TS/effect/issues")}case eT_:case eTE:return[eyI,r]}})))}error(e){return eSy(Vs(this.ref,t=>{switch(t._tag){case eTx:return[Ug(t.notifyProducer),t];case eTk:return[egC(t.notifyConsumers,t=>Ux(t,e),{discard:!0}),{_tag:eT_,cause:e}];case eT_:case eTE:return[eyI,t]}}))}get take(){return this.takeWith(e=>UK(esD(e,aO)),e=>U5(e),e=>Uq(aI(e)))}takeWith(e,t,r){return eSm(Up(),n=>eSy(Vs(this.ref,i=>{switch(i._tag){case eTx:return[evz(UF(i.notifyProducer,void 0),eSQ(Ug(n),{onFailure:e,onSuccess:aU({onLeft:r,onRight:t})})),eTT([n])];case eTk:return[eSQ(Ug(n),{onFailure:e,onSuccess:aU({onLeft:r,onRight:t})}),eTT([...i.notifyConsumers,n])];case eT_:return[eg2(e(i.cause)),i];case eTE:return[eg2(r(i.done)),i]}})))}}let eTC=()=>rD(Up(),eSm(e=>Vt(eTI(e))),eyz(e=>new eTO(e))),eTF=(e,t,r)=>eIy(eIS(Vt(()=>eg8)),n=>rD(eIS(eyA(eSk(e,e=>Vl(n,t=>r(e,t))))),eIy(t),eIf(e=>eSm(Vr(n),t=>t(e))))),eTA=rS(2,(e,t)=>eT6(e,()=>t)),eTM=e=>eIT(()=>{let t=(e,r,n)=>eOO(Vs(n,i=>r(i)?[eIk({onInput:i=>eIy(eIF(i),()=>t(e,r,n)),onFailure:e=>eId(e),onDone:e=>eII(e)}),i]:[eIy(eIF(i),()=>t(e,r,n)),e]));return t(e.empty,e.isEmpty,e.ref)}),eTN=e=>eTM({empty:OM(),isEmpty:O8,ref:e}),eTR=rS(2,(e,t)=>eIi(e,e=>aU(esI(e),{onLeft:t,onRight:eIm}))),eTD=rS(2,(e,t)=>eIu(e,t,()=>void 0,()=>void 0)),eTj=rS(2,(e,t)=>{let r=eIk({onInput:e=>sR(t(e),{onNone:()=>r,onSome:e=>eIy(eIF(e),()=>r)}),onFailure:eId,onDone:eII});return eIv(e,r)}),eTL=rS(2,(e,t)=>{let r=eIk({onInput:e=>eIy(eIF(e),()=>r),onFailure:eId,onDone:e=>eII(t(e))});return eIv(r,e)}),eTP=rS(2,(e,t)=>{let r=eIk({onInput:e=>eIy(eIF(e),()=>r),onFailure:eId,onDone:e=>eIS(t(e))});return eIv(r,e)}),eT$=rS(2,(e,t)=>{let r=eIk({onInput:e=>eIy(eIF(e),()=>r),onFailure:e=>eId(t(e)),onDone:eII});return eIv(r,e)}),eTz=rS(2,(e,t)=>{let r=eIk({onInput:e=>eIy(eIF(e),()=>r),onFailure:e=>eIS(t(e)),onDone:eII});return eIv(r,e)}),eTU=rS(2,(e,t)=>{let r=eIk({onInput:e=>eIy(eIF(t(e)),()=>r),onFailure:eId,onDone:eII});return eIv(r,e)}),eTB=rS(2,(e,t)=>{let r=eIk({onInput:e=>eIy(eIy(eIS(t(e)),eIF),()=>r),onFailure:eId,onDone:eII});return eIv(r,e)}),eTW=e=>eIT(()=>{let t=[];return rD(eIv(e,eTq(t)),eIy(e=>eIE([OU(t),e])))}),eTq=e=>eIk({onInput:t=>eIy(eIO(()=>{e.push(t)}),()=>eTq(e)),onFailure:eId,onDone:eIE}),eTK=e=>{let t=eI_({onInput:()=>t,onFailure:eIm,onDone:eIE});return eIv(e,t)},eTV=rS(2,(e,t)=>eIf(e,()=>t)),eTJ=()=>eIS(ebB()),eTH=e=>eIy(eTJ(),e),eTG=e=>eIy(e,rw),eTZ=rS(2,(e,t)=>eIb(e,{onFailure:e=>{let r=esI(e);switch(r._tag){case"Left":return t.onFailure(r.left);case"Right":return eIm(r.right)}},onSuccess:t.onSuccess})),eTQ=e=>eOO(e.takeWith(eIm,t=>eIy(eIF(t),()=>eTQ(e)),eIE)),eTY=e=>eIT(()=>eTX(e)),eTX=e=>rD(eIS(eET(e)),eIy(aU({onLeft:U3({onFailure:eIm,onSuccess:eII}),onRight:t=>eIy(eIF(t),()=>eTX(e))}))),eT0=()=>eIk({onInput:e=>eIy(eIF(e),()=>eT0()),onFailure:eId,onDone:eII}),eT1=rS(2,(e,t)=>eOa(e,{other:eIS(t),onSelfDone:e=>eTn(eg4(()=>e)),onOtherDone:e=>eTn(eg4(()=>e))})),eT2=rS(2,(e,t)=>eT1(e,Ug(t))),eT6=rS(2,(e,t)=>eIy(e,e=>eIO(()=>t(e)))),eT3=rS(2,(e,t)=>eIy(e,e=>eIS(t(e)))),eT4=rS(2,(e,t)=>eT5(e,esD(t))),eT5=rS(2,(e,t)=>eIi(e,e=>eIm(t(e)))),eT8=rS(2,(e,t)=>{let r=eIk({onInput:e=>eIy(eIF(t(e)),()=>r),onFailure:eId,onDone:eII});return eIv(e,r)}),eT7=rS(2,(e,t)=>{let r=eI_({onInput:e=>rD(eIS(t(e)),eIy(eIF),eIy(()=>r)),onFailure:eIm,onDone:eII});return eIv(e,r)}),eT9=rS(3,(e,t,r)=>eOF(n=>egY(function*(){let i=yield*eTC(),a=eTQ(i),s=yield*eEf(r);yield*eoX(n,eEx(s));let o=yield*Up(),l=r===1/0?e=>rw:(yield*evT(r)).withPermits,u=yield*a.pipe(eIv(e),eO_(n));yield*u.pipe(eSY({onFailure:e=>eEk(s,egJ(e)),onSuccess:aU({onLeft:e=>evz(eyO(l(r)(eg8)),eyL(eEk(s,eg2(aO(e))))),onRight:e=>egY(function*(){let r=yield*Up(),i=yield*Up();yield*eEk(s,eyz(Ug(r),aI)),yield*UF(i,void 0).pipe(evz(eyM(r=>eSe(r(Ug(o))).pipe(eSv(eSe(r(t(e)))),eSm(rw))).pipe(eSO(e=>Ux(o,e)),eSt(r))),l(1),ebh(n)),yield*Ug(i)})})}),eSC,eyO,ebh(n));let c=eOO(eSQ(eSy(eET(s)),{onFailure:eIm,onSuccess:aU({onLeft:eII,onRight:e=>eIy(eIF(e),()=>c)})}));return eIh(c,i)}))),eOe=e=>t=>eOt(e)(t,rC),eOt=({bufferSize:e=16,concurrency:t,mergeStrategy:r=eTS()})=>(n,i)=>eOF(a=>egY(function*(){let s="unbounded"===t?Number.MAX_SAFE_INTEGER:t,o=yield*eTC(),l=eTQ(o),u=yield*eEf(e);yield*eoX(a,eEx(u));let c=yield*eEm();yield*eoX(a,eEx(c));let h=yield*Vt(sC()),f=yield*Up(),d=(yield*evT(s)).withPermits,p=yield*eO_(eIv(l,n),a);function m(e){return e.pipe(eSm(aU({onLeft:e=>eg2(sF(e)),onRight:e=>eyR(eEk(u,eg2(aI(e))),sC())})),eSM({until:e=>sN(e)}),eSm(e=>Vc(h,sR({onNone:()=>sF(e.value),onSome:t=>sF(i(t,e.value))}))),eyt(e=>esv(e)?egJ(e):eEk(u,egJ(e)).pipe(evz(UF(f,void 0)),eyL)))}yield*p.pipe(eSY({onFailure:e=>eEk(u,egJ(e)).pipe(evz(eg2(!1))),onSuccess:aU({onLeft:e=>eSw(eyO(Ug(f)),eyO(d(s)(eg8)),{onSelfDone:(e,t)=>eyR(elQ(t),!1),onOtherDone:(t,r)=>evz(elQ(r),Vr(h).pipe(eSm(sR({onNone:()=>eEk(u,eg2(aO(e))),onSome:t=>eEk(u,eg2(aO(i(t,e))))})),eyR(!1)))}),onRight:e=>eTw(r,{onBackPressure:()=>egY(function*(){let t=yield*Up(),r=ey4(t=>eO_(eIv(l,e),t).pipe(eSm(e=>eSb(eSe(m(e)),eSe(eyO(Ug(f))))),eSm(rw)));return yield*UF(t,void 0).pipe(evz(r),d(1),ebh(a)),yield*Ug(t),!(yield*UO(f))}),onBufferSliding:()=>egY(function*(){let t=yield*Up(),r=yield*Up(),n=yield*eEy(c);yield*eET(c).pipe(eSm(e=>UF(e,void 0)),eSh(()=>n>=s)),yield*eEk(c,t);let i=ey4(r=>eO_(eIv(l,e),r).pipe(eSm(e=>eSe(m(e)).pipe(eSb(eSe(eyO(Ug(f)))),eSb(eSe(eyO(Ug(t)))))),eSm(rw)));return yield*UF(r,void 0).pipe(evz(i),d(1),ebh(a)),yield*Ug(r),!(yield*UO(f))})})})}),eSM({while:e=>e}),ebh(a));let g=rD(eET(u),eSy,eSQ({onFailure:eIm,onSuccess:aU({onLeft:eII,onRight:e=>eIy(eIF(e),()=>g)})}),eOO);return eIh(g,o)})),eOr=rS(3,(e,t,r)=>eOe(r)(eT8(e,t))),eOn=rS(2,(e,t)=>eOe({concurrency:t})(eT8(e,rw))),eOi=rS(3,(e,t,r)=>eOt({concurrency:t})(eT8(e,rw),r)),eOa=rS(2,(e,t)=>eOF(function(r){return egY(function*(){let n=yield*eTC(),i=eTQ(n),a=yield*eO_(eIv(i,e),r),s=yield*eO_(eIv(i,t.other),r);function o(e,t,n){return(i,a,s)=>{function o(e){return e._tag===eI9?eg2(eIS(evz(elQ(t),e.effect))):eyz(el$(t),U3({onFailure:t=>eIS(e.f(UK(t))),onSuccess:aU({onLeft:t=>eIS(e.f(U5(t))),onRight:t=>eOP(eIF(t),l(s(e.f)))})}))}return U3(e,{onFailure:e=>o(i(UK(e))),onSuccess:aU({onLeft:e=>o(i(U5(e))),onRight:e=>eg2(eIy(eIF(e),()=>eIy(eIS(ebh(eyO(n),r)),e=>l(a(e,t)))))})})}}function l(e){switch(e._tag){case eTs:return eOO(eSw(eyO(el3(e.left)),eyO(el3(e.right)),{onSelfDone:(r,n)=>evz(elQ(n),o(r,e.right,a)(t.onSelfDone,eTh,e=>eTf(e))),onOtherDone:(r,n)=>evz(elQ(n),o(r,e.left,s)(t.onOtherDone,(e,t)=>eTh(t,e),e=>eTd(e)))}));case eTo:return eOO(eyz(eSe(s),U3({onFailure:t=>eIS(e.f(UK(t))),onSuccess:aU({onLeft:t=>eIS(e.f(U5(t))),onRight:t=>eIy(eIF(t),()=>l(eTf(e.f)))})})));case eTl:return eOO(eyz(eSe(a),U3({onFailure:t=>eIS(e.f(UK(t))),onSuccess:aU({onLeft:t=>eIS(e.f(U5(t))),onRight:t=>eIy(eIF(t),()=>l(eTd(e.f)))})})))}}return eIS(egq(e=>{let t=egq(t=>(t.transferChildren(e.scope()),eg8));return evU(eyO(a).pipe(eyQ(t),ebh(r)),eyO(s).pipe(eyQ(t),ebh(r)),(e,t)=>eTh(e,t))})).pipe(eIy(l),eIh(n))})})),eOs=eIS(egX),eOo=rS(2,(e,t)=>eOl(e,t)),eOl=rS(2,(e,t)=>eTR(e,e=>eIg(()=>esa(t(e))))),eOu=rS(2,(e,t)=>eTR(e,t)),eOc=rS(2,(e,t)=>eIT(()=>{let r,n=eIk({onInput:e=>eIy(eIF(e),()=>n),onFailure:e=>eIm(esa(r=eOz(e))),onDone:eII}),i=eI_({onInput:e=>rD(eIF(e),eIy(()=>i)),onFailure:e=>esf(e)&&eOU(e.defect)&&iv(e.defect,r)?eId(e.defect.error):eIm(e),onDone:eII});return eIv(eIv(eIv(e,n),t),i)})),eOh=rS(3,(e,t,r)=>eIy(eTJ(),n=>eIw(e,Od(n,t,r)))),eOf=rS(2,(e,t)=>eOF(r=>eyz(exA(t,r),t=>eIw(e,t)))),eOd=rS(2,(e,t)=>eTH(r=>eIw(e,t(r)))),eOp=rS(2,(e,t)=>eOf(e,ex3(exR(),t))),eOm=e=>eIy(e,()=>eOm(e)),eOg=e=>ey4(t=>eI8(e,t)),eOy=e=>eOg(eTK(e)),eOb=e=>ey3(t=>eI8(e,t)),eOS=e=>eOO(eyM(t=>eyz(eo4(),r=>eIn(eSO(t(eo2(e,r)),e=>eo1(r,UK(e))),(e,t)=>eo1(r,t))))),eOv=e=>eOC(eyz(ey6,t=>eIy(eIS(e(t)),eIF))),eOw=()=>eIT(()=>{let e="",t=!1,r=eI_({onInput:n=>{let i,a=(i=[],Ca(n,r=>{if(0!==r.length){let n=0,a=r.indexOf("\r"),s=r.indexOf("\n");for(t&&(0===s?(i.push(e),e="",n=1,s=r.indexOf("\n",n)):e+="\r",t=!1);-1!==a||-1!==s;)-1===a||-1!==s&&s<a?(0===e.length?i.push(r.substring(n,s)):(i.push(e+r.substring(n,s)),e=""),n=s+1,s=r.indexOf("\n",n)):r.length===a+1?(t=!0,a=-1):s===a+1?(0===e.length?i.push(r.substring(n,a)):(e+=r.substring(n,a),i.push(e),e=""),n=a+2,a=r.indexOf("\r",n),s=r.indexOf("\n",n)):a=r.indexOf("\r",a+1);t?e+=r.substring(n,r.length-1):e+=r.substring(n,r.length)}}),OU(i));return O8(a)?r:eIy(eIF(a),()=>r)},onFailure:t=>0===e.length?eIm(t):eIy(eIF(OR(e)),()=>eIm(t)),onDone:t=>0===e.length?eIE(t):eIy(eIF(OR(e)),()=>eIE(t))});return r}),eOx=e=>eOI(e),eOk=e=>eSm(ey6,t=>eO_(e,t)),eO_=rS(2,(e,t)=>evP(eg5(()=>new eI6(e,void 0,rw)),evm()).pipe(eSk(([e,r])=>eo0(t,t=>{let n=e.close(t);return void 0!==n?ebV(n,r):eg8})),eyA,eyz(([e])=>eg4(()=>eOE(e.run(),e))))),eOE=(e,t)=>{switch(e._tag){case eIA:return U3(t.getDone(),{onFailure:egJ,onSuccess:e=>eg2(aO(e))});case eIM:return eg2(aI(t.getEmit()));case eIN:return rD(e.effect,eSm(()=>eOE(t.run(),t)));case eIR:return eI5(e,()=>eOE(t.run(),t),e=>egJ(e))}},eOI=e=>eIT(()=>eOT(e)),eOT=e=>eI_({onInput:t=>eIy(eIS(eEk(e,aI(t))),()=>eOT(e)),onFailure:t=>eIS(eEk(e,aO(UK(t)))),onDone:t=>eIS(eEk(e,aO(U5(t))))}),eOO=e=>eTG(eIS(e)),eOC=e=>eIl(eOS(e),(e,t)=>e,(e,t)=>e),eOF=e=>eIl(eOv(e),(e,t)=>e,(e,t)=>e),eOA=rS(3,(e,t,r)=>eOd(e,e=>Ob(e,Of(t,r(Og(e,t)))))),eOM=function(){let e="string"!=typeof arguments[0],t=e?arguments[1]:arguments[0],r=qx(e?arguments[2]:arguments[1]),n=egy([ewt(t,r),ebB(),ebx,ewM(ext)]);if(e){let e=arguments[0];return eTF(n,([t,r])=>eIw(e,Od(r,qb,t)),([e,,t,r],n)=>Hh(e,n,t,r))}return e=>eTF(n,([t,r])=>eIw(e,Od(r,qb,t)),([e,,t,r],n)=>Hh(e,n,t,r))},eON=(...e)=>eOR(OD(e)),eOR=e=>eOD(0,e.length,e),eOD=(e,t,r)=>e===t?eIC:rD(eIF(rD(r,OW(e))),eIy(()=>eOD(e+1,t,r))),eOj=rS(e=>eIr(e[1]),(e,t,r)=>r?.concurrent?eOa(e,{other:t,onSelfDone:e=>eTi(t=>eg4(()=>U7(e,t))),onOtherDone:e=>eTi(t=>eg4(()=>U7(t,e)))}):eIy(e,e=>eT6(t,t=>[e,t]))),eOL=rS(e=>eIr(e[1]),(e,t,r)=>r?.concurrent?eT6(eOj(e,t,{concurrent:!0}),e=>e[0]):eIy(e,e=>eTA(t,e))),eOP=rS(e=>eIr(e[1]),(e,t,r)=>r?.concurrent?eT6(eOj(e,t,{concurrent:!0}),e=>e[1]):eIy(e,()=>t)),eO$=Symbol.for("effect/Channel/ChannelException"),eOz=e=>({_tag:"ChannelException",[eO$]:eO$,error:e}),eOU=e=>nw(e,eO$),eOB=Symbol.for("effect/Sink"),eOW={_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e};class eOq{channel;[eOB]=eOW;constructor(e){this.channel=e}pipe(){return ij(this,arguments)}}let eOK=e=>new eOq(eIT(()=>eFe(e()))),eOV=rS(2,(e,t)=>rD(e,eCJ(()=>t))),eOJ=()=>new eOq(eOH(OM())),eOH=e=>eI_({onInput:t=>eOH(rD(e,OQ(t))),onFailure:eIm,onDone:()=>eIE(e)}),eOG=e=>eOK(()=>eCz(eOZ(e,OM()))),eOZ=(e,t)=>eI_({onInput:r=>{let[n,i]=Cd(r,e);return n.length<e?eOZ(e-n.length,OQ(t,n)):O8(i)?eIE(OQ(t,n)):eIy(eIF(i),()=>eIE(OQ(t,n)))},onFailure:eIm,onDone:()=>eIE(t)}),eOQ=(e,t)=>eIk({onInput:r=>{let[n,i]=rD(OP(r),uU(e));return 0===i.length?eOQ(e,rD(t,OQ(OU(n)))):rD(eIF(OU(i)),eOP(eIE(rD(t,OQ(OU(n))))))},onFailure:eId,onDone:()=>eIE(t)}),eOY=(e,t)=>eIk({onInput:r=>rD(eIS(rD(r,egk(e),eyz(OU))),eIy(n=>{let i=rD(r,OJ(n.length));return O8(i)?eOY(e,rD(t,OQ(n))):rD(eIF(i),eOP(eIE(rD(t,OQ(n)))))})),onFailure:eId,onDone:()=>eIE(t)}),eOX=rS(2,(e,t)=>{let r=rD(Vt(OM()),evP(Vt(!1)));return new eOq(rD(eIS(r),eIy(([r,n])=>{let i=eIk({onInput:e=>rD(eIF(e),eIy(()=>i)),onFailure:eId,onDone:e=>rD(eIS(Vl(n,!0)),eTA(e))});return rD(i,eIv(eTN(r)),eIv(eO0(e,r,n,t.initial,t.while,t.body)))})))}),eO0=(e,t,r,n,i,a)=>rD(eFe(e),eTW,eTZ({onFailure:eId,onSuccess:([s,o])=>i(o)?rD(eIS(Vl(t,O3(s))),eIy(()=>rD(eIS(Vr(r)),eIy(l=>{let u=a(n,o);return l?rD(eIF(O3(s)),eTA(u)):eO0(e,t,r,u,i,a)})))):rD(eIF(O3(s)),eTA(n))})),eO1=e=>new eOq(rD(eIa(eFe(e)),eT6(([e,t])=>[t,O3(e)]))),eO2=rS(2,(e,t)=>rD(e,eO3(Ca(t)))),eO6=rS(2,(e,t)=>eO4(e,e=>eyz(egC(e,e=>t(e)),OU))),eO3=rS(2,(e,t)=>{let r=eIk({onInput:e=>rD(eIF(t(e)),eIy(()=>r)),onFailure:eId,onDone:eIE});return new eOq(rD(r,eIv(eFe(e))))}),eO4=rS(2,(e,t)=>{let r=eIk({onInput:e=>rD(eIS(t(e)),eIy(eIF),eIy(()=>r)),onFailure:eId,onDone:eIE});return new eOq(rD(r,eOc(eFe(e))))}),eO5=rS(2,(e,t)=>eCJ(eO2(e,t.onInput),t.onDone)),eO8=rS(2,(e,t)=>eCH(eO6(e,t.onInput),t.onDone)),eO7=rS(2,(e,t)=>eCJ(eO3(e,t.onInput),t.onDone)),eO9=rS(2,(e,t)=>eCH(eO4(e,t.onInput),t.onDone)),eCe=new eOq(eTK(eT0())),eCt=e=>eOK(()=>new eOq(eCr(e))),eCr=e=>eIk({onInput:t=>{let r=rD(t,OJ(e)),n=Math.max(e-t.length,0);return O8(t)||n>0?eCr(n):rD(eIF(r),eOP(eT0()))},onFailure:eId,onDone:()=>eIC}),eCn=e=>eIk({onInput:t=>rD(t,egv(e),eyz(t=>0===t.length?eCn(e):rD(eIF(OU(t)),eOP(eT0()))),eOO),onFailure:eId,onDone:()=>eIC}),eCi=e=>new eOq(eCa(e)),eCa=e=>eIk({onInput:t=>{let r=rD(t,OG(e));return O8(r)?eCa(e):rD(eIF(r),eOP(eT0()))},onFailure:eId,onDone:eII}),eCs=e=>eIk({onInput:t=>rD(t,egw(e),eyz(t=>0===t.length?eCs(e):rD(eIF(OU(t)),eOP(eT0()))),eOO),onFailure:eId,onDone:()=>eIC}),eCo=rS(2,(e,t)=>new eOq(rD(e,eFe,eTV(t)))),eCl=rS(2,(e,t)=>new eOq(rD(e,eFe,eIf(t)))),eCu=()=>eCU(ebB()),eCc=e=>new eOq(eId(e)),eCh=e=>new eOq(eIm(e)),eCf=e=>new eOq(eIg(e)),eCd=rS(2,(e,t)=>eO4(e,e=>eyz(egI(e,t),OU))),eCp=rS(2,(e,t)=>new eOq(rD(eIS(rD(Vt(OM()),evP(Vt(!1)))),eIy(([r,n])=>{let i=eIk({onInput:e=>rD(eIF(e),eIy(()=>i)),onFailure:eId,onDone:e=>rD(eIS(Vl(n,!0)),eTA(e))}),a=eTZ(eIa(eFe(e)),{onFailure:eId,onSuccess:([e,i])=>rD(eIS(t(i)),eIy(t=>rD(eIS(Vl(r,O3(e))),eOP(rD(eIS(Vr(n)),eIy(r=>t?rD(eIF(O3(e)),eTA(sF(i))):r?rD(eIF(O3(e)),eTA(sC())):a))))))});return rD(i,eIv(eTN(r)),eIv(a))})))),eCm=(e,t,r)=>eOK(()=>new eOq(eCg(e,t,r))),eCg=(e,t,r)=>t(e)?eIk({onInput:n=>{let[i,a]=eCy(e,n,t,r,0,n.length);return O7(a)?rD(eIF(a),eTA(i)):eCg(i,t,r)},onFailure:eId,onDone:()=>eII(e)}):eII(e),eCy=(e,t,r,n,i,a)=>{if(i===a)return[e,OM()];let s=n(e,rD(t,OW(i)));return r(s)?eCy(s,t,r,n,i+1,a):[s,rD(t,OJ(i+1))]},eCb=rS(2,(e,t)=>new eOq(rD(eFe(e),eIa,eTZ({onFailure:e=>eFe(t.onFailure(e)),onSuccess:([e,r])=>eIT(()=>{let n={ref:rD(e,OX(O7))},i=rD(eIO(()=>{let e=n.ref;return n.ref=OM(),e}),eIy(e=>eOR(e)));return eIy(eIa(rD(i,eOP(eT0()),eIv(eFe(t.onSuccess(r))))),([e,t])=>rD(eIE(n.ref),eIy(eOR),eOP(eOR(e)),eTA(t)))})})))),eCS=(e,t,r)=>eOK(()=>new eOq(eCv(e,t,r))),eCv=(e,t,r)=>t(e)?eIk({onInput:n=>eCv(r(e,n),t,r),onFailure:eId,onDone:()=>eII(e)}):eII(e),eCw=(e,t,r)=>eOK(()=>new eOq(eCx(e,t,r))),eCx=(e,t,r)=>t(e)?eIk({onInput:n=>rD(eIS(r(e,n)),eIy(e=>eCx(e,t,r))),onFailure:eId,onDone:()=>eII(e)}):eII(e),eCk=(e,t,r)=>eOK(()=>new eOq(eC_(e,t,r))),eC_=(e,t,r)=>t(e)?eIk({onInput:n=>rD(eIS(eCE(e,n,t,r)),eIy(([e,n])=>rD(n,sR({onNone:()=>eC_(e,t,r),onSome:t=>rD(eIF(t),eTA(e))})))),onFailure:eId,onDone:()=>eII(e)}):eII(e),eCE=(e,t,r,n)=>eCI(e,t,0,t.length,r,n),eCI=(e,t,r,n,i,a)=>r===n?eg2([e,sC()]):rD(a(e,rD(t,OW(r))),eSm(e=>i(e)?eCI(e,t,r+1,n,i,a):eg2([e,sF(rD(t,OJ(r+1)))]))),eCT=(e,t)=>eCS(e,rE,t),eCO=e=>eCC({...e,decompose:OR}),eCC=e=>eOK(()=>new eOq(eCF(e.initial,0,!1,e.maxCost,e.cost,e.decompose,e.body))),eCF=(e,t,r,n,i,a,s)=>eIk({onInput:o=>{let[l,u,c,h]=eCA(o,e,t,r,n,i,a,s);return O7(h)?rD(eIF(h),eOP(eII(l))):t>n?eII(l):eCF(l,u,c,n,i,a,s)},onFailure:eId,onDone:()=>eII(e)}),eCA=(e,t,r,n,i,a,s,o)=>{for(let l=0;l<e.length;l++){let u=OW(e,l),c=r;if((r+=a(t,u))<=i){t=o(t,u),n=!0;continue}let h=s(u);if(h.length<=1&&!n)return[o(t,u),r,!0,OJ(e,l+1)];if(h.length<=1&&n)return[t,c,n,OJ(e,l)];e=OQ(h,OJ(e,l+1)),r=c,l=-1}return[t,r,n,OM()]},eCM=e=>eOK(()=>new eOq(eCN(e.initial,e.maxCost,e.cost,e.decompose,e.body,0,!1))),eCN=(e,t,r,n,i,a,s)=>eIk({onInput:o=>rD(eIS(eCR(e,t,r,n,i,o,s,a,0)),eIy(([e,s,o,l])=>O7(l)?rD(eIF(l),eOP(eII(e))):a>t?eII(e):eCN(e,t,r,n,i,s,o))),onFailure:eId,onDone:()=>eII(e)}),eCR=(e,t,r,n,i,a,s,o,l)=>{if(l===a.length)return eg2([e,o,s,OM()]);let u=rD(a,OW(l));return rD(r(e,u),eyz(e=>o+e),eSm(c=>c<=t?rD(i(e,u),eSm(e=>eCR(e,t,r,n,i,a,!0,c,l+1))):rD(n(u),eSm(h=>h.length<=1&&!s?rD(i(e,u),eyz(e=>[e,c,!0,rD(a,OJ(l+1))])):h.length<=1&&s?eg2([e,o,s,rD(a,OJ(l))]):eCR(e,t,r,n,i,rD(h,OQ(rD(a,OJ(l+1)))),s,o,0)))))},eCD=rS(2,(e,t)=>eCb(e,{onFailure:eCc,onSuccess:t})),eCj=e=>{let t=eI_({onInput:r=>rD(eIS(egC(r,t=>e(t),{discard:!0})),eIy(()=>t)),onFailure:eIm,onDone:()=>eIC});return new eOq(t)},eCL=e=>{let t=eI_({onInput:r=>rD(eIS(e(r)),eIy(()=>t)),onFailure:eIm,onDone:()=>eIC});return new eOq(t)},eCP=e=>{let t=eI_({onInput:r=>eC$(e,r,0,r.length,t),onFailure:eIm,onDone:()=>eIC});return new eOq(t)},eC$=(e,t,r,n,i)=>r===n?i:rD(eIS(e(rD(t,OW(r)))),eIy(a=>a?eC$(e,t,r+1,n,i):eIF(rD(t,OJ(r)))),eTR(e=>rD(eIF(rD(t,OJ(r))),eOP(eId(e))))),eCz=e=>new eOq(e),eCU=e=>new eOq(eIS(e)),eCB=e=>eIk({onInput:t=>eTZ(eIS(e(sF(t))),{onFailure:([e,t])=>aU(e,{onLeft:e=>rD(eIF(t),eOP(eId(e))),onRight:e=>rD(eIF(t),eOP(eII(e)))}),onSuccess:()=>eCB(e)}),onFailure:eId,onDone:()=>eTZ(eIS(e(sC())),{onFailure:([e,t])=>aU(e,{onLeft:e=>rD(eIF(t),eOP(eId(e))),onRight:e=>rD(eIF(t),eOP(eII(e)))}),onSuccess:()=>eIS(egZ("BUG: Sink.fromPush - please report an issue at https://github.com/Effect-TS/effect/issues"))})}),eCW=(e,t)=>t?.shutdown?eFt(eyz(eyJ(eg2(e),eEx),eCW)):eCL(t=>eEE(e,t)),eCq=()=>eCm(sC(),sM,(e,t)=>sR(e,{onNone:()=>sF(t),onSome:()=>e})),eCK=e=>new eOq(eTK(eFe(e))),eCV=()=>eCT(sC(),(e,t)=>sz(Cr(t),()=>e)),eCJ=rS(2,(e,t)=>new eOq(rD(eFe(e),eT6(t)))),eCH=rS(2,(e,t)=>new eOq(rD(eFe(e),eT3(t)))),eCG=rS(2,(e,t)=>new eOq(rD(eFe(e),eT4(t)))),eCZ=rS(2,(e,t)=>new eOq(rD(eFe(e),eT8(Ca(t))))),eCQ=eCU(egX),eCY=rS(2,(e,t)=>new eOq(rD(eFe(e),eOu(()=>eFe(t()))))),eCX=rS(2,(e,t)=>new eOq(rD(eFe(e),eIw(t)))),eC0=rS(2,(e,t)=>rD(e,eC1(t),eCJ(aq))),eC1=rS(e=>nw(e[1],eOB),(e,t,r)=>eC2(e,{other:t,onSelfDone:e=>eTn(eyz(e,aO)),onOtherDone:e=>eTn(eyz(e,aI)),capacity:r?.capacity??16})),eC2=rS(2,(e,t)=>eFr(function(r){return egY(function*(){let n=yield*e_Q(t?.capacity??16),i=yield*eo2(eEe(n),r),a=yield*eo2(eEe(n),r),s=eOx(n),o=eTY(i).pipe(eIv(eFe(e)),eOL(eIS(eEx(i))),eOa({other:eTY(a).pipe(eIv(eFe(t.other)),eOL(eIS(eEx(a)))),onSelfDone:t.onSelfDone,onOtherDone:t.onOtherDone}));return new eOq(eOa(s,{other:o,onSelfDone:()=>eTi(rw),onOtherDone:e=>eTn(e)}))})})),eC6=rS(2,(e,t)=>rD(e,eC3(t,rw))),eC3=rS(3,(e,t,r)=>new eOq(rD(e,eFe,eTR(e=>sR(t(e),{onNone:()=>eIg(()=>esa(r(e))),onSome:eId}))))),eC4=rS(2,(e,t)=>new eOq(rD(eIS(Vt(OM())),eIy(r=>rD(eC5(!1,r,t),eOc(eFe(e)),eIa,eIy(([e,t])=>rD(eIS(Vr(r)),eIy(r=>rD(eIF(rD(r,OQ(O3(e)))),eOP(eIE(t))))))))))),eC5=(e,t,r)=>eI_({onInput:n=>{if(O8(n))return eC5(e,t,r);if(e){let e=eC8(n,r);if(-1===e)return eOP(eIF(n),eC5(!0,t,r));let[i,a]=Cd(n,e);return eOP(eIF(i),eIS(Vl(t,a)))}let i=eC8(n,r,1);if(-1===i)return eOP(eIF(n),eC5(!0,t,r));let[a,s]=rD(n,Cd(Math.max(i,1)));return eOP(eIF(a),eIS(Vl(t,s)))},onFailure:eIm,onDone:eIE}),eC8=(e,t,r=0)=>{let n,i=e[Symbol.iterator](),a=0,s=-1;for(;s<0&&(n=i.next())&&!n.done;){let e=n.value;a>=r&&t(e)&&(s=a),a+=1}return s},eC7=eCT(0,(e,t)=>e+Cq(t,0,(e,t)=>e+t)),eC9=rS(3,(e,t,r)=>new eOq(rD(eIS(t),eIy(n=>rD(e,eFe,eIy(e=>rD(eIS(t),eT6(t=>[e,r(n,t)])))))))),eFe=e=>egh(e)?eFe(eCU(e)):e.channel,eFt=e=>new eOq(eOC(e.pipe(eyz(e=>eFe(e))))),eFr=e=>new eOq(eOF(t=>e(t).pipe(eyz(e=>eFe(e))))),eFn=e=>rD(e,eC9(qW,(e,t)=>Fa(t-e))),eFi=rS(e=>nw(e[1],eOB),(e,t,r)=>eFo(e,t,(e,t)=>[e,t],r)),eFa=rS(e=>nw(e[1],eOB),(e,t,r)=>eFo(e,t,(e,t)=>e,r)),eFs=rS(e=>nw(e[1],eOB),(e,t,r)=>eFo(e,t,(e,t)=>t,r)),eFo=rS(e=>nw(e[1],eOB),(e,t,r,n)=>n?.concurrent?eC2(e,{other:t,onSelfDone:U3({onFailure:e=>eTn(egJ(e)),onSuccess:e=>eTi(U3({onFailure:egJ,onSuccess:t=>eg2(r(e,t))}))}),onOtherDone:U3({onFailure:e=>eTn(egJ(e)),onSuccess:e=>eTi(U3({onFailure:egJ,onSuccess:t=>eg2(r(t,e))}))})}):eCD(e,e=>eCJ(t,t=>r(e,t)))),eFl=eCT(0,(e,t)=>e+t.length),eFu=eOK(()=>{let e=[];return rD(eCT(void 0,(t,r)=>Ca(r,t=>{e.push(String(t))})),eCJ(()=>e.join("")))}),eFc=rD(eFn(eCe),eCJ(e=>e[1])),eFh=eTt,eFf=eTn,eFd=eTi,eFp=e=>eTi(()=>e),eFm=e=>nw(e,eTt),eFg=eTa,eFy=Symbol.for("effect/RcRef"),eFb={_tag:"Empty"},eFS={_tag:"Closed"},eFv={_A:rw,_E:rw};class eFw extends KP{acquire;context;scope;idleTimeToLive;[eFy]=eFv;[Kz]=Kz;state=eFb;semaphore=eo8(1);constructor(e,t,r,n){super(),this.acquire=e,this.context=t,this.scope=r,this.idleTimeToLive=n,this.get=eFx(this)}get;commit(){return this.get}}let eFx=e=>PB(t=>Pj(()=>{switch(e.state._tag){case"Closed":return Pv;case"Acquired":return e.state.refCount++,e.state.fiber?LZ(P8(e.state.fiber),e.state):PD(e.state);case"Empty":return ead().pipe(VY("scope"),VQ("value",({scope:r})=>t($T(e.acquire,$R,Od(e.context,eau,r)))),PE(({scope:t,value:r})=>{let n={_tag:"Acquired",value:r,scope:t,fiber:void 0,refCount:1};return e.state=n,n}))}})).pipe(e.semaphore.withPermits(1),VY("state"),VQ("scope",()=>eau),PP(({scope:t,state:r})=>t.addFinalizer(()=>Pj(()=>(r.refCount--,r.refCount>0)?PW:void 0===e.idleTimeToLive?(e.state=eFb,$4(r.scope,zz)):qB(e.idleTimeToLive).pipe(Px,P3(Pj(()=>"Acquired"===e.state._tag&&0===e.state.refCount?(e.state=eFb,$4(r.scope,zz)):PW)),eaC(PL(()=>{r.fiber=void 0})),ell(e.scope),PP(e=>{r.fiber=e}),e.semaphore.withPermits(1))))),PE(({state:e})=>e.value)),eFk=eFy,eF_=e=>LH(t=>{let r=t.getFiberRef($R),n=Op(r,eau),i=new eFw(e.acquire,r,n,e.idleTimeToLive?C2(e.idleTimeToLive):void 0);return LZ(n.addFinalizer(()=>i.semaphore.withPermits(1)(Pj(()=>{let e="Acquired"===i.state._tag?$4(i.state.scope,zz):PW;return i.state=eFS,e}))),i)}),eFE=eFx,eFI=eug,eFT=euE,eFO=eub,eFC=euy,eFF=euI,eFA=euT,eFM=euM,eFN=euA,eFR=euC,eFD=Symbol.for("effect/Runtime/FiberFailure"),eFj=euw,eFL=e=>nx(e,"AsyncFiberException")&&"fiber"in e,eFP=e=>nw(e,euv),eF$=euk,eFz=euN,eFU=euD,eFB=euR,eFW=euj,eFq=euL,eFK=euP,eFV=eu$,eFJ=euz,eFH=epl,eFG=epc,eFZ=epb,eFQ=epu,eFY=epS,eFX=epv,eF0=epw,eF1=epx,eF2=epk,eF6=ep_,eF3=epE,eF4=epI,eF5=epT,eF8=()=>epO(epW()),eF7=epO,eF9=e=>epO(ep2(e)),eAe=e=>epO(ep6(e)),eAt=e=>epO(ep4(e)),eAr=e=>epO(ep5(e)),eAn=epC,eAi=epF,eAa=epM,eAs=epA,eAo=emK,eAl=(e,t)=>{let r=edR(e)?aI(e):edz(e,t);return epb([!0,[Number.MIN_SAFE_INTEGER,0,0]],(e,t,[n,i])=>{let a;if(e<i[0])return PD([[!1,i],[i[1],i[2]],eoV(eoc(i[1],i[2]))]);if(aN(r))return L7(r.left);let s=r.right,o=new Date(e);n&&edB(s,o)&&(a=e);let l=emw(a=edq(s,o).getTime()),u=emx(a);return PD([[!1,[a,l,u]],[l,u],eoV(eoc(l,u))])})},eAu=e=>epb([-1/0,0],(t,r,n)=>{if(!Number.isInteger(e)||e<0||59<e)return Pe(()=>new zs(`Invalid argument in: secondOfMinute(${e}). Must be in range 0...59`));let i=n[1],a=((e,t,r)=>{let n=new Date(e);if(n.getSeconds()===t&&r)return e;if(n.getSeconds()<t)return n.setSeconds(t);let i=new Date(n.setSeconds(t));return i.setTime(i.getTime()+6e4)})(t,e,0===i),s=emw(a),o=emx(a),l=eoc(s,o);return PD([[o,i+1],i,eoV(l)])}),eAc=e=>epb([Number.MIN_SAFE_INTEGER,0],(t,r,n)=>{let i;if(!Number.isInteger(e)||e<0||59<e)return Pe(()=>new zs(`Invalid argument in: minuteOfHour(${e}). Must be in range 0...59`));let a=n[1],s=((e,t,r)=>{let n=new Date(e);if(n.getMinutes()===t&&r)return e;if(n.getMinutes()<t)return n.setMinutes(t);let i=new Date(n.setMinutes(t));return i.setTime(i.getTime()+36e5)})(t,e,0===a),o=emk(s),l=(i=new Date(emk(s))).setMinutes(i.getMinutes()+1),u=eoc(o,l);return PD([[l,a+1],a,eoV(u)])}),eAh=e=>epb([-1/0,0],(t,r,n)=>{let i;if(!Number.isInteger(e)||e<0||23<e)return Pe(()=>new zs(`Invalid argument in: hourOfDay(${e}). Must be in range 0...23`));let a=n[1],s=((e,t,r)=>{let n=new Date(e);if(n.getHours()===t&&r)return e;if(n.getHours()<t)return n.setHours(t);let i=new Date(n.setHours(t));return i.setTime(i.getTime()+864e5)})(t,e,0===a),o=em_(s),l=(i=new Date(em_(s))).setHours(i.getHours()+1),u=eoc(o,l);return PD([[l,a+1],a,eoV(u)])}),eAf=e=>epb([-1/0,0],(t,r,n)=>{var i,a,s;let o;if(!Number.isInteger(e)||e<1||31<e)return Pe(()=>new zs(`Invalid argument in: dayOfMonth(${e}). Must be in range 1...31`));let l=n[1],u=(i=t,a=e,s=0===l,(o=new Date(i)).getDate()===a&&s?i:o.getDate()<a?o.setDate(a):emT(i,a,1)),c=emE(u),h=emI(u),f=eoc(c,h);return PD([[h,l+1],l,eoV(f)])}),eAd=e=>epb([Number.MIN_SAFE_INTEGER,0],(t,r,n)=>{if(!Number.isInteger(e)||e<1||7<e)return Pe(()=>new zs(`Invalid argument in: dayOfWeek(${e}). Must be in range 1 (Monday)...7 (Sunday)`));let i=n[1],a=((e,t,r)=>{let n=new Date(e);if(n.getDay()===t&&r)return e;let i=(7+t-n.getDay())%7;return n.setDate(n.getDate()+(0===i?7:i))})(t,e,0===i),s=emE(a),o=emI(a),l=eoc(s,o);return PD([[o,i+1],i,eoV(l)])}),eAp=epN,eAm=epR,eAg=epD,eAy=e=>epb(e.initial,(t,r,n)=>rD(e.step(t,r,n),Pu(([e,r,n])=>eoG(n)?PD([e,Ft,n]):PD([e,Fa(eoP(n.intervals)-t),n])))),eAb=epj,eAS=epL,eAv=epP,eAw=ep$,eAx=epz,eAk=epU,eA_=emV,eAE=epB,eAI=(e,t=2)=>{let r=C2(e);return epD(epH(emJ,e=>FN(r,Math.pow(t,e))))},eAT=e=>{let t=C2(e);return epD(rD(ems([t,t],([e,t])=>[t,FD(e,t)]),epH(e=>e[0])))},eAO=e=>{let t=C2(e),r=Fh(t);return epb([sC(),0],(e,n,[i,a])=>PL(()=>{switch(i._tag){case"None":return[[sF([e,e+r]),a+1],a,eoV(eov(e+r))];case"Some":{let[n,s]=i.value,o=e>s+r,l=iv(t,Ft)?t:Fa(r-(e-n)%r),u=iv(l,Ft)?t:l,c=o?e:e+Fh(u);return[[sF([n,c]),a+1],a,eoV(eov(c))]}}}))},eAC=emJ,eAF=e=>ep$(e),eAA=(e,...t)=>epb([[e,...t].map(e=>C2(e)),!0],(e,t,[r,n])=>PL(()=>{if(n){let t=r[0],n=eov(e+Fh(t));return r.length>=2?[[r.slice(1),!0],t,eoV(n)]:[[[t,...r.slice(1)],!1],t,eoV(n)]}return[[r,!1],Ft,eoJ]})),eAM=e=>epH(epW(),e),eAN=epW,eAR=epX,eAD=epq,eAj=epK,eAL=e=>epJ(e,{min:.8,max:1.2}),eAP=epJ,eA$=e=>{let t=C2(e);return epD(epH(emJ,e=>FN(t,e+1)))},eAz=epH,eAU=epG,eAB=epZ,eAW=epQ,eAq=epY,eAK=emH,eAV=ep0,eAJ=ep1,eAH=ep2,eAG=ep6,eAZ=e=>emh(epH(epW(),e),sN),eAQ=ep3,eAY=ep4,eAX=ep5,eA0=ep8,eA1=ep7,eA2=ep9,eA6=emJ,eA3=e=>ep7(e,0,(e,t)=>e+1),eA4=eme,eA5=emt,eA8=emr,eA7=e=>epS(emJ,()=>e),eA9=emG,eMe=e=>epH(emJ,()=>e),eMt=e=>epH(emJ,e),eMr=emi,eMn=ema,eMi=ems,eMa=emo,eMs=eml,eMo=emu,eMl=emc,eMu=emh,eMc=emf,eMh=emd,eMf=emp,eMd=emm,eMp=emg,eMm=emy,eMg=e=>{let t=Fh(C2(e));return epb([sC(),0],(e,r,[n,i])=>{switch(n._tag){case"None":return PD([[sF(e),i+1],i,eoV(eov(e+t))]);case"Some":return PD([[sF(n.value),i+1],i,eoV(eov(e+(t-(e-n.value)%t)))])}})},eMy=emb,eMb=emS,eMS=emv,eMv=epf,eMw="Left",eMx="Right",eMk="Both",eM_="Either",eME={_tag:eMw},eMI={_tag:eMx},eMT={_tag:eMk},eMO={_tag:eM_},eMC=e=>{switch(e){case"left":return eME;case"right":return eMI;case"both":return eMT;case"either":return eMO;default:return e}},eMF=rS(2,(e,t)=>{switch(e._tag){case eMw:return t.onLeft();case eMx:return t.onRight();case eMk:return t.onBoth();case eM_:return t.onEither()}}),eMA=eME,eMM=eMI,eMN=eMT,eMR=eMO,eMD=eMC,eMj=e=>e._tag===eMw,eML=e=>e._tag===eMx,eMP=e=>e._tag===eMk,eM$=e=>e._tag===eM_,eMz=eMF;class eMU{value;constructor(e){this.value=e}}let eMB=(e,t)=>({ref:e,isNew:t,isChanged:!1,expected:e.versioned,newValue:e.versioned.value}),eMW=(e,t)=>{e.isChanged=!0,e.newValue=t},eMq=e=>{e.ref.versioned=new eMU(e.newValue)},eMK=e=>({ref:e.ref,isNew:e.isNew,isChanged:e.isChanged,expected:e.expected,newValue:e.newValue}),eMV=e=>e.ref.versioned!==e.expected,eMJ=e=>e.isChanged,eMH="Invalid",eMG="ReadWrite",eMZ=e=>{for(let t of e)eMq(t[1])},eMQ=e=>{let t="ReadOnly";for(let[,r]of e)if((t=eMV(r)?eMH:eMJ(r)?eMG:t)===eMH)break;return t},eMY="WithSTMRuntime",eMX="OnFailure",eM0="OnRetry",eM1="OnSuccess",eM2="Provide",eM6="Sync",eM3="Succeed",eM4="Retry",eM5="Fail",eM8="Interrupt",eM7="Fail",eM9="Interrupt",eNe="Succeed",eNt="Retry",eNr="Done",eNn="Suspend",eNi="Done",eNa="Interrupted",eNs="Running",eNo="effect/STM/State",eNl=Symbol.for(eNo),eNu=e=>({[eNl]:eNl,_tag:eNi,exit:e,[is](){return rD(io(eNo),iu(io(eNi)),iu(io(e)),ib(this))},[iS]:t=>nw(t,eNl)&&t._tag===eNi&&iv(e,t.exit)}),eNc=rD(io(eNo),iu(io(eNa)),iu(io("interrupted"))),eNh={[eNl]:eNl,_tag:eNa,[is]:()=>eNc,[iS]:e=>nw(e,eNl)&&e._tag===eNa},eNf=rD(io(eNo),iu(io(eNs)),iu(io("running"))),eNd={[eNl]:eNl,_tag:eNs,[is]:()=>eNf,[iS]:e=>nw(e,eNl)&&e._tag===eNs},eNp=e=>{switch(e._tag){case eM7:return eNu(Uq(e.error));case"Die":return eNu(UB(e.defect));case eM9:return eNu(UX(e.fiberId));case eNe:return eNu(U5(e.value));case eNt:throw Error("BUG: STM.STMState.fromTExit - please report an issue at https://github.com/Effect-TS/effect/issues")}},eNm="effect/TExit",eNg=Symbol.for(eNm),eNy={_A:e=>e,_E:e=>e},eNb=e=>({[eNg]:eNy,_tag:eM7,error:e,[is](){return rD(io(eNm),iu(io(eM7)),iu(io(e)),ib(this))},[iS]:t=>nw(t,eNg)&&t._tag===eM7&&iv(e,t.error)}),eNS=e=>({[eNg]:eNy,_tag:"Die",defect:e,[is](){return rD(io(eNm),iu(io("Die")),iu(io(e)),ib(this))},[iS]:t=>nw(t,eNg)&&"Die"===t._tag&&iv(e,t.defect)}),eNv=e=>({[eNg]:eNy,_tag:eM9,fiberId:e,[is](){return rD(io(eNm),iu(io(eM9)),iu(io(e)),ib(this))},[iS]:t=>nw(t,eNg)&&t._tag===eM9&&iv(e,t.fiberId)}),eNw=e=>({[eNg]:eNy,_tag:eNe,value:e,[is](){return rD(io(eNm),iu(io(eNe)),iu(io(e)),ib(this))},[iS]:t=>nw(t,eNg)&&t._tag===eNe&&iv(e,t.value)}),eNx=rD(io(eNm),iu(io(eNt)),iu(io("retry"))),eNk={[eNg]:eNy,_tag:eNt,[is]:()=>eNx,[iS]:e=>nw(e,eNg)&&e._tag===eNt},eN_=e=>({_tag:eNn,journal:e}),eNE={ref:0},eNI=Symbol.for("effect/STM"),eNT={_R:e=>e,_E:e=>e,_A:e=>e};class eNO{effect_instruction_i0;_op=iU;effect_instruction_i1=void 0;effect_instruction_i2=void 0;[egc];[i6];[eOB];[eIe];get[eNI](){return eNT}constructor(e){this.effect_instruction_i0=e,this[egc]=i5,this[i6]=eNT,this[eOB]=eNT,this[eIe]=eNT}[iS](e){return this===e}[is](){return ib(this,il(this))}[Symbol.iterator](){return new L$(new n5(this))}commit(){return eNA(this,rC,rC)}pipe(){return ij(this,arguments)}}let eNC=e=>nw(e,eNI),eNF=e=>eNA(e,rC,rC),eNA=(e,t,r)=>LH(n=>{let i=n.id(),a=n.getFiberRef(ewZ),s=n.getFiberRef(ew8),o=n.getFiberRef(ewQ),l=eNM(i,e,a,s,o);switch(l._tag){case eNr:return t(l.exit),l.exit;case eNn:{let n,l=(n=eNE.ref+1,eNE.ref=n,n),u={value:eNd},c=egU(t=>eNN(i,e,l,u,a,s,o,t));return eyM(e=>rD(e(c),eyt(e=>{let n=u.value;return n._tag===eNs&&(u.value=eNh),(n=u.value)._tag===eNi?(t(n.exit),n.exit):(r(),egJ(e))})))}}}),eNM=(e,t,r,n,i)=>{let a=new Map,s=new eNP(t,a,e,r).run(),o=eMQ(a);if(o===eMG&&s._tag===eNe)eMZ(a);else if(o===eMH)throw Error("BUG: STM.TryCommit.tryCommitSync - please report an issue at https://github.com/Effect-TS/effect/issues");switch(s._tag){case eNe:return eNR(U5(s.value),a,n,i);case eM7:return eNR(UK(esi(s.error)),a,n,i);case"Die":return eNR(UK(esa(s.defect)),a,n,i);case eM9:return eNR(UK(ess(e)),a,n,i);case eNt:return eN_(a)}},eNN=(e,t,r,n,i,a,s,o)=>{if(n.value._tag===eNs){let l=((e,t,r,n,i,a)=>{let s=new Map,o=new eNP(t,s,e,n).run(),l=eMQ(s);if(l===eMG)eMZ(s);else if(l===eMH)throw Error("BUG: STM.TryCommit.tryCommit - please report an issue at https://github.com/Effect-TS/effect/issues");switch(o._tag){case eNe:return r.value=eNp(o),eNR(U5(o.value),s,i,a);case eM7:return r.value=eNp(o),eNR(UK(esi(o.error)),s,i,a);case"Die":return r.value=eNp(o),eNR(UK(esa(o.defect)),s,i,a);case eM9:return r.value=eNp(o),eNR(UK(ess(e)),s,i,a);case eNt:return eN_(s)}})(e,t,n,i,a,s);switch(l._tag){case eNr:eND(l.exit,o);break;case eNn:((e,t,r)=>{for(let[,n]of t)n.ref.todos.has(e)||n.ref.todos.set(e,r)})(r,l.journal,()=>eNN(e,t,r,n,i,a,s,o))}}},eNR=(e,t,r,n)=>{let i=(e=>{let t=new Map;for(let[,r]of e){for(let e of r.ref.todos)t.set(e[0],e[1]);r.ref.todos=new Map}return t})(t);return i.size>0&&r.scheduleTask(()=>(e=>{for(let[t,r]of Array.from(e.entries()).sort((e,t)=>e[0]-t[0]))r()})(i),n),{_tag:eNr,exit:e}},eND=(e,t)=>{t(e)},eNj=()=>eNq((e,t,r)=>r),eNL=e=>eNH(eNj(),e);class eNP{self;journal;fiberId;contStack=[];env;constructor(e,t,r,n){this.self=e,this.journal=t,this.fiberId=r,this.env=n}getEnv(){return this.env}pushStack(e){this.contStack.push(e)}popStack(){return this.contStack.pop()}nextSuccess(){let e=this.popStack();for(;void 0!==e&&e.effect_instruction_i0!==eM1;)e=this.popStack();return e}nextFailure(){let e=this.popStack();for(;void 0!==e&&e.effect_instruction_i0!==eMX;)e=this.popStack();return e}nextRetry(){let e=this.popStack();for(;void 0!==e&&e.effect_instruction_i0!==eM0;)e=this.popStack();return e}run(){let e,t=this.self;for(;void 0===e&&void 0!==t;)try{let r=t;if(r)switch(r._op){case"Tag":t=eNq((e,t,n)=>Og(n,r));break;case"Left":t=eNV(r.left);break;case"None":t=eNV(new esQ);break;case"Right":t=eN2(r.right);break;case"Some":t=eN2(r.value);break;case"Commit":switch(r.effect_instruction_i0){case"Die":e=eNS(it(()=>r.effect_instruction_i1()));break;case eM5:{let n=this.nextFailure();void 0===n?e=eNb(it(()=>r.effect_instruction_i1())):t=it(()=>n.effect_instruction_i2(it(()=>r.effect_instruction_i1())));break}case eM4:{let r=this.nextRetry();void 0===r?e=eNk:t=it(()=>r.effect_instruction_i2());break}case eM8:e=eNv(this.fiberId);break;case eMY:t=it(()=>r.effect_instruction_i1(this));break;case eM1:case eMX:case eM0:this.pushStack(r),t=r.effect_instruction_i1;break;case eM2:{let e=this.env;this.env=it(()=>r.effect_instruction_i2(e)),t=rD(r.effect_instruction_i1,eNK(eN6(()=>this.env=e)));break}case eM3:{let n=r.effect_instruction_i1,i=this.nextSuccess();void 0===i?e=eNw(n):t=it(()=>i.effect_instruction_i2(n));break}case eM6:{let n=it(()=>r.effect_instruction_i1()),i=this.nextSuccess();void 0===i?e=eNw(n):t=it(()=>i.effect_instruction_i2(n))}}}}catch(e){t=eNU(e)}return e}}let eN$=rS(2,(e,t)=>{let r=new eNO(eMX);return r.effect_instruction_i1=e,r.effect_instruction_i2=t,r}),eNz=rS(2,(e,t)=>{let r=new eNO(eM2);return r.effect_instruction_i1=e,r.effect_instruction_i2=t,r}),eNU=e=>eNW(()=>e),eNB=e=>eNW(()=>new esX(e)),eNW=e=>{let t=new eNO("Die");return t.effect_instruction_i1=e,t},eNq=e=>eNZ(t=>eN2(e(t.journal,t.fiberId,t.getEnv()))),eNK=rS(2,(e,t)=>eNG(e,{onFailure:e=>eN5(t,eNV(e)),onSuccess:e=>eN5(t,eN2(e))})),eNV=e=>eNJ(()=>e),eNJ=e=>{let t=new eNO(eM5);return t.effect_instruction_i1=e,t},eNH=rS(2,(e,t)=>{let r=new eNO(eM1);return r.effect_instruction_i1=e,r.effect_instruction_i2=t,r}),eNG=rS(2,(e,{onFailure:t,onSuccess:r})=>rD(e,eNX(aI),eN$(e=>rD(t(e),eNX(aO))),eNH(e=>{switch(e._tag){case"Left":return eN2(e.left);case"Right":return r(e.right)}}))),eNZ=e=>{let t=new eNO(eMY);return t.effect_instruction_i1=e,t},eNQ=eNZ(e=>{let t=new eNO(eM8);return t.effect_instruction_i1=e.fiberId,t}),eNY=e=>{let t=new eNO(eM8);return t.effect_instruction_i1=e,t},eNX=rS(2,(e,t)=>rD(e,eNH(e=>eN6(()=>t(e))))),eN0=rS(2,(e,t)=>{let r=new eNO(eM0);return r.effect_instruction_i1=e,r.effect_instruction_i2=t,r}),eN1=new eNO(eM4),eN2=e=>{let t=new eNO(eM3);return t.effect_instruction_i1=e,t},eN6=e=>{let t=new eNO(eM6);return t.effect_instruction_i1=e,t},eN3=rS(2,(e,t)=>rD(e,eN8(t,(e,t)=>[e,t]))),eN4=rS(2,(e,t)=>rD(e,eNH(e=>rD(t,eNX(()=>e))))),eN5=rS(2,(e,t)=>rD(e,eNH(()=>t))),eN8=rS(3,(e,t,r)=>rD(e,eNH(e=>rD(t,eNX(t=>r(e,t)))))),eN7="BackPressure",eN9="Dropping",eRe="Sliding",eRt=rS(3,(e,t,r)=>eyM(n=>{let i=eNd;return rD(n(eNA(e,e=>{i=eNu(e)},()=>{i=eNh})),eSY({onFailure:e=>i._tag===eNi&&Uj(i.exit)?rD(r(i.exit.value),eSY({onFailure:t=>egJ(eso(e,t)),onSuccess:()=>egJ(e)})):egJ(e),onSuccess:e=>rD(n(t(e)),eSY({onFailure:t=>rD(r(e),eSY({onFailure:e=>egJ(eso(t,e)),onSuccess:()=>egJ(t)})),onSuccess:t=>rD(r(e),eyR(t))}))}))})),eRr=rS(2,(e,t)=>rD(e,eNX(()=>t))),eRn=e=>rD(e,eNX(sF)),eRi=e=>rD(e,eNX(rC)),eRa=e=>eDl(()=>{try{return eN2(e())}catch(e){return eNV(e)}}),eRs=rS(3,(e,t,r)=>eNH(e,e=>eNX(r(e),r=>({...e,[t]:r})))),eRo=rS(2,(e,t)=>eNX(e,e=>({[t]:e}))),eRl=rS(3,(e,t,r)=>eNX(e,e=>({...e,[t]:r(e)}))),eRu=rS(2,(e,t)=>eN$(e,e=>s$(t(e),()=>eNV(e)))),eRc=rS(3,(e,t,r)=>eN$(e,e=>"_tag"in e&&e._tag===t?r(e):eNV(e))),eRh=rS(2,(e,t)=>eN$(e,e=>{let r=Object.keys(t);return"_tag"in e&&r.includes(e._tag)?t[e._tag](e):eNV(e)})),eRf=rS(2,(e,t)=>eRd(e,e=>sQ(t(e),eN2))),eRd=rS(2,(e,t)=>eNG(e,{onFailure:eNV,onSuccess:e=>{let r=t(e);return sN(r)?r.value:eN1}})),eRp=e=>eRO(e,{onFailure:aO,onSuccess:aI}),eRm=e=>eNG(e,{onFailure:()=>eRm(e),onSuccess:eN2}),eRg=rS(2,(e,t)=>eNH(eN6(()=>e[Symbol.iterator]()),e=>{let r=eDl(()=>{let n=e.next();return n.done?eN2(!0):rD(t(n.value),eNH(e=>e?r:eN2(e)))});return r})),eRy=rS(2,(e,t)=>eNH(eN6(()=>e[Symbol.iterator]()),e=>{let r=eDl(()=>{let n=e.next();return n.done?eN2(!1):eNH(t(n.value),e=>e?eN2(e):r)});return r})),eRb=eNq((e,t)=>t),eRS=rS(2,(e,t)=>Array.from(e).reduce((e,r)=>rD(e,eN8(t(r),(e,t)=>(t&&e.push(r),e))),eN2([]))),eRv=rS(2,(e,t)=>eRS(e,e=>eRz(t(e)))),eRw=rS(3,(e,t,r)=>eRk(e,t,()=>eNW(r))),eRx=rS(3,(e,t,r)=>eRk(e,t,()=>eNB(r))),eRk=rS(3,(e,t,r)=>eNH(e,e=>t(e)?eN2(e):r(e))),eR_=rS(3,(e,t,r)=>eRk(e,t,e=>eNJ(()=>r(e)))),eRE=e=>eNH(e,rw),eRI=e=>eNG(e,{onFailure:eN2,onSuccess:eNV}),eRT=rS(2,(e,t)=>eRI(t(eRI(e)))),eRO=rS(2,(e,{onFailure:t,onSuccess:r})=>eNG(e,{onFailure:e=>eN2(t(e)),onSuccess:e=>eN2(r(e))})),eRC=rS(e=>nO(e[0]),(e,t,r)=>r?.discard?rD(eN6(()=>e[Symbol.iterator]()),eNH(e=>{let r=eDl(()=>{let n=e.next();return n.done?eDf:rD(t(n.value),eNH(()=>r))});return r})):eDl(()=>ui(e).reduce((e,r)=>eN8(e,t(r),(e,t)=>(e.push(t),e)),eN2([])))),eRF=e=>{switch(e._tag){case"Left":return eNV(e.left);case"Right":return eN2(e.right)}},eRA=rS(e=>"boolean"==typeof e[0]||eNC(e[0]),(e,{onFalse:t,onTrue:r})=>"boolean"==typeof e?e?r:t:eNH(e,e=>e?r:t)),eRM=(e,t)=>eRN(e,t.while,t.body),eRN=(e,t,r)=>t(e)?rD(r(e),eNH(e=>eRN(e,t,r))):eN2(e),eRR=(e,t,r,n)=>t(e)?rD(n(e),eNH(i=>rD(eRR(r(e),t,r,n),eNX(Oq(i))))):eN2(OM()),eRD=(e,t,r,n)=>t(e)?rD(n(e),eNH(()=>eRD(r(e),t,r,n))):eDf,eRj=rS(2,(e,t)=>eNG(e,{onFailure:e=>eNV(e),onSuccess:e=>eRa(()=>t(e))})),eRL=rS(2,(e,{onFailure:t,onSuccess:r})=>eNG(e,{onFailure:e=>eNV(t(e)),onSuccess:e=>eN2(r(e))})),eRP=rS(2,(e,t)=>eNG(e,{onFailure:e=>eNV(t(e)),onSuccess:eN2})),eR$=rS(3,(e,t,r)=>eDl(()=>Array.from(e).reduce((e,t)=>rD(e,eN8(t,r)),eN2(t)))),eRz=e=>rD(e,eNX(e=>!e)),eRU=rS(2,(e,t)=>rD(e,eRP(t),eN$(eNU))),eRB=rS(2,(e,t)=>eNH(eNq(e=>(e=>{let t=new Map;for(let r of e)t.set(r[0],eMK(r[1]));return()=>{for(let r of(e.clear(),t))e.set(r[0],r[1])}})(e)),r=>rD(eN0(e,()=>eNH(eN6(r),t)),eN$(()=>eNH(eN6(r),t))))),eRW=rS(2,(e,t)=>eRB(eNX(e,aO),()=>eNX(t(),aI))),eRq=rS(2,(e,t)=>eRB(e,()=>eNJ(t))),eRK=rS(2,(e,t)=>eN$(e,sR({onNone:t,onSome:e=>eNV(sF(e))}))),eRV=rS(2,(e,t)=>eRB(e,()=>eN6(t))),eRJ=rS(2,(e,t)=>eNz(e,e=>t)),eRH=rS(2,(e,t)=>eNz(e,e=>Ob(e,t))),eRG=rS(3,(e,t,r)=>eRZ(e,t,eN2(r))),eRZ=rS(3,(e,t,r)=>eNL(n=>eNH(r,r=>eRJ(e,Od(n,t,r))))),eRQ=rS(3,(e,t,r)=>eDl(()=>Array.from(e).reduce((e,t)=>rD(e,eNH(e=>r(e,t))),eN2(t)))),eRY=rS(3,(e,t,r)=>eDl(()=>Array.from(e).reduce((e,t)=>rD(e,eN8(t,r)),t))),eRX=rS(3,(e,t,r)=>eDl(()=>Array.from(e).reduceRight((e,t)=>rD(e,eNH(e=>r(e,t))),eN2(t)))),eR0=rS(2,(e,t)=>eR1(e,t,rw)),eR1=rS(3,(e,t,r)=>eN$(e,e=>sR(t(e),{onNone:()=>eNU(r(e)),onSome:eNV}))),eR2=rS(2,(e,t)=>eR6(e,e=>sQ(t(e),eNV))),eR6=rS(2,(e,t)=>eNH(e,e=>sR(t(e),{onNone:()=>eN2(e),onSome:eNH(eNV)}))),eR3=rS(2,(e,t)=>eR4(e,t)),eR4=(e,t)=>eNH(e,r=>t(r)?eN2(r):eR4(e,t)),eR5=rS(2,(e,t)=>eR8(e,t)),eR8=(e,t)=>eNH(e,r=>t(r)?eR8(e,t):eN2(r)),eR7=rS(2,(e,t)=>Array.from({length:t},()=>e)),eR9=rS(2,(e,t)=>eDi(eR7(e,t))),eDe=rS(2,(e,t)=>eDi(eR7(e,t),{discard:!0})),eDt=rS(2,(e,t)=>eNG(e,{onFailure:eNV,onSuccess:e=>t(e)?eN2(e):eN1})),eDr=rS(2,(e,t)=>eNG(e,{onFailure:eNV,onSuccess:e=>t(e)?eN1:eN2(e)})),eDn=rS(2,(e,t)=>rD(eRC(e,e=>eRp(t(e))),eNX(e=>cD(e,rw)))),eDi=(e,t)=>Symbol.iterator in e?eRC(e,rw,t):t?.discard?eRC(Object.values(e),rw,t):eNX(eRC(Object.entries(e),([e,t])=>eNX(t,t=>[e,t])),e=>{let t={};for(let[r,n]of e)t[r]=n;return t}),eDa=eN2(sC()),eDs=e=>eN2(sF(e)),eDo=rS(3,(e,t,r)=>eNH(t,n=>eNH(e,e=>eNX(t,t=>[r(n,t),e])))),eDl=e=>eRE(eN6(e)),eDu=rS(2,(e,t)=>eNH(e,e=>eRr(t(e),e))),eDc=rS(2,(e,{onFailure:t,onSuccess:r})=>eNG(e,{onFailure:e=>rD(t(e),eN5(eNV(e))),onSuccess:e=>rD(r(e),eRr(e))})),eDh=rS(2,(e,t)=>eNG(e,{onFailure:e=>eN5(t(e),eNV(e)),onSuccess:eN2})),eDf=eN2(void 0),eDd=rS(2,(e,t)=>eDl(()=>t()?eDa:eRn(e))),eDp=rS(2,(e,t)=>eNH(t,t=>t?eDa:eRn(e))),eDm=rS(2,(e,t)=>eNH(eDn(e,t),([e,t])=>uv(e)?eNV(e):eN2(t))),eDg=rS(2,(e,t)=>eRI(eRC(e,e=>eRI(t(e))))),eDy=rS(2,(e,t)=>eDl(()=>t()?eRn(e):eDa)),eDb=rS(2,(e,t)=>eNH(t,t=>t?eRn(e):eDa)),eDS=Symbol.for("effect/TRef"),eDv={_A:e=>e};class eDw{[eDS]=eDv;todos;versioned;constructor(e){this.versioned=new eMU(e),this.todos=new Map}modify(e){return eNq(t=>{let r=eDD(this,t),[n,i]=e(r.newValue);return eMW(r,i),n})}pipe(){return ij(this,arguments)}}let eDx=e=>eNq(t=>{let r=new eDw(e);return t.set(r,eMB(r,!0)),r}),eDk=e=>e.modify(e=>[e,e]),eD_=rS(2,(e,t)=>e.modify(()=>[void 0,t])),eDE=rS(2,(e,t)=>e.modify(e=>[e,t])),eDI=rS(2,(e,t)=>e.modify(e=>[e,t(e)])),eDT=rS(2,(e,t)=>e.modify(e=>sR(t(e),{onNone:()=>[e,e],onSome:t=>[e,t]}))),eDO=rS(2,(e,t)=>e.modify(()=>[t,t])),eDC=rS(2,(e,t)=>e.modify(t)),eDF=rS(3,(e,t,r)=>e.modify(e=>sR(r(e),{onNone:()=>[t,e],onSome:e=>e}))),eDA=rS(2,(e,t)=>e.modify(e=>[void 0,t(e)])),eDM=rS(2,(e,t)=>e.modify(e=>{let r=t(e);return[r,r]})),eDN=rS(2,(e,t)=>e.modify(e=>[void 0,sR(t(e),{onNone:()=>e,onSome:e=>e})])),eDR=rS(2,(e,t)=>e.modify(e=>sR(t(e),{onNone:()=>[e,e],onSome:e=>[e,e]}))),eDD=(e,t)=>{if(t.has(e))return t.get(e);let r=eMB(e,!1);return t.set(e,r),r},eDj=rS(2,(e,t)=>eDD(e,t).newValue),eDL=rS(3,(e,t,r)=>{eMW(eDD(e,r),t)}),eDP=Symbol.for("effect/TQueue/TEnqueue"),eD$=Symbol.for("effect/TQueue/TDequeue"),eDz={_tag:eN7},eDU={_tag:eN9},eDB={_tag:eRe},eDW={_Out:e=>e},eDq={_In:e=>e};class eDK{ref;requestedCapacity;strategy;[eD$]=eDW;[eDP]=eDq;constructor(e,t,r){this.ref=e,this.requestedCapacity=t,this.strategy=r}capacity(){return this.requestedCapacity}size=eNZ(e=>{let t=eDj(this.ref,e.journal);return void 0===t?eNY(e.fiberId):eN2(t.length)});isFull=eNX(this.size,e=>e===this.requestedCapacity);isEmpty=eNX(this.size,e=>0===e);shutdown=eNZ(e=>(eDL(this.ref,void 0,e.journal),eDf));isShutdown=eNq(e=>void 0===eDj(this.ref,e));awaitShutdown=eNH(this.isShutdown,e=>e?eDf:eN1);offer(e){return eNZ(t=>{let r=rD(this.ref,eDj(t.journal));if(void 0===r)return eNY(t.fiberId);if(r.length<this.requestedCapacity)return r.push(e),eDL(this.ref,r,t.journal),eN2(!0);switch(this.strategy._tag){case eN7:return eN1;case eN9:return eN2(!1);case eRe:if(0===r.length)return eN2(!0);return r.shift(),r.push(e),eDL(this.ref,r,t.journal),eN2(!0)}})}offerAll(e){return eNZ(t=>{let r=Array.from(e),n=eDj(this.ref,t.journal);if(void 0===n)return eNY(t.fiberId);if(n.length+r.length<=this.requestedCapacity)return eDL(this.ref,[...n,...r],t.journal),eN2(!0);switch(this.strategy._tag){case eN7:return eN1;case eN9:{let e=r.slice(0,this.requestedCapacity-n.length);return eDL(this.ref,[...n,...e],t.journal),eN2(!1)}case eRe:{let e=r.slice(0,this.requestedCapacity-n.length),i=n.length+e.length-this.requestedCapacity,a=n.slice(i);return eDL(this.ref,[...a,...e],t.journal),eN2(!0)}}})}peek=eNZ(e=>{let t=eDj(this.ref,e.journal);return void 0===t?eNY(e.fiberId):0===t.length?eN1:eN2(t[0])});peekOption=eNZ(e=>{let t=eDj(this.ref,e.journal);return void 0===t?eNY(e.fiberId):eN2(sq(t[0]))});take=eNZ(e=>{let t=eDj(this.ref,e.journal);if(void 0===t)return eNY(e.fiberId);if(0===t.length)return eN1;let r=t.shift();return eDL(this.ref,t,e.journal),eN2(r)});takeAll=eNZ(e=>{let t=eDj(this.ref,e.journal);return void 0===t?eNY(e.fiberId):(eDL(this.ref,[],e.journal),eN2(t))});takeUpTo(e){return eNZ(t=>{let r=eDj(this.ref,t.journal);if(void 0===r)return eNY(t.fiberId);let[n,i]=Cd(OU(r),e);return eDL(this.ref,Array.from(i),t.journal),eN2(Array.from(n))})}}let eDV=e=>nw(e,eDP),eDJ=e=>nw(e,eD$),eDH=rS(2,(e,t)=>e.offer(t)),eDG=rS(2,(e,t)=>e.offerAll(t)),eDZ=rS(2,(e,t)=>eDQ(e,t)),eDQ=(e,t)=>eNH(e.take,r=>t(r)?eN2(r):eDQ(e,t)),eDY=e=>e.shutdown,eDX=rS(3,(e,t,r)=>eDl(()=>{let n=(t,r,i)=>r<t?eN2(i):rD(e.takeUpTo(r),eNH(a=>{let s=t-a.length;return 1===s?rD(e.take,eNX(e=>rD(i,OQ(OU(a)),Oq(e)))):s>1?rD(e.take,eNH(e=>n(s-1,r-a.length-1,rD(i,OQ(OU(a)),Oq(e))))):eN2(rD(i,OQ(OU(a))))}));return eNX(n(t,r,OM()),e=>Array.from(e))})),eD0=rS(2,(e,t)=>rD(e,eDX(t,t))),eD1=rS(2,(e,t)=>e.takeUpTo(t)),eD2=(e,t)=>eNX(eDx([]),r=>new eDK(r,e,t)),eD6=Symbol.for("effect/TPubSub"),eD3=Symbol.for("effect/TPubSub/AbsentValue"),eD4=(e,t,r)=>({head:e,subscribers:t,tail:r});class eD5{pubsubSize;publisherHead;publisherTail;requestedCapacity;strategy;subscriberCount;subscribers;[eD6]={_A:e=>e};[eDP]=eDq;constructor(e,t,r,n,i,a,s){this.pubsubSize=e,this.publisherHead=t,this.publisherTail=r,this.requestedCapacity=n,this.strategy=i,this.subscriberCount=a,this.subscribers=s}isShutdown=eNq(e=>void 0===eDj(this.publisherTail,e));awaitShutdown=eNH(this.isShutdown,e=>e?eDf:eN1);capacity(){return this.requestedCapacity}size=eNZ(e=>void 0===eDj(this.publisherTail,e.journal)?eNY(e.fiberId):eN2(eDj(this.pubsubSize,e.journal)));isEmpty=eNX(this.size,e=>0===e);isFull=eNX(this.size,e=>e===this.capacity());offer(e){return eNZ(t=>{let r=eDj(this.publisherTail,t.journal);if(void 0===r)return eNY(t.fiberId);let n=eDj(this.subscriberCount,t.journal);if(0===n)return eN2(!0);let i=eDj(this.pubsubSize,t.journal);if(i<this.requestedCapacity){let a=new eDw(void 0);return eDL(r,eD4(e,n,a),t.journal),eDL(this.publisherTail,a,t.journal),eDL(this.pubsubSize,i+1,t.journal),eN2(!0)}switch(this.strategy._tag){case eN7:return eN1;case eN9:return eN2(!1);case eRe:{if(this.requestedCapacity>0){let e=eDj(this.publisherHead,t.journal),r=!0;for(;r;){let n=eDj(e,t.journal);if(void 0===n)return eN1;let i=n.head,a=n.tail;i!==eD3?(eDL(e,eD4(eD3,n.subscribers,n.tail),t.journal),eDL(this.publisherHead,a,t.journal),r=!1):e=a}}let i=new eDw(void 0);return eDL(r,eD4(e,n,i),t.journal),eDL(this.publisherTail,i,t.journal),eN2(!0)}}})}offerAll(e){return eNX(eRC(e,e=>this.offer(e)),cZ(rw))}shutdown=eNq(e=>{void 0!==eDj(this.publisherTail,e)&&(eDL(this.publisherTail,void 0,e),Mw(eDj(this.subscribers,e),t=>{eDL(t,void 0,e)}),eDL(this.subscribers,Me(),e))})}class eD8{pubsubSize;publisherHead;requestedCapacity;subscriberHead;subscriberCount;subscribers;[eD6]=eD6;[eD$]=eDW;constructor(e,t,r,n,i,a){this.pubsubSize=e,this.publisherHead=t,this.requestedCapacity=r,this.subscriberHead=n,this.subscriberCount=i,this.subscribers=a}isShutdown=eNq(e=>void 0===eDj(this.subscriberHead,e));awaitShutdown=eNH(this.isShutdown,e=>e?eDf:eN1);capacity(){return this.requestedCapacity}size=eNZ(e=>{let t=eDj(this.subscriberHead,e.journal);if(void 0===t)return eNY(e.fiberId);let r=!0,n=0;for(;r;){let i=eDj(t,e.journal);void 0===i?r=!1:(i.head!==eD3&&(n+=1)>=Number.MAX_SAFE_INTEGER&&(r=!1),t=i.tail)}return eN2(n)});isEmpty=eNX(this.size,e=>0===e);isFull=eNX(this.size,e=>e===this.capacity());peek=eNZ(e=>{let t=eDj(this.subscriberHead,e.journal);if(void 0===t)return eNY(e.fiberId);let r=eD3,n=!0;for(;n;){let i=eDj(t,e.journal);if(void 0===i)return eN1;let a=i.head,s=i.tail;a!==eD3?(r=a,n=!1):t=s}return eN2(r)});peekOption=eNZ(e=>{let t=eDj(this.subscriberHead,e.journal);if(void 0===t)return eNY(e.fiberId);let r=sC(),n=!0;for(;n;){let i=eDj(t,e.journal);if(void 0===i)r=sC(),n=!1;else{let e=i.head,a=i.tail;e!==eD3?(r=sF(e),n=!1):t=a}}return eN2(r)});shutdown=eNq(e=>{let t=eDj(this.subscriberHead,e);if(void 0!==t){eDL(this.subscriberHead,void 0,e);let r=!0;for(;r;){let n=eDj(t,e);if(void 0===n)r=!1;else{let r=n.head,i=n.tail;if(r!==eD3){let a=n.subscribers;if(1===a){let r=eDj(this.pubsubSize,e);eDL(t,eD4(eD3,0,i),e),eDL(this.publisherHead,i,e),eDL(this.pubsubSize,r-1,e)}else eDL(t,eD4(r,a-1,i),e)}t=i}}let n=eDj(this.subscriberCount,e);eDL(this.subscriberCount,n-1,e),eDL(this.subscribers,Mp(eDj(this.subscribers,e),this.subscriberHead),e)}});take=eNZ(e=>{let t=eDj(this.subscriberHead,e.journal);if(void 0===t)return eNY(e.fiberId);let r=eD3,n=!0;for(;n;){let i=eDj(t,e.journal);if(void 0===i)return eN1;let a=i.head,s=i.tail;if(a!==eD3){let o=i.subscribers;if(1===o){let r=eDj(this.pubsubSize,e.journal);eDL(t,eD4(eD3,0,s),e.journal),eDL(this.publisherHead,s,e.journal),eDL(this.pubsubSize,r-1,e.journal)}else eDL(t,eD4(a,o-1,s),e.journal);eDL(this.subscriberHead,s,e.journal),r=a,n=!1}else t=s}return eN2(r)});takeAll=this.takeUpTo(1/0);takeUpTo(e){return eNZ(t=>{let r=eDj(this.subscriberHead,t.journal);if(void 0===r)return eNY(t.fiberId);let n=[],i=0;for(;i!==e;){let a=eDj(r,t.journal);if(void 0===a)i=e;else{let e=a.head,s=a.tail;if(e!==eD3){let o=a.subscribers;if(1===o){let e=eDj(this.pubsubSize,t.journal);eDL(r,eD4(eD3,0,s),t.journal),eDL(this.publisherHead,s,t.journal),eDL(this.pubsubSize,e-1,t.journal)}else eDL(r,eD4(e,o-1,s),t.journal);n.push(e),i+=1}r=s}}return eDL(this.subscriberHead,r,t.journal),eN2(n)})}}let eD7=(e,t)=>rD(eDi([eDx(void 0),eDx(0)]),eNH(([r,n])=>rD(eDi([eDx(r),eDx(r),eDx(0),eDx(Me())]),eNX(([r,i,a,s])=>new eD5(n,r,i,e,t,a,s))))),eD9=rS(2,(e,t)=>e.offer(t)),eje=rS(2,(e,t)=>e.offerAll(t)),ejt=e=>{let t,r,n,i,a,s;return t=e.pubsubSize,r=e.publisherHead,n=e.publisherTail,i=e.requestedCapacity,a=e.subscriberCount,s=e.subscribers,rD(eDk(n),eNH(e=>rD(eDi([eDx(e),eDk(a),eDk(s)]),eDu(([e,t])=>rD(a,eD_(t+1))),eDu(([e,t,r])=>rD(s,eD_(rD(r,Md(e))))),eNX(([e])=>new eD8(t,r,i,e,a,s)))))},ejr=eD6,ejn=e=>e.awaitShutdown,eji=e=>eD7(e,eDz),eja=e=>e.capacity(),ejs=e=>eD7(e,eDU),ejo=e=>e.isEmpty,ejl=e=>e.isFull,eju=e=>e.shutdown,ejc=e=>e.isShutdown,ejh=eD9,ejf=eje,ejd=e=>e.size,ejp=e=>eD7(e,eDB),ejm=ejt,ejg=e=>eyJ(ejt(e),e=>eDY(e)),ejy=()=>eD7(Number.MAX_SAFE_INTEGER,eDU),ejb=eD$,ejS=eDP,ejv=e=>eDV(e)&&eDJ(e),ejw=eDJ,ejx=eDV,ejk=e=>e.awaitShutdown,ej_=e=>eD2(e,eDz),ejE=e=>e.capacity(),ejI=e=>eD2(e,eDU),ejT=e=>e.isEmpty,ejO=e=>e.isFull,ejC=e=>e.isShutdown,ejF=eDH,ejA=eDG,ejM=e=>e.peek,ejN=e=>e.peekOption,ejR=e=>rD(e.takeUpTo(1),eNX(uC)),ejD=eDZ,ejj=eDY,ejL=e=>e.size,ejP=e=>eD2(e,eDB),ej$=e=>e.take,ejz=e=>e.takeAll,ejU=eDX,ejB=eD0,ejW=eD1,ejq=()=>eD2(Number.MAX_SAFE_INTEGER,eDU);class ejK{capacity;array;size=0;current=0;constructor(e){this.capacity=e,this.array=Array.from({length:e},rO)}head(){return sq(this.array[this.current])}lastOrNull(){if(0===this.size)return;let e=0===this.current?this.array.length-1:this.current-1;return this.array[e]??void 0}put(e){this.array[this.current]=e,this.increment()}dropLast(){this.size>0&&(this.decrement(),this.array[this.current]=void 0)}toChunk(){let e=this.current-this.size;return OD(e<0?[...this.array.slice(this.capacity+e,this.capacity),...this.array.slice(0,this.current)]:this.array.slice(e,this.current))}increment(){this.size<this.capacity&&(this.size+=1),this.current=(this.current+1)%this.capacity}decrement(){this.size-=1,this.current>0?this.current-=1:this.current=this.capacity-1}}let ejV="NotStarted",ejJ="Previous",ejH="Current",ejG={_tag:ejV},ejZ=e=>Object.assign(e,{chunk(e){return this(eg2(e))},die(e){return this(egG(e))},dieMessage(e){return this(egZ(e))},done(e){return this(eg4(()=>U1(e,{onFailure:sF,onSuccess:OR})))},end(){return this(egK(sC()))},fail(e){return this(egK(sF(e)))},fromEffect(e){return this(eyB(e,{onFailure:sF,onSuccess:OR}))},fromEffectChunk(e){return this(rD(e,eyW(sF)))},halt(e){return this(egJ(rD(e,esD(sF))))},single(e){return this(eg2(OR(e)))}}),ejQ=Symbol.for("effect/Stream/Handoff"),ejY="Empty",ejX="Full",ej0=e=>({_tag:ejY,notifyConsumer:e}),ej1=(e,t)=>r=>{switch(r._tag){case ejY:return e(r.notifyConsumer);case ejX:return t(r.value,r.notifyProducer)}},ej2={_A:e=>e},ej6=()=>rD(Up(),eSm(e=>Vt(ej0(e))),eyz(e=>({[ejQ]:ej2,ref:e}))),ej3=rS(2,(e,t)=>eSm(Up(),r=>eSy(Vs(e.ref,n=>rD(n,ej1(e=>[evz(UF(e,void 0),Ug(r)),{_tag:ejX,value:t,notifyProducer:r}],(r,i)=>[eSm(Ug(i),()=>rD(e,ej3(t))),n])))))),ej4=e=>eSm(Up(),t=>eSy(Vs(e.ref,r=>rD(r,ej1(t=>[eSm(Ug(t),()=>ej4(e)),r],(e,r)=>[eyR(UF(r,void 0),e),ej0(t)]))))),ej5="Emit",ej8="Halt",ej7=e=>({_tag:ej5,elements:e}),ej9=e=>({_tag:ej8,cause:e}),eLe=e=>({_tag:"End",reason:e}),eLt="ScheduleEnd",eLr="UpstreamEnd",eLn={_tag:eLt},eLi={_tag:eLr},eLa="DrainLeft",eLs="DrainRight",eLo="PullBoth",eLl="PullLeft",eLu="PullRight",eLc={_tag:eLa},eLh={_tag:eLs},eLf={_tag:eLo},eLd=e=>({_tag:eLl,rightChunk:e}),eLp=e=>({_tag:eLu,leftChunk:e}),eLm="PullBoth",eLg="PullLet",eLy="PullRight",eLb={_tag:eLm},eLS=e=>({_tag:eLg,rightChunk:e}),eLv=e=>({_tag:eLy,leftChunk:e}),eLw=Symbol.for("effect/Take"),eLx={_A:e=>e,_E:e=>e};class eLk{exit;[eLw]=eLx;constructor(e){this.exit=e}pipe(){return ij(this,arguments)}}let eL_=e=>new eLk(U5(e)),eLE=e=>eg4(()=>e.exit),eLI=new eLk(Uq(sC())),eLT=e=>new eLk(UK(rD(e,esD(sF)))),eLO=e=>eSQ(e,{onFailure:e=>sR(esT(e),{onNone:()=>eLI,onSome:eLT}),onSuccess:eL_}),eLC=rS(2,(e,{onEnd:t,onFailure:r,onSuccess:n})=>U3(e.exit,{onFailure:e=>sR(esT(e),{onNone:t,onSome:r}),onSuccess:n})),eLF=rS(2,(e,{onEnd:t,onFailure:r,onSuccess:n})=>U4(e.exit,{onFailure:e=>sR(esT(e),{onNone:()=>t,onSome:r}),onSuccess:n})),eLA=rS(2,(e,t)=>new eLk(rD(e.exit,U0(Ca(t))))),eLM=e=>new eLk(U5(OR(e))),eLN=rS(2,(e,t)=>rD(e.exit,UG(t),eyL)),eLR=Symbol.for("effect/Stream"),eLD={_R:e=>e,_E:e=>e,_A:e=>e};class eLj{channel;[eLR]=eLD;constructor(e){this.channel=e}pipe(){return ij(this,arguments)}}let eLL=e=>nw(e,eLR)||egh(e),eLP=4096,eL$=e=>{let t=e=>eIk({onInput:r=>{let n=OQ(e,r);return eIy(eIF(n),()=>t(n))},onFailure:eId,onDone:()=>eIC});return new eLj(eIv(eP6(e),t(OM())))},eLz=(e,t)=>ezX(eyJ(e,t)),eLU=rS(2,(e,t)=>eLB(e,t,eAC)),eLB=rS(3,(e,t,r)=>ePU(eLW(e,t,r),e=>aU(e,{onLeft:sC,onRight:sF}))),eLW=rS(3,(e,t,r)=>eP5(egy([ej6(),Vt(eLn),Vt(OM()),eAv(r),Vt(!1),Vt(!1)])).pipe(ePJ(([r,n,i,a,s,o])=>{let l=eI_({onInput:e=>eIy(eIS(rD(r,ej3(ej7(e)),eSh(()=>O7(e)))),()=>l),onFailure:e=>eIS(ej3(r,ej9(e))),onDone:()=>eIS(ej3(r,eLe(eLi)))}),u=rD(Vn(i,OM()),eSm(e=>O7(e)?rD(Vl(s,!0),evz(eg2(rD(eIF(e),eIy(()=>u))))):rD(ej4(r),eyz(e=>{switch(e._tag){case ej5:return rD(eIS(Vl(s,!0)),eOP(eIF(e.elements)),eOP(eIS(Vr(o))),eIy(e=>e?eIC:u));case ej8:return eIm(e.cause);case"End":if(e.reason._tag===eLt)return rD(Vr(s),eyz(e=>e?eIS(rD(Vl(n,eLn),evz(Vl(o,!0)))):rD(eIS(rD(Vl(n,eLn),evz(Vl(o,!0)))),eIy(()=>u))),eOO);return rD(Vl(n,e.reason),evz(Vl(o,!0)),eIS)}}))),eOO),c=(e,l,h)=>{let f=rD(Vl(s,!1),evz(Vl(o,!1)),evz(rD(u,eOc(eFe(t)),eIa,eOg,ebh(h)))),d=(e,t,r)=>rD(Vl(i,O3(e)),evz(eyz(Vr(n),e=>{switch(e._tag){case eLt:let n;return rD(egy([Vr(s),f,rD((n=sF(t),a.next(n)),ebh(h))]),eyz(([e,n,i])=>{let a=rD(r,sR({onNone:()=>OR(aI(t)),onSome:e=>ON(aI(t),aO(e))}));return e?rD(eIF(a),eIy(()=>c(n,i,h))):c(n,i,h)}),eOO);case eLr:return rD(Vr(s),eyz(e=>e?eIF(OR(aI(t))):eIC),eOO)}})),eOO);return eOO(eSw(el3(e),el3(l),{onSelfDone:(e,t)=>rD(elQ(l),evz(rD(eg4(()=>e),eyz(([e,t])=>d(e,t,sC()))))),onOtherDone:(t,n)=>eSY(eg4(()=>t),{onFailure:t=>aU(esI(t),{onLeft:()=>rD(r,ej3(eLe(eLn)),ebu,evz(rD(el3(e),eyz(([e,t])=>d(e,t,sC()))))),onRight:t=>rD(r,ej3(ej9(t)),ebu,evz(rD(el3(e),eyz(([e,t])=>d(e,t,sC())))))}),onSuccess:t=>rD(r,ej3(eLe(eLn)),ebu,evz(rD(el3(e),eyz(([e,r])=>d(e,r,sF(t))))))})}))};return eUD(r=>eIv(eP6(e),l).pipe(eOg,ebh(r),evz(eOc(u,eFe(t)).pipe(eIa,eOg,ebh(r),eSm(e=>{let t;return(t=sC(),a.next(t)).pipe(ebh(r),eyz(t=>new eLj(c(e,t,r))))})))))}))),eLq=rS(2,(e,t)=>e$v(e,()=>t)),eLK=e=>{if("unbounded"===e)return eEm();if("number"==typeof e||void 0===e)return eEf(e??16);switch(e.strategy){case"dropping":return eEd(e.bufferSize??16);case"sliding":return eEp(e.bufferSize??16);default:return eEf(e.bufferSize??16)}},eLV=(e,t)=>eyJ(t?.bufferSize==="unbounded"||t?.bufferSize===void 0&&t?.strategy===void 0?eEm():t?.strategy==="sliding"?eEp(t.bufferSize??16):eEd(t?.bufferSize??16),eEx).pipe(eSk(t=>ewj(ew8,r=>e(((e,t)=>{let r=!1,n=[],i=!1;function a(e){if(r)return!1;if(e.length<=5e4)n.push.apply(n,e);else for(let t=0;t<e.length;t++)n.push(e[0]);return i||(i=!0,t.scheduleTask(s,0)),!0}function s(){i=!1,n.length>0&&(e.unsafeOffer(n),n=[])}function o(t){r||(r=!0,"Success"===t._tag&&n.push(t.value),s(),e.unsafeOffer("Success"===t._tag?U8:t))}return{single:e=>!r&&(n.push(e),i||(i=!0,t.scheduleTask(s,0)),!0),array:a,chunk:e=>a(OP(e)),done:o,end(){r||(r=!0,s(),e.unsafeOffer(U8))},halt:e=>o(UK(e)),fail:e=>o(Uq(e)),die:e=>o(UB(e)),dieMessage:e=>o(UB(Error(e)))}})(t,r)))),eyz(e=>{let t=eIy(eET(e),e=>UR(e)?Uj(e)?eIC:eIm(e.cause):eOP(eIF(OU(e)),t));return t}),eOC,eP2),eLJ=rS(3,(e,t,r)=>ez9(()=>{let n=e=>eIk({onInput:r=>{if(e.length+r.length>=t){let[n,a]=rD(r,Cd(t-e.length));return i(rD(e,OQ(n)),a)}return n(rD(e,OQ(r)))},onFailure:eId,onDone:()=>i(e,OM())}),i=(e,t)=>eIv(eOP(eIF(t),eT0()),eP6(r(e)));return new eLj(rD(eP6(e),eOc(n(OM()))))})),eLH=rS(3,(e,t,r)=>rD(e,eLQ(t,r),eyz(e=>e.map(e=>eP0(e$r(e,{shutdown:!0})))))),eLG=rS(2,(e,t)=>eyz(eUS(e,t),e=>eP0(eP7(e)))),eLZ=rS(2,(e,t)=>eyz(eF_({acquire:eLG(e,t),idleTimeToLive:t.idleTimeToLive}),e=>eUR(eFE(e)))),eLQ=rS(3,(e,t,r)=>eSm(eUb(r),r=>rD(egy(Array.from({length:t},()=>eEe(r))),eSk(()=>ebf(ezB(e,r)))))),eLY=rS(2,(e,t)=>eyz(eUS(e,t),eEe)),eLX=rS(2,(e,t)=>"unbounded"===t.capacity?eL4(e):"dropping"===t.strategy?eL6(e,t.capacity):"sliding"===t.strategy?eL3(e,t.capacity):new eLj(eOC(eyz(eUx(e,t),e=>{let t=rD(eIS(eET(e)),eIy(U3({onFailure:e=>rD(esT(e),sR({onNone:()=>eIC,onSome:eIm})),onSuccess:e=>eIy(eIF(OR(e)),()=>t)})));return t})))),eL0=rS(2,(e,t)=>"dropping"===t.strategy?eL1(e,t.capacity):"sliding"===t.strategy?eL2(e,t.capacity):new eLj(eOC(eyz(eUw(e,t),e=>{let t=rD(eIS(eET(e)),eIy(eLC({onEnd:()=>eIC,onFailure:eIm,onSuccess:e=>rD(eIF(e),eIy(()=>t))})));return t})))),eL1=rS(2,(e,t)=>new eLj(eL5(eyJ(eEd(t),e=>eEx(e)),eP6(e)))),eL2=rS(2,(e,t)=>new eLj(eL5(eyJ(eEp(t),e=>eEx(e)),eP6(e)))),eL6=rS(2,(e,t)=>new eLj(eL5(eyJ(eEd(t),e=>eEx(e)),eP6(ezc(1)(e))))),eL3=rS(2,(e,t)=>new eLj(eL5(eyJ(eEp(t),e=>eEx(e)),eP6(rD(e,ezc(1)))))),eL4=e=>new eLj(eOC(eyz(eUw(e,{strategy:"unbounded"}),e=>{let t=rD(eIS(eET(e)),eIy(eLC({onEnd:()=>eIC,onFailure:eIm,onSuccess:e=>eIy(eIF(e),()=>t)})));return t}))),eL5=(e,t)=>{let r=(e,t)=>{let n=r=>rD(Vr(t),eSk(Ug),evz(Up()),eSm(n=>rD(eEk(e,[r,n]),evz(Vl(t,n)),evz(Ug(n)))),eyL,eIS);return eI_({onInput:n=>rD(Up(),eSm(r=>rD(eEk(e,[eL_(n),r]),eSm(e=>rD(Vl(t,r),eSh(()=>e))))),eyL,eIS,eIy(()=>r(e,t))),onFailure:e=>n(eLT(e)),onDone:()=>n(eLI)})};return eOC(rD(e,eSm(e=>rD(Up(),eSk(e=>UF(e,void 0)),eSm(n=>{let i;return rD(Vt(n),eSm(n=>rD(t,eIv(r(e,n)),eOb,ebf)),eyR(i=rD(eIS(eET(e)),eIy(([e,t])=>eOP(eIS(UF(t,void 0)),eLC(e,{onEnd:()=>eIC,onFailure:eIm,onSuccess:e=>rD(eIF(e),eIy(()=>i))}))))))})))))},eL8=rS(2,(e,t)=>eL7(e,e=>aU(esI(e),{onLeft:t,onRight:ePP}))),eL7=rS(2,(e,t)=>new eLj(rD(eP6(e),eIi(e=>eP6(t(e)))))),eL9=rS(2,(e,t)=>rD(e,eL8(e=>rD(t(e),s$(()=>ePj(e)))))),ePe=rS(2,(e,t)=>rD(e,eL7(e=>rD(t(e),s$(()=>ePP(e)))))),ePt=rS(3,(e,t,r)=>eL8(e,e=>"_tag"in e&&e._tag===t?r(e):ePj(e))),ePr=rS(2,(e,t)=>eL8(e,e=>{let r=Object.keys(t);return"_tag"in e&&r.includes(e._tag)?t[e._tag](e):ePj(e)})),ePn=rS(2,(e,t)=>{let r=e=>eI_({onInput:n=>{let[i,a]=Cq(n,[e,OM()],([e,r],n)=>sN(e)&&t(e.value,n)?[sF(n),r]:[sF(n),rD(r,Oq(n))]);return eIy(eIF(a),()=>r(i))},onFailure:eIm,onDone:()=>eIC});return new eLj(rD(eP6(e),eIv(r(sC()))))}),ePi=rS(2,(e,t)=>{let r=e=>eI_({onInput:n=>rD(n,egN([e,OM()],([e,r],n)=>sN(e)?rD(t(e.value,n),eyz(e=>e?[sF(n),r]:[sF(n),rD(r,Oq(n))])):eg2([sF(n),rD(r,Oq(n))])),eIS,eIy(([e,t])=>rD(eIF(t),eIy(()=>r(e))))),onFailure:eIm,onDone:()=>eIC});return new eLj(rD(eP6(e),eIv(r(sC()))))}),ePa=e=>rD(e,e$_(OR)),ePs=rS(2,(e,t)=>ePQ(t(ePa(e)))),ePo=e=>eye(eyD(e),e=>"None"===e._tag?eg6:egK(e.value)),ePl=rS(4,(e,t,r,n)=>{function i(e,t){return eIS(ej4(t)).pipe(eOP(eI_({onInput:r=>eIy(eIS(ej3(e,U5(r))),()=>i(e,t)),onFailure:t=>eIS(ej3(e,UK(rD(t,esD(sF))))),onDone:()=>eIy(eIS(ej3(e,Uq(sC()))),()=>i(e,t))})))}return new eLj(eOF(a=>egy([ej6(),ej6(),ej6(),ej6()]).pipe(eSk(([t,r,n])=>eP6(e).pipe(eTD(eOR),eIv(i(t,n)),eI8(a),ebh(a))),eSk(([,e,r,n])=>eP6(t).pipe(eTD(eOR),eIv(i(e,n)),eI8(a),ebh(a))),eyz(([e,t,i,a])=>{let s=ej3(i,void 0).pipe(evz(ej4(e).pipe(eSm(rw)))),o=ej3(a,void 0).pipe(evz(ej4(t).pipe(eSm(rw))));return eP6(eUA(r,e=>eSm(n(e,s,o),ePo)))}))))}),ePu=rS(4,(e,t,r,n)=>{let i=(e,t)=>eOP(eIS(ej4(t)),eI_({onInput:r=>eIy(eIS(rD(e,ej3(eL_(r)))),()=>i(e,t)),onFailure:t=>eIS(ej3(e,eLT(t))),onDone:()=>eIS(ej3(e,eLI))}));return new eLj(eOF(a=>egy([ej6(),ej6(),ej6(),ej6()]).pipe(eSk(([t,r,n])=>eIv(eP6(e),i(t,n)).pipe(eI8(a),ebh(a))),eSk(([e,r,n,s])=>eIv(eP6(t),i(r,s)).pipe(eI8(a),ebh(a))),eyz(([e,t,i,a])=>{let s=ej3(i,void 0).pipe(evz(ej4(e).pipe(eSm(eLE)))),o=ej3(a,void 0).pipe(evz(ej4(t).pipe(eSm(eLE))));return eP6(eUF(r,e=>eSm(n(e,s,o),ePo)))}))))}),ePc=rS(2,(e,t)=>new eLj(rD(eP6(e),eOP(eP6(t))))),ePh=rS(2,(e,t)=>rD(e,ePp(t,(e,t)=>[e,t]))),ePf=rS(2,(e,t)=>rD(e,ePp(t,(e,t)=>e))),ePd=rS(2,(e,t)=>ePJ(e,()=>t)),ePp=rS(3,(e,t,r)=>rD(e,ePJ(e=>rD(t,e$v(t=>r(e,t)))))),ePm=rS(2,(e,t)=>eUD(r=>egY(function*(){let n=yield*ej6();function i(e){return qB(t).pipe(eyR(e),ebh(r),eyz(e=>s({_tag:ejJ,fiber:e})))}let a=eI_({onInput:e=>sR(Cr(e),{onNone:()=>a,onSome:e=>eIS(ej3(n,ej7(OR(e)))).pipe(eIy(()=>a))}),onFailure:e=>eIS(ej3(n,ej9(e))),onDone:()=>eIS(ej3(n,eLe(eLi)))});function s(e){switch(e._tag){case ejV:return eOO(ej4(n).pipe(eyz(e=>{switch(e._tag){case ej5:return eOO(i(e.elements));case ej8:return eIm(e.cause);case"End":return eIC}})));case ejJ:return eOO(ej4(n).pipe(ebh(r),eSm(t=>eSw(el3(e.fiber),el3(t),{onSelfDone:(e,r)=>U3(e,{onFailure:e=>elQ(r).pipe(eyR(eIm(e))),onSuccess:e=>elQ(r).pipe(evz(eg2(eIF(e).pipe(eIy(()=>s({_tag:ejH,fiber:t}))))))}),onOtherDone:(e,t)=>U3(e,{onFailure:e=>elQ(t).pipe(eyR(eIm(e))),onSuccess:e=>{switch(e._tag){case ej5:return elQ(t).pipe(evz(i(e.elements)));case ej8:return elQ(t).pipe(eyR(eIm(e.cause)));case"End":return el3(t).pipe(eyz(e=>eIF(e).pipe(eOP(eIC))))}}})}))));case ejH:return eOO(el3(e.fiber).pipe(eyz(e=>{switch(e._tag){case ej5:return eOO(i(e.elements));case ej8:return eIm(e.cause);case"End":return eIC}})))}}return ez0(t=>eIv(eP6(e),a).pipe(eI8(t),ebh(t))).pipe(ePd(new eLj(s(ejG))))}))),ePg=e=>eP5(egG(e)),ePy=rS(2,(e,t)=>rD(Up(),eSm(r=>rD(e,ePv({maximumLag:t.maximumLag,decide:e=>eSm(Ug(r),t=>t(e))}),eSm(e=>rD(egy(Ca(CR(0,t.size-1),t=>eyz(e,([e,r])=>[[e,t],r]))),eyz(OU),eSm(e=>{let[n,i]=CK(e,[new Map,OM()],([e,t],[r,n])=>[e.set(r[0],r[1]),rD(t,OK(n))]);return rD(UF(r,e=>eyz(t.decide(e),e=>t=>e(n.get(t)))),eyR(Array.from(i)))}))))))),ePb={ref:0},ePS=()=>{let e=ePb.ref;return ePb.ref=e+1,e},ePv=rS(2,(e,t)=>ePw(e,t.maximumLag,t.decide,()=>eg8)),ePw=rS(4,(e,t,r,n)=>rD(eyJ(Vt(new Map),(e,t)=>rD(Vr(e),eSm(e=>rD(e.values(),egC(eEx))))),eSm(i=>egY(function*(){let a=yield*evT(1),s=yield*Vt(rD(eEf(t),eSm(e=>{let t=ePS();return rD(Vc(i,r=>r.set(t,e)),eyR([t,e]))}))),o=e=>a.withPermits(1)(rD(Vl(s,rD(eEf(1),eSk(t=>eEk(t,e)),eSm(e=>{let t=ePS();return rD(Vc(i,r=>r.set(t,e)),eyR(ok(t,e)))}))),evz(rD(Vr(i),eSm(t=>rD(OD(t.values()),egC(t=>rD(eEk(t,e),eya(e=>esv(e)?sF(eg8):sC()))))))),evz(n(e)),eyL));return yield*rD(e,ezP(e=>rD(r(e),eSm(t=>rD(Vr(i),eSm(r=>rD(r.entries(),egN(OM(),(r,[n,i])=>t(n)?rD(eEk(i,U5(e)),eSY({onFailure:e=>esv(e)?eg2(rD(r,OK(n))):egJ(e),onSuccess:()=>eg2(r)})):eg2(r)),eSm(e=>O7(e)?Vc(i,t=>{for(let r of e)t.delete(r);return t}):eg8))))),eyL)),eSY({onFailure:e=>o(UK(rD(e,esD(sF)))),onSuccess:()=>o(Uq(sC()))}),ebf),a.withPermits(1)(eSy(Vr(s)))})))),ePx=e=>new eLj(eTK(eP6(e))),ePk=rS(2,(e,t)=>eP5(Up()).pipe(ePJ(r=>ez0(e=>eP6(t).pipe(eTK,eI8(e),eyt(e=>Ux(r,e)),ebh(e))).pipe(ePd(e$b(e,r)))))),eP_=rS(2,(e,t)=>{let r=e=>eIk({onInput:t=>{let n=rD(t,OJ(e)),i=Math.max(0,e-t.length);return O8(t)||i>0?r(i):rD(eIF(n),eOP(eT0()))},onFailure:eId,onDone:()=>eIC});return new eLj(rD(eP6(e),eOc(r(t))))}),ePE=rS(2,(e,t)=>t<=0?e$h():ez9(()=>{let r=new ejK(t),n=eIk({onInput:e=>{let t=rD(e,OY(e=>{let t=r.head();return r.put(e),t}));return rD(eIF(t),eIy(()=>n))},onFailure:eId,onDone:()=>eIC});return new eLj(rD(eP6(e),eOc(n)))})),ePI=rS(2,(e,t)=>eP_(ePO(e,e=>!t(e)),1)),ePT=rS(2,(e,t)=>{let r=eIk({onInput:e=>rD(egv(e,t),eyz(OU),eyz(e=>O8(e)?eIT(()=>r):rD(eIF(e),eOP(eT0()))),eOO),onFailure:eId,onDone:()=>eIC});return new eLj(rD(eP6(e),eOc(r)))}),ePO=rS(2,(e,t)=>{let r=eIk({onInput:e=>{let n=OG(e,t);return O8(n)?eIT(()=>r):eOP(eIF(n),eT0())},onFailure:eId,onDone:eII});return new eLj(eOc(eP6(e),r))}),ePC=rS(2,(e,t)=>{let r=eIk({onInput:e=>rD(egw(e,t),eyz(OU),eyz(e=>O8(e)?eIT(()=>r):eOP(eIF(e),eT0())),eOO),onFailure:eId,onDone:()=>eIC});return new eLj(eOc(eP6(e),r))}),ePF=new eLj(eIC),ePA=rS(2,(e,t)=>new eLj(rD(eP6(e),eTV(t)))),ePM=rS(2,(e,t)=>new eLj(eIf(eP6(e),t))),ePN=()=>eP5(ebB()),ePR=e=>rD(ePN(),ePJ(e)),ePD=e=>ePx(eP5(e)),ePj=e=>eP8(egK(sF(e))),ePL=e=>eP8(egV(()=>sF(e()))),ePP=e=>eP5(egJ(e)),eP$=rS(2,(e,t)=>e$_(e,OX(t))),ePz=rS(2,(e,t)=>{let r=e=>{let n=e.next();return n.done?eI_({onInput:e=>r(e[Symbol.iterator]()),onFailure:eIm,onDone:eIE}):rD(t(n.value),eyz(t=>t?rD(eIF(OR(n.value)),eIy(()=>r(e))):r(e)),eOO)};return new eLj(eIT(()=>rD(eP6(e),eIv(r(OM()[Symbol.iterator]())))))}),ePU=rS(2,(e,t)=>e$_(e,OY(t))),ePB=rS(2,(e,t)=>ez9(()=>{let r=e=>{let n=e.next();return n.done?eI_({onInput:e=>r(e[Symbol.iterator]()),onFailure:eIm,onDone:eIE}):rD(t(n.value),sR({onNone:()=>eg5(()=>r(e)),onSome:eyz(t=>eIy(eIF(OR(t)),()=>r(e)))}),eOO)};return new eLj(rD(eP6(e),eIv(r(OM()[Symbol.iterator]()))))})),ePW=rS(2,(e,t)=>{let r=eIk({onInput:e=>{let n=O0(e,t);return n.length===e.length?rD(eIF(n),eIy(()=>r)):eIF(n)},onFailure:eId,onDone:eIE});return new eLj(rD(eP6(e),eOc(r)))}),ePq=rS(2,(e,t)=>ez9(()=>{let r=e=>{let n=e.next();return n.done?eI_({onInput:e=>r(e[Symbol.iterator]()),onFailure:eIm,onDone:eIE}):eOO(sR(t(n.value),{onNone:()=>eg2(eIC),onSome:eyz(t=>eIy(eIF(OR(t)),()=>r(e)))}))};return new eLj(rD(eP6(e),eOc(r(OM()[Symbol.iterator]()))))})),ePK=rS(2,(e,t)=>{let r=eIk({onInput:e=>sR(CL(e,t),{onNone:()=>r,onSome:e=>eIF(OR(e))}),onFailure:eId,onDone:()=>eIC});return new eLj(rD(eP6(e),eIv(r)))}),ePV=rS(2,(e,t)=>{let r=eIk({onInput:e=>rD(egO(e,t),eyz(sR({onNone:()=>r,onSome:e=>eIF(OR(e))})),eOO),onFailure:eId,onDone:()=>eIC});return new eLj(rD(eP6(e),eIv(r)))}),ePJ=rS(e=>eLL(e[0]),(e,t,r)=>{let n=r?.bufferSize??16;return r?.switch?ePH(r?.concurrency,()=>ePG(e,1,n,t),r=>ePG(e,r,n,t)):ePH(r?.concurrency,()=>new eLj(eTD(eP6(e),e=>rD(e,Ca(e=>eP6(t(e))),Cq(eIC,(e,t)=>rD(e,eOP(t)))))),n=>new eLj(rD(eP6(e),eTD(eOR),eOr(e=>eP6(t(e)),r))))}),ePH=(e,t,r)=>{switch(e){case void 0:return t();case"unbounded":return r(Number.MAX_SAFE_INTEGER);default:return e>1?r(e):t()}},ePG=rS(4,(e,t,r,n)=>new eLj(rD(eP6(e),eTD(eOR),eOr(e=>eP6(n(e)),{concurrency:t,mergeStrategy:eTv(),bufferSize:r})))),ePZ=rS(e=>eLL(e[0]),(e,t)=>ePJ(e,rw,t)),ePQ=e=>{let t=eI_({onInput:e=>eIy(eOR(e),()=>t),onFailure:eIm,onDone:()=>eIC});return new eLj(rD(eP6(e),eIv(t)))},ePY=rS(e=>eLL(e[0]),(e,t)=>t?.unordered?ePJ(e,e=>eP5(e),{concurrency:t.concurrency}):ePH(t?.concurrency,()=>e$F(e,rw),t=>new eLj(rD(eP6(e),eTD(eOR),eT9(rw,t),eT8(OR))))),ePX=e=>{let t=eI_({onInput:e=>((e,t)=>{let[r,n]=rD(e,Cg(e=>!Uj(e))),i=rD(O9(n),sR({onNone:()=>t,onSome:U3({onFailure:e=>sR(esT(e),{onNone:()=>eIC,onSome:eIm}),onSuccess:()=>eIC})}));return rD(eIF(rD(r,OY(e=>Uj(e)?sF(e.value):sC()))),eIy(()=>i))})(e,t),onFailure:e=>eIm(e),onDone:()=>eIC});return new eLj(rD(eP6(e),eIv(t)))},eP0=e=>ePQ(ePX(rD(e,e$v(e=>e.exit)))),eP1=e=>new eLj(eOm(eP6(e))),eP2=e=>new eLj(e),eP6=e=>{if("channel"in e)return e.channel;if(egh(e))return eP6(eP5(e));throw TypeError("Expected a Stream.")},eP3=e=>new eLj(O8(e)?eIC:eIF(e)),eP4=(e,t)=>rD(eET(e),eyt(t=>rD(eEv(e),eSm(e=>e&&esv(t)?egK(sC()):eyW(egJ(t),sF)))),ezg,t?.shutdown?ePA(eEx(e)):rw),eP5=e=>rD(e,eyW(sF),eP8),eP8=e=>new eLj(eOO(eSZ(e,{onFailure:sR({onNone:()=>eIC,onSome:eId}),onSuccess:e=>eIF(OR(e))}))),eP7=(e,t)=>{let r=t?.maxChunkSize??eLP;if(t?.scoped){let n=eyz(eEe(e),e=>e$r(e,{maxChunkSize:r,shutdown:!0}));return t.shutdown?eyz(n,ePA(e_4(e))):n}let n=ePJ(ezX(eEe(e)),e=>e$r(e,{maxChunkSize:r}));return t?.shutdown?ePA(n,e_4(e)):n},eP9=e=>ez9(()=>OF(e)?eP3(e):e$e(e[Symbol.iterator]())),e$e=(e,t=eLP)=>rD(eg5(()=>{let r=[],n=e=>rD(eg5(()=>{let i=e.next();if(1===t)return i.done?eIC:rD(eIF(OR(i.value)),eIy(()=>n(e)));r=[];let a=0;for(;!1===i.done&&(r.push(i.value),!((a+=1)>=t));)i=e.next();return a>0?rD(eIF(OU(r)),eIy(()=>n(e))):eIC}),eOO);return new eLj(n(e))}),eUN),e$t=e=>rD(e,eyz(ezg),eUR),e$r=(e,t)=>rD(eEF(e,1,t?.maxChunkSize??eLP),eyt(t=>rD(eEv(e),eSm(e=>e&&esv(t)?egK(sC()):eyW(egJ(t),sF)))),ezg,t?.shutdown?ePA(eEx(e)):rw),e$n=e=>rD(ej$(e),eyz(OR),eyt(t=>rD(ejC(e),eSm(e=>e&&esv(t)?egK(sC()):eyW(egJ(t),sF)))),ezg),e$i=Symbol.for("effect/Stream/EOF"),e$a=rS(2,(e,t)=>{let r=e=>eI_({onInput:n=>{let[i,a]=((e,r)=>{let n;if(O8(r))return[e,OM()];let i=[],a=0,s=0,o=OM();switch(e._tag){case"Some":{let l=e.value;n=l[0];let u=!0;for(;u&&s<r.length;){let e=t(OW(r,s));if(!iv(n,e)){let t=OQ(l[1],OU(Array.from(r).slice(a,s)));i.push([n,t]),n=e,a=s,u=!1}s+=1}u&&(o=l[1]);break}case"None":n=t(OW(r,s)),s+=1}for(;s<r.length;){let e=t(OW(r,s));iv(n,e)||(i.push([n,OU(Array.from(r).slice(a,s))]),n=e,a=s),s+=1}let l=OQ(o,OU(Array.from(r).slice(a,s))),u=OU(i);return[sF([n,l]),u]})(e,n);return O8(a)?r(i):eIy(eIF(a),()=>r(i))},onFailure:t=>sR(e,{onNone:()=>eIm(t),onSome:e=>eIy(eIF(OR(e)),()=>eIm(t))}),onDone:t=>sR(e,{onNone:()=>eII(t),onSome:e=>eIy(eIF(OR(e)),()=>eII(t))})});return new eLj(eOc(eP6(e),r(sC())))}),e$s=rS(2,(e,t)=>rD(e,ezc(t),ePa)),e$o=rS(3,(e,t,r)=>eLB(e,eOG(t),eA7(r))),e$l=rS(2,(e,t)=>{let r=e=>rD(eun(e),eyz(sR({onNone:()=>eIk({onInput:t=>eIy(eIF(t),()=>r(e)),onFailure:eId,onDone:()=>eIC}),onSome:U3({onFailure:eIm,onSuccess:()=>eIC})})),eOO);return new eLj(eOF(n=>t.pipe(ebh(n),eyz(t=>eP6(e).pipe(eIv(r(t)))))))}),e$u=rS(2,(e,t)=>rD(e,e$l(qB(t)))),e$c=rS(2,(e,t)=>{let r=rD(UC(t),eyz(sR({onNone:()=>eIk({onInput:e=>rD(eIF(e),eIy(()=>r)),onFailure:eId,onDone:()=>eIC}),onSome:e=>eOO(eSZ(e,{onFailure:eId,onSuccess:()=>eIC}))})),eOO);return new eLj(rD(eP6(e),eIv(r)))}),e$h=()=>new eLj(eT0()),e$f=rS(2,(e,t)=>rD(e,e$d(t,eP1(e$S(!0,!1))))),e$d=rS(3,(e,t,r)=>{let n=e=>eI_({onInput:t=>eIy(eIS(ej3(e,eLM(t))),()=>n(e)),onFailure:t=>eIS(ej3(e,eLT(t))),onDone:()=>eIS(ej3(e,eLI))});return new eLj(eOF(i=>rD(ej6(),evP(ej6()),eSk(([t])=>eP6(e).pipe(eTD(eOR),eIv(n(t)),eI8(i),ebh(i))),eSk(([e,r])=>eP6(t).pipe(eTD(eOR),eIv(n(r)),eI8(i),ebh(i))),eyz(([e,t])=>{let n=(r,i)=>eI_({onInput:a=>a&&!r?rD(eIS(ej4(e)),eIy(eLC({onEnd:()=>i?eIC:n(!0,i),onFailure:eIm,onSuccess:e=>rD(eIF(e),eIy(()=>n(r,i)))}))):a||i?n(r,i):rD(eIS(ej4(t)),eIy(eLC({onEnd:()=>r?eIC:n(r,!0),onFailure:eIm,onSuccess:e=>rD(eIF(e),eIy(()=>n(r,i)))}))),onFailure:eIm,onDone:()=>eIC});return rD(eP6(r),eTD(eOR),eIv(n(!1,!1)))}))))}),e$p=rS(2,(e,t)=>new eLj(rD(eP6(e),eOc(eIT(()=>{let e=r=>eI_({onInput:n=>{let i=[],a=r;for(let e of n)a?a=!1:i.push(t),i.push(e);return rD(eIF(OU(i)),eIy(()=>e(a)))},onFailure:eIm,onDone:()=>eIC});return e(!0)}))))),e$m=rS(2,(e,{end:t,middle:r,start:n})=>rD(e$S(n),ePc(rD(e,e$p(r))),ePc(e$S(t)))),e$g=rS(2,(e,t)=>rD(e,e$y(qB(t)))),e$y=rS(2,(e,t)=>new eLj(rD(eP6(e),eT1(t)))),e$b=rS(2,(e,t)=>new eLj(rD(eP6(e),eT2(t)))),e$S=(...e)=>eP9(e),e$v=rS(2,(e,t)=>new eLj(rD(eP6(e),eT8(Ca(t))))),e$w=rS(3,(e,t,r)=>{let n=e=>eIk({onInput:t=>{let[i,a]=Cs(t,e,r);return eIy(eIF(a),()=>n(i))},onFailure:eId,onDone:()=>eIC});return new eLj(rD(eP6(e),eIv(n(t))))}),e$x=rS(3,(e,t,r)=>ez9(()=>{let n=e=>eIk({onInput:t=>rD(eg4(()=>{let i=[];return rD(t,egN(e,(e,t)=>rD(r(e,t),eSm(([e,t])=>rD(eg5(()=>{i.push(t)}),eyR(e))))),eSZ({onFailure:e=>0!==i.length?eOP(eIF(OU(i)),eId(e)):eId(e),onSuccess:e=>eIy(eIF(OU(i)),()=>n(e))}))}),eOO),onFailure:eId,onDone:()=>eIC});return new eLj(rD(eP6(e),eOc(n(t))))})),e$k=rS(2,(e,t)=>rD(e,e$M(t.onFailure),e$v(t.onSuccess))),e$_=rS(2,(e,t)=>new eLj(rD(eP6(e),eT8(t)))),e$E=rS(2,(e,t)=>new eLj(rD(eP6(e),eT7(t)))),e$I=rS(2,(e,t)=>rD(e,e$T(e=>OD(t(e))))),e$T=rS(2,(e,t)=>rD(e,e$_(O2(t)))),e$O=rS(2,(e,t)=>rD(e,e$F(t),e$T(rw))),e$C=rS(2,(e,t)=>rD(e,e$F(e=>rD(t(e),eyz(OD))),e$T(rw))),e$F=rS(2,(e,t)=>{let r=e=>{let n=e.next();return n.done?eI_({onInput:e=>r(e[Symbol.iterator]()),onFailure:eIm,onDone:eIE}):eOO(eyz(t(n.value),t=>eIy(eIF(OR(t)),()=>r(e))))};return new eLj(rD(eP6(e),eIv(eIT(()=>r(OM()[Symbol.iterator]())))))}),e$A=rS(3,(e,t,r)=>new eLj(rD(eP6(e),eTD(eOR),eT9(r,t),eT8(OR)))),e$M=rS(2,(e,t)=>new eLj(rD(eP6(e),eT4(t)))),e$N=rS(2,(e,t)=>new eLj(rD(eP6(e),eT5(t)))),e$R=rS(e=>eLL(e[1]),(e,t,r)=>e$z(e,t,{onSelf:rw,onOther:rw,haltStrategy:r?.haltStrategy})),e$D=rS(e=>Symbol.iterator in e[0],(e,t)=>ePZ(eP9(e),t)),e$j=rS(2,(e,t)=>e$D(Object.keys(e).map(t=>e[t].pipe(e$v(e=>({_tag:t,value:e})))),t)),e$L=rS(2,(e,t)=>e$z(e,t,{onSelf:aO,onOther:aI})),e$P=rS(2,(e,t)=>rD(e,e$R(ePx(t)))),e$$=rS(2,(e,t)=>rD(ePx(e),e$R(t))),e$z=rS(3,(e,t,r)=>{let n=r.haltStrategy?eMC(r.haltStrategy):eMN,i=e=>t=>e||!Uj(t)?eFf(eg4(()=>t)):eFd(e=>eg4(()=>e));return new eLj(eOa(eP6(e$v(e,r.onSelf)),{other:eP6(e$v(t,r.onOther)),onSelfDone:i("Either"===n._tag||"Left"===n._tag),onOtherDone:i("Either"===n._tag||"Right"===n._tag)}))}),e$U=eP5(egX),e$B=rS(2,(e,t)=>ePc(e,ePx(eP5(t)))),e$W=rS(2,(e,t)=>rD(e,eL7(e=>eP5(rD(t(e),evz(egJ(e))))))),e$q=rS(2,(e,t)=>new eLj(rD(eP6(e),eIf(e=>Uj(e)?t():eg8)))),e$K=rS(2,(e,t)=>eUN(eyR(t,e))),e$V=rS(2,(e,t)=>new eLj(rD(eP6(e),eOl(t)))),e$J=rS(2,(e,t)=>new eLj(rD(eP6(e),eOu(()=>eP6(t()))))),e$H=rS(2,(e,t)=>rD(e,e$v(aO),e$J(()=>rD(t(),e$v(aI))))),e$G=rS(2,(e,t)=>rD(e,e$J(()=>ePL(t)))),e$Z=rS(2,(e,t)=>rD(e,e$Q(()=>OR(t())))),e$Q=rS(2,(e,t)=>rD(e,e$Y(()=>new eLj(eIF(t()))))),e$Y=rS(2,(e,t)=>{let r=eIk({onInput:e=>O8(e)?eIT(()=>r):rD(eIF(e),eOP(eT0())),onFailure:eId,onDone:()=>eIT(()=>eP6(t()))});return new eLj(rD(eP6(e),eIv(r)))}),e$X=rS(2,(e,t)=>rD(e,e$J(()=>ez7(t)))),e$0=(e,t)=>{let r=e=>{let n=t(e);return sR(n[1],{onNone:()=>eOP(eIF(n[0]),eIC),onSome:e=>eIy(eIF(n[0]),()=>r(e))})};return new eLj(eIT(()=>r(e)))},e$1=(e,t)=>{let r=e=>eOO(eyz(t(e),([e,t])=>sR(t,{onNone:()=>eOP(eIF(e),eIC),onSome:t=>eIy(eIF(e),()=>r(t))})));return new eLj(eIT(()=>r(e)))},e$2=(e,t)=>e$1(e,e=>rD(t(e),eyz(([e,t])=>[OR(e),t]))),e$6=rS(2,(e,t)=>{let r="Emit",n="Halt";return rD(Up(),eSm(i=>rD(ej6(),eyz(a=>{let s=eCb(eO1(t),{onFailure:e=>eFs(eCU(Uv(i,e)),eCc(e)),onSuccess:([e,t])=>{let s=eI_({onInput:e=>eIy(eIS(ej3(a,{_tag:r,elements:e})),()=>s),onFailure:e=>eOP(eIS(ej3(a,{_tag:n,cause:e})),eIm(e)),onDone:e=>eOP(eIS(ej3(a,{_tag:"End"})),eIC)});return eCz(rD(eIS(UF(i,e)),eOP(eIS(rD(a,ej3({_tag:r,elements:t})))),eOP(s)))}}),o=rD(ej4(a),eyz(e=>{switch(e._tag){case r:return rD(eIF(e.elements),eIy(()=>o));case n:return eIm(e.cause);case"End":return eIC}}),eOO);return rD(e,eUl(e=>Ux(i,e)),ezI(s),ebf,evz(Ug(i)),eyz(e=>[e,new eLj(o)]))}))),eSy)}),e$3=rS(e=>"function"==typeof e[1],(e,t,r)=>e$4(e,e=>eg2(t(e)?aI(e):aO(e)),r)),e$4=rS(e=>"function"==typeof e[1],(e,t,r)=>rD(e$F(e,t),ePy({size:2,maximumLag:r?.bufferSize??16,decide:aU({onLeft:()=>eg2(e=>0===e),onRight:()=>eg2(e=>1===e)})}),eSm(([e,t])=>eg2([ePU(ePX(e$r(e,{shutdown:!0})),e=>aU(e,{onLeft:sF,onRight:sC})),ePU(ePX(e$r(t,{shutdown:!0})),e=>aU(e,{onLeft:sC,onRight:sF}))])))),e$5=rS(2,(e,t)=>new eLj(rD(eP6(e),eOc(eFe(t))))),e$8=rS(2,(e,t)=>new eLj(eIv(eP6(e),t))),e$7=rS(2,(e,t)=>new eLj(rD(eP6(e),eOc(t)))),e$9=rS(2,(e,t)=>new eLj(eOP(eIF(t),eP6(e)))),eze=rS(2,(e,t)=>new eLj(rD(eP6(e),eIw(t)))),ezt=rS(2,(e,t)=>ezs(e,Ob(t))),ezr=rS(2,(e,t)=>new eLj(eOF(r=>exA(t,r).pipe(eyz(t=>rD(eP6(e),eIw(t))))))),ezn=rS(3,(e,t,r)=>ezi(e,t,eg2(r))),ezi=rS(3,(e,t,r)=>eza(e,t,eP5(r))),eza=rS(3,(e,t,r)=>ePR(n=>ePJ(r,r=>rD(e,eze(Od(n,t,r)))))),ezs=rS(2,(e,t)=>ePR(r=>rD(e,eze(t(r))))),ezo=rS(2,(e,t)=>rD(e,ezr(rD(exR(),ex3(t))))),ezl=rS(2,(e,t)=>ezu(e,t)),ezu=(...e)=>Up().pipe(eyz(t=>{let r=null;return e$D(e.map((e,n)=>e.pipe(eUi(()=>null===r?(r=n,UN(t,U8),!0):r===n),e$y(Ug(t).pipe(eSm(()=>r===n?egX:eg8))))),{concurrency:e.length})}),eUN),ezc=rS(2,(e,t)=>ez9(()=>{let r=Math.max(t,1),n=ezh(new ezf(r),r);return new eLj(rD(eP6(e),eIv(n)))})),ezh=(e,t)=>eI_({onInput:r=>{if(r.length===t&&e.isEmpty())return eIy(eIF(r),()=>ezh(e,t));if(r.length>0){let n,i=[],a=0;for(;a<r.length;){for(;a<r.length&&void 0===n;)n=e.write(rD(r,OW(a))),a+=1;void 0!==n&&(i.push(n),n=void 0)}return eIy(eON(...i),()=>ezh(e,t))}return eIT(()=>ezh(e,t))},onFailure:t=>eOP(e.emitIfNotEmpty(),eIm(t)),onDone:()=>e.emitIfNotEmpty()});class ezf{n;builder=[];pos=0;constructor(e){this.n=e}isEmpty(){return 0===this.pos}write(e){if(this.builder.push(e),this.pos+=1,this.pos===this.n){let e=OU(this.builder);return this.builder=[],this.pos=0,e}}emitIfNotEmpty(){return 0!==this.pos?eIF(OU(this.builder)):eIC}}let ezd=rS(2,(e,t)=>rD(e,ezp(t,rw))),ezp=rS(3,(e,t,r)=>new eLj(eTR(eP6(e),e=>sR(t(e),{onNone:()=>eIm(esa(r(e))),onSome:eId})))),ezm=rS(2,(e,t)=>ePU(ezb(e,t),e=>aU(e,{onLeft:sC,onRight:sF}))),ezg=e=>eUF(e,e=>rD(eyz(e,t=>sF([t,e])),eye(sR({onNone:()=>eg2(sC()),onSome:egK})))),ezy=e=>ezg(rD(e,eyz(OR))),ezb=rS(2,(e,t)=>ezw(e,t,{onElement:e=>aI(e),onSchedule:aO})),ezS=rS(2,(e,t)=>ePU(ezv(e,t,{onElement:e=>sF(e),onSchedule:sC}),rw)),ezv=rS(3,(e,t,r)=>{let n=rD(eAv(t),eyz(e=>{let t=e=>sR(O9(e),{onNone:()=>i,onSome:t=>eOP(eIF(OR(r.onElement(t))),n(rD(e,OJ(1)),t))}),n=(i,a)=>{let s=rD(e.next(a),eyR(rD(eIF(OR(r.onElement(a))),eIy(()=>n(i,a))))),o=rD(e.last,evi,eSm(n=>rD(e.reset,eyz(()=>rD(eIF(OR(r.onSchedule(n))),eOP(t(i)))))));return rD(s,evs(()=>o),eOO)},i=eIk({onInput:t,onFailure:eId,onDone:()=>eIC});return i}),eOO);return new eLj(rD(eP6(e),eIv(n)))}),ezw=rS(3,(e,t,r)=>rD(eAv(t),eyz(t=>{let n=rD(e,ezi(eMv,Vr(t.iterationMeta)),e$v(r.onElement),eP6),i=eOO(eSZ(t.next(void 0),{onFailure:()=>eIC,onSuccess:e=>eIy(n,()=>eOP(eIF(OR(r.onSchedule(e))),i))}));return new eLj(eOP(n,i))}),eUN)),ezx=(e,t)=>ePJ(eP5(evP(e,eAv(t))),([t,r])=>{let n=ebH(eMv,Vr(r.iterationMeta));return ePc(ez8(t),eUA(t,t=>eSX(r.next(t),{onFailure:eg2,onSuccess:()=>eyz(n(e),e=>sF([e,e]))})))}),ezk=rS(2,(e,t)=>eAv(t).pipe(eyz(t=>{let r=eP6(ezi(eMv,Vr(t.iterationMeta))(e)).pipe(eT7(e=>eyR(t.reset,e)),eTR(e=>t.next(e).pipe(eSZ({onFailure:()=>eId(e),onSuccess:()=>r}),eOO)));return r}),eOO,eP2)),ez_=rS(e=>eLL(e[0]),(e,t,r)=>ez9(()=>{let n=r?.preventFallbackOnPartialStream??!1,i=0,a=sC(),s=ez9(()=>{let r=t.steps[i++];if(!r)return ePj(sZ(a));let o=Ol(r.provide)?ezt(e,r.provide):ezo(e,r.provide),l=!1;if(sN(a)){let e=a.value,t=!1,n=o;o=ezE(ezk(o=ez9(()=>t?n:(t=!0,ePj(e))),emX(r,!1)))}else{let e=emX(r,!0);o=e?ezE(ezk(o,e)):o}return eL8(n?e$_(o,e=>(l=!0,e)):o,e=>n&&l?ePj(e):(a=sF(e),s))});return s})),ezE=e=>eL7(e,e=>ePP(emA(e))),ezI=rS(2,(e,t)=>eP6(e).pipe(eOc(eFe(t)),eOy)),ezT=rS(3,(e,t,r)=>ezA(e,t,rE,r)),ezO=rS(3,(e,t,r)=>ezM(e,t,rE,r)),ezC=rS(3,(e,t,r)=>rD(e,ezN(t,rE,r))),ezF=rS(3,(e,t,r)=>rD(e,ezR(t,rE,r))),ezA=rS(4,(e,t,r,n)=>ezI(e,eCm(t,r,n))),ezM=rS(4,(e,t,r,n)=>ezI(e,eCk(t,r,n))),ezN=rS(4,(e,t,r,n)=>rD(e,ezV(eCm(t,r,n)))),ezR=rS(4,(e,t,r,n)=>rD(e,ezV(eCk(t,r,n)))),ezD=rS(2,(e,t)=>ezI(e,eCj(t))),ezj=rS(2,(e,t)=>ezI(e,eCL(t))),ezL=rS(2,(e,t)=>rD(e,ezV(eCL(t)))),ezP=rS(2,(e,t)=>rD(e,ezV(eCj(t)))),ez$=rS(2,(e,t)=>ezI(e,eCP(t))),ezz=rS(2,(e,t)=>rD(e,ezV(eCP(t)))),ezU=rS(2,(e,t)=>rD(e,ezW(t))),ezB=rS(2,(e,t)=>rD(e,ezK(t))),ezW=rS(2,(e,t)=>rD(e,ezK(t),ey5)),ezq=rS(2,(e,t)=>{let r=eI_({onInput:e=>eIy(eIS(eEE(t,Ca(e,U5))),()=>r),onFailure:e=>eIS(eEk(t,UK(esD(e,sF)))),onDone:()=>eIS(eEk(t,Uq(sC())))});return rD(eIv(eP6(e),r),eTK,eOb,eyL)}),ezK=rS(2,(e,t)=>{let r=eI_({onInput:e=>eIy(eIF(eL_(e)),()=>r),onFailure:e=>eIF(eLT(e)),onDone:()=>eIF(eLI)});return rD(eIv(eP6(e),r),eT7(e=>eEk(t,e)),eTK,eOb,eyL)}),ezV=rS(2,(e,t)=>rD(eP6(e),eOc(eFe(t)),eTK,eOb)),ezJ=rS(3,(e,t,r)=>rD(e,ezY(t,(e,t)=>eg2(r(e,t))))),ezH=rS(2,(e,t)=>rD(e,ezG((e,r)=>eg2(t(e,r))))),ezG=rS(2,(e,t)=>rD(e,e$x(sC(),(e,r)=>{switch(e._tag){case"None":return eg2([sF(r),r]);case"Some":return rD(t(e.value,r),eyz(e=>[sF(e),e]))}}))),ezZ=rS(2,(e,t)=>ePU(ezQ(e,t,{onElement:sF,onSchedule:sC}),rw)),ezQ=rS(3,(e,t,r)=>{let n=(e,t)=>{let i=t.next();return i.done?eI_({onInput:t=>n(e,t[Symbol.iterator]()),onFailure:eIm,onDone:eII}):eOO(eSX(e.next(i.value),{onFailure:()=>rD(e.last,evi,eyz(a=>rD(eIF(ON(r.onElement(i.value),r.onSchedule(a))),eIy(()=>n(e,t)))),ev$(e.reset)),onSuccess:()=>eg2(rD(eIF(OR(r.onElement(i.value))),eIy(()=>n(e,t))))}))};return new eLj(rD(eIS(eAv(t)),eIy(t=>rD(eP6(e),eIv(n(t,OM()[Symbol.iterator]()))))))}),ezY=rS(3,(e,t,r)=>new eLj(rD(eIF(OR(t)),eIy(()=>eP6(rD(e,e$x(t,(e,t)=>rD(r(e,t),eyz(e=>[e,e]))))))))),ezX=e=>new eLj(eTV(eOS(rD(e,eyz(OR))),eg8)),ez0=e=>new eLj(eOv(t=>e(t).pipe(eyz(OR)))),ez1=rS(2,(e,t)=>rD(e,e$v(s$(t)))),ez2=rS(2,(e,t)=>e$F(e,sR({onNone:()=>egV(t),onSome:eg2}))),ez6=rS(2,(e,t)=>ez3(e,t,1)),ez3=rS(3,(e,t,r)=>t<=0||r<=0?ePg(new esG("Invalid bounds - `chunkSize` and `stepSize` must be greater than zero")):new eLj(eIT(()=>{let n=new ejK(t),i=(e,i)=>{if(e<t){let e=n.toChunk();return rD(eIF(O8(e)?OM():OR(e)),eIy(()=>i))}let a=e-(e-t)%r;if(a===e)return i;let s=rD(n.toChunk(),CS(e-(a-t+r)));return rD(eIF(O8(s)?OM():OR(s)),eIy(()=>i))},a=e=>eI_({onInput:i=>eIy(eIF(OY(i,(i,a)=>{n.put(i);let s=e+a+1;return s<t||(s-t)%r>0?sC():sF(n.toChunk())})),()=>a(e+i.length)),onFailure:t=>i(e,eIm(t)),onDone:()=>i(e,eIC)});return rD(eP6(e),eIv(a(0)))}))),ez4=rS(2,(e,t)=>{let r=(e,i)=>{let[a,s]=rD(e,OQ(i),Cg(t));return O8(a)||O8(s)?n(rD(a,OQ(rD(s,OJ(1))))):rD(eIF(OR(a)),eIy(()=>r(OM(),rD(s,OJ(1)))))},n=e=>eIk({onInput:t=>r(e,t),onFailure:eId,onDone:()=>O8(e)?eIC:sM(rD(e,CL(t)))?eOP(eIF(OR(e)),eIC):eOP(r(OM(),e),eIC)});return new eLj(rD(eP6(e),eIv(n(OM()))))}),ez5=rS(2,(e,t)=>{let r=(e,n)=>eI_({onInput:i=>{let a,[s,o]=rD(i,Cq([rD(e,s$(()=>OM())),n],([e,r],n)=>{let i=rD(e,Oq(n));return r<t.length&&iv(n,rD(t,OW(r)))?r+1===t.length?(void 0===a&&(a=[]),a.push(rD(i,OV(i.length-t.length))),[OM(),0]):[i,r+1]:[i,+!!iv(n,rD(t,OW(0)))]}));return eIy(eIF(void 0===a?OM():OU(a)),()=>r(O7(s)?sF(s):sC(),o))},onFailure:t=>sR(e,{onNone:()=>eIm(t),onSome:e=>eOP(eIF(OR(e)),eIm(t))}),onDone:t=>sR(e,{onNone:()=>eIE(t),onSome:e=>eOP(eIF(OR(e)),eIE(t))})});return new eLj(rD(eP6(e),eIv(r(sC(),0))))}),ez8=e=>eP3(OR(e)),ez7=e=>ez9(()=>eP3(OR(e()))),ez9=e=>new eLj(eIT(()=>eP6(e()))),eUe=rS(2,(e,t)=>{if(!Number.isInteger(t))return ePg(new esG(`${t} must be an integer`));let r=e=>eIk({onInput:t=>{let n=rD(t,OV(Math.min(e,1/0))),i=Math.max(0,e-n.length);return i>0?rD(eIF(n),eIy(()=>r(i))):eIF(n)},onFailure:eId,onDone:eIE});return new eLj(rD(eP6(e),eOc(0<t?r(t):eIC)))}),eUt=rS(2,(e,t)=>t<=0?ePF:new eLj(rD(eg2(new ejK(t)),eyz(t=>{let r=eIk({onInput:e=>{for(let r of e)t.put(r);return r},onFailure:eId,onDone:()=>rD(eIF(t.toChunk()),eOP(eIC))});return rD(eP6(e),eIv(r))}),eOO))),eUr=rS(2,(e,t)=>{let r=eIk({onInput:e=>{let n=rD(e,Cv(e=>!t(e))),i=rD(e,OJ(n.length),OV(1));return O8(i)?rD(eIF(n),eIy(()=>r)):eIF(rD(n,OQ(i)))},onFailure:eId,onDone:eIE});return new eLj(rD(eP6(e),eOc(r)))}),eUn=rS(2,(e,t)=>{let r=e=>{let n=e.next();return n.done?eI_({onInput:e=>r(e[Symbol.iterator]()),onFailure:eIm,onDone:eIE}):rD(t(n.value),eyz(t=>t?eIF(OR(n.value)):rD(eIF(OR(n.value)),eIy(()=>r(e)))),eOO)};return new eLj(rD(eP6(e),eIv(r(OM()[Symbol.iterator]()))))}),eUi=rS(2,(e,t)=>{let r=eIk({onInput:e=>{let n=rD(e,Cv(t));return n.length===e.length?rD(eIF(n),eIy(()=>r)):eIF(n)},onFailure:eId,onDone:eIE});return new eLj(rD(eP6(e),eOc(r)))}),eUa=rS(2,(e,t)=>e$F(e,e=>eyR(t(e),e))),eUs=rS(2,(e,t)=>rD(e,eUo(t.onFailure),eUa(t.onSuccess))),eUo=rS(2,(e,t)=>eL8(e,e=>eP5(evz(t(e),egK(e))))),eUl=rS(2,(e,t)=>{let r=eI_({onInput:e=>eIy(eIF(e),()=>r),onFailure:e=>eIS(evz(t(e),egJ(e))),onDone:eII});return new eLj(rD(eP6(e),eIv(r)))}),eUu=rS(2,(e,t)=>rD(eP5(egy([eEf(1),Up()])),ePJ(([r,n])=>{let i=eP0(e$r(r,{maxChunkSize:1})),a=eI_({onInput:e=>rD(eIS(eEk(r,eL_(e))),eIb({onFailure:()=>eIy(eIF(e),()=>eT0()),onSuccess:()=>eIy(eIF(e),()=>a)})),onFailure:e=>rD(eIS(eEk(r,eLT(e))),eIb({onFailure:()=>eIm(e),onSuccess:()=>eIm(e)})),onDone:()=>rD(eIS(eEk(r,eLI)),eIb({onFailure:()=>eIC,onSuccess:()=>eIC}))});return rD(new eLj(rD(eIv(eP6(e),a),eTV(evz(ebu(eEk(r,eLI)),Ug(n))))),e$R(ePD(rD(ezI(i,t),eyQ(evz(eEx(r),UF(n,void 0)))))))}))),eUc=rS(2,(e,t)=>eUh(e,{...t,cost:e=>eg2(t.cost(e))})),eUh=rS(2,(e,t)=>"enforce"===t.strategy?eUf(e,t.cost,t.units,t.duration,t.burst??0):eUd(e,t.cost,t.units,t.duration,t.burst??0)),eUf=(e,t,r,n,i)=>{let a=(e,s)=>eI_({onInput:o=>rD(t(o),evP(qW),eyz(([t,l])=>{let u=e+(l-s)/Fh(n)*r,c=r+i<0?1/0:r+i,h=u<0?c:Math.min(u,c);return t<=h?rD(eIF(o),eIy(()=>a(h-t,l))):a(e,s)}),eOO),onFailure:eIm,onDone:()=>eIC}),s=rD(qW,eyz(e=>a(r,e)),eOO);return new eLj(rD(eP6(e),eOc(s)))},eUd=(e,t,r,n,i)=>{let a=(e,s)=>eI_({onInput:o=>rD(t(o),evP(qW),eyz(([t,l])=>{let u=e+(l-s)/Fh(n)*r,c=r+i<0?1/0:r+i,h=(u<0?c:Math.min(u,c))-t,f=Fa(Math.max(0,(h>=0?0:-h/r)*Fh(n)));return FP(f,Ft)?rD(eIS(qB(f)),eOP(eIF(o)),eIy(()=>a(h,l))):eIy(eIF(o),()=>a(h,l))}),eOO),onFailure:eIm,onDone:()=>eIC}),s=rD(qW,eyz(e=>a(r,e)),eOO);return new eLj(rD(eP6(e),eOc(s)))},eUp=rS(2,(e,t)=>rD(eUv(e),eyz(ebj({onTimeout:()=>sC(),duration:t})),e$t)),eUm=rS(3,(e,t,r)=>rD(e,eUy(r,ePL(t)))),eUg=rS(3,(e,t,r)=>rD(eUv(e),eyz(ebL({onTimeout:()=>esD(t(),sF),duration:r})),e$t)),eUy=rS(3,(e,t,r)=>{let n=new esX("Stream Timeout");return rD(e,eUg(()=>esa(n),t),ePe(e=>esf(e)&&es0(e.defect)&&void 0!==e.defect.message&&"Stream Timeout"===e.defect.message?sF(r):sC()))}),eUb=e=>{if("number"==typeof e)return e_Q(e);if("unbounded"===e.capacity)return e_0({replay:e.replay});switch(e.strategy){case"dropping":return e_Y(e);case"sliding":return e_X(e);default:return e_Q(e)}},eUS=rS(2,(e,t)=>rD(eyJ(eUb(t),e=>e_4(e)),eSk(t=>rD(e,ezB(t),ebf)))),eUv=e=>eyz(eOk(eP6(e)),e=>rD(e,eyW(sF),eSm(aU({onLeft:()=>egK(sC()),onRight:eg2})))),eUw=rS(e=>eLL(e[0]),(e,t)=>eSk(eyJ(t?.strategy==="unbounded"?eEm():t?.strategy==="dropping"?eEd(t.capacity??2):t?.strategy==="sliding"?eEp(t.capacity??2):eEf(t?.capacity??2),e=>eEx(e)),t=>ebf(ezK(e,t)))),eUx=rS(e=>eLL(e[0]),(e,t)=>eSk(eyJ(eEf(t?.capacity??2),e=>eEx(e)),t=>ebf(ezq(e,t)))),eUk=rS(e=>eLL(e[0]),(e,t)=>eUE(e,eFM,t)),eU_=rS(e=>eLL(e[0]),(e,t)=>eyz(evm(),r=>eUE(e,r,t))),eUE=rS(e=>eLL(e[0]),(e,t,r)=>{let n,i,a=eFI(t),s=evO(!1);return new ReadableStream({start(t){(i=a(ezj(e,e=>0===e.length?eg8:s.whenOpen(eg5(()=>{for(let r of(s.unsafeClose(),e))t.enqueue(r);n(),n=void 0}))))).addObserver(e=>{try{"Failure"===e._tag?t.error(esz(e.cause)):t.close()}catch{}})},pull:()=>new Promise(e=>{n=e,evR(s.open)}),cancel(){if(i)return evM(eyL(elQ(i)))}},r?.strategy)}),eUI=rS(2,(e,t)=>new eLj(eIT(()=>{let r={ref:OM()},n={ref:!1},i=eIT(()=>{let e=r.ref;return O8(e)?eIk({onInput:e=>rD(eIF(e),eIy(()=>i)),onFailure:eId,onDone:eII}):(r.ref=OM(),rD(eOR(e),eIy(()=>i)))}),a=eIk({onInput:e=>eIy(eIF(e),()=>a),onFailure:eId,onDone:e=>eOP(eIO(()=>{n.ref=!0}),eII(e))}),s=rD(t,eFe,eIa,eIy(([e,t])=>{let i;return rD(eIE([n.ref,(i=OQ(r.ref,OX(e,e=>0!==e.length)),r.ref=i,i)]),eIy(([e,r])=>{let n=e&&O8(r)?eIC:s;return rD(eIF(OR(t)),eIy(()=>n))}))}));return rD(eP6(e),eIv(a),eIv(i),eOc(s))}))),eUT=rS(e=>eLL(e[0]),(e,t)=>{let r=eFI(t);return{[Symbol.asyncIterator](){let t,n,i,a=evO(!1),s=!1;return{next:()=>(i||(i=r(ezD(e,e=>a.whenOpen(eg5(()=>{a.unsafeClose(),t({done:!1,value:e}),t=n=void 0}))))).addObserver(e=>{s||(i=evF(a.whenOpen(eg5(()=>{"Failure"===e._tag?n(esz(e.cause)):t({done:!0,value:void 0}),t=n=void 0}))))}),new Promise((e,r)=>{t=e,n=r,a.unsafeOpen()})),return:()=>(s=!0,i)?evM(eyR(elQ(i),{done:!0,value:void 0})):Promise.resolve({done:!0,value:void 0})}}}}),eUO=(e,t)=>eUC(e,e=>rD(t(e),sQ(([e,t])=>[OR(e),t]))),eUC=(e,t)=>{let r=e=>sR(t(e),{onNone:()=>eIC,onSome:([e,t])=>eIy(eIF(e),()=>r(t))});return new eLj(eIT(()=>r(e)))},eUF=(e,t)=>ez9(()=>{let r=e=>eOO(eyz(t(e),sR({onNone:()=>eIC,onSome:([e,t])=>eIy(eIF(e),()=>r(t))})));return new eLj(r(e))}),eUA=(e,t)=>eUF(e,e=>rD(t(e),eyz(sQ(([e,t])=>[OR(e),t])))),eUM=ez8(void 0),eUN=e=>ePZ(eP5(e)),eUR=e=>ePZ(ezX(e)),eUD=e=>ePZ(ez0(t=>e(t))),eUj=rS(3,(e,t,r)=>rD(e,ezs(e=>rD(e,Od(t,r(rD(e,Og(t)))))))),eUL=rS(2,(e,t)=>rD(e,eU$(eg5(t)))),eUP=rS(2,(e,t)=>rD(eP5(e),ePJ(e=>rD(t(e),s$(()=>ePF))))),eU$=rS(2,(e,t)=>rD(eP5(t),ePJ(t=>t?e:ePF))),eUz=rS(2,(e,t)=>rD(e,eU1(t,(e,t)=>[e,t]))),eUU=rS(2,(e,t)=>rD(e,eU1(t,(e,t)=>[...e,t]))),eUB=rS(2,(e,t)=>eUG(e,{other:t.other,onSelf:e=>[e,t.defaultOther],onOther:e=>[t.defaultSelf,e],onBoth:(e,t)=>[e,t]})),eUW=rS(3,(e,t,r)=>eUG(e,{other:t,onSelf:rw,onOther:()=>r,onBoth:e=>e})),eUq=rS(3,(e,t,r)=>eUG(e,{other:t,onSelf:()=>r,onOther:rw,onBoth:(e,t)=>t})),eUK=rS(2,(e,t)=>eUH(e,{other:t.other,onSelf:e=>[e,t.defaultOther],onOther:e=>[t.defaultSelf,e],onBoth:(e,t)=>[e,t],order:t.order})),eUV=rS(2,(e,t)=>eUH(e,{other:t.other,onSelf:rw,onOther:()=>t.defaultSelf,onBoth:e=>e,order:t.order})),eUJ=rS(2,(e,t)=>eUH(e,{other:t.other,onSelf:()=>t.defaultOther,onOther:rw,onBoth:(e,t)=>t,order:t.order})),eUH=rS(2,(e,t)=>{let r=(e,i,a)=>{switch(e._tag){case eLa:return rD(i,eSZ({onFailure:Uq,onSuccess:e=>U5([Ca(e,([e,r])=>[e,t.onSelf(r)]),eLc])}));case eLs:return rD(a,eSZ({onFailure:Uq,onSuccess:e=>U5([Ca(e,([e,r])=>[e,t.onOther(r)]),eLh])}));case eLo:return rD(ePo(i),evP(ePo(a),{concurrent:!0}),eSX({onFailure:e=>eg2(Uq(sF(e))),onSuccess:([e,s])=>sN(e)&&sN(s)?O8(e.value)&&O8(s.value)?r(eLf,i,a):O8(e.value)?r(eLd(s.value),i,a):O8(s.value)?r(eLp(e.value),i,a):eg2(U5(n(e.value,s.value))):sN(e)&&sM(s)?O8(e.value)?r(eLc,i,a):eg2(U5([rD(e.value,Ca(([e,r])=>[e,t.onSelf(r)])),eLc])):sM(e)&&sN(s)?O8(s.value)?r(eLh,i,a):eg2(U5([rD(s.value,Ca(([e,r])=>[e,t.onOther(r)])),eLh])):eg2(Uq(sC()))}));case eLl:return eSX(i,{onFailure:sR({onNone:()=>eg2(U5([rD(e.rightChunk,Ca(([e,r])=>[e,t.onOther(r)])),eLh])),onSome:e=>eg2(Uq(sF(e)))}),onSuccess:t=>O8(t)?r(eLd(e.rightChunk),i,a):eg2(U5(n(t,e.rightChunk)))});case eLu:return eSX(a,{onFailure:sR({onNone:()=>eg2(U5([Ca(e.leftChunk,([e,r])=>[e,t.onSelf(r)]),eLc])),onSome:e=>eg2(Uq(sF(e)))}),onSuccess:t=>O8(t)?r(eLp(e.leftChunk),i,a):eg2(U5(n(e.leftChunk,t)))})}},n=(e,r)=>{let n,i=(e,t)=>t<e.length-1,a=[],s=0,o=0,l=rD(e,OW(0)),u=rD(r,OW(o)),c=l[0],h=l[1],f=u[0],d=u[1],p=!0;for(;p;){let m=t.order(c,f);if(0===m)a.push([c,t.onBoth(h,d)]),i(e,s)&&i(r,o)?(s+=1,o+=1,l=rD(e,OW(s)),u=rD(r,OW(o)),c=l[0],h=l[1],f=u[0],d=u[1]):(n=i(e,s)?eLp(rD(e,OJ(s+1))):i(r,o)?eLd(rD(r,OJ(o+1))):eLf,p=!1);else if(m<0)if(a.push([c,t.onSelf(h)]),i(e,s))s+=1,c=(l=rD(e,OW(s)))[0],h=l[1];else{let e=[];for(e.push(u);i(r,o);)o+=1,u=rD(r,OW(o)),e.push(u);n=eLd(OU(e)),p=!1}else if(a.push([f,t.onOther(d)]),i(r,o))o+=1,f=(u=rD(r,OW(o)))[0],d=u[1];else{let t=[];for(t.push(l);i(e,s);)s+=1,l=rD(e,OW(s)),t.push(l);n=eLp(OU(t)),p=!1}}return[OU(a),n]};return ePu(e,t.other,eLf,r)}),eUG=rS(2,(e,t)=>{let r=(e,i,a)=>{switch(e._tag){case eLa:return eSX(i,{onFailure:e=>eg2(Uq(e)),onSuccess:e=>eg2(U5([Ca(e,t.onSelf),eLc]))});case eLs:return eSX(a,{onFailure:e=>eg2(Uq(e)),onSuccess:e=>eg2(U5([Ca(e,t.onOther),eLh]))});case eLo:return rD(ePo(i),evP(ePo(a),{concurrent:!0}),eSX({onFailure:e=>eg2(Uq(sF(e))),onSuccess:([e,s])=>sN(e)&&sN(s)?O8(e.value)&&O8(s.value)?r(eLf,i,a):O8(e.value)?r(eLd(s.value),i,a):O8(s.value)?r(eLp(e.value),i,a):eg2(U5(n(e.value,s.value,t.onBoth))):sN(e)&&sM(s)?eg2(U5([Ca(e.value,t.onSelf),eLc])):sM(e)&&sN(s)?eg2(U5([Ca(s.value,t.onOther),eLh])):eg2(Uq(sC()))}));case eLl:return eSX(i,{onFailure:sR({onNone:()=>eg2(U5([Ca(e.rightChunk,t.onOther),eLh])),onSome:e=>eg2(Uq(sF(e)))}),onSuccess:s=>O8(s)?r(eLd(e.rightChunk),i,a):O8(e.rightChunk)?r(eLp(s),i,a):eg2(U5(n(s,e.rightChunk,t.onBoth)))});case eLu:return eSX(a,{onFailure:sR({onNone:()=>eg2(U5([Ca(e.leftChunk,t.onSelf),eLc])),onSome:e=>eg2(Uq(sF(e)))}),onSuccess:s=>O8(s)?r(eLp(e.leftChunk),i,a):O8(e.leftChunk)?r(eLd(s),i,a):eg2(U5(n(e.leftChunk,s,t.onBoth)))})}},n=(e,t,r)=>{let[n,i]=eU5(e,t,r);switch(i._tag){case"Left":if(O8(i.left))return[n,eLf];return[n,eLp(i.left)];case"Right":if(O8(i.right))return[n,eLf];return[n,eLd(i.right)]}};return ePu(e,t.other,eLf,r)}),eUZ=rS(2,(e,t)=>rD(e,eUY(t,(e,t)=>[e,t]))),eUQ=(...e)=>{if(0===e.length)return ePF;if(1===e.length)return e$v(e[0],e=>[e]);let[t,...r]=e;return eUY(t,eUQ(...r),(e,t)=>[e,...t])},eUY=rS(3,(e,t,r)=>{let n=e=>rD(e,eSm(t=>O8(t)?n(e):eg2(t)));return rD(eUv(e),eyz(n),evP(rD(eUv(t),eyz(n))),eSm(([e,t])=>rD(eP8(eSw(e,t,{onSelfDone:(e,t)=>rD(eg4(()=>e),evU(el3(t),(e,t)=>[e,t,!0])),onOtherDone:(e,t)=>rD(eg4(()=>e),evU(el3(t),(e,t)=>[t,e,!1]))})),ePJ(([n,i,a])=>rD(eP5(Vt([Cn(n),Cn(i)])),ePJ(s=>rD(eP3(a?rD(i,Ca(e=>r(Cn(n),e))):rD(n,Ca(e=>r(e,Cn(i))))),ePc(rD(ezy(e),e$L(ezy(t)),e$F(aU({onLeft:e=>Vs(s,([t,n])=>[rD(e,Ca(e=>r(e,n))),[Cn(e),n]]),onRight:e=>Vs(s,([t,n])=>[rD(e,Ca(e=>r(t,e))),[t,Cn(e)]])})),ePJ(eP3))))))),eUv)),e$t)}),eUX=rS(2,(e,t)=>rD(e,eU2(t,(e,t)=>e.length>t.length?[rD(e,OV(t.length)),aO(rD(e,OV(t.length)))]:[e,aI(rD(t,OJ(e.length)))]))),eU0=rS(2,(e,t)=>rD(e,eU2(t,(e,t)=>e.length>t.length?[t,aO(rD(e,OV(t.length)))]:[rD(t,OV(e.length)),aI(rD(t,OJ(e.length)))]))),eU1=rS(3,(e,t,r)=>rD(e,eU2(t,(e,t)=>eU5(e,t,r)))),eU2=rS(3,(e,t,r)=>{let n=(e,t,r)=>{switch(e._tag){case eLm:return rD(ePo(t),evP(ePo(r),{concurrent:!0}),eSX({onFailure:e=>eg2(Uq(sF(e))),onSuccess:([e,a])=>sN(e)&&sN(a)?O8(e.value)&&O8(a.value)?n(eLb,t,r):O8(e.value)?n(eLS(a.value),t,r):O8(a.value)?n(eLv(e.value),t,r):eg2(U5(i(e.value,a.value))):eg2(Uq(sC()))}));case eLg:return eSX(t,{onFailure:e=>eg2(Uq(e)),onSuccess:a=>O8(a)?n(eLS(e.rightChunk),t,r):O8(e.rightChunk)?n(eLv(a),t,r):eg2(U5(i(a,e.rightChunk)))});case eLy:return eSX(r,{onFailure:e=>eg2(Uq(e)),onSuccess:a=>O8(a)?n(eLv(e.leftChunk),t,r):O8(e.leftChunk)?n(eLS(a),t,r):eg2(U5(i(e.leftChunk,a)))})}},i=(e,t)=>{let[n,i]=r(e,t);switch(i._tag){case"Left":if(O8(i.left))return[n,eLb];return[n,eLv(i.left)];case"Right":if(O8(i.right))return[n,eLb];return[n,eLS(i.right)]}};return rD(e,ePu(t,eLb,n))}),eU6=e=>rD(e,e$w(0,(e,t)=>[e+1,[t,e]])),eU3=e=>{let t=e=>eI_({onInput:r=>{let[n,i]=Cs(r,e,(e,t)=>[sF(t),rD(e,sQ(e=>[e,t]))]);return eIy(eIF(OY(i,e=>sN(e)?sF([e.value[0],sF(e.value[1])]):sC())),()=>t(n))},onFailure:eIm,onDone:()=>sR(e,{onNone:()=>eIC,onSome:e=>eOP(eIF(OR([e,sC()])),eIC)})});return new eLj(rD(eP6(e),eOc(t(sC()))))},eU4=e=>rD(e,e$w(sC(),(e,t)=>[sF(t),[e,t]])),eU5=(e,t,r)=>e.length>t.length?[rD(e,OV(t.length),CE(t,r)),aO(rD(e,OJ(t.length)))]:[rD(e,CE(rD(t,OV(e.length)),r)),aI(rD(t,OJ(e.length)))],eU8=ez8({}),eU7=rS(e=>"string"!=typeof e[0],(e,t,r,n)=>ePJ(e,e=>e$v(r(e),r=>({...e,[t]:r})),n)),eU9=r5(e$v),eBe=r4(e$v),eBt=rS(e=>eLL(e[0]),(e,t="utf-8")=>ez9(()=>{let r=new TextDecoder(t);return e$v(e,e=>r.decode(e))})),eBr=eIe,eBn=eO$,eBi=eIr,eBa=eTF,eBs=eIn,eBo=eTA,eBl=e=>eT6(e,rC),eBu=eTM,eBc=eTN,eBh=eTR,eBf=eIi,eBd=eIo,eBp=eIl,eBm=eTD,eBg=eIu,eBy=eIc,eBb=eTj,eBS=e=>eIo(e),eBv=eTL,eBw=eTP,eBx=eT$,eBk=eTz,eB_=eTU,eBE=eTB,eBI=eTW,eBT=eTK,eBO=eIh,eBC=e=>eIy(eTW(e),eIF),eBF=eTV,eBA=eIf,eBM=eTJ,eBN=e=>eT6(eTJ(),e),eBR=eTH,eBD=e=>eT3(eTJ(),e),eBj=eId,eBL=eIp,eBP=eIm,eB$=eIg,eBz=eIy,eBU=eTG,eBB=eTZ,eBW=eIb,eBq=eIS,eBK=e=>eIT(()=>aU(e,{onLeft:eId,onRight:eIE})),eBV=eTQ,eBJ=e=>eOC(eyz(eEe(e),eTY)),eBH=e=>eyz(eEe(e),eTY),eBG=e=>eIT(()=>sR(e,{onNone:()=>eId(sC()),onSome:eIE})),eBZ=eTY,eBQ=eT0,eBY=eT1,eBX=eT2,eB0=eT6,eB1=eT3,eB2=eT4,eB6=eT5,eB3=eT8,eB4=eT7,eB5=eT9,eB8=eOe,eB7=e=>eOt({concurrency:"unbounded"})(e,rC),eB9=(e,t)=>eOt({concurrency:"unbounded"})(e,t),eWe=eOt,eWt=eOr,eWr=eOn,eWn=eOi,eWi=eOa,eWa=eOs,eWs=eOo,eWo=eOl,eWl=eOu,eWu=eIv,eWc=eOc,eWh=eIw,eWf=eOf,eWd=eOd,eWp=eOp,eWm=eOh,eWg=()=>eIx(sC()),eWy=eIx,eWb=eIk,eWS=eI_,eWv=eOm,eWw=eOg,eWx=e=>eOg(eIa(e)),eWk=eOy,eW_=eOb,eWE=eOS,eWI=eOv,eWT=eOw,eWO=eIE,eWC=eIT,eWF=eIO,eWA=eOx,eWM=eOk,eWN=eO_,eWR=eOI,eWD=e=>new eOq(e),eWj=e=>new eLj(e),eWL=eIC,eWP=eOO,eW$=eOC,eWz=eOF,eWU=eOA,eWB=eOM,eWW=eIF,eWq=eON,eWK=eOR,eWV=eOj,eWJ=eOL,eWH=eOP,eWG=eOz,eWZ=eOU,eWQ=eED,eWY=eEL,eWX=e=>{let t=Object.create(eEj);return t._tag=eEN,t.value=e,t},eW0=e=>{let t=Object.create(eEj);return t._tag=eER,t},eW1=e=>nw(e,eED),eW2=e=>e._tag===eEM,eW6=e=>e._tag===eEN,eW3=e=>e._tag===eER,eW4=eEP,eW5=Wa,eW8=Wo,eW7=Wl,eW9=Wc,eqe=Wu,eqt=Wh,eqr=Wf,eqn=e=>nw(e,Wa),eqi=e=>"And"===e._op,eqa=e=>"Or"===e._op,eqs=e=>e._op===Wt,eqo=e=>e._op===Wr,eql=e=>Wm(e,void 0,Wp),equ=e=>e._op===Wn,eqc=e=>e._op===Wi,eqh=Wd,eqf=Wm,eqd="effect/Redacted",eqp=r9("effect/Redacted/redactedRegistry",()=>new WeakMap),eqm=Symbol.for(eqd),eqg={[eqm]:{_A:e=>e},pipe(){return ij(this,arguments)},toString:()=>"<redacted>",toJSON:()=>"<redacted>",[i_]:()=>"<redacted>",[is](){return rD(io(eqd),iu(io(eqp.get(this))),ib(this))},[iS](e){return eqy(e)&&iv(eqp.get(this),eqp.get(e))}},eqy=e=>nw(e,eqm),eqb=e=>{let t=Object.create(eqg);return eqp.set(t,e),t},eqS=Symbol.for("effect/Secret"),eqv={...eqg,[eqS]:eqS},eqw=e=>{let t=Object.create(eqv);return Object.defineProperty(t,"toString",{enumerable:!1,value:()=>"Secret(<redacted>)"}),Object.defineProperty(t,"toJSON",{enumerable:!1,value:()=>"<redacted>"}),Object.defineProperty(t,"raw",{enumerable:!1,value:e}),eqp.set(t,e.map(e=>String.fromCharCode(e)).join("")),t},eqx=e=>eqw(e.split("").map(e=>e.charCodeAt(0))),eqk=Symbol.for("effect/Config"),eq_={...i9,[eqk]:{_A:e=>e},commit(){let e;return e=this,qM(t=>t.load(e))}},eqE=(e,t)=>eqI(void 0===t?eqN(e):eqC(eqN(e),t),OU),eqI=rS(2,(e,t)=>eqO(e,e=>aI(t(e)))),eqT=rS(2,(e,t)=>eqO(e,e=>{try{return aI(t(e))}catch(e){return aO(Wu([],e instanceof Error?e.message:`${e}`))}})),eqO=rS(2,(e,t)=>{let r=Object.create(eq_);return r._tag=WT,r.original=e,r.mapOrFail=t,r}),eqC=rS(2,(e,t)=>{let r=Object.create(eq_);return r._tag=WO,r.name=t,r.config=e,r}),eqF=rS(2,(e,t)=>{let r=Object.create(eq_);return r._tag=W_,r.first=e,r.second=eqP(t),r.condition=rE,r}),eqA=rS(2,(e,t)=>{let r=Object.create(eq_);return r._tag=W_,r.first=e,r.second=eqP(t.orElse),r.condition=t.if,r}),eqM=(e,t)=>{let r=Object.create(eq_);return r._tag=WC,r.description=e,r.parse=t,r},eqN=e=>{let t=Object.create(eq_);return t._tag=WF,t.config=e,t},eqR=rS(2,(e,t)=>eqO(eq$(e)?e:eqD(e),e=>t.either(e).pipe(a$(e=>Wu([],e.map(e=>e.message).join("\n")))))),eqD=e=>{let t=eqM("a text property",aI);return void 0===e?t:eqC(t,e)},eqj=e=>{let t=Object.entries(e),r=rD(t[0][1],eqI(e=>({[t[0][0]]:e})));if(1===t.length)return r;for(let[e,n]of t.slice(1))r=rD(r,eqV(n,(t,r)=>({...t,[e]:r})));return r},eqL=e=>{let t=Object.create(eq_);return t._tag=Wx,t.value=e,t.parse=()=>aI(e),t},eqP=e=>{let t=Object.create(eq_);return t._tag=WI,t.config=e,t},eq$=e=>nw(e,eqk),eqz=e=>{if(0===e.length)return eqL([]);if(1===e.length)return eqI(e[0],e=>[e]);let t=eqI(e[0],e=>[e]);for(let r=1;r<e.length;r++)t=rD(t,eqV(e[r],(e,t)=>[...e,t]));return t},eqU=e=>eq$(e)?e:eqj(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,eqU(t)]))),eqB=rS(2,(e,{message:t,validation:r})=>eqO(e,e=>r(e)?aI(e):aO(Wu([],t)))),eqW=rS(2,(e,t)=>eqA(e,{orElse:()=>eqL(t),if:eql})),eqq=rS(2,(e,t)=>{let r=Object.create(eq_);return r._tag=WE,r.config=e,r.description=t,r}),eqK=rS(2,(e,t)=>eqV(e,t,(e,t)=>[e,t])),eqV=rS(3,(e,t,r)=>{let n=Object.create(eq_);return n._tag=WM,n.left=e,n.right=t,n.zip=r,n}),eqJ=eqk,eqH=e=>Array.isArray(e)?eqz(e):Symbol.iterator in e?eqz([...e]):eqj(e),eqG=(e,t)=>rD(eqE(e,t),eqI(OL)),eqZ=e=>{let t=eqM("a boolean property",e=>{switch(e){case"true":case"yes":case"on":case"1":return aI(!0);case"false":case"no":case"off":case"0":return aI(!1);default:return aO(Wu([],`Expected a boolean value but received ${e}`))}});return void 0===e?t:eqC(t,e)},eqQ=e=>{let t=eqM("a network port property",e=>{let t=Number(e);return Number.isNaN(t)||t.toString()!==e.toString()||!Number.isInteger(t)||t<1||t>65535?aO(Wu([],`Expected a network port value but received ${e}`)):aI(t)});return void 0===e?t:eqC(t,e)},eqY=e=>{let t=eqM("an URL property",e=>aA({try:()=>new URL(e),catch:t=>Wu([],`Expected an URL value but received ${e}`)}));return void 0===e?t:eqC(t,e)},eqX=eqE,eq0=e=>{let t=eqM("a date property",e=>{let t=Date.parse(e);return Number.isNaN(t)?aO(Wu([],`Expected a Date value but received ${e}`)):aI(new Date(t))});return void 0===e?t:eqC(t,e)},eq1=e=>{let t=Object.create(eq_);return t._tag=Wk,t.message=e,t.parse=()=>aO(Wf([],e)),t},eq2=e=>{let t=eqM("a number property",e=>{let t=Number(e);return Number.isNaN(t)?aO(Wu([],`Expected a number value but received ${e}`)):aI(t)});return void 0===e?t:eqC(t,e)},eq6=e=>{let t=eqM("an integer property",e=>{let t=Number(e);return Number.isInteger(t)?aI(t):aO(Wu([],`Expected an integer value but received ${e}`))});return void 0===e?t:eqC(t,e)},eq3=(...e)=>t=>{let r=e.map(String).join(", "),n=eqM(`one of (${r})`,t=>{let n=e.find(e=>String(e)===t);return void 0===n?aO(Wu([],`Expected one of (${r}) but received ${t}`)):aI(n)});return void 0===t?n:eqC(n,t)},eq4=e=>{let t=eqO(eqD(),e=>{let t=e.toUpperCase(),r=$o.find(e=>e.label===t);return void 0===r?aO(Wu([],`Expected a log level but received ${e}`)):aI(r)});return void 0===e?t:eqC(t,e)},eq5=e=>{let t=eqO(eqD(),e=>aF(C6(e),()=>Wu([],`Expected a duration but received ${e}`)));return void 0===e?t:eqC(t,e)},eq8=eq$,eq7=eqI,eq9=eqT,eKe=eqO,eKt=eqC,eKr=eqF,eKn=eqA,eKi=e=>rD(e,eqI(sF),eqA({orElse:()=>eqL(sC()),if:eql})),eKa=eqM,eKs=eqN,eKo=e=>{let t=eqM("a secret property",e=>aI(eqx(e)));return void 0===e?t:eqC(t,e)},eKl=e=>eqI(eq$(e)?e:eqD(e),eqb),eKu=eqR,eKc=(e,t)=>{let r=eqI(eqE(e),Mt);return void 0===t?r:eqC(r,t)},eKh=eqD,eKf=e=>{let t=eqM("a non-empty text property",aB(e=>e.length>0,()=>Wc([],"Expected a non-empty string")));return void 0===e?t:eqC(t,e)},eKd=eqL,eKp=eqP,eKm=e=>eqP(()=>eqL(e())),eKg=(e,t)=>{let r=Object.create(eq_);return r._tag=WA,r.valueConfig=e,void 0===t?r:eqC(r,t)},eKy=eqU,eKb=eqB,eKS=eqW,eKv=eqq,eKw=eqK,eKx=eqV,eKk=WW,eK_=WK,eKE=Wq,eKI=WV,eKT=WJ,eKO=WG,eKC=WH,eKF=e=>{var t;let r,n,i;return WZ(new Map(cF((t=e,r=(e,t)=>"string"==typeof t?l9([e,t]):"number"==typeof t||"boolean"==typeof t?l9([e,String(t)]):uy(t)?n(e,t):"object"==typeof t&&null!==t?i(e,t):cO(),n=(e,t)=>ul(t,{onEmpty:()=>l9([e,"<nil>"]),onNonEmpty:cA((t,n)=>r(ud(e,{_tag:"KeyIndex",index:n}),t))}),(i=(e,t)=>Object.entries(t).filter(([,e])=>n_(e)).flatMap(([t,n])=>{let i=ud(e,{_tag:"KeyName",name:t}),a=r(i,n);return uS(a)?l9([i,""]):a}))(cO(),t)),([e,t])=>[(e=>{let t=[],r=0;for(;r<e.length;){let n=e[r];if("KeyName"===n._tag)if(r+1<e.length){let i=e[r+1];"KeyIndex"===i._tag?(t.push(`${n.name}[${i.index}]`),r+=2):(t.push(n.name),r+=1)}else t.push(n.name),r+=1}return t})(e).join("\uFEFF"),t])),{pathDelim:"\uFEFF",seqDelim:"\uFEFF"})},eKA=WZ,eKM=e=>WX(e,W$),eKN=WX,eKR=e=>WX(e,Wz),eKD=e=>WX(e,WN),eKj=W1,eKL=W6,eKP=W2,eK$=e=>WX(e,WU),eKz=e=>WX(e,WR),eKU=W4,eKB=Wg,eKW=Wy,eKq=Wb,eKK=WS,eKV=Wv,eKJ=qa,eKH=qs,eKG=ec5,eKZ=e=>ecR(eab(qE,Od(qs,e))),eKQ=ec4,eKY=(e,...t)=>ec4(r=>r.assert(e,...t)),eKX=ec8,eK0=e=>ec4(t=>t.count(e)),eK1=e=>ec4(t=>t.countReset(e)),eK2=(...e)=>ec4(t=>t.debug(...e)),eK6=(e,t)=>ec4(r=>r.dir(e,t)),eK3=(...e)=>ec4(t=>t.dirxml(...e)),eK4=(...e)=>ec4(t=>t.error(...e)),eK5=e=>ec4(t=>eiC(t.group(e),()=>t.groupEnd)),eK8=(...e)=>ec4(t=>t.info(...e)),eK7=(...e)=>ec4(t=>t.log(...e)),eK9=(e,t)=>ec4(r=>r.table(e,t)),eVe=e=>ec4(t=>eiC(t.time(e),()=>t.timeEnd(e))),eVt=(e,...t)=>ec4(r=>r.timeLog(e,...t)),eVr=(...e)=>ec4(t=>t.trace(...e)),eVn=(...e)=>ec4(t=>t.warn(...e)),eVi=ec7,eVa=ec9,eVs=ehp,eVo=ehm,eVl=ehk,eVu=ehE,eVc=e=>ehE(e)&&"Offset"===e._tag,eVh=ehI,eVf=e=>"Utc"===e._tag,eVd=ehT,eVp=ehO,eVm=ehC,eVg=ehF,eVy=ehM,eVb=ehN,eVS=ehD,eVv=ehj,eVw=ehL,eVx=e=>{let t=ehP.exec(e);if(null===t){let t=efy(e);return null!==t?ehj(e,{timeZone:t}):sC()}let[,r,n]=t;return ehj(r,{timeZone:n})},eVk=eh$,eV_=ehz,eVE=ehU,eVI=e=>ehA(e.epochMillis),eVT=ehB,eVO=ehW,eVC=ehJ,eVF=ehH,eVA=ehG,eVM=ehZ,eVN=()=>ehV(new Intl.DateTimeFormat("en-US",ehK)),eVR=ehY,eVD=e=>"Offset"===e._tag?efi(e.offset):e.id,eVj=ehX,eVL=eh0,eVP=eh1,eV$=eh2,eVz=eh6,eVU=eh3,eVB=eh4,eVW=eh5,eVq=eh8,eVK=eh7,eVV=eh9,eVJ=efe,eVH=e=>PE(eh$,eh7(e)),eVG=e=>eh7(ehU(),e),eVZ=e=>PE(eh$,eh5(e)),eVQ=e=>eh5(ehU(),e),eVY=eft,eVX=efr,eV0=efn,eV1=efa,eV2=efs,eV6=e=>efx(e,e=>(e.setUTCHours(0,0,0,0),ehA(e.getTime()))),eV3=efl,eV4=efu,eV5=efc,eV8=efh,eV7=efd,eV9=efp;class eJe extends Ox("effect/DateTime/CurrentTimeZone")(){}let eJt=e=>eyz(eJe,t=>eVT(e,t)),eJr=rS(2,(e,t)=>ebJ(e,eJe,t)),eJn=e=>ebH(e,eJe,eg5(eVN)),eJi=rS(2,(e,t)=>ebJ(e,eJe,eVF(t))),eJa=rS(2,(e,t)=>ebH(e,eJe,eVM(t))),eJs=eSm(eVk,eJt),eJo=efS,eJl=efv,eJu=efw,eJc=efx,eJh=efk,eJf=ef_,eJd=efE,eJp=efI,eJm=efO,eJg=efC,eJy=efA,eJb=efN,eJS=efR,eJv=efD,eJw=efj,eJx=efL,eJk=efP,eJ_=e=>eft(e).toISOString(),eJE=e=>efr(e).toISOString().slice(0,10),eJI=e=>eft(e).toISOString().slice(0,10),eJT=ef$,eJO=efz,eJC=e=>ekh(eJe,e),eJF=e=>ekh(eJe,ehH(e)),eJA=e=>exP(eJe,ehZ(e)),eJM=ekp(eJe,eVN),eJN=q_,eJR=qE,eJD=Symbol.for("effect/Encoding/errors/Decode"),eJj=(e,t)=>{let r={_tag:"DecodeException",[eJD]:eJD,input:e};return ns(t)&&(r.message=t),r},eJL=Symbol.for("effect/Encoding/errors/Encode"),eJP=new TextEncoder,eJ$=new TextDecoder,eJz=e=>{let t,r=e.length,n="";for(t=2;t<r;t+=3)n+=eJq[e[t-2]>>2],n+=eJq[(3&e[t-2])<<4|e[t-1]>>4],n+=eJq[(15&e[t-1])<<2|e[t]>>6],n+=eJq[63&e[t]];return t===r+1&&(n+=eJq[e[t-2]>>2],n+=eJq[(3&e[t-2])<<4],n+="=="),t===r&&(n+=eJq[e[t-2]>>2],n+=eJq[(3&e[t-2])<<4|e[t-1]>>4],n+=eJq[(15&e[t-1])<<2],n+="="),n},eJU=e=>{let t=eJB(e),r=t.length;if(r%4!=0)return aO(eJj(t,`Length must be a multiple of 4, but is ${r}`));let n=t.indexOf("=");if(-1!==n&&(n<r-2||n===r-2&&"="!==t[r-1]))return aO(eJj(t,"Found a '=' character, but it is not at the end"));try{let e=t.endsWith("==")?2:+!!t.endsWith("="),n=new Uint8Array(r/4*3-e);for(let e=0,i=0;e<r;e+=4,i+=3){let r=eJW(t.charCodeAt(e))<<18|eJW(t.charCodeAt(e+1))<<12|eJW(t.charCodeAt(e+2))<<6|eJW(t.charCodeAt(e+3));n[i]=r>>16,n[i+1]=r>>8&255,n[i+2]=255&r}return aI(n)}catch(e){return aO(eJj(t,e instanceof Error?e.message:"Invalid input"))}},eJB=e=>e.replace(/[\n\r]/g,"");function eJW(e){if(e>=eJK.length)throw TypeError(`Invalid character ${String.fromCharCode(e)}`);let t=eJK[e];if(255===t)throw TypeError(`Invalid character ${String.fromCharCode(e)}`);return t}let eJq=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],eJK=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],eJV=e=>eJz(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),eJJ=e=>{let t="";for(let r=0;r<e.length;++r)t+=eJH[e[r]];return t},eJH=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],eJG=e=>{if(48<=e&&e<=57)return e-48;if(97<=e&&e<=102)return e-97+10;if(65<=e&&e<=70)return e-65+10;throw TypeError("Invalid input")},eJZ=e=>"string"==typeof e?eJz(eJP.encode(e)):eJz(e),eJQ=e=>eJU(e),eJY=e=>az(eJQ(e),e=>eJ$.decode(e)),eJX=e=>"string"==typeof e?eJV(eJP.encode(e)):eJV(e),eJ0=e=>(e=>{let t=eJB(e),r=t.length;if(r%4==1)return aO(eJj(t,`Length should be a multiple of 4, but is ${r}`));if(!/^[-_A-Z0-9]*?={0,2}$/i.test(t))return aO(eJj(t,"Invalid input"));let n=r%4==2?`${t}==`:r%4==3?`${t}=`:t;return eJU(n=n.replace(/-/g,"+").replace(/_/g,"/"))})(e),eJ1=e=>az(eJ0(e),e=>eJ$.decode(e)),eJ2=e=>"string"==typeof e?eJJ(eJP.encode(e)):eJJ(e),eJ6=e=>(e=>{let t=new TextEncoder().encode(e);if(t.length%2!=0)return aO(eJj(e,`Length must be a multiple of 2, but is ${t.length}`));try{let e=t.length/2,r=new Uint8Array(e);for(let n=0;n<e;n++){let e=eJG(t[2*n]),i=eJG(t[2*n+1]);r[n]=e<<4|i}return aI(r)}catch(t){return aO(eJj(e,t instanceof Error?t.message:"Invalid input"))}})(e),eJ3=e=>az(eJ6(e),e=>eJ$.decode(e)),eJ4=e=>aA({try:()=>encodeURIComponent(e),catch:t=>eHt(e,t instanceof Error?t.message:"Invalid input")}),eJ5=e=>aA({try:()=>decodeURIComponent(e),catch:t=>eJ7(e,t instanceof Error?t.message:"Invalid input")}),eJ8=eJD,eJ7=eJj,eJ9=e=>nw(e,eJD),eHe=eJL,eHt=(e,t)=>{let r={_tag:"EncodeException",[eJL]:eJL,input:e};return ns(t)&&(r.message=t),r},eHr=e=>nw(e,eJL),eHn=emQ,eHi=e=>nw(e,emQ),eHa=(...e)=>eHo(e.map((e,t)=>{if(e.attempts&&e.attempts<1)throw Error(`ExecutionPlan.make: step[${t}].attempts must be greater than 0`);return{schedule:e.schedule,attempts:e.attempts,while:e.while?t=>eg4(()=>{let r=e.while(t);return"boolean"==typeof r?eg2(r):r}):void 0,provide:e.provide}})),eHs={[eHn]:eHn,get withRequirements(){let e=this;return ebW(t=>eHo(e.steps.map(e=>({...e,provide:exI(e.provide)?ekw(e.provide,ekf(t)):e.provide}))))},pipe(){return ij(this,arguments)}},eHo=e=>{let t=Object.create(eHs);return t.steps=e,t},eHl=(...e)=>eHo(e.flatMap(e=>e.steps)),eHu=Symbol.for("effect/FiberHandle"),eHc=e=>nw(e,eHu),eHh={[eHu]:eHu,toString(){return iI(this.toJSON())},toJSON(){return{_id:"FiberHandle",state:this.state}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},eHf=()=>eyJ(eyz(Up(),e=>{let t;return(t=Object.create(eHh)).state={_tag:"Open",fiber:void 0},t.deferred=e,t}),e=>egq(t=>{let r=e.state;return"Closed"===r._tag?eg8:(e.state={_tag:"Closed"},r.fiber?eSt(eyL(elX(r.fiber,Ni(t.id(),eHm))),e.deferred):US(e.deferred,U8))})),eHd=()=>eSm(eHf(),e=>eHE(e)()),eHp=()=>eSm(eHf(),e=>eHI(e)()),eHm=Nl(-1,0),eHg=esV(void 0,{emptyCase:rI,failCase:rI,dieCase:rI,interruptCase:(e,t)=>Mn(No(t),-1),sequentialCase:(e,t,r)=>t||r,parallelCase:(e,t,r)=>t||r}),eHy=rS(e=>eHc(e[0]),(e,t,r)=>{if("Closed"===e.state._tag)return void t.unsafeInterruptAsFork(Ni(r?.interruptAs??M8,eHm));if(void 0!==e.state.fiber){if(r?.onlyIfMissing===!0)return void t.unsafeInterruptAsFork(Ni(r?.interruptAs??M8,eHm));if(e.state.fiber===t)return;e.state.fiber.unsafeInterruptAsFork(Ni(r?.interruptAs??M8,eHm)),e.state.fiber=void 0}e.state.fiber=t,t.addObserver(n=>{"Open"===e.state._tag&&t===e.state.fiber&&(e.state.fiber=void 0),!UD(n)||(r?.propagateInterruption===!0?eHg(n.cause):esw(n.cause))||UN(e.deferred,n)})}),eHb=rS(e=>eHc(e[0]),(e,t,r)=>ebo(n=>eg5(()=>eHy(e,t,{interruptAs:n,onlyIfMissing:r?.onlyIfMissing,propagateInterruption:r?.propagateInterruption})))),eHS=e=>"Closed"===e.state._tag?sC():sq(e.state.fiber),eHv=e=>eg4(()=>eHS(e)),eHw=e=>eyM(t=>egq(r=>"Closed"===e.state._tag||void 0===e.state.fiber?eg8:evz(t(elX(e.state.fiber,Ni(r.id(),eHm))),eg5(()=>{"Open"===e.state._tag&&(e.state.fiber=void 0)})))),eHx=()=>(void 0===d&&(d=evF(eyI)),d),eHk=function(){let e=arguments[0];if(egh(arguments[1]))return eH_(e,arguments[1],arguments[2]);let t=arguments[1];return r=>eH_(e,r,t)},eH_=(e,t,r)=>ebo(n=>"Closed"===e.state._tag?eyI:void 0!==e.state.fiber&&r?.onlyIfMissing===!0?eg5(eHx):eSk(ebu(t),t=>eHy(e,t,{...r,interruptAs:n}))),eHE=e=>()=>eyz(evm(),t=>{let r=eFI(t);return(t,n)=>{if("Closed"===e.state._tag||void 0!==e.state.fiber&&n?.onlyIfMissing===!0)return eHx();let i=r(t,n);return eHy(e,i,n),i}}),eHI=e=>()=>eyz(eHE(e)(),e=>(t,r)=>new Promise((n,i)=>e(t,r).addObserver(e=>{Uj(e)?n(e.value):i(esz(e.cause))}))),eHT=e=>Ug(e.deferred),eHO=e=>eg4(()=>"Closed"===e.state._tag||void 0===e.state.fiber?eg8:el$(e.state.fiber)),eHC=Symbol.for("effect/FiberMap"),eHF=e=>nw(e,eHC),eHA={[eHC]:eHC,[Symbol.iterator](){return"Closed"===this.state._tag?le():this.state.backing[Symbol.iterator]()},toString(){return iI(this.toJSON())},toJSON(){return{_id:"FiberMap",state:this.state}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},eHM=()=>eyJ(eyz(Up(),e=>{var t;let r;return t=Bu(),(r=Object.create(eHA)).state={_tag:"Open",backing:t},r.deferred=e,r}),e=>egq(t=>{let r=e.state;return"Closed"===r._tag?eg8:(e.state={_tag:"Closed"},el2(lr(r.backing,([,e])=>e),Ni(t.id(),eHD)).pipe(eSt(e.deferred)))})),eHN=()=>eSm(eHM(),e=>eHH(e)()),eHR=()=>eSm(eHM(),e=>eHG(e)()),eHD=Nl(-1,0),eHj=esV(void 0,{emptyCase:rI,failCase:rI,dieCase:rI,interruptCase:(e,t)=>Mn(No(t),-1),sequentialCase:(e,t,r)=>t||r,parallelCase:(e,t,r)=>t||r}),eHL=rS(e=>eHF(e[0]),(e,t,r,n)=>{if("Closed"===e.state._tag)return void r.unsafeInterruptAsFork(Ni(n?.interruptAs??M8,eHD));let i=Bf(e.state.backing,t);if("Some"===i._tag){if(n?.onlyIfMissing===!0)return void r.unsafeInterruptAsFork(Ni(n?.interruptAs??M8,eHD));if(i.value===r)return;i.value.unsafeInterruptAsFork(Ni(n?.interruptAs??M8,eHD))}By(e.state.backing,t,r),r.addObserver(i=>{if("Closed"===e.state._tag)return;let a=Bf(e.state.backing,t);sN(a)&&r===a.value&&Bw(e.state.backing,t),!UD(i)||(n?.propagateInterruption===!0?eHj(i.cause):esw(i.cause))||UN(e.deferred,i)})}),eHP=rS(e=>eHF(e[0]),(e,t,r,n)=>ebo(i=>eg5(()=>eHL(e,t,r,{...n,interruptAs:i})))),eH$=rS(2,(e,t)=>"Closed"===e.state._tag?sC():Bf(e.state.backing,t)),eHz=rS(2,(e,t)=>eg4(()=>eH$(e,t))),eHU=rS(2,(e,t)=>"Closed"!==e.state._tag&&Bg(e.state.backing,t)),eHB=rS(2,(e,t)=>eg5(()=>eHU(e,t))),eHW=rS(2,(e,t)=>egq(r=>{if("Closed"===e.state._tag)return eg8;let n=Bf(e.state.backing,t);return"None"===n._tag?eg8:elX(n.value,Ni(r.id(),eHD))})),eHq=e=>egq(t=>"Closed"===e.state._tag?eg8:egC(e.state.backing,([,e])=>elX(e,Ni(t.id(),eHD)))),eHK=()=>(void 0===p&&(p=evF(eyI)),p),eHV=function(){let e=arguments[0];if(egh(arguments[2]))return eHJ(e,arguments[1],arguments[2],arguments[3]);let t=arguments[1],r=arguments[2];return n=>eHJ(e,t,n,r)},eHJ=(e,t,r,n)=>ebo(i=>"Closed"===e.state._tag?eyI:n?.onlyIfMissing===!0&&eHU(e,t)?eg5(eHK):eSk(ebu(r),r=>eHL(e,t,r,{...n,interruptAs:i}))),eHH=e=>()=>eyz(evm(),t=>{let r=eFI(t);return(t,n,i)=>{if("Closed"===e.state._tag||i?.onlyIfMissing===!0&&eHU(e,t))return eHK();let a=r(n,i);return eHL(e,t,a,i),a}}),eHG=e=>()=>eyz(eHH(e)(),e=>(t,r,n)=>new Promise((i,a)=>e(t,r,n).addObserver(e=>{Uj(e)?i(e.value):a(esz(e.cause))}))),eHZ=e=>eg5(()=>"Closed"===e.state._tag?0:Bk(e.state.backing)),eHQ=e=>Ug(e.deferred),eHY=e=>eSP({while:()=>"Open"===e.state._tag&&Bk(e.state.backing)>0,body:()=>el$(oJ(e)[1]),step:rC}),eHX=Symbol.for("effect/FiberSet"),eH0=e=>nw(e,eHX),eH1={[eHX]:eHX,[Symbol.iterator](){return"Closed"===this.state._tag?le():this.state.backing[Symbol.iterator]()},toString(){return iI(this.toJSON())},toJSON(){return{_id:"FiberMap",state:this.state}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},eH2=()=>eyJ(eyz(Up(),e=>{var t;let r;return t=new Set,(r=Object.create(eH1)).state={_tag:"Open",backing:t},r.deferred=e,r}),e=>egq(t=>{let r=e.state;return"Closed"===r._tag?eg8:(e.state={_tag:"Closed"},el2(r.backing,Ni(t.id(),eH4)).pipe(eSt(e.deferred)))})),eH6=()=>eSm(eH2(),e=>eGn(e)()),eH3=()=>eSm(eH2(),e=>eGi(e)()),eH4=Nl(-1,0),eH5=esV(void 0,{emptyCase:rI,failCase:rI,dieCase:rI,interruptCase:(e,t)=>Mn(No(t),-1),sequentialCase:(e,t,r)=>t||r,parallelCase:(e,t,r)=>t||r}),eH8=rS(e=>eH0(e[0]),(e,t,r)=>{"Closed"===e.state._tag?t.unsafeInterruptAsFork(Ni(r?.interruptAs??M8,eH4)):e.state.backing.has(t)||(e.state.backing.add(t),t.addObserver(n=>{"Closed"!==e.state._tag&&(e.state.backing.delete(t),!UD(n)||(r?.propagateInterruption===!0?eH5(n.cause):esw(n.cause))||UN(e.deferred,n))}))}),eH7=rS(e=>eH0(e[0]),(e,t,r)=>ebo(n=>eg5(()=>eH8(e,t,{...r,interruptAs:n})))),eH9=e=>egq(t=>"Closed"===e.state._tag?eg8:egC(e.state.backing,e=>elX(e,Ni(t.id(),eH4)))),eGe=()=>(void 0===m&&(m=evF(eyI)),m),eGt=function(){let e=arguments[0];if(!egh(arguments[1])){let t=arguments[1];return r=>eGr(e,r,t)}return eGr(e,arguments[1],arguments[2])},eGr=(e,t,r)=>ebo(n=>"Closed"===e.state._tag?eg5(eGe):eSk(ebu(t),t=>eH8(e,t,{...r,interruptAs:n}))),eGn=e=>()=>eyz(evm(),t=>{let r=eFI(t);return(t,n)=>{if("Closed"===e.state._tag)return eGe();let i=r(t,n);return eH8(e,i),i}}),eGi=e=>()=>eyz(eGn(e)(),e=>(t,r)=>new Promise((n,i)=>e(t,r).addObserver(e=>{Uj(e)?n(e.value):i(esz(e.cause))}))),eGa=e=>eg5(()=>"Closed"===e.state._tag?0:e.state.backing.size),eGs=e=>Ug(e.deferred),eGo=e=>eSP({while:()=>"Open"===e.state._tag&&e.state.backing.size>0,body:()=>el$(oJ(e)),step:rC}),eGl=(e,t)=>e.has(t)?sF(e.get(t)):sC(),eGu="~effect/Graph";class eGc extends eho{}let eGh={[eGu]:eGu,[Symbol.iterator](){return this.nodes[Symbol.iterator]()},[i_](){return this.toJSON()},[iS](e){if(eGf(e)){if(this.nodes.size!==e.nodes.size||this.edges.size!==e.edges.size||this.type!==e.type)return!1;for(let[t,r]of this.nodes)if(!e.nodes.has(t)||!iv(r,e.nodes.get(t)))return!1;for(let[t,r]of this.edges)if(!e.edges.has(t)||!iv(r,e.edges.get(t)))return!1;return!0}return!1},[is](){let e=ip("Graph");for(let[t,r]of(e^=ip(this.type),e^=id(this.nodes.size),e^=id(this.edges.size),this.nodes))e^=io(t)+io(r);for(let[t,r]of this.edges)e^=io(t)+io(r);return e},toJSON(){return{_id:"Graph",nodeCount:this.nodes.size,edgeCount:this.edges.size,type:this.type}},toString(){return iI(this)},pipe(){return ij(this,arguments)}},eGf=e=>"object"==typeof e&&null!==e&&eGu in e,eGd=e=>{let t=Object.create(eGh);if(t.type="directed",t.nodes=new Map,t.edges=new Map,t.adjacency=new Map,t.reverseAdjacency=new Map,t.nextNodeIndex=0,t.nextEdgeIndex=0,t.isAcyclic=sF(!0),t.mutable=!1,e){let r=eGm(t);return e(r),eGg(r)}return t},eGp=e=>{let t=Object.create(eGh);if(t.type="undirected",t.nodes=new Map,t.edges=new Map,t.adjacency=new Map,t.reverseAdjacency=new Map,t.nextNodeIndex=0,t.nextEdgeIndex=0,t.isAcyclic=sF(!0),t.mutable=!1,e){let r=eGm(t);return e(r),eGg(r)}return t},eGm=e=>{let t=new Map,r=new Map;for(let[r,n]of e.adjacency)t.set(r,[...n]);for(let[t,n]of e.reverseAdjacency)r.set(t,[...n]);let n=Object.create(eGh);return n.type=e.type,n.nodes=new Map(e.nodes),n.edges=new Map(e.edges),n.adjacency=t,n.reverseAdjacency=r,n.nextNodeIndex=e.nextNodeIndex,n.nextEdgeIndex=e.nextEdgeIndex,n.isAcyclic=e.isAcyclic,n.mutable=!0,n},eGg=e=>{let t=Object.create(eGh);return t.type=e.type,t.nodes=new Map(e.nodes),t.edges=new Map(e.edges),t.adjacency=e.adjacency,t.reverseAdjacency=e.reverseAdjacency,t.nextNodeIndex=e.nextNodeIndex,t.nextEdgeIndex=e.nextEdgeIndex,t.isAcyclic=e.isAcyclic,t.mutable=!1,t},eGy=rS(2,(e,t)=>{let r=eGm(e);return t(r),eGg(r)}),eGb=(e,t)=>{let r=e.nextNodeIndex;return e.nodes.set(r,t),e.adjacency.set(r,[]),e.reverseAdjacency.set(r,[]),e.nextNodeIndex=e.nextNodeIndex+1,r},eGS=(e,t)=>eGl(e.nodes,t),eGv=(e,t)=>e.nodes.has(t),eGw=e=>e.nodes.size,eGx=(e,t)=>{for(let[r,n]of e.nodes)if(t(n))return sF(r);return sC()},eGk=(e,t)=>{let r=[];for(let[n,i]of e.nodes)t(i)&&r.push(n);return r},eG_=(e,t)=>{for(let[r,n]of e.edges)if(t(n.data,n.source,n.target))return sF(r);return sC()},eGE=(e,t)=>{let r=[];for(let[n,i]of e.edges)t(i.data,i.source,i.target)&&r.push(n);return r},eGI=(e,t,r)=>{if(!e.nodes.has(t))return;let n=r(e.nodes.get(t));e.nodes.set(t,n)},eGT=(e,t,r)=>{if(!e.edges.has(t))return;let n=e.edges.get(t),i=r(n.data);e.edges.set(t,{...n,data:i})},eGO=(e,t)=>{for(let[r,n]of e.nodes){let i=t(n);e.nodes.set(r,i)}},eGC=(e,t)=>{for(let[r,n]of e.edges){let i=t(n.data);e.edges.set(r,{...n,data:i})}},eGF=e=>{for(let[t,r]of e.edges)e.edges.set(t,{source:r.target,target:r.source,data:r.data});for(let[t,r]of(e.adjacency.clear(),e.reverseAdjacency.clear(),e.edges)){let n=e.adjacency.get(r.source)||[];n.push(t),e.adjacency.set(r.source,n);let i=e.reverseAdjacency.get(r.target)||[];i.push(t),e.reverseAdjacency.set(r.target,i)}e.isAcyclic=sC()},eGA=(e,t)=>{let r=[];for(let[n,i]of e.nodes){let a=t(i);sN(a)?e.nodes.set(n,a.value):r.push(n)}for(let t of r)eGL(e,t)},eGM=(e,t)=>{let r=[];for(let[n,i]of e.edges){let a=t(i.data);sN(a)?e.edges.set(n,{...i,data:a.value}):r.push(n)}for(let t of r)eGP(e,t)},eGN=(e,t)=>{let r=[];for(let[n,i]of e.nodes)t(i)||r.push(n);for(let t of r)eGL(e,t)},eGR=(e,t)=>{let r=[];for(let[n,i]of e.edges)t(i.data)||r.push(n);for(let t of r)eGP(e,t)},eGD=e=>{sN(e.isAcyclic)&&!1===e.isAcyclic.value&&(e.isAcyclic=sC())},eGj=(e,t,r,n)=>{if(!e.nodes.has(t))throw Error(`Source node ${t} does not exist`);if(!e.nodes.has(r))throw Error(`Target node ${r} does not exist`);let i=e.nextEdgeIndex,a=new eGc({source:t,target:r,data:n});e.edges.set(i,a);let s=eGl(e.adjacency,t);sN(s)&&s.value.push(i);let o=eGl(e.reverseAdjacency,r);if(sN(o)&&o.value.push(i),"undirected"===e.type){let n=eGl(e.adjacency,r);sN(n)&&n.value.push(i);let a=eGl(e.reverseAdjacency,t);sN(a)&&a.value.push(i)}return e.nextEdgeIndex=e.nextEdgeIndex+1,sN(e.isAcyclic)&&!0===e.isAcyclic.value&&(e.isAcyclic=sC()),i},eGL=(e,t)=>{if(!e.nodes.has(t))return;let r=[],n=eGl(e.adjacency,t);if(sN(n))for(let e of n.value)r.push(e);let i=eGl(e.reverseAdjacency,t);if(sN(i))for(let e of i.value)r.push(e);for(let t of r)eG$(e,t);e.nodes.delete(t),e.adjacency.delete(t),e.reverseAdjacency.delete(t),eGD(e)},eGP=(e,t)=>{eG$(e,t)&&eGD(e)},eG$=(e,t)=>{let r=eGl(e.edges,t);if(sM(r))return!1;let{source:n,target:i}=r.value,a=eGl(e.adjacency,n);if(sN(a)){let e=a.value.indexOf(t);-1!==e&&a.value.splice(e,1)}let s=eGl(e.reverseAdjacency,i);if(sN(s)){let e=s.value.indexOf(t);-1!==e&&s.value.splice(e,1)}if("undirected"===e.type){let r=eGl(e.adjacency,i);if(sN(r)){let e=r.value.indexOf(t);-1!==e&&r.value.splice(e,1)}let a=eGl(e.reverseAdjacency,n);if(sN(a)){let e=a.value.indexOf(t);-1!==e&&a.value.splice(e,1)}}return e.edges.delete(t),!0},eGz=(e,t)=>eGl(e.edges,t),eGU=(e,t,r)=>{let n=eGl(e.adjacency,t);if(sM(n))return!1;for(let t of n.value){let n=eGl(e.edges,t);if(sN(n)&&n.value.target===r)return!0}return!1},eGB=e=>e.edges.size,eGW=(e,t)=>{let r=eGl(e.adjacency,t);if(sM(r))return[];let n=[];for(let t of r.value){let r=eGl(e.edges,t);sN(r)&&n.push(r.value.target)}return n},eGq=(e,t,r)=>{let n=eGl("incoming"===r?e.reverseAdjacency:e.adjacency,t);if(sM(n))return[];let i=[];for(let t of n.value){let n=eGl(e.edges,t);if(sN(n)){let e="incoming"===r?n.value.source:n.value.target;i.push(e)}}return i},eGK=(e,t)=>{let{edgeLabel:r=e=>String(e),graphName:n="G",nodeLabel:i=e=>String(e)}=t??{},a="directed"===e.type,s=a?"->":"--",o=[];for(let[t,r]of(o.push(`${a?"digraph":"graph"} ${n} {`),e.nodes)){let e=i(r).replace(/"/g,'\\"');o.push(`  "${t}" [label="${e}"];`)}for(let[,t]of e.edges){let e=r(t.data).replace(/"/g,'\\"');o.push(`  "${t.source}" ${s} "${t.target}" [label="${e}"];`)}return o.push("}"),o.join("\n")},eGV=e=>{if(sN(e.isAcyclic))return e.isAcyclic.value;let t=new Set,r=new Set;for(let n of e.nodes.keys()){if(t.has(n))continue;let i=[[n,[],0,!0]];for(;i.length>0;){let[n,a,s,o]=i[i.length-1];if(o){if(r.has(n))return e.isAcyclic=sF(!1),!1;if(t.has(n)){i.pop();continue}t.add(n),r.add(n);let a=Array.from(eGq(e,n,"outgoing"));i[i.length-1]=[n,a,0,!1];continue}if(s<a.length){let o=a[s];if(i[i.length-1]=[n,a,s+1,!1],r.has(o))return e.isAcyclic=sF(!1),!1;t.has(o)||i.push([o,[],0,!0])}else r.delete(n),i.pop()}}return e.isAcyclic=sF(!0),!0},eGJ=e=>{let t=new Map,r=new Set,n=!0;for(let i of e.nodes.keys())if(!r.has(i)){let a=[i];for(t.set(i,0),r.add(i);a.length>0&&n;){let i=a.shift(),s=t.get(i),o=+(0===s);for(let l of eGH(e,i))if(r.has(l)){if(t.get(l)===s){n=!1;break}}else t.set(l,o),r.add(l),a.push(l)}if(!n)break}return n},eGH=(e,t)=>{let r=new Set,n=eGl(e.adjacency,t);if(sN(n))for(let i of n.value){let n=eGl(e.edges,i);if(sN(n)){let e=n.value.source===t?n.value.target:n.value.source;r.add(e)}}return Array.from(r)},eGG=e=>{let t=new Set,r=[];for(let n of e.nodes.keys())if(!t.has(n)){let i=[],a=[n];for(;a.length>0;){let r=a.pop();if(!t.has(r))for(let n of(t.add(r),i.push(r),eGH(e,r)))t.has(n)||a.push(n)}r.push(i)}return r},eGZ=e=>{let t=new Set,r=[];for(let n of e.nodes.keys()){if(t.has(n))continue;let i=[[n,[],0,!0]];for(;i.length>0;){let[n,a,s,o]=i[i.length-1];if(o){if(t.has(n)){i.pop();continue}t.add(n);let r=eGW(e,n);i[i.length-1]=[n,r,0,!1];continue}if(s<a.length){let e=a[s];i[i.length-1]=[n,a,s+1,!1],t.has(e)||i.push([e,[],0,!0])}else r.push(n),i.pop()}}t.clear();let n=[];for(let i=r.length-1;i>=0;i--){let a=r[i];if(t.has(a))continue;let s=[],o=[a];for(;o.length>0;){let r=o.pop();if(t.has(r))continue;t.add(r),s.push(r);let n=eGl(e.reverseAdjacency,r);if(sN(n))for(let r of n.value){let n=eGl(e.edges,r);if(sN(n)){let e=n.value.source;t.has(e)||o.push(e)}}}n.push(s)}return n},eGQ=(e,t,r,n)=>{if(!e.nodes.has(t))throw Error(`Source node ${t} does not exist`);if(!e.nodes.has(r))throw Error(`Target node ${r} does not exist`);if(t===r)return sF({path:[t],distance:0,edgeWeights:[]});let i=new Map,a=new Map,s=new Set;for(let r of e.nodes.keys())i.set(r,r===t?0:1/0),a.set(r,null);let o=[{node:t,distance:0}];for(;o.length>0;){let t=0;for(let e=1;e<o.length;e++)o[e].distance<o[t].distance&&(t=e);let l=o.splice(t,1)[0].node;if(s.has(l))continue;if(s.add(l),l===r)break;let u=i.get(l),c=eGl(e.adjacency,l);if(sN(c))for(let t of c.value){let r=eGl(e.edges,t);if(sN(r)){let e=r.value.target,t=n(r.value.data);if(t<0)throw Error(`Dijkstra's algorithm requires non-negative edge weights, found ${t}`);let c=u+t;c<i.get(e)&&(i.set(e,c),a.set(e,{node:l,edgeData:r.value.data}),s.has(e)||o.push({node:e,distance:c}))}}}let l=i.get(r);if(l===1/0)return sC();let u=[],c=[],h=r;for(;null!==h;){u.unshift(h);let e=a.get(h);null!==e?(c.unshift(e.edgeData),h=e.node):h=null}return sF({path:u,distance:l,edgeWeights:c})},eGY=(e,t)=>{let r=Array.from(e.nodes.keys()),n=new Map,i=new Map,a=new Map;for(let e of r)for(let t of(n.set(e,new Map),i.set(e,new Map),a.set(e,new Map),r))n.get(e).set(t,e===t?0:1/0),i.get(e).set(t,null),a.get(e).set(t,null);for(let[,r]of e.edges){let e=t(r.data),s=r.source,o=r.target;e<n.get(s).get(o)&&(n.get(s).set(o,e),i.get(s).set(o,o),a.get(s).set(o,r.data))}for(let e of r)for(let t of r)for(let a of r){let r=n.get(t).get(e),s=n.get(e).get(a),o=n.get(t).get(a);r!==1/0&&s!==1/0&&r+s<o&&(n.get(t).set(a,r+s),i.get(t).set(a,i.get(t).get(e)))}for(let e of r)if(0>n.get(e).get(e))throw Error(`Negative cycle detected involving node ${e}`);let s=new Map,o=new Map;for(let e of r)for(let t of(s.set(e,new Map),o.set(e,new Map),r))if(e===t)s.get(e).set(t,[e]),o.get(e).set(t,[]);else if(n.get(e).get(t)===1/0)s.get(e).set(t,null),o.get(e).set(t,[]);else{let r=[],n=[],l=e;for(r.push(l);l!==t;){let e=i.get(l).get(t);if(null===e)break;let s=a.get(l).get(e);null!==s&&n.push(s),l=e,r.push(l)}s.get(e).set(t,r),o.get(e).set(t,n)}return{distances:n,paths:s,edgeWeights:o}},eGX=(e,t,r,n,i)=>{if(!e.nodes.has(t))throw Error(`Source node ${t} does not exist`);if(!e.nodes.has(r))throw Error(`Target node ${r} does not exist`);if(t===r)return sF({path:[t],distance:0,edgeWeights:[]});let a=eGl(e.nodes,r);if(sM(a))throw Error(`Target node ${r} data not found`);let s=new Map,o=new Map,l=new Map,u=new Set;for(let r of e.nodes.keys())s.set(r,r===t?0:1/0),o.set(r,1/0),l.set(r,null);let c=eGl(e.nodes,t);if(sN(c)){let e=i(c.value,a.value);o.set(t,e)}let h=[{node:t,fScore:o.get(t)}];for(;h.length>0;){let t=0;for(let e=1;e<h.length;e++)h[e].fScore<h[t].fScore&&(t=e);let c=h.splice(t,1)[0].node;if(u.has(c))continue;if(u.add(c),c===r)break;let f=s.get(c),d=eGl(e.adjacency,c);if(sN(d))for(let t of d.value){let r=eGl(e.edges,t);if(sN(r)){let t=r.value.target,d=n(r.value.data);if(d<0)throw Error(`A* algorithm requires non-negative edge weights, found ${d}`);let p=f+d;if(p<s.get(t)){s.set(t,p),l.set(t,{node:c,edgeData:r.value.data});let n=eGl(e.nodes,t);if(sN(n)){let e=p+i(n.value,a.value);o.set(t,e),u.has(t)||h.push({node:t,fScore:e})}}}}}let f=s.get(r);if(f===1/0)return sC();let d=[],p=[],m=r;for(;null!==m;){d.unshift(m);let e=l.get(m);null!==e?(p.unshift(e.edgeData),m=e.node):m=null}return sF({path:d,distance:f,edgeWeights:p})},eG0=(e,t,r,n)=>{if(!e.nodes.has(t))throw Error(`Source node ${t} does not exist`);if(!e.nodes.has(r))throw Error(`Target node ${r} does not exist`);if(t===r)return sF({path:[t],distance:0,edgeWeights:[]});let i=new Map,a=new Map;for(let r of e.nodes.keys())i.set(r,r===t?0:1/0),a.set(r,null);let s=[];for(let[,t]of e.edges){let e=n(t.data);s.push({source:t.source,target:t.target,weight:e,edgeData:t.data})}let o=e.nodes.size;for(let e=0;e<o-1;e++){let e=!1;for(let t of s){let r=i.get(t.source),n=i.get(t.target);r!==1/0&&r+t.weight<n&&(i.set(t.target,r+t.weight),a.set(t.target,{node:t.source,edgeData:t.edgeData}),e=!0)}if(!e)break}for(let t of s){let n=i.get(t.source),a=i.get(t.target);if(n!==1/0&&n+t.weight<a){let n=new Set,i=[t.target];for(;i.length>0;){let t=i.shift();if(n.has(t))continue;n.add(t);let r=eGl(e.adjacency,t);if(sN(r))for(let t of r.value){let r=eGl(e.edges,t);sN(r)&&i.push(r.value.target)}}if(n.has(r))return sC()}}let l=i.get(r);if(l===1/0)return sC();let u=[],c=[],h=r;for(;null!==h;){u.unshift(h);let e=a.get(h);null!==e?(c.unshift(e.edgeData),h=e.node):h=null}return sF({path:u,distance:l,edgeWeights:c})};class eG1{[Symbol.iterator];visit;constructor(e){this.visit=e,this[Symbol.iterator]=e((e,t)=>[e,t])[Symbol.iterator]}}let eG2=e=>e.visit((e,t)=>e),eG6=e=>e.visit((e,t)=>t),eG3=e=>e.visit((e,t)=>[e,t]),eG4=(e,t={})=>{let r=t.startNodes??[],n=t.direction??"outgoing";for(let t of r)if(!eGv(e,t))throw Error(`Start node ${t} does not exist`);return new eG1(t=>({[Symbol.iterator]:()=>{let i=[...r],a=new Set;return{next:()=>{for(;i.length>0;){let r=i.pop();if(a.has(r))continue;a.add(r);let s=eGl(e.nodes,r);if(sM(s))continue;let o=eGq(e,r,n);for(let e=o.length-1;e>=0;e--){let t=o[e];a.has(t)||i.push(t)}return{done:!1,value:t(r,s.value)}}return{done:!0,value:void 0}}}}}))},eG5=(e,t={})=>{let r=t.startNodes??[],n=t.direction??"outgoing";for(let t of r)if(!eGv(e,t))throw Error(`Start node ${t} does not exist`);return new eG1(t=>({[Symbol.iterator]:()=>{let i=[...r],a=new Set,s=()=>{for(;i.length>0;){let r=i.shift();if(!a.has(r)){for(let t of(a.add(r),eGq(e,r,n)))a.has(t)||i.push(t);let o=eGS(e,r);if(sN(o))return{done:!1,value:t(r,o.value)};return s()}}return{done:!0,value:void 0}};return{next:s}}}))},eG8=(e,t={})=>{if(!eGV(e))throw Error("Cannot perform topological sort on cyclic graph");let r=t.initials??[];for(let t of r)if(!eGv(e,t))throw Error(`Initial node ${t} does not exist`);return new eG1(t=>({[Symbol.iterator]:()=>{let n=new Map,i=new Set,a=[...r];for(let[t]of e.nodes)n.set(t,0),i.add(t);for(let[,t]of e.edges){let e=n.get(t.target)||0;n.set(t.target,e+1)}if(0===r.length)for(let[e,t]of n)0===t&&a.push(e);let s=()=>{for(;a.length>0;){let r=a.shift();if(i.has(r)){for(let t of(i.delete(r),eGq(e,r,"outgoing")))if(i.has(t)){let e=(n.get(t)||0)-1;n.set(t,e),0===e&&a.push(t)}let o=eGS(e,r);if(sN(o))return{done:!1,value:t(r,o.value)};return s()}}return{done:!0,value:void 0}};return{next:s}}}))},eG7=(e,t={})=>{let r=t.startNodes??[],n=t.direction??"outgoing";for(let t of r)if(!eGv(e,t))throw Error(`Start node ${t} does not exist`);return new eG1(t=>({[Symbol.iterator]:()=>{let i=[],a=new Set,s=new Set;for(let e=r.length-1;e>=0;e--)i.push({node:r[e],visitedChildren:!1});let o=()=>{for(;i.length>0;){let r=i[i.length-1];if(a.has(r.node)||(a.add(r.node),r.visitedChildren=!1),r.visitedChildren){let r=i.pop().node;if(!s.has(r)){s.add(r);let n=eGS(e,r);if(sN(n))return{done:!1,value:t(r,n.value)};return o()}}else{r.visitedChildren=!0;let t=eGq(e,r.node,n);for(let e=t.length-1;e>=0;e--){let r=t[e];a.has(r)||s.has(r)||i.push({node:r,visitedChildren:!1})}}}return{done:!0,value:void 0}};return{next:o}}}))},eG9=e=>new eG1(t=>({[Symbol.iterator](){let r=e.nodes.entries();return{next(){let e=r.next();if(e.done)return{done:!0,value:void 0};let[n,i]=e.value;return{done:!1,value:t(n,i)}}}}})),eZe=e=>new eG1(t=>({[Symbol.iterator](){let r=e.edges.entries();return{next(){let e=r.next();if(e.done)return{done:!0,value:void 0};let[n,i]=e.value;return{done:!1,value:t(n,i)}}}}})),eZt=(e,t={})=>{let r=t.direction??"outgoing";return new eG1(t=>({[Symbol.iterator]:()=>{let n=e.nodes,i="incoming"===r?e.reverseAdjacency:e.adjacency,a=n.entries();return{next:()=>{let e=a.next();for(;!e.done;){let[r,n]=e.value,s=eGl(i,r);if(sM(s)||0===s.value.length)return{done:!1,value:t(r,n)};e=a.next()}return{done:!0,value:void 0}}}}}))},eZr=Symbol.for("effect/GroupBy"),eZn={_R:e=>e,_E:e=>e,_K:e=>e,_V:e=>e},eZi=rS(e=>nw(e[0],eZr),(e,t,r)=>ePJ(e.grouped,([e,r])=>t(e,eP0(e$r(r,{shutdown:!0}))),{concurrency:"unbounded",bufferSize:r?.bufferSize??16})),eZa=rS(2,(e,t)=>eZo(rD(e.grouped,ePz(e=>t(e[0])?rD(eg2(e),eyR(!0)):rD(eEx(e[1]),eyR(!1)))))),eZs=rS(2,(e,t)=>eZo(rD(eU6(e.grouped),ePz(e=>{let r=e[1],n=e[0][1];return r<t?rD(eg2(e),eyR(!0)):rD(eEx(n),eyR(!1))}),e$v(e=>e[0])))),eZo=e=>({[eZr]:eZn,pipe(){return ij(this,arguments)},grouped:e}),eZl=rS(e=>eLL(e[0]),(e,t,r)=>eZo(eUR(egY(function*(){let n=yield*Up(),i=yield*eyJ(eEf(r?.bufferSize??16),e=>eEx(e)),a=yield*Vt(new Map),s=yield*rD(e$F(e,t),ePw(r?.bufferSize??16,([e,t])=>eSm(Ug(n),r=>r(e,t)),e=>eEk(i,e)));return yield*UF(n,(e,t)=>rD(Vr(a),eyz(t=>sq(t.get(e))),eSm(sR({onNone:()=>eSm(s,([t,r])=>evz(Vc(a,r=>r.set(e,t)),rD(eEk(i,U5([e,eZh(r,e=>new eLk(rD(e,U0(e=>OR(e[1])))))])),eyR(e=>e===t)))),onSome:e=>eg2(t=>t===e)})))),ePX(e$r(i,{shutdown:!0}))})))),eZu=rS(e=>"function"!=typeof e[0],(e,t,r)=>r?.key?eZi(eZd(e,r.key,{bufferSize:r.bufferSize}),(e,r)=>e$F(r,t)):ePH(r?.concurrency,()=>e$F(e,t),n=>r?.unordered?ePJ(e,e=>eP5(t(e)),{concurrency:n}):e$A(e,n,t))),eZc=rS(e=>"string"!=typeof e[0],(e,t,r,n)=>eZu(e,e=>eyz(r(e),r=>({...e,[t]:r})),n)),eZh=(e,t)=>new eZf(e,t);class eZf extends KP{dequeue;f;[eEr]={_Out:e=>e};constructor(e,t){super(),this.dequeue=e,this.f=t}capacity(){return eEg(this.dequeue)}get size(){return eEy(this.dequeue)}unsafeSize(){return this.dequeue.unsafeSize()}get awaitShutdown(){return eEw(this.dequeue)}isActive(){return this.dequeue.isActive()}get isShutdown(){return eEv(this.dequeue)}get shutdown(){return eEx(this.dequeue)}get isFull(){return eES(this.dequeue)}get isEmpty(){return eEb(this.dequeue)}get take(){return rD(eET(this.dequeue),eyz(e=>this.f(e)))}get takeAll(){return rD(eEO(this.dequeue),eyz(Ca(e=>this.f(e))))}takeUpTo(e){return rD(eEC(this.dequeue,e),eyz(Ca(e=>this.f(e))))}takeBetween(e,t){return rD(eEF(this.dequeue,e,t),eyz(Ca(e=>this.f(e))))}takeN(e){return rD(eEA(this.dequeue,e),eyz(Ca(e=>this.f(e))))}poll(){return rD(eEI(this.dequeue),eyz(sQ(e=>this.f(e))))}pipe(){return ij(this,arguments)}commit(){return this.take}}let eZd=rS(e=>"function"!=typeof e[0],(e,t,r)=>{let n=(e,i)=>eI_({onInput:a=>eIy(eIS(egC(eZp(a,t),([t,n])=>{let a=e.get(t);return void 0===a?rD(eEf(r?.bufferSize??16),eSm(r=>rD(eg5(()=>{e.set(t,r)}),evz(eEk(i,eLM([t,r]))),evz(rD(eEk(r,eL_(n)),eya(e=>esw(e)?sF(eg8):sC())))))):eya(eEk(a,eL_(n)),e=>esw(e)?sF(eg8):sC())},{discard:!0})),()=>n(e,i)),onFailure:e=>eIS(eEk(i,eLT(e))),onDone:()=>eIS(rD(egC(e.entries(),([e,t])=>rD(eEk(t,eLI),eya(e=>esw(e)?sF(eg8):sC())),{discard:!0}),evz(eEk(i,eLI))))});return eZo(eUD(t=>egY(function*(){let r=new Map,i=yield*eEm();return yield*eoX(t,eEx(i)),yield*eP6(e).pipe(eIv(n(r,i)),eTK,eI8(t),ebh(t),eyR(eP0(e$r(i,{shutdown:!0}))))})))}),eZp=rS(2,(e,t)=>{let r,n=[],i=e[Symbol.iterator](),a=new Map;for(;(r=i.next())&&!r.done;){let e=r.value,i=t(e);if(a.has(i))a.get(i).push(e);else{let t=[e];n.push([i,t]),a.set(i,t)}}return OU(n.map(e=>[e[0],OU(e[1])]))}),eZm=eZr,eZg=eZi,eZy=eZa,eZb=eZs,eZS=eZo;class eZv{path;actual;issue;_tag="Pointer";constructor(e,t,r){this.path=e,this.actual=t,this.issue=r}}class eZw{actual;message;_tag="Unexpected";constructor(e,t){this.actual=e,this.message=t}}class eZx{ast;message;_tag="Missing";actual=void 0;constructor(e,t){this.ast=e,this.message=t}}class eZk{ast;actual;issues;output;_tag="Composite";constructor(e,t,r,n){this.ast=e,this.actual=t,this.issues=r,this.output=n}}class eZ_{ast;actual;kind;issue;_tag="Refinement";constructor(e,t,r,n){this.ast=e,this.actual=t,this.kind=r,this.issue=n}}class eZE{ast;actual;kind;issue;_tag="Transformation";constructor(e,t,r,n){this.ast=e,this.actual=t,this.kind=r,this.issue=n}}class eZI{ast;actual;message;_tag="Type";constructor(e,t,r){this.ast=e,this.actual=t,this.message=r}}class eZT{ast;actual;message;_tag="Forbidden";constructor(e,t,r){this.ast=e,this.actual=t,this.message=r}}let eZO=Symbol.for("effect/Schema/ParseErrorTypeId"),eZC=e=>nw(e,eZO);class eZF extends ehd("ParseError"){[eZO]=eZO;get message(){return this.toString()}toString(){return eQk.formatIssueSync(this.issue)}toJSON(){return{_id:"ParseError",message:this.toString()}}[i_](){return this.toJSON()}}let eZA=e=>new eZF({issue:e}),eZM=aI,eZN=aO,eZR=aA,eZD=aF,eZj=rS(2,(e,t)=>aM(e)?aU(e,{onLeft:aO,onRight:t}):eSm(e,t)),eZL=rS(2,(e,t)=>aM(e)?az(e,t):eyz(e,t)),eZP=rS(2,(e,t)=>aM(e)?a$(e,t):eyW(e,t)),eZ$=e=>{if(aM(e))return e},eZz=rS(2,(e,t)=>aM(e)?aP(e,{onLeft:t.onFailure,onRight:t.onSuccess}):eyB(e,t)),eZU=rS(2,(e,t)=>aM(e)?aU(e,{onLeft:t,onRight:aI}):eye(e,t)),eZB=(e,t)=>void 0===t||no(t)?e:void 0===e?t:{...e,...t},eZW=(e,t,r)=>{let n=eQf(e,t);return(e,t)=>n(e,eZB(r,t))},eZq=(e,t,r)=>{let n=eZW(e,t,r);return(e,t)=>aH(n(e,t),eZA)},eZK=(e,t,r)=>{let n=eZW(e,t,r);return(e,t)=>sL(n(e,t))},eZV=(e,t,r)=>{let n=eQf(e,t);return(e,t)=>n(e,{...eZB(r,t),isEffectAllowed:!0})},eZJ=(e,t)=>eZq(e.ast,!0,t),eZH=(e,t)=>eZK(e.ast,!0,t),eZG=(e,t)=>eZW(e.ast,!0,t),eZZ=(e,t)=>{let r=eZQ(e,t);return(e,t)=>evM(r(e,t))},eZQ=(e,t)=>eZV(e.ast,!0,t),eZY=(e,t)=>eZq(e.ast,!1,t),eZX=(e,t)=>eZK(e.ast,!1,t),eZ0=(e,t)=>eZW(e.ast,!1,t),eZ1=(e,t)=>{let r=eZ2(e,t);return(e,t)=>evM(r(e,t))},eZ2=(e,t)=>eZV(e.ast,!1,t),eZ6=eZJ,eZ3=eZH,eZ4=eZG,eZ5=eZZ,eZ8=eZQ,eZ7=(e,t)=>eZq(ES(e.ast),!0,t),eZ9=(e,t)=>eZK(ES(e.ast),!0,t),eQe=(e,t)=>eZW(ES(e.ast),!0,t),eQt=(e,t)=>{let r=eQr(e,t);return(e,t)=>evM(r(e,t))},eQr=(e,t)=>eZV(ES(e.ast),!0,t),eQn=(e,t)=>{let r=eQf(ES(e.ast),!0);return(e,n)=>aR(r(e,{exact:!0,...eZB(t,n)}))},eQi=(e,t)=>{let r=eQf(ES(e.ast),!0);return(e,n)=>{let i=r(e,{exact:!0,...eZB(t,n)});if(aN(i))throw eZA(i.left)}},eQa=eZY,eQs=eZX,eQo=eZ0,eQl=eZ1,eQu=eZ2,eQc=r9(Symbol.for("effect/ParseResult/decodeMemoMap"),()=>new WeakMap),eQh=r9(Symbol.for("effect/ParseResult/encodeMemoMap"),()=>new WeakMap),eQf=(e,t)=>{let r=t?eQc:eQh,n=r.get(e);if(n)return n;let i=eQd(e,t),a=kI(e),s=sN(a)?(e,t)=>i(e,eZB(t,a.value)):i,o=kT(e),l=t&&sN(o)?(t,r)=>eQb(eZU(s(t,r),o.value),e,t,r):s;return r.set(e,l),l},eQd=(e,t)=>{switch(e._tag){case"Refinement":if(t){let t=eQf(e.from,!0);return(r,n)=>{n=n??_V;let i=n?.errors==="all";return eQb(eZj(eZU(t(r,n),t=>{let a=new eZ_(e,r,"From",t);return i&&kF(e)&&eQC(t)?sR(e.filter(r,n,e),{onNone:()=>aO(a),onSome:t=>aO(new eZk(e,r,[a,new eZ_(e,r,"Predicate",t)]))}):aO(a)}),t=>sR(e.filter(t,n,e),{onNone:()=>aI(t),onSome:t=>aO(new eZ_(e,r,"Predicate",t))})),e,r,n)}}{let t=eQf(ES(e),!0),r=eQf(eQy(e.from),!1);return(n,i)=>eQb(eZj(t(n,i),e=>r(e,i)),e,n,i)}case"Transformation":{let r=eQw(e.transformation,t),n=t?eQf(e.from,!0):eQf(e.to,!1),i=t?eQf(e.to,!0):eQf(e.from,!1);return(a,s)=>eQb(eZj(eZP(n(a,s),r=>new eZE(e,a,t?"Encoded":"Type",r)),n=>eZj(eZP(r(n,s??_V,e,a),t=>new eZE(e,a,"Transformation",t)),r=>eZP(i(r,s),r=>new eZE(e,a,t?"Type":"Encoded",r)))),e,a,s)}case"Declaration":{let r=t?e.decodeUnknown(...e.typeParameters):e.encodeUnknown(...e.typeParameters);return(t,n)=>eQb(r(t,n??_V,e),e,t,n)}case"Literal":return eQp(e,t=>t===e.literal);case"UniqueSymbol":return eQp(e,t=>t===e.symbol);case"UndefinedKeyword":return eQp(e,nd);case"NeverKeyword":return eQp(e,ny);case"UnknownKeyword":case"AnyKeyword":case"VoidKeyword":return aI;case"StringKeyword":return eQp(e,ns);case"NumberKeyword":return eQp(e,no);case"BooleanKeyword":return eQp(e,nl);case"BigIntKeyword":return eQp(e,nu);case"SymbolKeyword":return eQp(e,nc);case"ObjectKeyword":return eQp(e,nv);case"Enums":return eQp(e,t=>e.enums.some(([e,r])=>r===t));case"TemplateLiteral":{let t=Ee(e);return eQp(e,e=>ns(e)&&t.test(e))}case"TupleType":{let r=e.elements.map(e=>eQf(e.type,t)),n=e.rest.map(e=>eQf(e.type,t)),i=e.elements.filter(e=>!e.isOptional);e.rest.length>0&&(i=i.concat(e.rest.slice(1)));let a=i.length,s=e.elements.length>0?e.elements.map((e,t)=>t).join(" | "):"never",o=sJ(kk(e)),l=sJ(k_(e));return(t,u)=>{let c;if(!uy(t))return aO(new eZI(e,t));let h=u?.errors==="all",f=[],d=0,p=[],m=t.length;for(let r=m;r<=a-1;r++){let n=new eZv(r,t,new eZx(i[r-m]));if(!h)return aO(new eZk(e,t,n,p));f.push([d++,n])}if(0===e.rest.length)for(let r=e.elements.length;r<=m-1;r++){let n=new eZv(r,t,new eZw(t[r],`is unexpected, expected: ${s}`));if(!h)return aO(new eZk(e,t,n,p));f.push([d++,n])}let g=0;for(;g<r.length;g++)if(m<g+1){if(e.elements[g].isOptional)continue}else{let n=(0,r[g])(t[g],u);if(aM(n)){if(aN(n)){let r=new eZv(g,t,n.left);if(!h)return aO(new eZk(e,t,r,eQv(p)));f.push([d++,r]);continue}p.push([d++,n.right])}else{let r=d++,i=g;c||(c=[]),c.push(({es:a,output:s})=>eSm(eb9(n),n=>{if(aN(n)){let o=new eZv(i,t,n.left);return h?(a.push([r,o]),eg8):aO(new eZk(e,t,o,eQv(s)))}return s.push([r,n.right]),eg8}))}}if(uw(n)){let[r,...i]=n;for(;g<m-i.length;g++){let n=r(t[g],u);if(aM(n))if(aN(n)){let r=new eZv(g,t,n.left);if(!h)return aO(new eZk(e,t,r,eQv(p)));f.push([d++,r]);continue}else p.push([d++,n.right]);else{let r=d++,i=g;c||(c=[]),c.push(({es:a,output:s})=>eSm(eb9(n),n=>{if(!aN(n))return s.push([r,n.right]),eg8;{let o=new eZv(i,t,n.left);return h?(a.push([r,o]),eg8):aO(new eZk(e,t,o,eQv(s)))}}))}}for(let r=0;r<i.length;r++)if(!(m<(g+=r)+1)){let n=i[r](t[g],u);if(aM(n)){if(aN(n)){let r=new eZv(g,t,n.left);if(!h)return aO(new eZk(e,t,r,eQv(p)));f.push([d++,r]);continue}p.push([d++,n.right])}else{let r=d++,i=g;c||(c=[]),c.push(({es:a,output:s})=>eSm(eb9(n),n=>{if(aN(n)){let o=new eZv(i,t,n.left);return h?(a.push([r,o]),eg8):aO(new eZk(e,t,o,eQv(s)))}return s.push([r,n.right]),eg8}))}}}let y=({es:r,output:n})=>uv(r)?aO(new eZk(e,t,eQv(r),eQv(n))):aI(eQv(n));if(c&&c.length>0){let e=c;return eg4(()=>{let t={es:cm(f),output:cm(p)};return eSm(egC(e,e=>e(t),{concurrency:o,batching:l,discard:!0}),()=>y(t))})}return y({output:p,es:f})}}case"TypeLiteral":{if(0===e.propertySignatures.length&&0===e.indexSignatures.length)return eQp(e,n_);let r=[],n={},i=[];for(let a of e.propertySignatures)r.push([eQf(a.type,t),a]),n[a.name]=null,i.push(a.name);let a=e.indexSignatures.map(e=>[eQf(e.parameter,t),eQf(e.type,t),e.parameter]),s=_L.make(e.indexSignatures.map(e=>e.parameter).concat(i.map(e=>nc(e)?new kU(e):new kP(e)))),o=eQf(s,t),l=sJ(kk(e)),u=sJ(k_(e));return(t,c)=>{let h,f;if(!nC(t))return aO(new eZI(e,t));let d=c?.errors==="all",p=[],m=0,g=c?.onExcessProperty==="error",y=c?.onExcessProperty==="preserve",b={};if(g||y)for(let r of h=Reflect.ownKeys(t)){let n=o(r,c);if(aM(n)&&aN(n))if(g){let n=new eZv(r,t,new eZw(t[r],`is unexpected, expected: ${String(s)}`));if(!d)return aO(new eZk(e,t,n,b));p.push([m++,n]);continue}else b[r]=t[r]}let S=c?.exact===!0;for(let n=0;n<r.length;n++){let i=r[n][1],a=i.name,s=Object.prototype.hasOwnProperty.call(t,a);if(!s){if(i.isOptional)continue;else if(S){let r=new eZv(a,t,new eZx(i));if(!d)return aO(new eZk(e,t,r,b));p.push([m++,r]);continue}}let o=(0,r[n][0])(t[a],c);if(aM(o)){if(aN(o)){let r=new eZv(a,t,s?o.left:new eZx(i));if(!d)return aO(new eZk(e,t,r,b));p.push([m++,r]);continue}b[a]=o.right}else{let r=m++;f||(f=[]),f.push(({es:n,output:l})=>eSm(eb9(o),o=>{if(aN(o)){let u=new eZv(a,t,s?o.left:new eZx(i));return d?(n.push([r,u]),eg8):aO(new eZk(e,t,u,l))}return l[a]=o.right,eg8}))}}for(let r=0;r<a.length;r++){let i=a[r],s=i[0],o=i[1];for(let r of wZ(t,i[2])){let i=s(r,c);if(aM(i)&&aR(i)){let i=o(t[r],c);if(aM(i))if(aN(i)){let n=new eZv(r,t,i.left);if(!d)return aO(new eZk(e,t,n,b));p.push([m++,n]);continue}else Object.prototype.hasOwnProperty.call(n,r)||(b[r]=i.right);else{let a=m++,s=r;f||(f=[]),f.push(({es:o,output:l})=>eSm(eb9(i),i=>{if(!aN(i))return Object.prototype.hasOwnProperty.call(n,r)||(l[r]=i.right),eg8;{let r=new eZv(s,t,i.left);return d?(o.push([a,r]),eg8):aO(new eZk(e,t,r,l))}}))}}}}let v=({es:r,output:n})=>{if(uv(r))return aO(new eZk(e,t,eQv(r),n));if(c?.propertyOrder==="original"){let e=h||Reflect.ownKeys(t);for(let t of i)-1===e.indexOf(t)&&e.push(t);let r={};for(let t of e)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t]);return aI(r)}return aI(n)};if(f&&f.length>0){let e=f;return eg4(()=>{let t={es:cm(p),output:Object.assign({},b)};return eSm(egC(e,e=>e(t),{concurrency:l,batching:u,discard:!0}),()=>v(t))})}return v({es:p,output:b})}}case"Union":{let r=eQg(e.types,t),n=Reflect.ownKeys(r.keys),i=n.length,a=e.types.length,s=new Map;for(let r=0;r<a;r++)s.set(e.types[r],eQf(e.types[r],t));let o=sJ(kk(e))??1,l=sJ(k_(e));return(t,u)=>{let c,h=[],f=0,d=[];if(i>0)if(nS(t))for(let e=0;e<i;e++){let i=n[e],s=r.keys[i].buckets;if(Object.prototype.hasOwnProperty.call(t,i)){let e=String(t[i]);if(Object.prototype.hasOwnProperty.call(s,e))d=d.concat(s[e]);else{let{candidates:e,literals:n}=r.keys[i],s=_L.make(n),o=e.length===a?new _C([new _I(i,s,!1,!0)],[]):_L.make(e);h.push([f++,new eZk(o,t,new eZv(i,t,new eZI(s,t[i])))])}}else{let{candidates:e,literals:n}=r.keys[i],s=new _I(i,_L.make(n),!1,!0),o=e.length===a?new _C([s],[]):_L.make(e);h.push([f++,new eZk(o,t,new eZv(i,t,new eZx(s)))])}}else{let n=r.candidates.length===a?e:_L.make(r.candidates);h.push([f++,new eZI(n,t)])}r.otherwise.length>0&&(d=d.concat(r.otherwise));for(let e=0;e<d.length;e++){let r=d[e],n=s.get(r)(t,u);if(aM(n)&&(!c||0===c.length))if(aR(n))return n;else h.push([f++,n.left]);else{let e=f++;c||(c=[]),c.push(t=>eg4(()=>"finalResult"in t?eg8:eSm(eb9(n),r=>(aR(r)?t.finalResult=r:t.es.push([e,r.left]),eg8))))}}let p=r=>uv(r)?1===r.length&&"Type"===r[0][1]._tag?aO(r[0][1]):aO(new eZk(e,t,eQv(r))):aO(new eZI(e,t));if(c&&c.length>0){let e=c;return eg4(()=>{let t={es:cm(h)};return eSm(egC(e,e=>e(t),{concurrency:o,batching:l,discard:!0}),()=>"finalResult"in t?t.finalResult:p(t.es))})}return p(h)}}case"Suspend":{let r=wQ(()=>eQf(e.f(),t));return(e,t)=>r()(e,t)}}},eQp=(e,t)=>r=>t(r)?aI(r):aO(new eZI(e,r)),eQm=(e,t)=>{switch(e._tag){case"Declaration":{let r=kO(e);if(sN(r))return eQm(r.value,t);break}case"TypeLiteral":{let r=[];for(let n=0;n<e.propertySignatures.length;n++){let i=e.propertySignatures[n],a=t?Ek(i.type):ES(i.type);k$(a)&&!i.isOptional&&r.push([i.name,a])}return r}case"TupleType":{let r=[];for(let n=0;n<e.elements.length;n++){let i=e.elements[n],a=t?Ek(i.type):ES(i.type);k$(a)&&!i.isOptional&&r.push([n,a])}return r}case"Refinement":return eQm(e.from,t);case"Suspend":return eQm(e.f(),t);case"Transformation":return eQm(t?e.from:e.to,t)}return[]},eQg=(e,t)=>{let r={},n=[],i=[];for(let a=0;a<e.length;a++){let s=e[a],o=eQm(s,t);if(o.length>0){i.push(s);for(let e=0;e<o.length;e++){let[t,n]=o[e],i=String(n.literal);r[t]=r[t]||{buckets:{},literals:[],candidates:[]};let a=r[t].buckets;if(Object.prototype.hasOwnProperty.call(a,i)){if(e<o.length-1)continue;a[i].push(s),r[t].literals.push(n),r[t].candidates.push(s)}else{a[i]=[s],r[t].literals.push(n),r[t].candidates.push(s);break}}}else n.push(s)}return{keys:r,otherwise:n,candidates:i}},eQy=e=>_K(e)?eQy(e.from):e,eQb=(e,t,r,n)=>{if(n?.isEffectAllowed===!0||aM(e))return e;let i=new Yt,a=evF(e,{scheduler:i});i.flush();let s=a.unsafePoll();if(s){if(Uj(s))return aI(s.value);let e=s.cause;return esh(e)?aO(e.error):aO(new eZT(t,r,es8(e)))}return aO(new eZT(t,r,"cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work"))},eQS=([e],[t])=>e>t?1:e<t?-1:0;function eQv(e){return e.sort(eQS).map(e=>e[1])}let eQw=(e,t)=>{switch(e._tag){case"FinalTransformation":return t?e.decode:e.encode;case"ComposeTransformation":return aI;case"TypeLiteralTransformation":return r=>{let n=aI(r);for(let r of e.propertySignatureTransformations){let[e,i]=t?[r.from,r.to]:[r.to,r.from],a=t?r.decode:r.encode;n=eZL(n,t=>{let r=a(Object.prototype.hasOwnProperty.call(t,e)?sF(t[e]):sC());return delete t[e],sN(r)&&(t[i]=r.value),t})}return n}}},eQx=(e,t=[])=>({value:e,forest:t}),eQk={formatIssue:e=>eZL(eQP(e),eQ_),formatIssueSync:e=>{let t=eQk.formatIssue(e);return aM(t)?aG(t):evR(t)},formatError:e=>eQk.formatIssue(e.issue),formatErrorSync:e=>eQk.formatIssueSync(e.issue)},eQ_=e=>e.value+eQE("\n",e.forest),eQE=(e,t)=>{let r,n="",i=t.length;for(let a=0;a<i;a++){r=t[a];let s=a===i-1;n+=e+(s?"":"")+" "+r.value,n+=eQE(e+(i>1&&!s?"  ":"   "),r.forest)}return n},eQI=e=>"ast"in e?sF(e.ast):sC(),eQT=aI(void 0),eQO=e=>t=>t._tag===e,eQC=eQO("Composite"),eQF=eQO("Refinement"),eQA=eQO("Transformation"),eQM=e=>eZj(eQI(e).pipe(s1(kd),sR({onNone:()=>eQT,onSome:t=>{let r=t(e);return ns(r)?aI({message:r,override:!1}):egh(r)?eyz(r,e=>({message:e,override:!1})):ns(r.message)?aI({message:r.message,override:r.override}):eyz(r.message,e=>({message:e,override:r.override}))}})),t=>void 0!==t?!t.override&&(eQC(e)||eQF(e)&&"From"===e.kind||eQA(e)&&"Transformation"!==e.kind)?eQA(e)||eQF(e)?eQM(e.issue):eQT:aI(t.message):eQT),eQN=e=>eQI(e).pipe(s1(kE),s6(t=>t(e)),sJ);function eQR(e){return kb(e).pipe(sz(()=>km(e)),sz(()=>kg(e)),sz(()=>ky(e)),s$(()=>`{ ${e.from} | filter }`))}let eQD=e=>eZL(eQM(e),t=>t??eQN(e)??function(e){if(void 0!==e.message)return e.message;let t=_K(e.ast)?eQR(e.ast):String(e.ast);return`Expected ${t}, actual ${w0(e.actual)}`}(e)),eQj=e=>eQN(e)??String(e.ast),eQL=e=>{let t=kp(e.ast);if(sN(t)){let e=t.value();return ns(e)?aI(e):e}return aI(e.message??"is missing")},eQP=e=>{switch(e._tag){case"Type":return eZL(eQD(e),eQx);case"Forbidden":return aI(eQx(eQj(e),[eQx(e.message??"is forbidden")]));case"Unexpected":return aI(eQx(e.message??"is unexpected"));case"Missing":return eZL(eQL(e),eQx);case"Transformation":return eZj(eQM(e),t=>void 0!==t?aI(eQx(t)):eZL(eQP(e.issue),t=>eQx(eQj(e),[eQx((e=>{switch(e){case"Encoded":return"Encoded side transformation failure";case"Transformation":return"Transformation process failure";case"Type":return"Type side transformation failure"}})(e.kind),[t])])));case"Refinement":return eZj(eQM(e),t=>void 0!==t?aI(eQx(t)):eZL(eQP(e.issue),t=>eQx(eQj(e),[eQx((e=>{switch(e){case"From":return"From side refinement failure";case"Predicate":return"Predicate refinement failure"}})(e.kind),[t])])));case"Pointer":return eZL(eQP(e.issue),t=>eQx(w6(e.path),[t]));case"Composite":return eZj(eQM(e),t=>{if(void 0!==t)return aI(eQx(t));let r=eQj(e);return Array.isArray(e.issues)?eZL(egC(e.issues,eQP),e=>eQx(r,e)):eZL(eQP(e.issues),e=>eQx(r,[e]))})}},eQ$=(e,t,r)=>({_tag:e,path:t,message:r}),eQz={formatIssue:e=>eQU(e,void 0,[]),formatIssueSync:e=>{let t=eQz.formatIssue(e);return aM(t)?aG(t):evR(t)},formatError:e=>eQz.formatIssue(e.issue),formatErrorSync:e=>eQz.formatIssueSync(e.issue)},eQU=(e,t,r)=>{let n=e._tag;switch(n){case"Type":return eZL(eQD(e),e=>[eQ$(t??n,r,e)]);case"Forbidden":return aI([eQ$(n,r,e.message??"is forbidden")]);case"Unexpected":return aI([eQ$(n,r,e.message??"is unexpected")]);case"Missing":return eZL(eQL(e),e=>[eQ$(n,r,e)]);case"Pointer":return eQU(e.issue,void 0,r.concat(e.path));case"Composite":return eZj(eQM(e),t=>void 0!==t?aI([eQ$(n,r,t)]):Array.isArray(e.issues)?eZL(egC(e.issues,e=>eQU(e,void 0,r)),cM):eQU(e.issues,void 0,r));case"Refinement":return eZj(eQM(e),t=>void 0!==t?aI([eQ$(n,r,t)]):eQU(e.issue,"Predicate"===e.kind?n:void 0,r));case"Transformation":return eZj(eQM(e),t=>void 0!==t?aI([eQ$(n,r,t)]):eQU(e.issue,"Transformation"===e.kind?n:void 0,r))}},eQB=e=>{let t={},r={$schema:eQZ,$defs:{},...eQW(_H(e.ast)&&eQ8(e.ast.from)?e.ast.to:e.ast,{definitions:t})};return lx(t)?delete r.$defs:r.$defs=t,r},eQW=(e,t)=>{let r=t.definitionPath??"#/$defs/",n=t.target??"jsonSchema7",i="skip"!==t.topLevelReferenceStrategy?"handle-identifier":"ignore-identifier",a=t.additionalPropertiesStrategy??"strict";return function e(t,r,n,i,a,s,o){if("handle-identifier"===n){let n=function e(t){let r=sJ(kN(t));if(void 0===r){if(_W(t))return e(t.f());if(_H(t)&&_M(t.from)&&kL(t.to)){let r=t.to;if(sN(kO(r)))return e(r)}}return r}(t);if(void 0!==n){let s=n.replace(/~/ig,"~0").replace(/\//ig,"~1"),l={$ref:a.getRef(s)};return lF(r,n)||(r[n]=l,r[n]=e(t,r,"ignore-identifier",i,a,"handle-annotation",o)),l}}if("handle-annotation"===s){let s=kw(t);if(sN(s)){var l,u,c;let h=s.value;if(l=t,u=h,_K(l)&&l.annotations[xX]===xl?"type"in u&&"integer"!==u.type:"type"in u||"oneOf"in u||"anyOf"in u||"$ref"in u)if("Declaration"===t._tag)return eQ7(h,t);else return h;if("Refinement"!==t._tag)return{...e(t,r,n,i,a,"ignore-annotation",o),...h};{let s,l,u=Ew(t);if(void 0!==u)return e(u,r,n,i,a,"handle-annotation",o);return c=e(t.from,r,n,i,a,"handle-annotation",o),s={...c,...eQ3(t),...h},s.allOf??=[],(l=(e,t)=>{e in h&&e in c&&(s.allOf.unshift({[e]:c[e]}),s.allOf=s.allOf.filter(t))})("minLength",e=>e.minLength>h.minLength),l("maxLength",e=>e.maxLength<h.maxLength),l("pattern",e=>e.pattern!==h.pattern),l("minItems",e=>e.minItems>h.minItems),l("maxItems",e=>e.maxItems<h.maxItems),l("minimum",e=>e.minimum>h.minimum),l("maximum",e=>e.maximum<h.maximum),l("exclusiveMinimum",e=>e.exclusiveMinimum>h.exclusiveMinimum),l("exclusiveMaximum",e=>e.exclusiveMaximum<h.exclusiveMaximum),l("multipleOf",e=>e.multipleOf!==h.multipleOf),0===s.allOf.length&&delete s.allOf,s}}}let h=kO(t);if(sN(h))return e(h.value,r,n,i,a,"handle-annotation",o);switch(t._tag){case"Declaration":case"UndefinedKeyword":case"BigIntKeyword":case"UniqueSymbol":case"SymbolKeyword":if("ignore-errors"===o)return eQ7(eQK,t);throw Error(w3("Missing annotation",'Generating a JSON Schema for this schema requires a "jsonSchema" annotation',i,t));case"Suspend":if("handle-identifier"===n){if("ignore-errors"===o)return eQ7(eQK,t);throw Error(w3("Missing annotation",'Generating a JSON Schema for this schema requires an "identifier" annotation',i,t))}return e(t.f(),r,"ignore-identifier",i,a,"handle-annotation",o);case"NeverKeyword":return eQ7(eQq,t);case"VoidKeyword":return eQ7(eQJ,t);case"UnknownKeyword":return eQ7(eQV,t);case"AnyKeyword":return eQ7(eQK,t);case"ObjectKeyword":return eQ7(eQH,t);case"StringKeyword":return eQ7({type:"string"},t);case"NumberKeyword":return eQ7({type:"number"},t);case"BooleanKeyword":return eQ7({type:"boolean"},t);case"Literal":{let e=t.literal;if(null===e)return eQ7({type:"null"},t);if(ns(e))return eQ7({type:"string",enum:[e]},t);if(no(e))return eQ7({type:"number",enum:[e]},t);else if(nl(e))return eQ7({type:"boolean",enum:[e]},t);if("ignore-errors"===o)return eQ7(eQK,t);throw Error(w3("Missing annotation",'Generating a JSON Schema for this schema requires a "jsonSchema" annotation',i,t))}case"Enums":{let e=t.enums.map(e=>({type:no(e[1])?"number":"string",title:e[0],enum:[e[1]]}));return e.length>=1?eQ7({$comment:"/schemas/enums",anyOf:e},t):eQ7(eQq,t)}case"TupleType":{let n=t.elements.map((t,n)=>eQ4(e(t.type,r,"handle-identifier",i.concat(n),a,"handle-annotation",o),eQ6(t.type,t))),s=t.rest.map(t=>eQ4(e(t.type,r,"handle-identifier",i,a,"handle-annotation",o),eQ6(t.type,t))),l={type:"array"},u=t.elements.length;u>0&&(l.minItems=u-t.elements.filter(e=>e.isOptional).length,l.items=n);let c=s.length;if(c>0){let e=s[0];if(1===c&&t.elements.every(e=>e.type===t.rest[0].type)?l.items=e:l.additionalItems=e,c>1){if("ignore-errors"===o)return eQ7(eQK,t);throw Error(w3("Generating a JSON Schema for post-rest elements is not currently supported. You're welcome to contribute by submitting a Pull Request",void 0,i))}}else u>0?l.additionalItems=!1:l.maxItems=0;return eQ7(l,t)}case"TypeLiteral":{let n,s;if(0===t.propertySignatures.length&&0===t.indexSignatures.length)return eQ7(eQG,t);let l={type:"object",required:[],properties:{},additionalProperties:function(e){switch(e.additionalPropertiesStrategy){case"allow":return!0;case"strict":return!1}}(a)};for(let u of t.indexSignatures){let t=eQ5(u.type)??u.type,c=u.parameter;switch(c._tag){case"StringKeyword":l.additionalProperties=e(t,r,"handle-identifier",i,a,"handle-annotation",o);break;case"TemplateLiteral":n=e(t,r,"handle-identifier",i,a,"handle-annotation",o),s={type:"string",pattern:Ee(c).source};break;case"Refinement":n=e(t,r,"handle-identifier",i,a,"handle-annotation",o),s=e(c,r,"handle-identifier",i,a,"handle-annotation",o);break;case"SymbolKeyword":{let n=i.concat("[symbol]");l.additionalProperties=e(t,r,"handle-identifier",n,a,"handle-annotation",o),s=e(c,r,"handle-identifier",n,a,"handle-annotation",o)}}}for(let n=0;n<t.propertySignatures.length;n++){let s=t.propertySignatures[n],u=s.name;if(ns(u)){let t=eQ5(s.type),n=t??s.type;l.properties[u]=eQ4(e(n,r,"handle-identifier",i.concat(s.name),a,"handle-annotation",o),eQ6(n,s)),s.isOptional||void 0!==t||l.required.push(u)}else{if("ignore-errors"===o)return eQ7(eQK,t);throw Error(w4(u,i))}}return void 0!==n&&(delete l.additionalProperties,l.patternProperties={"":n}),void 0!==s&&(l.propertyNames=s),eQ7(l,t)}case"Union":{let n=function(e){let t=[];for(let r of e)if(!(r===eQq||nw(r,"$id")&&r.$id===eQq.$id&&3===Object.keys(r).length&&r.title===kZ.annotations[x6])){if("$id"in r&&r.$id===eQK.$id||"$id"in r&&r.$id===eQV.$id||"$id"in r&&r.$id===eQJ.$id)return[r];if(eYt(r)&&t.length>0){let e=t[t.length-1];if(eYt(e)&&e.type===r.type){t[t.length-1]={type:e.type,enum:[...e.enum,...r.enum]};continue}}t.push(r)}return t}(t.types.map(t=>e(t,r,"handle-identifier",i,a,"handle-annotation",o)));switch(n.length){case 0:return eQq;case 1:return eQ7(n[0],t);default:return eQ7({anyOf:n},t)}}case"Refinement":return e(t.from,r,n,i,a,"handle-annotation",o);case"TemplateLiteral":{let e=Ee(t);return eQ7({type:"string",title:String(t),description:"a template literal",pattern:e.source},t)}case"Transformation":{if(eQ8(t.from)){let s={type:"string",contentMediaType:"application/json"};return function(e){switch(e.target){case"jsonSchema7":return!1;case"jsonSchema2019-09":case"openApi3.1":return!0}}(a)&&(s.contentSchema=e(t.to,r,n,i,a,"handle-annotation",o)),s}let s=e(t.from,r,n,i,a,"handle-annotation",o);if("TypeLiteralTransformation"===t.transformation._tag&&eYe(s)){let r=e(t.to,{},"ignore-identifier",i,a,"handle-annotation","ignore-errors");if(eYe(r))for(let e of t.transformation.propertySignatureTransformations){let t=e.to,n=e.from;if(ns(t)&&ns(n)){let e=r.properties[t];if(nC(e)){let t=s.properties[n];if(nC(t)){let r={};ns(e.title)&&(r.title=e.title),ns(e.description)&&(r.description=e.description),Array.isArray(e.examples)&&(r.examples=e.examples),Object.hasOwn(e,"default")&&(r.default=e.default),s.properties[n]=eQ9(t,r)}}}}}return eQ7(s,t)}}}(e,t.definitions,i,[],{getRef:e=>r+e,target:n,additionalPropertiesStrategy:a},"handle-annotation","handle-errors")},eQq={$id:"/schemas/never",not:{}},eQK={$id:"/schemas/any"},eQV={$id:"/schemas/unknown"},eQJ={$id:"/schemas/void"},eQH={$id:"/schemas/object",anyOf:[{type:"object"},{type:"array"}]},eQG={$id:"/schemas/%7B%7D",anyOf:[{type:"object"},{type:"array"}]},eQZ="http://json-schema.org/draft-07/schema#";function eQQ(e){if(void 0!==e)return sJ(kb(e))}function eQY(e){if(void 0!==e)return sJ(km(e))}function eQX(e){return void 0!==e?kv(e):sC()}function eQ0(e){if(void 0!==e)return sJ(kS(e))}function eQ1(e,t,r){if(void 0!==t)switch(e._tag){case"StringKeyword":return t!==k4.annotations[r]?t:void 0;case"NumberKeyword":return t!==k7.annotations[r]?t:void 0;case"BooleanKeyword":return t!==_t.annotations[r]?t:void 0}return t}function eQ2(e,t,r,n,i){let a={};if(void 0!==t&&(a.description=t),void 0!==r&&(a.title=r),sN(n)&&(a.default=n.value),void 0!==i){let t,r,n=(t=eZK(e,!1),(r=cN(i,e=>t(e))).length>0?r:void 0);void 0!==n&&(a.examples=n)}if(0!==Object.keys(a).length)return a}function eQ6(e,t){return eQ2(e,eQQ(t),eQY(t),eQX(t),eQ0(t))}function eQ3(e){return eQ2(e,eQ1(e,eQQ(e),x4),eQ1(e,eQY(e),x6),eQX(e),eQ0(e))}function eQ4(e,t){return t?"$ref"in e?{allOf:[e],...t}:{...e,...t}:e}let eQ5=e=>{if(sM(kw(e)))return EP(e,eQ5,e=>eQ5(e.from))},eQ8=e=>e.annotations[xX]===kR;function eQ7(e,t){return eQ9(e,eQ3(t))}function eQ9(e,t){return void 0===t||0===Object.keys(t).length?e:"$ref"in e?{allOf:[e],...t}:{...e,...t}}function eYe(e){return nC(e)&&"object"===e.type&&nC(e.properties)}function eYt(e){return nw(e,"enum")&&"type"in e&&2===Object.keys(e).length}let eYr=Symbol.for("effect/Pool"),eYn={_E:e=>e,_A:e=>e},eYi=e=>PB(t=>Pu(Ui(),r=>{let n=Op(r,eau),i=new eYl(n,Ul(e.acquire,e=>Ob(r,e)),e.concurrency??1,e.min,e.max,e.strategy,Math.min(Math.max(e.targetUtilization??1,.1),1)),a=PP(eiq(t(i.resize)),e=>n.addFinalizer(()=>P8(e))),s=PP(eiq(t(e.strategy.run(i))),e=>n.addFinalizer(()=>P8(e)));return PD(i).pipe(P6(n.addFinalizer(()=>i.shutdown)),P6(a),P6(s))})),eYa=e=>Pu("creation"===e.timeToLiveStrategy?eYu(e.timeToLive):eYc(e.timeToLive),t=>eYi({...e,strategy:t})),eYs=e=>e.get,eYo=rS(2,(e,t)=>e.invalidate(t));class eYl extends KP{scope;acquire;concurrency;minSize;maxSize;strategy;targetUtilization;[eYr];isShuttingDown=!1;semaphore;items=new Set;available=new Set;availableLatch=eo9(!1);invalidated=new Set;waiters=0;constructor(e,t,r,n,i,a,s){super(),this.scope=e,this.acquire=t,this.concurrency=r,this.minSize=n,this.maxSize=i,this.strategy=a,this.targetUtilization=s,this[eYr]=eYn,this.semaphore=eo8(r*i)}allocate=LG(ead(),e=>this.acquire.pipe(eap(e),Pr,Pu(t=>{let r={exit:t,finalizer:L2(e.close(t),eYh),refCount:0,disableReclaim:!1};return this.items.add(r),this.available.add(r),LZ("Success"===t._tag?this.strategy.onAcquire(r):P3(r.finalizer,this.strategy.onAcquire(r)),r)})),(e,t)=>"Failure"===t._tag?e.close(t):PW);get currentUsage(){let e=this.waiters;for(let t of this.items)e+=t.refCount;return e}get targetSize(){if(this.isShuttingDown)return 0;let e=Math.ceil(this.currentUsage/this.targetUtilization/this.concurrency);return Math.min(Math.max(this.minSize,e),this.maxSize)}get activeSize(){return this.items.size-this.invalidated.size}resizeLoop=Pj(()=>{if(this.activeSize>=this.targetSize)return PW;let e=this.targetSize-this.activeSize;return this.strategy.reclaim(this).pipe(Pu(sR({onNone:()=>this.allocate,onSome:PD})),eiP(e,{concurrency:e}),P6(this.availableLatch.open),Pu(e=>e.some(e=>"Failure"===e.exit._tag)?PW:this.resizeLoop))});resizeSemaphore=eo8(1);resize=this.resizeSemaphore.withPermits(1)(this.resizeLoop);getPoolItem=PB(e=>e(this.semaphore.take(1)).pipe(P3(eau),Pu(e=>Pj(()=>{if(this.waiters++,this.isShuttingDown)return Pv;if(this.targetSize>this.activeSize){let e=this;return Pu(this.resizeSemaphore.withPermitsIfAvailable(1)(ell(Px(this.resize),this.scope)),function t(){return e.isShuttingDown?Pv:e.available.size>0?PD(oJ(e.available)):(e.availableLatch.unsafeClose(),Pu(e.availableLatch.await,t))})}return PD(oJ(this.available))}).pipe(eaC(PL(()=>this.waiters--)),PP(t=>"Failure"===t.exit._tag?(this.items.delete(t),this.invalidated.delete(t),this.available.delete(t),this.semaphore.release(1)):(t.refCount++,this.available.delete(t),t.refCount<this.concurrency&&this.available.add(t),e.addFinalizer(()=>P3(Pj(()=>(t.refCount--,this.invalidated.has(t))?this.invalidatePoolItem(t):(this.available.add(t),zz)),this.semaphore.release(1))))),PF(()=>this.semaphore.release(1))))));commit(){return this.get}get=Pu(Pj(()=>this.isShuttingDown?Pv:this.getPoolItem),e=>e.exit);invalidate(e){return Pj(()=>{if(this.isShuttingDown)return PW;for(let t of this.items)if("Success"===t.exit._tag&&t.exit.value===e)return t.disableReclaim=!0,PU(this.invalidatePoolItem(t));return PW})}invalidatePoolItem(e){return Pj(()=>this.items.has(e)?0===e.refCount?(this.items.delete(e),this.available.delete(e),this.invalidated.delete(e),P3(e.finalizer,ell(Px(this.resize),this.scope))):(this.invalidated.add(e),this.available.delete(e),PW):PW)}get shutdown(){return Pj(()=>{if(this.isShuttingDown)return PW;this.isShuttingDown=!0;let e=this.items.size,t=eo8(e);return Pb(this.items,e=>e.refCount>0?(e.finalizer=P6(e.finalizer,t.release(1)),this.invalidated.add(e),t.take(1)):(this.items.delete(e),this.available.delete(e),this.invalidated.delete(e),e.finalizer)).pipe(P3(this.semaphore.releaseAll),P3(this.availableLatch.open),P3(t.take(e)))})}pipe(){return ij(this,arguments)}}let eYu=e=>qT(t=>PE(ek6(),r=>{let n=Fh(e),i=new WeakMap;return rw({run:e=>{let a=r=>Pj(()=>{if(!e.items.has(r)||e.invalidated.has(r))return PW;let s=n-(t.unsafeCurrentTimeMillis()-i.get(r));return s>0?VK(a(r),s):e.invalidatePoolItem(r)});return r.take.pipe(PP(a),Ja)},onAcquire:e=>Pj(()=>(i.set(e,t.unsafeCurrentTimeMillis()),r.offer(e))),reclaim:e=>J$})})),eYc=e=>PE(ek6(),t=>rw({run:r=>{let n=Pj(()=>r.activeSize-r.targetSize<=0?PW:t.take.pipe(PP(e=>r.invalidatePoolItem(e)),P3(n)));return n.pipe(VK(e),Ja)},onAcquire:e=>t.offer(e),reclaim:e=>Pj(()=>{if(0===e.invalidated.size)return J$;let r=oV(lc(e.invalidated,e=>!e.disableReclaim));return"None"===r._tag?J$:(e.invalidated.delete(r.value),r.value.refCount<e.concurrency&&e.available.add(r.value),LZ(t.offer(r.value),r))})})),eYh=e=>LH(t=>{let r=t.getFiberRef($q);return"Some"===r._tag&&t.log("Unhandled error in pool finalizer",e,r),PW}),eYf=Symbol.for("effect/KeyedPool"),eYd=Symbol.for("effect/KeyedPool/MapValue"),eYp={_K:e=>e,_E:e=>e,_A:e=>e};class eYm{getOrCreatePool;activePools;[eYf]=eYp;constructor(e,t){this.getOrCreatePool=e,this.activePools=t}get(e){return Pu(this.getOrCreatePool(e),eYs)}invalidate(e){return Pu(this.activePools,Pb(t=>t.invalidate(e)))}pipe(){return ij(this,arguments)}}class eYg{pool;_tag="Complete";[eYd]=eYd;constructor(e){this.pool=e}[is](){return rD(ip("effect/KeyedPool/Complete"),iu(io(this.pool)),ib(this))}[iS](e){return eYy(e)&&iv(this.pool,e.pool)}}let eYy=e=>nx(e,"Complete")&&eYd in e;class eYb{deferred;_tag="Pending";[eYd]=eYd;constructor(e){this.deferred=e}[is](){return rD(ip("effect/KeyedPool/Pending"),iu(io(this.deferred)),ib(this))}[iS](e){return eYS(e)&&iv(this.deferred,e.deferred)}}let eYS=e=>nx(e,"Pending")&&eYd in e,eYv=(e,t,r,n)=>rD(eij([Ui(),Po,PL(()=>MT(Np())),ead()]),PE(([i,a,s,o])=>new eYm(l=>Pj(()=>{let u=sJ(Nb(MA(s),l));if(void 0===u)return PB(c=>{let h,f=zG(a);if(u=new eYb(f),Nw(MA(s),l)?h=sJ(Nb(MA(s),l)):Mz(s,N_(l,u)),void 0===h)return rD(c(eap(eYa({acquire:Us(e(l),i),min:t(l),max:r(l),timeToLive:s$(n(l),()=>Fr)}),o)),Pm({onFailure:e=>(iv(sJ(Nb(MA(s),l)),u)&&Mz(s,Nz(l)),P3(z3(f,e),Pa(e))),onSuccess:e=>(Mz(s,N_(l,new eYg(e))),LZ(z9(f,e),e))}));switch(h._tag){case"Complete":return PD(h.pool);case"Pending":return c(zY(h.deferred))}});switch(u._tag){case"Complete":return PD(u.pool);case"Pending":return zY(u.deferred)}}),Pj(()=>Py(NO(MA(s)),e=>{switch(e._tag){case"Complete":return PD(e.pool);case"Pending":return zY(e.deferred)}}))))),eYw=rS(2,(e,t)=>e.get(t)),eYx=rS(2,(e,t)=>e.invalidate(t)),eYk=eYf,eY_=e=>eYv(e.acquire,()=>e.size,()=>e.size,()=>sC()),eYE=e=>eYv(e.acquire,e.size,e.size,()=>sC()),eYI=e=>{let t=C2(e.timeToLive);return eYv(e.acquire,e.min,e.max,()=>sF(t))},eYT=e=>eYv(e.acquire,e.min,e.max,t=>sF(C2(e.timeToLive(t)))),eYO=eYw,eYC=eYx,eYF=Symbol.for("effect/RcMap"),eYA={_K:rw,_A:rw,_E:rw};class eYM{lookup;context;scope;idleTimeToLive;capacity;[eYF];state={_tag:"Open",map:Bu()};semaphore=eo8(1);constructor(e,t,r,n,i){this.lookup=e,this.context=t,this.scope=r,this.idleTimeToLive=n,this.capacity=i,this[eYF]=eYA}pipe(){return ij(this,arguments)}}let eYN=rS(2,(e,t)=>PB(r=>eYR(e,t,r))),eYR=PG(function*(e,t,r){let n;if("Closed"===e.state._tag)return yield*Pv;let i=Bf(e.state.map,t);if("Some"===i._tag)n=i.value,n.refCount++;else{if(Number.isFinite(e.capacity)&&Bk(e.state.map)>=e.capacity)return yield*Pn(new zd(`RcMap attempted to exceed capacity of ${e.capacity}`));n=yield*e.semaphore.withPermits(1)(eYD(e,t,r))}let a=yield*eau;return yield*a.addFinalizer(()=>n.finalizer),yield*r(zY(n.deferred))}),eYD=PG(function*(e,t,r){let n=yield*ead(),i=yield*zZ(),a=e.lookup(t),s=new Map(e.context.unsafeMap);yield*r(Ul(a,e=>(e.unsafeMap.forEach((e,t)=>{s.set(t,e)}),s.set(eau.key,n),Oo(s)))).pipe(Pr,Pu(e=>z1(i,e)),ell(n));let o={deferred:i,scope:n,finalizer:void 0,fiber:void 0,expiresAt:0,refCount:1};return o.finalizer=eYj(e,t,o),"Open"===e.state._tag&&By(e.state.map,t,o),o}),eYj=(e,t,r)=>qK(n=>(r.refCount--,r.refCount>0)?PW:"Closed"!==e.state._tag&&Bg(e.state.map,t)&&void 0!==e.idleTimeToLive?C9(e.idleTimeToLive)?(r.expiresAt=n.unsafeCurrentTimeMillis()+Fh(e.idleTimeToLive),r.fiber)?PW:Pk(function i(a){let s=n.unsafeCurrentTimeMillis(),o=r.expiresAt-s;return o<=0?"Closed"===e.state._tag||r.refCount>0?PW:(Bw(e.state.map,t),a($4(r.scope,zz))):Pu(n.sleep(Fa(o)),()=>i(a))}).pipe(eaC(PL(()=>{r.fiber=void 0})),ell(e.scope),PP(e=>{r.fiber=e}),e.semaphore.withPermits(1)):PW:("Open"===e.state._tag&&Bw(e.state.map,t),$4(r.scope,zz))),eYL=rS(2,PG(function*(e,t){if("Closed"===e.state._tag)return;let r=Bf(e.state.map,t);if("None"===r._tag)return;let n=r.value;Bw(e.state.map,t),!(n.refCount>0)&&(yield*$4(n.scope,zz),n.fiber&&(yield*P8(n.fiber)))})),eYP=rS(2,(e,t)=>PL(()=>"Closed"!==e.state._tag&&Bg(e.state.map,t))),eY$=rS(2,(e,t)=>qK(r=>{if(!e.idleTimeToLive||"Closed"===e.state._tag)return PW;let n=Bf(e.state.map,t);return"None"===n._tag||(n.value.expiresAt=r.unsafeCurrentTimeMillis()+Fh(e.idleTimeToLive)),PW})),eYz=eYF,eYU=e=>LH(t=>{let r=t.getFiberRef($R),n=Op(r,eau),i=new eYM(e.lookup,r,n,e.idleTimeToLive?C2(e.idleTimeToLive):void 0,Math.max(e.capacity??1/0,0));return LZ(n.addFinalizer(()=>Pj(()=>{if("Closed"===i.state._tag)return PW;let e=i.state.map;return i.state={_tag:"Closed"},Pb(e,([,e])=>$4(e.scope,zz)).pipe(PP(()=>{Bx(e)}),i.semaphore.withPermits(1))})),i)}),eYB=eYN,eYW=eYP,eYq=e=>Pj(()=>"Closed"===e.state._tag?Pv:PD(Bd(e.state.map))),eYK=eYL,eYV=eY$,eYJ=Symbol.for("effect/LayerMap"),eYH=ewb(function*(e,t){let r=yield*ebB(),n=r.unsafeMap.has(exE.key)?Op(r,exE):yield*ekB,i=yield*eYU({lookup:t=>ey3(r=>ebn(ekW(e(t),n,r))).pipe(eyz(([e,t])=>({layer:eku(LH(r=>{let n=Og(r.currentContext,eoY),i=r.getFiberRefs(),a=HM(e,r.id(),i),s=HF(a,i);return r.setFiberRefs(a),eyR(eo0(n,()=>(r.setFiberRefs(HM(s,r.id(),r.getFiberRefs())),eg8)),t)})),runtimeEffect:egq(r=>eg2(eFR({context:t,fiberRefs:HM(e,r.id(),r.getFiberRefs()),runtimeFlags:eFM.runtimeFlags})))}))),idleTimeToLive:t?.idleTimeToLive});if(t?.preloadKeys)for(let e of t.preloadKeys)yield*eYB(i,e);return rw({[eYJ]:eYJ,rcMap:i,get:e=>ekE(eyz(eYB(i,e),({layer:e})=>e)),runtime:e=>eSm(eYB(i,e),({runtimeEffect:e})=>e),invalidate:e=>eYK(i,e)})}),eYG=(e,t)=>eYH(t=>e[t],{...t,preloadKeys:t?.preload?Object.keys(e):void 0}),eYZ=()=>(e,t)=>{let r=globalThis.Error,n=r.stackTraceLimit;r.stackTraceLimit=2;let i=new r;function a(){}return r.stackTraceLimit=n,Object.setPrototypeOf(a,Object.getPrototypeOf(Os(e))),a.key=e,Object.defineProperty(a,"stack",{get:()=>i.stack}),a.DefaultWithoutDependencies=eko(a,"lookup"in t?eYH(t.lookup,t):eYG(t.layers,t)),a.Default=t.dependencies&&t.dependencies.length>0?ekw(a.DefaultWithoutDependencies,t.dependencies):a.DefaultWithoutDependencies,a.get=e=>ekE(eyz(a,t=>t.get(e))),a.runtime=e=>eSm(a,t=>t.runtime(e)),a.invalidate=e=>eSm(a,t=>t.invalidate(e)),a},eYQ=rS(2,(e,t)=>e.log({fiberId:MQ,logLevel:$n,message:t,cause:esn,context:qH(),spans:Rr(),annotations:Np(),date:new Date})),eYY=Xp,eYX=Xg,eY0=exs,eY1=exo,eY2=exl,eY6=Xy,eY3=Xb,eY4=XS,eY5=Xv,eY8=eiT,eY7=eiS,eY9=e=>Xg(t=>{let r=Op(Kr(t.context,qE),qs).unsafe;switch(t.logLevel._tag){case"Debug":return r.debug(e.log(t));case"Info":return r.info(e.log(t));case"Trace":return r.trace(e.log(t));case"Warning":return r.warn(e.log(t));case"Error":case"Fatal":return r.error(e.log(t));default:return r.log(e.log(t))}}),eXe=e=>Xg(t=>{Op(Kr(t.context,qE),qs).unsafe.error(e.log(t))}),eXt={[Xp]:Xm,log:rC,pipe(){return ij(this,arguments)}},eXr=exu,eXn=exc,eXi=exh,eXa=exf,eXs=Xw,eXo=e=>Xw(()=>e),eXl=e=>Xw(e),eXu=eYQ,eXc=exa,eXh=e=>Xb(e,e=>{let t=s1(q2(e.context,$R),Oy(qb));return"None"===t._tag?e:{...e,annotations:rD(e.annotations,N_("effect.traceId",t.value.traceId),N_("effect.spanId",t.value.spanId),"Span"===t.value._tag?N_("effect.spanName",t.value.name):rw)}}),eXf=Xx,eXd=Xk,eXp=X_,eXm=eiv,eXg=XA,eXy=XO,eXb=XT,eXS=Xz,eXv=XW,eXw=XC,eXx=eiE,eXk=eXn(eiv,eiw),eX_=eXn(eiv,eix),eXE=eXn(eiv,eik),eXI=eXn(eiv,ei_),eXT=e=>ecR(eay(eib,e)),eXO=e=>"object"==typeof e&&null!=e&&Xp in e,eXC=Symbol.for("effect/Mailbox"),eXF=Symbol.for("effect/Mailbox/ReadonlyMailbox"),eXA=OM(),eXM=z$(eXA),eXN=z$(!1),eXR=z$(!0),eXD=[eXA,!0];class eXj extends KP{scheduler;capacity;strategy;[eXC]=eXC;[eXF]=eXF;state={_tag:"Open",takers:new Set,offers:new Set,awaiters:new Set};messages=[];messagesChunk=OM();constructor(e,t,r){super(),this.scheduler=e,this.capacity=t,this.strategy=r}offer(e){return Pj(()=>{if("Open"!==this.state._tag)return eXN;if(this.messages.length+this.messagesChunk.length>=this.capacity)switch(this.strategy){case"dropping":return eXN;case"suspend":if(this.capacity<=0&&this.state.takers.size>0)return this.messages.push(e),this.releaseTaker(),eXR;return this.offerRemainingSingle(e);case"sliding":return this.unsafeTake(),this.messages.push(e),eXR}return this.messages.push(e),this.scheduleReleaseTaker(),eXR})}unsafeOffer(e){return"Open"===this.state._tag&&(this.messages.length+this.messagesChunk.length>=this.capacity?"sliding"===this.strategy?(this.unsafeTake(),this.messages.push(e),!0):this.capacity<=0&&this.state.takers.size>0&&(this.messages.push(e),this.releaseTaker(),!0):(this.messages.push(e),this.scheduleReleaseTaker(),!0))}offerAll(e){return Pj(()=>{if("Open"!==this.state._tag)return PD(OD(e));let t=this.unsafeOfferAllArray(e);return 0===t.length?eXM:"dropping"===this.strategy?PD(OU(t)):this.offerRemainingArray(t)})}unsafeOfferAll(e){return OU(this.unsafeOfferAllArray(e))}unsafeOfferAllArray(e){if("Open"!==this.state._tag)return ui(e);if(this.capacity===1/0||"sliding"===this.strategy)return this.messages.length>0&&(this.messagesChunk=OQ(this.messagesChunk,OU(this.messages))),"sliding"===this.strategy?this.messagesChunk=this.messagesChunk.pipe(OQ(OD(e)),CS(this.capacity)):OF(e)?this.messagesChunk=OQ(this.messagesChunk,e):this.messages=ui(e),this.scheduleReleaseTaker(),[];let t=this.capacity<=0?this.state.takers.size:this.capacity-this.messages.length-this.messagesChunk.length;if(0===t)return ui(e);let r=[],n=0;for(let i of e)n<t?this.messages.push(i):r.push(i),n++;return this.scheduleReleaseTaker(),r}fail(e){return this.done(zI(e))}failCause(e){return this.done(zT(e))}unsafeDone(e){return"Open"===this.state._tag&&(0===this.state.offers.size&&0===this.messages.length&&0===this.messagesChunk.length?this.finalize(e):this.state={...this.state,_tag:"Closing",exit:e},!0)}shutdown=PL(()=>{if("Done"===this.state._tag)return!0;this.messages=[],this.messagesChunk=eXA;let e=this.state.offers;if(this.finalize("Open"===this.state._tag?zz:this.state.exit),e.size>0){for(let t of e)"Single"===t._tag?t.resume(eXN):t.resume(z$(OU(t.remaining.slice(t.offset))));e.clear()}return!0});done(e){return PL(()=>this.unsafeDone(e))}end=this.done(zz);clear=Pj(()=>{if("Done"===this.state._tag)return zw(this.state.exit,eXA);let e=this.unsafeTakeAll();return this.releaseCapacity(),PD(e)});takeAll=Pj(()=>{if("Done"===this.state._tag)return zw(this.state.exit,eXD);let e=this.unsafeTakeAll();return 0===e.length?P3(this.awaitTake,this.takeAll):PD([e,this.releaseCapacity()])});takeN(e){return Pj(()=>{let t;if("Done"===this.state._tag)return zw(this.state.exit,eXD);if(e<=0)return PD([eXA,!1]);if((e=Math.min(e,this.capacity))<=this.messagesChunk.length)t=OV(this.messagesChunk,e),this.messagesChunk=OJ(this.messagesChunk,e);else{if(!(e<=this.messages.length+this.messagesChunk.length))return P3(this.awaitTake,this.takeN(e));this.messagesChunk=OQ(this.messagesChunk,OU(this.messages)),this.messages=[],t=OV(this.messagesChunk,e),this.messagesChunk=OJ(this.messagesChunk,e)}return PD([t,this.releaseCapacity()])})}unsafeTake(){let e;if("Done"===this.state._tag)return zW(this.state.exit,zI(new esQ));if(this.messagesChunk.length>0)e=Ce(this.messagesChunk),this.messagesChunk=OJ(this.messagesChunk,1);else if(this.messages.length>0)e=this.messages[0],this.messagesChunk=OJ(OU(this.messages),1),this.messages=[];else if(this.capacity<=0&&this.state.offers.size>0)return this.capacity=1,this.releaseCapacity(),this.capacity=0,this.messages.length>0?z$(this.messages.pop()):void 0;else return;return this.releaseCapacity(),z$(e)}take=Pj(()=>this.unsafeTake()??P3(this.awaitTake,this.take));await=L0(e=>"Done"===this.state._tag?e(this.state.exit):(this.state.awaiters.add(e),PL(()=>{"Done"!==this.state._tag&&this.state.awaiters.delete(e)})));unsafeSize(){let e=this.messages.length+this.messagesChunk.length;return"Done"===this.state._tag?sC():sF(e)}size=PL(()=>this.unsafeSize());commit(){return this.takeAll}pipe(){return ij(this,arguments)}toJSON(){return{_id:"effect/Mailbox",state:this.state._tag,size:this.unsafeSize().toJSON()}}toString(){return iI(this)}[i_](){return iI(this)}offerRemainingSingle(e){return L0(t=>{if("Open"!==this.state._tag)return t(eXN);let r={_tag:"Single",message:e,resume:t};return this.state.offers.add(r),PL(()=>{"Open"===this.state._tag&&this.state.offers.delete(r)})})}offerRemainingArray(e){return L0(t=>{if("Open"!==this.state._tag)return t(z$(OU(e)));let r={_tag:"Array",remaining:e,offset:0,resume:t};return this.state.offers.add(r),PL(()=>{"Open"===this.state._tag&&this.state.offers.delete(r)})})}releaseCapacity(){if("Done"===this.state._tag)return"Success"===this.state.exit._tag;if(0===this.state.offers.size)return"Closing"===this.state._tag&&0===this.messages.length&&0===this.messagesChunk.length&&(this.finalize(this.state.exit),"Success"===this.state.exit._tag);let e=this.capacity-this.messages.length-this.messagesChunk.length;for(let t of this.state.offers)if(0===e)break;else if("Single"===t._tag)this.messages.push(t.message),e--,t.resume(eXR),this.state.offers.delete(t);else{for(;t.offset<t.remaining.length;t.offset++){if(0===e)return!1;this.messages.push(t.remaining[t.offset]),e--}t.resume(eXM),this.state.offers.delete(t)}return!1}awaitTake=L0(e=>"Done"===this.state._tag?e(this.state.exit):(this.state.takers.add(e),PL(()=>{"Done"!==this.state._tag&&this.state.takers.delete(e)})));scheduleRunning=!1;scheduleReleaseTaker(){this.scheduleRunning||(this.scheduleRunning=!0,this.scheduler.scheduleTask(this.releaseTaker,0))}releaseTaker=()=>{if(this.scheduleRunning=!1,"Done"===this.state._tag||0===this.state.takers.size)return;let e=oJ(this.state.takers);this.state.takers.delete(e),e(zz)};unsafeTakeAll(){if(this.messagesChunk.length>0){let e=this.messages.length>0?OQ(this.messagesChunk,OU(this.messages)):this.messagesChunk;return this.messagesChunk=eXA,this.messages=[],e}if(this.messages.length>0){let e=OU(this.messages);return this.messages=[],e}return"Done"!==this.state._tag&&this.state.offers.size>0?(this.capacity=1,this.releaseCapacity(),this.capacity=0,OR(this.messages.pop())):eXA}finalize(e){if("Done"===this.state._tag)return;let t=this.state;for(let r of(this.state={_tag:"Done",exit:e},t.takers))r(e);for(let r of(t.takers.clear(),t.awaiters))r(e);t.awaiters.clear()}}let eXL=e=>LH(t=>PD(new eXj(t.currentScheduler,"number"==typeof e?e:e?.capacity??1/0,"number"==typeof e?"suspend":e?.strategy??"suspend"))),eXP=rS(2,(e,t)=>PB(r=>Pm(r(e),{onFailure:e=>t.failCause(e),onSuccess:e=>t.end}))),eX$=e=>{let t=eIy(e.takeAll,([e,r])=>r?0===e.length?eIC:eIF(e):eOP(eIF(e),t));return t},eXz=rS(e=>eLL(e[0]),(e,t)=>PP(eiC(eXL(t),e=>e.shutdown),t=>{let r=eI_({onInput:e=>eIy(t.offerAll(e),()=>r),onFailure:e=>t.failCause(e),onDone:()=>t.end});return ei6(t=>eP6(e).pipe(eIv(r),eI8(t),ell(t)))})),eXU=eXC,eXB=eXF,eXW=e=>nw(e,eXU),eXq=e=>nw(e,eXB),eXK=eXL,eXV=eXP,eXJ=eX$,eXH=e=>eP2(eX$(e)),eXG=eXz;function eXZ(e,t){return Pu(e.runtimeEffect,e=>LH(r=>(r.setFiberRefs(e.fiberRefs),r.currentRuntimeFlags=e.runtimeFlags,Us(t,e.context))))}let eXQ={...KR,[elF]:elF,pipe(){return ij(this,arguments)},commit(){return this.runtimeEffect}},eXY=elF,eXX=e=>nw(e,elF),eX0=(e,t)=>{let r;t=t??eu9();let n=euK(ead()),i=LH(i=>(r||(r=euB(PP(eo2(ecV(e,t),n),e=>{a.cachedRuntime=e}),{scope:n,scheduler:i.currentScheduler})),Pf(r.await))),a=Object.assign(Object.create(eXQ),{memoMap:t,scope:n,runtimeEffect:i,cachedRuntime:void 0,runtime:()=>void 0===a.cachedRuntime?euW(a.runtimeEffect):Promise.resolve(a.cachedRuntime),dispose:()=>euW(a.disposeEffect),disposeEffect:Pj(()=>(a.runtimeEffect=L7("ManagedRuntime disposed"),a.cachedRuntime=void 0,eo1(a.scope,zz))),runFork:(e,t)=>void 0===a.cachedRuntime?euB(eXZ(a,e),t):eug(a.cachedRuntime)(e,t),runSyncExit:e=>void 0===a.cachedRuntime?euV(eXZ(a,e)):euE(a.cachedRuntime)(e),runSync:e=>void 0===a.cachedRuntime?euK(eXZ(a,e)):eub(a.cachedRuntime)(e),runPromiseExit:(e,t)=>void 0===a.cachedRuntime?euq(eXZ(a,e),t):euT(a.cachedRuntime)(e,t),runCallback:(e,t)=>void 0===a.cachedRuntime?euy(euM)(eXZ(a,e),t):euy(a.cachedRuntime)(e,t),runPromise:(e,t)=>void 0===a.cachedRuntime?euW(eXZ(a,e),t):euI(a.cachedRuntime)(e,t)});return a},eX1=Symbol.for("@effect/matcher/Matcher"),eX2={[eX1]:{_input:rw,_filters:rw,_remaining:rw,_result:rw,_return:rw},_tag:"TypeMatcher",add(e){return eX6([...this.cases,e])},pipe(){return ij(this,arguments)}};function eX6(e){let t=Object.create(eX2);return t.cases=e,t}let eX3={[eX1]:{_input:rw,_filters:rw,_remaining:rw,_result:rw,_provided:rw,_return:rw},_tag:"ValueMatcher",add(e){return"Right"===this.value._tag?this:"When"===e._tag&&!0===e.guard(this.provided)||"Not"===e._tag&&!1===e.guard(this.provided)?eX4(this.provided,aI(e.evaluate(this.provided))):this},pipe(){return ij(this,arguments)}};function eX4(e,t){let r=Object.create(eX3);return r.provided=e,r.value=t,r}let eX5=(e,t)=>({_tag:"When",guard:e,evaluate:t}),eX8=e=>{if("function"==typeof e)return e;if(Array.isArray(e)){let t=e.map(eX8),r=t.length;return e=>{if(!Array.isArray(e))return!1;for(let n=0;n<r;n++)if(!1===t[n](e[n]))return!1;return!0}}if(null!==e&&"object"==typeof e){let t=Object.entries(e).map(([e,t])=>[e,eX8(t)]),r=t.length;return e=>{if("object"!=typeof e||null===e)return!1;for(let n=0;n<r;n++){let[r,i]=t[n];if(!(r in e)||!1===i(e[r]))return!1}return!0}}return t=>t===e},eX7=rS(2,(e,t)=>e0s(t)(eX6([]))(e)),eX9=e=>(...t)=>{let r=t[t.length-1],n=t.slice(0,-1),i=1===n.length?t=>t[e]===n[0]:t=>n.includes(t[e]);return e=>e.add(eX5(i,r))},e0e=e=>(t,r)=>{let n=r=>"string"==typeof r[e]&&r[e].startsWith(t);return e=>e.add(eX5(n,r))},e0t=e=>t=>{let r=eX5(r=>null!=r&&r[e]in t,r=>t[r[e]](r));return e=>e.add(r)},e0r=e=>t=>{let r=e0t(e)(t);return e=>e0h(r(e))},e0n=eX9("_tag"),e0i=e0e("_tag"),e0a=e0t("_tag"),e0s=e0r("_tag"),e0o=e=>t=>t instanceof e,e0l=e=>t=>{let r=e0u(t);return aM(r)?"Right"===r._tag?r.right:e(r.left):t=>{let n=r(t);return"Right"===n._tag?n.right:e(n.left)}},e0u=e=>{if("ValueMatcher"===e._tag)return e.value;let t=e.cases.length;if(1===t){let t=e.cases[0];return e=>"When"===t._tag&&!0===t.guard(e)||"Not"===t._tag&&!1===t.guard(e)?aI(t.evaluate(e)):aO(e)}return r=>{for(let n=0;n<t;n++){let t=e.cases[n];if("When"===t._tag&&!0===t.guard(r)||"Not"===t._tag&&!1===t.guard(r))return aI(t.evaluate(r))}return aO(r)}},e0c="effect/Match/exhaustive: absurd",e0h=e=>{let t=e0u(e);if(aM(t)){if("Right"===t._tag)return t.right;throw Error(e0c)}return e=>{let r=t(e);if("Right"===r._tag)return r.right;throw Error(e0c)}},e0f=eX1,e0d=()=>eX6([]),e0p=e=>eX4(e,aO(e)),e0m=eX7,e0g=()=>e=>{let t=e0s(e)(eX6([]));return e=>t(e)},e0y=()=>e=>e,e0b=(e,t)=>r=>r.add(eX5(eX8(e),t)),e0S=(...e)=>t=>{let r,n,i=e[e.length-1],a=e.slice(0,-1);return t.add(eX5((n=(r=a.map(eX8)).length,e=>{for(let t=0;t<n;t++)if(!0===r[t](e))return!0;return!1}),i))},e0v=(...e)=>t=>{let r,n,i=e[e.length-1],a=e.slice(0,-1);return t.add(eX5((n=(r=a.map(eX8)).length,e=>{for(let t=0;t<n;t++)if(!1===r[t](e))return!1;return!0}),i))},e0w=eX9,e0x=e0e,e0k=e0t,e0_=e0r,e0E=e0n,e0I=e0i,e0T=e0a,e0O=e0s,e0C=(e,t)=>r=>r.add({_tag:"Not",guard:eX8(e),evaluate:t}),e0F=e=>"string"==typeof e&&e.length>0,e0A=(...e)=>{let t=e.length;return r=>{for(let n=0;n<t;n++)if(r===e[n])return!0;return!1}},e0M=ns,e0N=no,e0R=()=>!0,e0D=e=>null!=e,e0j=nl,e0L=nd,e0P=nm,e0$=nu,e0z=nc,e0U=nT,e0B=nC,e0W=e0o,e0q=e0o,e0K=e0l,e0V=e=>e0l(()=>{throw Error("effect/Match/orElseAbsurd: absurd")})(e),e0J=e0u,e0H=e=>{let t=e0u(e);return aM(t)?aU(t,{onLeft:()=>sC(),onRight:sF}):e=>aU(t(e),{onLeft:()=>sC(),onRight:sF})},e0G=e0h,e0Z=Symbol.for("effect/SafeRefinement"),e0Q=eTu,e0Y=eTh,e0X=eTf,e00=eTd,e01=e=>nw(e,eTu),e02=e=>e._tag===eTs,e06=e=>e._tag===eTo,e03=e=>e._tag===eTl,e04=eTp,e05=eTy,e08=eTS,e07=eTv,e09=e=>nw(e,eTy),e1e=e=>e._tag===eTm,e1t=e=>e._tag===eTg,e1r=eTw,e1n=etc,e1i=etf,e1a=etd,e1s=etp,e1o=etm,e1l=(e,t)=>ety(eew(e,t)),e1u=etg,e1c=ety,e1h=(e,t)=>ety(eex(e,t)),e1f=etb,e1d=e=>eec(e.keyType)?etL(e,e.keyType.bigint?BigInt(1):1):etx(e,e.keyType.bigint?BigInt(1):1),e1p=etS,e1m=etv,e1g=etw,e1y=etx,e1b=etk,e1S=etB,e1v=e=>etd(void 0,rC,()=>e,rC),e1w=e=>etd(void 0,rC,e,rC),e1x=e=>et$(et_(e)),e1k=et_,e1_=etE,e1E=etI,e1I=etT,e1T=(e,t)=>etp(rD(etb(e,XG({start:.5,factor:2,count:35}),t),etE("time_unit","milliseconds")),Fh),e1O=(e,t,r)=>etp(rD(etb(e,XH(t),r),etE("time_unit","milliseconds")),Fh),e1C=etO,e1F=etC,e1A=etF,e1M=etA,e1N=etM,e1R=etN,e1D=etR,e1j=etD,e1L=etj,e1P=etL,e1$=etP,e1z=et$,e1U=etz,e1B=etU,e1W=ein,e1q=eia,e1K=eis,e1V=eio,e1J=eii,e1H=XK,e1G=XJ,e1Z=XH,e1Q=e=>rD(ut(e.count-1,t=>e.start+t*e.width),OU,XH),e1Y=XG,e1X=ee1,e10=ee6,e11=ee8,e12=ee7,e16=ee9,e13=ete,e14=ett,e15=ee4,e18=ee3,e17=eem,e19=eeS,e2e=eev,e2t=eew,e2r=eex,e2n=eek,e2i=ee_,e2a=eeE,e2s=eeI,e2o=XZ,e2l=XY,e2u=X0,e2c=X2,e2h=X3,e2f=X5,e2d=eea,e2p=ees,e2m=eeo,e2g=eel,e2y=eeu,e2b=e=>nw(e,XZ),e2S=eec,e2v=eeh,e2w=eef,e2x=eed,e2k=eep,e2_=VA,e2E=VN,e2I=VR,e2T=eti,e2O=(e,t)=>({[eti]:eta,metricKey:e,metricState:t,pipe(){return ij(this,arguments)}}),e2C=ets,e2F=Symbol.for("effect/MetricPolling"),e2A=rS(2,(e,t)=>rD(e2M(e),P3(etP(e.metric)),emZ(t))),e2M=e=>Pu(e.poll,t=>etL(e.metric,t)),e2N=rS(2,(e,t)=>({[e2F]:e2F,pipe(){return ij(this,arguments)},metric:e.metric,poll:emL(e.poll,t)})),e2R=rS(2,(e,t)=>({[e2F]:e2F,pipe(){return ij(this,arguments)},metric:rD(e.metric,etz(t.metric)),poll:P2(e.poll,t.poll)})),e2D=e2F,e2j=(e,t)=>({[e2F]:e2F,pipe(){return ij(this,arguments)},metric:e,poll:t}),e2L=e=>{let t=Array.from(e);return{[e2F]:e2F,pipe(){return ij(this,arguments)},metric:etd(Array.of(void 0),(e,r)=>{for(let n=0;n<e.length;n++){let i=t[n],a=rD(e,e=>e[n]);i.metric.unsafeUpdate(a,r)}},e=>Array.from(t.map(t=>t.metric.unsafeValue(e))),(e,r)=>{for(let n=0;n<e.length;n++){let i=t[n],a=rD(e,e=>e[n]);i.metric.unsafeModify(a,r)}}),poll:Py(t,e=>e.poll)}},e2P=e2A,e2$=e=>e.poll,e2z=e2M,e2U=e2N,e2B=e2R,e2W=eto,e2q=etu,e2K=eeT,e2V=eeC,e2J=eeA,e2H=eeN,e2G=eeD,e2Z=eeL,e2Q=eeK,e2Y=eeV,e2X=eeJ,e20=eeH,e21=eeG,e22=e=>nw(e,eeT),e26=eeZ,e23=eeQ,e24=eeY,e25=eeX,e28=ee0,e27=i1,e29=e=>{i0=e},e6e=Symbol.for("effect/MutableHashSet"),e6t={[e6e]:e6e,[Symbol.iterator](){return Array.from(this.keyMap).map(([e])=>e)[Symbol.iterator]()},toString(){return iI(this.toJSON())},toJSON(){return{_id:"MutableHashSet",values:Array.from(this).map(iE)}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},e6r=e=>{let t=Object.create(e6t);return t.keyMap=e,t},e6n=()=>e6r(Bu()),e6i=e=>e6r(Bh(Array.from(e).map(e=>[e,!0]))),e6a=(...e)=>e6i(e),e6s=rS(2,(e,t)=>(By(e.keyMap,t,!0),e)),e6o=rS(2,(e,t)=>Bg(e.keyMap,t)),e6l=rS(2,(e,t)=>(Bw(e.keyMap,t),e)),e6u=e=>Bk(e.keyMap),e6c=e=>(Bx(e.keyMap),e),e6h=e=>{let t=e[Symbol.iterator](),r=t.next();if(r.done)throw Error("BUG: NonEmptyIterator should not be empty - please report an issue at https://github.com/Effect-TS/effect/issues");return[r.value,t]},e6f=e=>-1===e?1:1===e?-1:0,e6d=rS(2,(e,{onEqual:t,onGreaterThan:r,onLessThan:n})=>-1===e?n():0===e?t():r()),e6p=rS(2,(e,t)=>0!==e?e:t),e6m=rS(2,(e,t)=>{let r=e;if(0!==r)return r;for(r of t)if(0!==r)break;return r}),e6g=e=>e6m(0,e),e6y=eYr,e6b=e=>nw(e,eYr),e6S=e=>eYi({...e,min:e.size,max:e.size,strategy:{run:e=>PW,onAcquire:e=>PW,reclaim:e=>J$}}),e6v=eYa,e6w=eYs,e6x=eYo,e6k=e=>e6F(e.ast,[]),e6_=kc(ke),e6E=e=>t=>sR(e6_(t),{onNone:()=>e,onSome:e=>e()}),e6I=e6E(e=>String(e)),e6T=e6E(e=>JSON.stringify(e)),e6O=e6E(w0),e6C={Declaration:(e,t,r)=>{let n=e6_(e);if(sN(n))return n.value(...e.typeParameters.map(e=>t(e,r)));throw Error(w3("Missing annotation",'Generating a Pretty for this schema requires a "pretty" annotation',r,e))},VoidKeyword:e6E(()=>"void(0)"),NeverKeyword:e6E(()=>{throw Error("Cannot pretty print a `never` value")}),Literal:e6E(e=>"bigint"==typeof e?`${String(e)}n`:JSON.stringify(e)),SymbolKeyword:e6I,UniqueSymbol:e6I,TemplateLiteral:e6T,UndefinedKeyword:e6I,UnknownKeyword:e6O,AnyKeyword:e6O,ObjectKeyword:e6O,StringKeyword:e6T,NumberKeyword:e6I,BooleanKeyword:e6I,BigIntKeyword:e6E(e=>`${String(e)}n`),Enums:e6T,TupleType:(e,t,r)=>{let n=e6_(e);if(sN(n))return n.value();let i=e.elements.map((e,n)=>t(e.type,r.concat(n))),a=e.rest.map(e=>t(e.type,r));return t=>{let r=[],n=0;for(;n<i.length;n++)if(t.length<n+1){if(e.elements[n].isOptional)continue}else r.push(i[n](t[n]));if(uw(a)){let[e,...i]=a;for(;n<t.length-i.length;n++)r.push(e(t[n]));for(let e=0;e<i.length;e++)n+=e,r.push(i[e](t[n]))}return"["+r.join(", ")+"]"}},TypeLiteral:(e,t,r)=>{let n=e6_(e);if(sN(n))return n.value();let i=e.propertySignatures.map(e=>t(e.type,r.concat(e.name))),a=e.indexSignatures.map(e=>t(e.type,r)),s={};for(let t=0;t<i.length;t++)s[e.propertySignatures[t].name]=null;return t=>{let r=[];for(let n=0;n<i.length;n++){let a=e.propertySignatures[n],s=a.name;(!a.isOptional||Object.prototype.hasOwnProperty.call(t,s))&&r.push(`${w1(s)}: ${i[n](t[s])}`)}if(a.length>0)for(let n=0;n<a.length;n++){let i=a[n];for(let a of wZ(t,e.indexSignatures[n].parameter))Object.prototype.hasOwnProperty.call(s,a)||r.push(`${w1(a)}: ${i(t[a])}`)}return uw(r)?"{ "+r.join(", ")+" }":"{}"}},Union:(e,t,r)=>{let n=e6_(e);if(sN(n))return n.value();let i=e.types.map(e=>[eQn({ast:e}),t(e,r)]);return t=>{let n=i.findIndex(([e])=>e(t));if(-1===n)throw Error(w3("Unexpected Error",`Cannot find a matching schema for ${w0(t)}`,r,e));return i[n][1](t)}},Suspend:(e,t,r)=>sR(e6_(e),{onNone:()=>{let n=wQ(()=>t(e.f(),r));return e=>n()(e)},onSome:e=>e()}),Refinement:(e,t,r)=>sR(e6_(e),{onNone:()=>t(e.from,r),onSome:e=>e()}),Transformation:(e,t,r)=>sR(e6_(e),{onNone:()=>t(e.to,r),onSome:e=>e()})},e6F=Em(e6C),e6A=Symbol.for("effect/PrimaryKey"),e6M=e=>e[e6A](),e6N=r9(Symbol.for("effect/RateLimiter/currentCost"),()=>ewT(1)),e6R=({algorithm:e="token-bucket",interval:t,limit:r})=>{switch(e){case"fixed-window":let n,i;return n=r,i=t,egY(function*(){let e=yield*evT(n),t=yield*evT(0);yield*rD(t.take(1),evz(ebA(i)),evz(t.releaseAll),evz(e.releaseAll),eSC,ebf,eyO);let r=eyM(r=>eSm(ewM(e6N),n=>evz(r(e.take(n)),t.release(1))));return e=>evz(r,e)});case"token-bucket":let a,s;return a=r,s=t,egY(function*(){let e=Math.ceil(Fh(s)/a),t=yield*evT(a),r=yield*evT(0),n=ebA(e).pipe(evz(r.releaseAll),evz(t.release(1)),eSm(e=>e===a?eg8:n));yield*rD(r.take(1),evz(n),eSC,ebf,eyO);let i=eyM(e=>eSm(ewM(e6N),n=>evz(e(t.take(n)),r.release(1))));return e=>evz(i,e)})}},e6D=e=>eSU(e6N,e),e6j=eqm,e6L=eqy,e6P=eqb,e6$=e=>{if(eqp.has(e))return eqp.get(e);throw Error("Unable to get redacted value")},e6z=e=>eqp.delete(e),e6U=e=>r$((t,r)=>e(e6$(t),e6$(r))),e6B=Symbol.for("effect/ScopedRef"),e6W={...i9,commit(){return e6K(this)},[e6B]:{_A:e=>e}},e6q=e=>PU(ead().pipe(Pu(t=>e.pipe(Ul(Od(eau,t)),PO(e=>t.close(zI(e))),Pu(e=>elx([t,e]).pipe(Pu(e=>{let t=Object.create(e6W);return t.ref=e,rD(eiA(()=>Pu(KY(t.ref),e=>e[0].close(zz))),LZ(t))}))))))),e6K=e=>PE(KY(e.ref),e=>e[1]),e6V=rS(2,(e,t)=>Pf(euZ(e.ref,([e,r])=>PU($4(e,zz).pipe(P3(ead()),Pu(n=>Pr(eap(t,n)).pipe(Pu(t=>zL(t,{onFailure:t=>$4(n,zz).pipe(LZ([Pa(t),[e,r]])),onSuccess:e=>PD([PW,[n,e]])}))))))))),e6J=Symbol.for("effect/Reloadable"),e6H={_A:e=>e},e6G=(e,t)=>ecN(e6Q(e),rD(ece(e6Z(e,{layer:t.layer})),PE(Og(e6Q(e))),PP(e=>eiC(rD(e.reload,Jl,emB(t.schedule),eiq),P8)))),e6Z=(e,t)=>ecN(e6Q(e),rD(Ui(),Pu(r=>rD(e6q(rD(ece(t.layer),PE(Og(e)))),PE(n=>({[e6J]:e6H,scopedRef:n,reload:rD(e6V(n,rD(ece(t.layer),PE(Og(e)))),Us(r))})))))),e6Q=e=>Os(`effect/Reloadable<${e.key}>`),e6Y=e6J,e6X=e6G,e60=(e,t)=>ecN(e6Q(e),rD(Ui(),Pu(r=>rD(ece(e6G(e,{layer:t.layer,schedule:t.scheduleFromConfig(r)})),PE(Og(e6Q(e))))))),e61=e=>Pu(e6Q(e),e=>e6K(e.scopedRef)),e62=e6Z,e66=e=>Pu(e6Q(e),e=>e.reload),e63=e6Q,e64=e=>Pu(e6Q(e),e=>rD(e.reload,Jl,eiq,LQ)),e65=Yp,e68=Yh,e67=(e,t)=>Ym(e,{emptyCase:()=>Yh,parCase:(e,t)=>Yf(e,t),seqCase:(e,t)=>Yd(e,t),singleCase:(e,r)=>Yp(t(e),r)}),e69=Yf,e3e=Ym,e3t=Yd,e3r=e=>new $_(t=>e(t.map(e=>e.map(e=>e.request)))),e3n=e=>new $_(t=>{if(t.length>1)return Pb(t,t=>{let r=t.filter(e=>!e.state.completed).map(e=>e.request);return uv(r)?eaF(e(r),t):PW});if(1===t.length){let r=t[0].filter(e=>!e.state.completed).map(e=>e.request);return uv(r)?e(r):PW}return PW}),e3i=rS(3,(e,t,r)=>new $_(n=>LG(t,()=>e.runAll(n),r),ON("Around",e,t,r))),e3a=rS(3,(e,t,r)=>new $_(n=>{let i=n.flatMap(e=>e.map(e=>e.request));return LG(t(i),()=>e.runAll(n),e=>r(i,e))},ON("AroundRequests",e,t,r))),e3s=rS(2,(e,t)=>new $_(r=>t<1?L7(new esG("RequestResolver.batchN: n must be at least 1")):e.runAll(Array.from(Ca(cB(r,OM(),(e,r)=>OQ(e,O4(OU(r),t))),e=>Array.from(e)))),ON("BatchN",e,t))),e3o=rS(2,(e,t)=>new $_(r=>Ul(e.runAll(r),e=>t(e)),ON("MapInputContext",e,t))),e3l=rS(3,(e,t,r)=>new $_(n=>Py(n,n=>{let[i,a]=rD(n,cD(r));return eao(e.runAll(Array.of(i)),t.runAll(Array.of(a)),()=>void 0,{concurrent:!0})}),ON("EitherWith",e,t,r))),e3u=e3r(()=>egX).identified("Never"),e3c=rS(2,(e,t)=>e3o(e,e=>t).identified("ProvideContext",e,t)),e3h=rS(2,(e,t)=>new $_(r=>eSb(e.runAll(r),t.runAll(r))).identified("Race",e,t)),e3f=$x,e3d=e=>ebW(t=>e3C(e,t)),e3p=(...e)=>t=>ebW(r=>e3C(t,Ov(...e)(r))),e3m=$E,e3g=e3r,e3y=e=>new $_(t=>e(t)),e3b=e3n,e3S=e3i,e3v=e3a,e3w=e3s,e3x=e3o,e3k=e3l,e3_=e=>e3n(t=>Pb(t,t=>etV(t,z$(e(t))))).identified("FromFunction",e),e3E=e=>e3n(t=>egC(e(t),(e,r)=>etV(t[r],z$(e)),{discard:!0})).identified("FromFunctionBatched",e),e3I=e=>e3n(t=>egC(t,t=>eSm(eSe(e(t)),e=>etV(t,e)),{concurrency:"unbounded",discard:!0})).identified("FromEffect",e),e3T=()=>e=>e3n(t=>{let r={},n=[];for(let e=0,i=t.length;e<i;e++)n.includes(t[e]._tag)?r[t[e]._tag].push(t[e]):(r[t[e]._tag]=[t[e]],n.push(t[e]._tag));return egC(n,t=>eSY(e[t](r[t]),{onFailure:e=>egC(r[t],t=>etV(t,zI(e)),{discard:!0}),onSuccess:e=>egC(r[t],(t,r)=>etV(t,z$(e[r])),{discard:!0})}),{concurrency:"unbounded",discard:!0})}).identified("FromEffectTagged",e),e3O=e3u,e3C=e3c,e3F=e3h,e3A=$I,e3M=Symbol.for("effect/Resource"),e3N={...i9,commit(){return e3D(this)},[e3M]:{_E:e=>e,_A:e=>e}},e3R=e=>Pu(Ui(),t=>rD(e6q(Pr(e)),PE(r=>{let n=Object.create(e3N);return n.scopedRef=r,n.acquire=Us(e,t),n}))),e3D=e=>Pu(e6K(e.scopedRef),rw),e3j=e=>e6V(e.scopedRef,PE(e.acquire,z$)),e3L=e3M,e3P=(e,t)=>PP(e3R(e),e=>eiC(rD(e3j(e),emB(t),Px,eiq),P8)),e3$=e3D,e3z=e3R,e3U=e3j,e3B=0,e3W=1,e3q=2,e3K=4,e3V=16,e3J=32,e3H=jn,e3G=jS,e3Z=jw,e3Q=ji,e3Y=ja,e3X=exb,e30=exS,e31=exv,e32=exw,e36=exx,e33=js,e34=jo,e35=exd,e38=exp,e37=exm,e39=exg,e4e=exy,e4t=jl,e4r=ju,e4n=jh,e4i=jc,e4a=jf,e4s=jd,e4o=e=>jh(e,2),e4l=jv,e4u=e=>{let t=[];return jt.forEach(r=>{jh(e,r)&&t.push(`${jr(r)}`)}),`RuntimeFlags(${t.join(", ")})`},e4c=jp,e4h=jm,e4f=jg,e4d=eNI,e4p=eNC,e4m=eRt,e4g=eDi,e4y=eRr,e4b=eRn,e4S=e=>rD(e,eRP(sF)),e4v=eRi,e4w=eRa,e4x=eN$,e4k=eRu,e4_=eRc,e4E=eRh,e4I=e=>eDl(()=>e()?eDf:eN1),e4T=eRf,e4O=eRd,e4C=eNF,e4F=e=>eSy(eNF(eRp(e))),e4A=(e,t,r)=>eDl(()=>e()?eN6(r):eNJ(t)),e4M=eNj,e4N=e=>eNX(eNj(),e),e4R=eNL,e4D=eNz,e4j=eNU,e4L=eNB,e4P=eNW,e4$=eRp,e4z=eNK,e4U=eRm,e4B=eRg,e4W=eRy,e4q=eNV,e4K=eNJ,e4V=eRb,e4J=eRS,e4H=eRv,e4G=eRw,e4Z=eRx,e4Q=eRk,e4Y=eR_,e4X=eNH,e40=eRE,e41=eRI,e42=eRT,e46=eRO,e43=eNG,e44=eRC,e45=eRF,e48=e=>sR(e,{onNone:()=>eNV(sC()),onSome:eN2}),e47=(...e)=>eDl(()=>{let t=(1===e.length?e[0]:e[1].bind(e[0]))(rD),r=t.next(),n=e=>e.done?eN2(e.value):eNH(n8(e.value),e=>n(t.next(e)));return n(r)}),e49=e=>rD(e,eNG({onFailure:e=>eNV(sF(e)),onSuccess:e=>{let t=e[Symbol.iterator]().next();return t.done?eNV(sC()):eN2(t.value)}})),e5e=eRA,e5t=e=>eRO(e,{onFailure:()=>eDf,onSuccess:()=>eDf}),e5r=eNQ,e5n=eNY,e5i=e=>eRO(e,{onFailure:rE,onSuccess:rI}),e5a=e=>eRO(e,{onFailure:rI,onSuccess:rE}),e5s=eRM,e5o=(e,t)=>t.discard?eRD(e,t.while,t.step,t.body):eNX(eRR(e,t.while,t.step,t.body),e=>Array.from(e)),e5l=eNX,e5u=eRj,e5c=eRL,e5h=eRP,e5f=e=>eNG(e,{onFailure:e=>eN2(e),onSuccess:eN2}),e5d=eR$,e5p=eRz,e5m=e=>eNG(e,{onFailure:e=>eNV(sF(e)),onSuccess:sR({onNone:()=>eDf,onSome:()=>eNV(sC())})}),e5g=e=>eRO(e,{onFailure:()=>sC(),onSuccess:sF}),e5y=e=>rD(e,eRU(rw)),e5b=eRU,e5S=eRB,e5v=eRW,e5w=eRq,e5x=eRK,e5k=eRV,e5_=eN0,e5E=eDn,e5I=eRJ,e5T=eRH,e5O=eRG,e5C=eRZ,e5F=eRQ,e5A=eRY,e5M=eRX,e5N=eR0,e5R=eR1,e5D=eR2,e5j=eR6,e5L=eR3,e5P=eR5,e5$=eR7,e5z=eR9,e5U=eDe,e5B=eN1,e5W=eDt,e5q=eDr,e5K=e=>eNG(e,{onFailure:e=>eNV(sF(e)),onSuccess:sR({onNone:()=>eNV(sC()),onSome:eN2})}),e5V=eN2,e5J=eDa,e5H=eDs,e5G=eDo,e5Z=eDl,e5Q=eN6,e5Y=eDu,e5X=eDc,e50=eDh,e51=e=>{let t="function"==typeof e?e:e.try;return eDl(()=>{try{return eN2(t())}catch(t){return eNV("catch"in e?e.catch(t):t)}})},e52=eDd,e56=eDp,e53=e=>eNG(e,{onFailure:sR({onNone:()=>eN2(sC()),onSome:eNV}),onSuccess:e=>eN2(sF(e))}),e54=eDf,e55=eDm,e58=eDg,e57=eDy,e59=eDb,e8e=eN3,e8t=eN4,e8r=eN5,e8n=eN8,e8i=e=>e5Z(()=>{let t=OD(e);return O7(t)?Cq(Cb(t),Ct(t),(e,t)=>e5S(e,()=>t)):e4P(()=>new esG("Received an empty collection of effects"))}),e8a=e5V({}),e8s=eRs,e8o=eRl,e8l=eRo,e8u=rS(e=>nv(e[0]),(e,...t)=>{let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}),e8c=rS(e=>nv(e[0]),(e,...t)=>{let r={...e};for(let e of t)delete r[e];return r}),e8h=r3,e8f=sS,e8d=rS(2,(e,t)=>{let r={...e};for(let n in t)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=t[n](e[n]));return r}),e8p=e=>t=>t[e],e8m=e=>Object.keys(e),e8g=e=>Object.entries(e),e8y=Symbol.for("effect/Schema");function e8b(e){return class{[e8y]=e8S;static ast=e;static annotations(e){return e8b(e8I(this.ast,e))}static pipe(){return ij(this,arguments)}static toString(){return String(e)}static Type;static Encoded;static Context;static [e8y]=e8S}}let e8S={_A:e=>e,_I:e=>e,_R:e=>e},e8v=e=>Uj(e)?e.value:e8w(es8(e.cause)),e8w=e=>({issues:[{message:e}]}),e8x=e=>eyz(eQz.formatIssue(e),e=>({issues:e.map(e=>({path:e.path,message:e.message}))})),e8k=(e,t)=>{let r=eZQ(e,{errors:"all"});return class extends e8b(e.ast){static "~standard"={version:1,vendor:"effect",validate(e){let n=new Yt,i=evF(eSX(r(e,t),{onFailure:e8x,onSuccess:e=>eg2({value:e})}),{scheduler:n});n.flush();let a=i.unsafePoll();return a?e8v(a):new Promise(e=>{i.addObserver(t=>{e(e8v(t))})})}}}},e8_={schemaId:xX,message:x0,missingMessage:x1,identifier:x2,title:x6,description:x4,examples:x5,default:x8,documentation:kr,jsonSchema:x7,arbitrary:x9,pretty:ke,equivalence:kt,concurrency:kn,batching:ki,parseIssueTitle:ka,parseOptions:ks,decodingFallback:ko},e8E=e=>{if(!e)return{};let t={...e};for(let r in e8_)r in e&&(t[e8_[r]]=e[r],delete t[r]);return t},e8I=(e,t)=>_4(e,e8E(t));function e8T(e){return e}let e8O=e=>String(e.ast),e8C=e=>e8b(Ek(e.ast)),e8F=e=>e8b(E_(e.ast)),e8A=e=>e8b(ES(e.ast)),e8M=(e,t)=>{let r=eZ2(e,t);return(e,t)=>eZP(r(e,t),eZA)},e8N=(e,t)=>{let r=eZ0(e,t);return(e,t)=>a$(r(e,t),eZA)},e8R=(e,t)=>{let r=e8M(e,t);return(e,t)=>evM(r(e,t))},e8D=e8M,e8j=e8N,e8L=e8R,e8P=(e,t)=>{let r=eZQ(e,t);return(e,t)=>eZP(r(e,t),eZA)},e8$=(e,t)=>{let r=eZG(e,t);return(e,t)=>a$(r(e,t),eZA)},e8z=(e,t)=>{let r=e8P(e,t);return(e,t)=>evM(r(e,t))},e8U=e8P,e8B=e8$,e8W=e8z,e8q=(e,t)=>{let r=eQr(e,t);return(e,t)=>eZP(r(e,t),eZA)},e8K=(e,t)=>{let r=eQe(e,t);return(e,t)=>a$(r(e,t),eZA)},e8V=(e,t)=>{let r=e8q(e,t);return(e,t)=>evM(r(e,t))},e8J=e=>nw(e,e8y)&&nv(e[e8y]);function e8H(...e){return uw(e)?function e(t,r=function(e){return _$(e)?_L.make(_P(e,e=>new kP(e))):new kP(e[0])}(t)){return class extends e8b(r){static annotations(t){return e(this.literals,e8I(this.ast,t))}static literals=[...t]}}(e):e7t}let e8G=(...e)=>t=>e8H(...e),e8Z=e=>e8b(new kU(e)),e8Q=e=>new _f(Object.keys(e).filter(t=>"number"!=typeof e[e[t]]).map(t=>[t,e[t]])),e8Y=(e,t=e8Q(e))=>class extends e8b(t){static annotations(e){return e8Y(this.enums,e8I(this.ast,e))}static enums={...e}},e8X=e=>e8Y(e),e80=(...[e,...t])=>{let r=[],n="",i=t;e8J(e)?k$(e.ast)?n=String(e.ast.literal):i=[e,...i]:n=String(e);for(let e=0;e<i.length;e++){let t=i[e];if(e8J(t)){if(e<i.length-1){let n=i[e+1];if(e8J(n)){if(k$(n.ast)){r.push(new _g(t.ast,String(n.ast.literal))),e++;continue}}else{r.push(new _g(t.ast,String(n))),e++;continue}}r.push(new _g(t.ast,""))}else r.push(new _g(new kP(t),""))}return uv(r)?e8b(new _y(n,r)):e8b(new _y("",[new _g(new kP(n),"")]))},e81=(...e)=>{let t=[],r=[],n=[],i=!1;for(let a=0;a<e.length;a++){let s=e[a],o=e8J(s)?s:e8H(s);n.push(o);let l=e8C(o);t.push(l);let u=function e(t,r){let n=t.ast;switch(n._tag){case"Literal":{let e=n.literal;if(!ns(e)){let t=String(e);return e9m(e8H(t),r,{strict:!0,decode:()=>e,encode:()=>t})}break}case"NumberKeyword":return e9s(teF,r);case"Union":{let t=[],i=!1;for(let r of n.types){let n=e8b(r),a=e(e8C(n),n);a&&(i=!0),t.push(a??n)}return i?e9s(e7c(...t),r):r}}}(l,o);u?(r.push(u),i=!0):r.push(o)}let a=e80(...t),s=Et(a.ast),o=e7S(...r);return i&&(o=o.annotations({[x3]:e8O(e7S(...n))})),class extends e9p(a,o,{strict:!1,decode:(t,r,n)=>{let i=s.exec(t);return i?eZM(i.slice(1,e.length+1)):eZN(new eZI(n,t,`${s.source}: no match for ${JSON.stringify(t)}`))},encode:e=>eZM(e.join(""))}){static params=e.slice()}};function e82(e,t){return class extends e8b(t){static annotations(e){return e82(this.typeParameters,e8I(this.ast,e))}static typeParameters=[...e]}}let e86=function(){let e;if(Array.isArray(arguments[0])){let e=arguments[0],t=arguments[1],r=arguments[2];return e82(e,new kD(e.map(e=>e.ast),(...e)=>t.decode(...e.map(e8b)),(...e)=>t.encode(...e.map(e8b)),e8E(r)))}let t=arguments[0],r=arguments[1];return e82([],new kD([],e=()=>(e,r,n)=>t(e)?eZM(e):eZN(new eZI(n,e)),e,e8E(r)))},e83=Symbol.for("effect/SchemaId/Brand"),e84=(e,t)=>r=>e76(r,new _q(r.ast,function(t,r,n){let i=e.either(t);return aN(i)?sF(new eZI(n,t,i.left.map(e=>e.message).join(", "))):sC()},e8E({schemaId:e83,[e83]:{constructor:e},...t}))),e85=Symbol.for("effect/SchemaId/InstanceOf"),e88=(e,t)=>e86(t=>t instanceof e,{title:e.name,description:`an instance of ${e.name}`,pretty:()=>String,schemaId:e85,[e85]:{constructor:e},...t});class e87 extends e8b(kq){}class e89 extends e8b(kJ){}class e7e extends e8b(kz){}class e7t extends e8b(kZ){}class e7r extends e8b(kX){}class e7n extends e8b(k2){}class e7i extends e8b(_i){}class e7a extends e8b(_o){}class e7s extends e8b(k4){}class e7o extends e8b(k7){}class e7l extends e8b(_t){}class e7u extends e8b(_c){}function e7c(...e){return _$(e)?function e(t,r=(e=>_L.make(e.map(e=>e.ast)))(t)){return class extends e8b(r){static annotations(t){return e(this.members,e8I(this.ast,t))}static members=[...t]}}(e):uw(e)?e[0]:e7t}let e7h=e=>e7c(e,e7e),e7f=e=>e7c(e,e87),e7d=e=>e7c(e,e7e,e87),e7p=e=>e8b(_5(e.ast)),e7m=e=>new e7y(new _w(e.ast,!1),e),e7g=e=>new e7y(new _w(e.ast,!0),e);class e7y{ast;from;[e8y];_Token;constructor(e,t){this.ast=e,this.from=t}annotations(e){return new e7y(new _w(this.ast.type,this.ast.isOptional,{...this.ast.annotations,...e8E(e)}),this.from)}toString(){return`${this.ast.type}${this.ast.isOptional?"?":""}`}}function e7b(e,t,r=((e,t)=>new _k(e.map(e=>e8J(e)?new _w(e.ast,!1):e.ast),t.map(e=>e8J(e)?new _v(e.ast):e.ast),!0))(e,t)){return class extends e8b(r){static annotations(e){return e7b(this.elements,this.rest,e8I(this.ast,e))}static elements=[...e];static rest=[...t]}}function e7S(...e){return Array.isArray(e[0])?e7b(e[0],e.slice(1)):e7b(e,[])}let e7v=e=>(function e(t,r){return class extends e7b([],[t],r){static annotations(t){return e(this.value,e8I(this.ast,t))}static value=t}})(e),e7w=e=>(function e(t,r){return class extends e7b([t],[t],r){static annotations(t){return e(this.value,e8I(this.ast,t))}static value=t}})(e);function e7x(e){return e9m(e7c(e,e7v(e)),e7v(e8A(e)),{strict:!0,decode:e=>ua(e),encode:e=>1===e.length?e[0]:e})}function e7k(e){return e9m(e7c(e,e7w(e)),e7w(e8A(e)),{strict:!0,decode:e=>uw(e)?e:cC(e),encode:e=>1===e.length?e[0]:e})}let e7_=e=>e?'"?:"':'":"';class e7E extends _w{isReadonly;defaultValue;_tag="PropertySignatureDeclaration";constructor(e,t,r,n,i){super(e,t,n),this.isReadonly=r,this.defaultValue=i}toString(){let e=e7_(this.isOptional),t=String(this.type);return`PropertySignature<${e}, ${t}, never, ${e}, ${t}>`}}class e7I extends _w{isReadonly;fromKey;constructor(e,t,r,n,i){super(e,t,n),this.isReadonly=r,this.fromKey=i}}class e7T extends _w{isReadonly;defaultValue;constructor(e,t,r,n,i){super(e,t,n),this.isReadonly=r,this.defaultValue=i}}class e7O{from;to;decode;encode;_tag="PropertySignatureTransformation";constructor(e,t,r,n){this.from=e,this.to=t,this.decode=r,this.encode=n}toString(){var e;return`PropertySignature<${e7_(this.to.isOptional)}, ${this.to.type}, ${void 0===(e=this.from.fromKey)?"never":ns(e)?JSON.stringify(e):String(e)}, ${e7_(this.from.isOptional)}, ${this.from.type}>`}}let e7C=(e,t)=>{switch(e._tag){case"PropertySignatureDeclaration":return new e7E(e.type,e.isOptional,e.isReadonly,{...e.annotations,...t},e.defaultValue);case"PropertySignatureTransformation":return new e7O(e.from,new e7T(e.to.type,e.to.isOptional,e.to.isReadonly,{...e.to.annotations,...t},e.to.defaultValue),e.decode,e.encode)}},e7F=Symbol.for("effect/PropertySignature"),e7A=e=>nw(e,e7F);class e7M{ast;[e8y];[e7F]=null;_TypeToken;_Key;_EncodedToken;_HasDefault;constructor(e){this.ast=e}pipe(){return ij(this,arguments)}annotations(e){return new e7M(e7C(this.ast,e8E(e)))}toString(){return String(this.ast)}}let e7N=e=>new e7M(e);class e7R extends e7M{from;constructor(e,t){super(e),this.from=t}annotations(e){return new e7R(e7C(this.ast,e8E(e)),this.from)}}let e7D=e=>new e7R(new e7E(e.ast,!1,!0,{},void 0),e),e7j=rS(2,(e,t)=>{let r=e.ast;switch(r._tag){case"PropertySignatureDeclaration":return e7N(new e7E(r.type,r.isOptional,r.isReadonly,r.annotations,t));case"PropertySignatureTransformation":return e7N(new e7O(r.from,new e7T(r.to.type,r.to.isOptional,r.to.isReadonly,r.to.annotations,t),r.decode,r.encode))}}),e7L=(e,t)=>sR(e,{onNone:()=>sF(t()),onSome:e=>sF(void 0===e?t():e)}),e7P=e=>EP(e,e7P,e=>{let t=e7P(e.to);if(t)return new _J(e.from,t,e.transformation)}),e7$=rS(2,(e,t)=>{let r=e.ast;switch(r._tag){case"PropertySignatureDeclaration":{let e=ES(r.type);return e7N(new e7O(new e7I(r.type,r.isOptional,r.isReadonly,r.annotations),new e7T(e7P(e)??e,!1,!0,{},r.defaultValue),e=>e7L(e,t),rw))}case"PropertySignatureTransformation":{let e=r.to.type;return e7N(new e7O(r.from,new e7T(e7P(e)??e,!1,r.to.isReadonly,r.to.annotations,r.to.defaultValue),e=>e7L(r.decode(e),t),r.encode))}}}),e7z=rS(2,(e,t)=>e.pipe(e7$(t.decoding),e7j(t.constructor))),e7U=rS(2,(e,t)=>{let r=e.ast;switch(r._tag){case"PropertySignatureDeclaration":return e7N(new e7O(new e7I(r.type,r.isOptional,r.isReadonly,r.annotations,t),new e7T(ES(r.type),r.isOptional,r.isReadonly,{},r.defaultValue),rw,rw));case"PropertySignatureTransformation":return e7N(new e7O(new e7I(r.from.type,r.from.isOptional,r.from.isReadonly,r.from.annotations,t),r.to,r.decode,r.encode))}}),e7B=(e,t,r)=>e7N(new e7O(new e7I(e.ast,!0,!0,{},void 0),new e7T(t.ast,!1,!0,{},void 0),e=>sF(r.decode(e)),s1(r.encode))),e7W=(e,t,r)=>e7N(new e7O(new e7I(e.ast,!1,!0,{},void 0),new e7T(t.ast,!0,!0,{},void 0),s1(r.decode),e=>sF(r.encode(e)))),e7q=(e,t,r)=>e7N(new e7O(new e7I(e.ast,!0,!0,{},void 0),new e7T(t.ast,!0,!0,{},void 0),r.decode,r.encode)),e7K=e=>new e7R(new e7E(e.ast===kq||e.ast===kZ?kq:e7f(e).ast,!0,!0,{},void 0),e),e7V=rS(e=>e8J(e[0]),(e,t)=>new e7R(((e,t)=>{let r=t?.exact,n=t?.default,i=t?.nullable,a=t?.as=="Option",s=t?.onNoneEncoding?sz(t.onNoneEncoding):rw;if(r)if(n)if(i)return e7j(e7B(e7h(e),e8A(e),{decode:sR({onNone:n,onSome:e=>null===e?n():e}),encode:sF}),n).ast;else return e7j(e7B(e,e8A(e),{decode:sR({onNone:n,onSome:rw}),encode:sF}),n).ast;else if(a){let t=trA(e8A(e));return i?e7B(e7h(e),t,{decode:ol(ng),encode:s}).ast:e7B(e,t,{decode:rw,encode:rw}).ast}else if(i)return e7q(e7h(e),e8A(e),{decode:ol(ng),encode:rw}).ast;else return new e7E(e.ast,!0,!0,{},void 0);if(n)if(i)return e7j(e7B(e7d(e),e8A(e),{decode:sR({onNone:n,onSome:e=>null==e?n():e}),encode:sF}),n).ast;else return e7j(e7B(e7f(e),e8A(e),{decode:sR({onNone:n,onSome:e=>void 0===e?n():e}),encode:sF}),n).ast;if(a){let t=trA(e8A(e));return i?e7B(e7d(e),t,{decode:ol(e=>null!=e),encode:s}).ast:e7B(e7f(e),t,{decode:ol(np),encode:s}).ast}if(i)return e7q(e7d(e),e7f(e8A(e)),{decode:ol(ng),encode:rw}).ast;return new e7E(e7f(e).ast,!0,!0,{},void 0)})(e,t),e)),e7J=Eg([x1]),e7H=(e,t)=>{for(let r of Reflect.ownKeys(e)){let n=e[r];if(void 0===t[r]&&e7A(n)){let e=n.ast,i="PropertySignatureDeclaration"===e._tag?e.defaultValue:e.to.defaultValue;void 0!==i&&(t[r]=i())}}return t};function e7G(e,t,r=((e,t)=>{let r=Reflect.ownKeys(e),n=[];if(r.length>0){let i=[],a=[],s=[];for(let t=0;t<r.length;t++){let o=r[t],l=e[o];if(e7A(l)){let e=l.ast;switch(e._tag){case"PropertySignatureDeclaration":{let t=e.type,r=e.isOptional,s=e.annotations;i.push(new _I(o,t,r,!0,e7J(e))),a.push(new _I(o,ES(t),r,!0,s)),n.push(new _I(o,t,r,!0,s));break}case"PropertySignatureTransformation":{let t=e.from.fromKey??o;i.push(new _I(t,e.from.type,e.from.isOptional,!0,e.from.annotations)),a.push(new _I(o,e.to.type,e.to.isOptional,!0,e.to.annotations)),s.push(new _1(t,o,e.decode,e.encode))}}}else i.push(new _I(o,l.ast,!1,!0)),a.push(new _I(o,ES(l.ast),!1,!0)),n.push(new _I(o,l.ast,!1,!0))}if(uw(s)){let e=[],r=[];for(let n of t){let{indexSignatures:t,propertySignatures:s}=El(n.key.ast,n.value.ast);s.forEach(e=>{i.push(e),a.push(new _I(e.name,ES(e.type),e.isOptional,e.isReadonly,e.annotations))}),t.forEach(t=>{e.push(t),r.push(new _O(t.parameter,ES(t.type),t.isReadonly))})}return new _J(new _C(i,e,{[x3]:"Struct (Encoded side)"}),new _C(a,r,{[x3]:"Struct (Type side)"}),new _6(s))}}let i=[];for(let e of t){let{indexSignatures:t,propertySignatures:r}=El(e.key.ast,e.value.ast);r.forEach(e=>n.push(e)),t.forEach(e=>i.push(e))}return new _C(n,i)})(e,t)){return class extends e8b(r){static annotations(e){return e7G(this.fields,this.records,e8I(this.ast,e))}static fields={...e};static records=[...t];static make=(t,r)=>{let n=e7H(e,{...t});return tn5(r)?n:eZ7(this)(n)};static pick(...t){return e7Z(e8u(e,...t))}static omit(...t){return e7Z(e8c(e,...t))}}}function e7Z(e,...t){return e7G(e,t)}let e7Q=e=>e8H(e).pipe(e7D,e7j(()=>e)),e7Y=(e,t)=>e7Z({_tag:e7Q(e),...t}),e7X=e=>(function e(t,r,n){return class extends e7G({},[{key:t,value:r}],n){static annotations(n){return e(t,r,e8I(this.ast,n))}static key=t;static value=r}})(e.key,e.value),e70=(...e)=>t=>e8b(Eu(t.ast,e)),e71=(...e)=>t=>e8b(Ec(t.ast,e)),e72=rS(2,(e,t)=>{let r=Es(ES(e.ast),t),n=e8b(r.isOptional?Eh(r.type):r.type);return e9m(e.pipe(e70(t)),n,{strict:!0,decode:e=>e[t],encode:e=>r.isOptional&&void 0===e?{}:{[t]:e}})});function e76(e,t){return class extends e8b(t){static annotations(e){return e76(this.from,e8I(this.ast,e))}static make=(e,t)=>tn5(t)?e:eZ7(this)(e);static from=e}}let e73=(e,t)=>r=>{let n=sR(kh(r.ast),{onNone:()=>[e],onSome:t=>[...t,e]}),i=_4(r.ast,e8E({[xY]:n,...t}));return e76(r,i)},e74=e=>e8b(Ef(e.ast)),e75=rS(e=>e8J(e[0]),(e,t)=>e8b(Ef(e.ast,t))),e78=e=>e8b(Ed(e.ast)),e77=e=>e8b(Ep(e.ast)),e79=(e,t,r)=>{if(_M(e)&&_M(t)){let n=[...e.propertySignatures];for(let e of t.propertySignatures){let t=e.name,i=n.findIndex(e=>e.name===t);if(-1===i)n.push(e);else{let{isOptional:a,type:s}=n[i];n[i]=new _I(t,e9r(s,e.type,r.concat(t)),a,!0)}}return new _C(n,e.indexSignatures.concat(t.indexSignatures))}throw Error(w5(e,t,r))},e9e=Ey([x2]),e9t=(e,t)=>t.map(t=>new _q(t,e.filter,e9e(e))),e9r=(e,t,r)=>_L.make(e9i([e],[t],r)),e9n=e=>_z(e)?e.types:[e],e9i=(e,t,r)=>cA(e,e=>cA(t,t=>{switch(t._tag){case"Literal":if(ns(t.literal)&&k5(e)||no(t.literal)&&k9(e)||nl(t.literal)&&_r(e))return[t];break;case"StringKeyword":if(t===k4){if(k5(e)||k$(e)&&ns(e.literal))return[e];else if(_K(e))return e9t(e,e9i(e9n(e.from),[t],r))}else if(e===k4)return[t];break;case"NumberKeyword":if(t===k7){if(k9(e)||k$(e)&&no(e.literal))return[e];else if(_K(e))return e9t(e,e9i(e9n(e.from),[t],r))}else if(e===k7)return[t];break;case"BooleanKeyword":if(t===_t){if(_r(e)||k$(e)&&nl(e.literal))return[e];else if(_K(e))return e9t(e,e9i(e9n(e.from),[t],r))}else if(e===_t)return[t];break;case"Union":return e9i(e9n(e),t.types,r);case"Suspend":return[new _B(()=>e9r(e,t.f(),r))];case"Refinement":return e9t(t,e9i(e9n(e),e9n(t.from),r));case"TypeLiteral":switch(e._tag){case"Union":return e9i(e.types,[t],r);case"Suspend":return[new _B(()=>e9r(e.f(),t,r))];case"Refinement":return e9t(e,e9i(e9n(e.from),[t],r));case"TypeLiteral":return[e79(e,t,r)];case"Transformation":{let n=e.transformation,i=e79(e.from,t,r),a=e79(e.to,ES(t),r);switch(n._tag){case"TypeLiteralTransformation":return[new _J(i,a,new _6(n.propertySignatureTransformations))];case"ComposeTransformation":return[new _J(i,a,_X)];case"FinalTransformation":return[new _J(i,a,new _G((e,t,r,i)=>eZL(n.decode(e,t,r,i),t=>({...e,...t})),(e,t,r,i)=>eZL(n.encode(e,t,r,i),t=>({...e,...t}))))]}}}break;case"Transformation":if(!_H(e))return e9i([t],[e],r);if(_3(t.transformation)&&_3(e.transformation))return[new _J(e79(e.from,t.from,r),e79(e.to,t.to,r),new _6(t.transformation.propertySignatureTransformations.concat(e.transformation.propertySignatureTransformations)))]}throw Error(w5(e,t,r))})),e9a=rS(2,(e,t)=>e8b(e9r(e.ast,t.ast,[]))),e9s=rS(e=>e8J(e[1]),(e,t)=>e9d(e,t,EN(e.ast,t.ast))),e9o=e=>e8b(new _B(()=>e().ast)),e9l=Symbol.for("effect/SchemaId/Refine"),e9u=(e,t,r)=>{if(nl(e))return e?sC():sF(new eZI(t,r));if(ns(e))return sF(new eZI(t,r,e));if(void 0!==e){if("_tag"in e)return sF(e);let n=new eZI(t,r,e.message);return sF(uw(e.path)?new eZv(e.path,r,n):n)}return sC()},e9c=(e,t,r)=>{if(!Array.isArray(e))return e9u(e,t,r);if(uw(e)){let n=cN(e,e=>e9u(e,t,r));if(uw(n))return sF(1===n.length?n[0]:new eZk(t,r,n))}return sC()};function e9h(e,t){return r=>{function n(t,r,n){return e9c(e(t,r,n),n,t)}let i=new _q(r.ast,n,e8E(t));return function e(t,r,n){return class extends e8b(n){static annotations(t){return e(this.from,this.filter,e8I(this.ast,t))}static [e9l]=t;static from=t;static filter=r;static make=(e,t)=>tn5(t)?e:eZ7(this)(e)}}(r,n,i)}}let e9f=rS(2,(e,t)=>e9p(e,e8A(e),{strict:!0,decode:(e,r,n)=>eZj(t(e,r,n),t=>sR(e9c(t,n,e),{onNone:()=>eZM(e),onSome:eZN})),encode:e=>eZM(e)}));function e9d(e,t,r){return class extends e8b(r){static annotations(e){return e9d(this.from,this.to,e8I(this.ast,e))}static from=e;static to=t}}let e9p=rS(e=>e8J(e[0])&&e8J(e[1]),(e,t,r)=>e9d(e,t,new _J(e.ast,t.ast,new _G(r.decode,r.encode)))),e9m=rS(e=>e8J(e[0])&&e8J(e[1]),(e,t,r)=>e9p(e,t,{strict:!0,decode:(e,t,n,i)=>eZM(r.decode(e,i)),encode:(e,t,n,i)=>eZM(r.encode(e,i))}));function e9g(e,t){return e9m(e8H(e),e8H(t),{strict:!0,decode:()=>t,encode:()=>e})}function e9y(...e){return e7c(...e.map(([e,t])=>e9g(e,t)))}let e9b=rS(e=>e8J(e[0]),(e,t,r,n)=>{let i=e9a(e8A(e),e7Z({[t]:nc(r)?e8Z(r):e8H(r)})).ast;return e8b(new _J(e.ast,n?e8I(i,n):i,new _6([new _1(t,t,()=>sF(r),()=>sC())])))}),e9S=rS(2,(e,t)=>e.annotations(t)),e9v=rS(2,(e,t)=>e8b(ER(e.ast,t))),e9w=Symbol.for("effect/SchemaId/Trimmed"),e9x=e=>t=>t.pipe(e9h(e=>e===e.trim(),{schemaId:e9w,title:"trimmed",description:"a string with no leading or trailing whitespace",jsonSchema:{pattern:"^\\S[\\s\\S]*\\S$|^\\S$|^$"},...e})),e9k=xS,e9_=(e,t)=>r=>r.pipe(e9h(t=>t.length<=e,{schemaId:e9k,title:`maxLength(${e})`,description:`a string at most ${e} character(s) long`,jsonSchema:{maxLength:e},...t})),e9E=xb,e9I=(e,t)=>r=>r.pipe(e9h(t=>t.length>=e,{schemaId:e9E,title:`minLength(${e})`,description:`a string at least ${e} character(s) long`,jsonSchema:{minLength:e},...t})),e9T=xv,e9O=(e,t)=>r=>{let n=nv(e)?Math.max(0,Math.floor(e.min)):Math.max(0,Math.floor(e)),i=nv(e)?Math.max(n,Math.floor(e.max)):n;return n!==i?r.pipe(e9h(e=>e.length>=n&&e.length<=i,{schemaId:e9T,title:`length({ min: ${n}, max: ${i})`,description:`a string at least ${n} character(s) and at most ${i} character(s) long`,jsonSchema:{minLength:n,maxLength:i},...t})):r.pipe(e9h(e=>e.length===n,{schemaId:e9T,title:`length(${n})`,description:1===n?"a single character":`a string ${n} character(s) long`,jsonSchema:{minLength:n,maxLength:n},...t}))},e9C=Symbol.for("effect/SchemaId/Pattern"),e9F=(e,t)=>r=>{let n=e.source;return r.pipe(e9h(t=>(e.lastIndex=0,e.test(t)),{schemaId:e9C,[e9C]:{regex:e},description:`a string matching the pattern ${n}`,jsonSchema:{pattern:n},...t}))},e9A=Symbol.for("effect/SchemaId/StartsWith"),e9M=(e,t)=>r=>{let n=JSON.stringify(e);return r.pipe(e9h(t=>t.startsWith(e),{schemaId:e9A,[e9A]:{startsWith:e},title:`startsWith(${n})`,description:`a string starting with ${n}`,jsonSchema:{pattern:`^${e}`},...t}))},e9N=Symbol.for("effect/SchemaId/EndsWith"),e9R=(e,t)=>r=>{let n=JSON.stringify(e);return r.pipe(e9h(t=>t.endsWith(e),{schemaId:e9N,[e9N]:{endsWith:e},title:`endsWith(${n})`,description:`a string ending with ${n}`,jsonSchema:{pattern:`^.*${e}$`},...t}))},e9D=Symbol.for("effect/SchemaId/Includes"),e9j=(e,t)=>r=>{let n=JSON.stringify(e);return r.pipe(e9h(t=>t.includes(e),{schemaId:e9D,[e9D]:{includes:e},title:`includes(${n})`,description:`a string including ${n}`,jsonSchema:{pattern:`.*${e}.*`},...t}))},e9L=Symbol.for("effect/SchemaId/Lowercased"),e9P=e=>t=>t.pipe(e9h(e=>e===e.toLowerCase(),{schemaId:e9L,title:"lowercased",description:"a lowercase string",jsonSchema:{pattern:"^[^A-Z]*$"},...e}));class e9$ extends e7s.pipe(e9P({identifier:"Lowercased"})){}let e9z=Symbol.for("effect/SchemaId/Uppercased"),e9U=e=>t=>t.pipe(e9h(e=>e===e.toUpperCase(),{schemaId:e9z,title:"uppercased",description:"an uppercase string",jsonSchema:{pattern:"^[^a-z]*$"},...e}));class e9B extends e7s.pipe(e9U({identifier:"Uppercased"})){}let e9W=Symbol.for("effect/SchemaId/Capitalized"),e9q=e=>t=>t.pipe(e9h(e=>e[0]?.toUpperCase()===e[0],{schemaId:e9W,title:"capitalized",description:"a capitalized string",jsonSchema:{pattern:"^[^a-z]?.*$"},...e}));class e9K extends e7s.pipe(e9q({identifier:"Capitalized"})){}let e9V=Symbol.for("effect/SchemaId/Uncapitalized"),e9J=e=>t=>t.pipe(e9h(e=>e[0]?.toLowerCase()===e[0],{schemaId:e9V,title:"uncapitalized",description:"a uncapitalized string",jsonSchema:{pattern:"^[^A-Z]?.*$"},...e}));class e9H extends e7s.pipe(e9J({identifier:"Uncapitalized"})){}class e9G extends e7s.pipe(e9O(1,{identifier:"Char"})){}let e9Z=e=>e9I(1,{title:"nonEmptyString",description:"a non empty string",...e});class e9Q extends e9m(e7s.annotations({description:"a string that will be converted to lowercase"}),e9$,{strict:!0,decode:e=>e.toLowerCase(),encode:rw}).annotations({identifier:"Lowercase"}){}class e9Y extends e9m(e7s.annotations({description:"a string that will be converted to uppercase"}),e9B,{strict:!0,decode:e=>e.toUpperCase(),encode:rw}).annotations({identifier:"Uppercase"}){}class e9X extends e9m(e7s.annotations({description:"a string that will be converted to a capitalized format"}),e9K,{strict:!0,decode:e=>efH(e),encode:rw}).annotations({identifier:"Capitalize"}){}class e90 extends e9m(e7s.annotations({description:"a string that will be converted to an uncapitalized format"}),e9H,{strict:!0,decode:e=>efG(e),encode:rw}).annotations({identifier:"Uncapitalize"}){}class e91 extends e7s.pipe(e9x({identifier:"Trimmed"})){}class e92 extends e91.pipe(e9Z({identifier:"NonEmptyTrimmedString"})){}class e96 extends e9m(e7s.annotations({description:"a string that will be trimmed"}),e91,{strict:!0,decode:e=>e.trim(),encode:rw}).annotations({identifier:"Trim"}){}let e93=e=>e9m(e7s.annotations({description:"a string that will be split"}),e7v(e7s),{strict:!0,decode:t=>t.split(e),encode:t=>t.join(e)}),e94=e=>e instanceof Error?e.message:String(e),e95=(e,t)=>e8J(e)?e9s(e95(t),e):e9p(e7s.annotations({description:"a string to be decoded into JSON"}),e7r,{strict:!0,decode:(t,r,n)=>eZR({try:()=>JSON.parse(t,e?.reviver),catch:e=>new eZI(n,t,e94(e))}),encode:(t,r,n)=>eZR({try:()=>JSON.stringify(t,e?.replacer,e?.space),catch:e=>new eZI(n,t,e94(e))})}).annotations({title:"parseJson",schemaId:kR});class e98 extends e7s.pipe(e9Z({identifier:"NonEmptyString"})){}let e97=Symbol.for("effect/SchemaId/UUID"),e99=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;class tee extends e7s.pipe(e9F(e99,{schemaId:e97,identifier:"UUID",jsonSchema:{format:"uuid",pattern:e99.source},description:"a Universally Unique Identifier",arbitrary:()=>e=>e.uuid()})){}let tet=Symbol.for("effect/SchemaId/ULID"),ter=/^[0-7][0-9A-HJKMNP-TV-Z]{25}$/i;class ten extends e7s.pipe(e9F(ter,{schemaId:tet,identifier:"ULID",description:"a Universally Unique Lexicographically Sortable Identifier",arbitrary:()=>e=>e.ulid()})){}class tei extends e88(URL,{identifier:"URLFromSelf",arbitrary:()=>e=>e.webUrl().map(e=>new URL(e)),pretty:()=>e=>e.toString()}){}class tea extends e9p(e7s.annotations({description:"a string to be decoded into a URL"}),tei,{strict:!0,decode:(e,t,r)=>eZR({try:()=>new URL(e),catch:t=>new eZI(r,e,`Unable to decode ${JSON.stringify(e)} into a URL. ${e94(t)}`)}),encode:e=>eZM(e.toString())}).annotations({identifier:"URL",pretty:()=>e=>e.toString()}){}let tes=xc,teo=e=>t=>t.pipe(e9h(Number.isFinite,{schemaId:tes,title:"finite",description:"a finite number",jsonSchema:{},...e})),tel=xi,teu=(e,t)=>r=>r.pipe(e9h(t=>t>e,{schemaId:tel,title:`greaterThan(${e})`,description:0===e?"a positive number":`a number greater than ${e}`,jsonSchema:{exclusiveMinimum:e},...t})),tec=xa,teh=(e,t)=>r=>r.pipe(e9h(t=>t>=e,{schemaId:tec,title:`greaterThanOrEqualTo(${e})`,description:0===e?"a non-negative number":`a number greater than or equal to ${e}`,jsonSchema:{minimum:e},...t})),tef=Symbol.for("effect/SchemaId/MultipleOf"),ted=(e,t)=>r=>{let n=Math.abs(e);return r.pipe(e9h(t=>0===xV(t,e),{schemaId:tef,title:`multipleOf(${n})`,description:`a number divisible by ${n}`,jsonSchema:{multipleOf:n},...t}))},tep=xl,tem=e=>t=>t.pipe(e9h(e=>Number.isSafeInteger(e),{schemaId:tep,title:"int",description:"an integer",jsonSchema:{type:"integer"},...e})),teg=xs,tey=(e,t)=>r=>r.pipe(e9h(t=>t<e,{schemaId:teg,title:`lessThan(${e})`,description:0===e?"a negative number":`a number less than ${e}`,jsonSchema:{exclusiveMaximum:e},...t})),teb=xo,teS=(e,t)=>r=>r.pipe(e9h(t=>t<=e,{schemaId:teb,title:`lessThanOrEqualTo(${e})`,description:0===e?"a non-positive number":`a number less than or equal to ${e}`,jsonSchema:{maximum:e},...t})),tev=xf,tew=(e,t,r)=>n=>n.pipe(e9h(r=>r>=e&&r<=t,{schemaId:tev,title:`between(${e}, ${t})`,description:`a number between ${e} and ${t}`,jsonSchema:{minimum:e,maximum:t},...r})),tex=xu,tek=e=>t=>t.pipe(e9h(e=>!Number.isNaN(e),{schemaId:tex,title:"nonNaN",description:"a number excluding NaN",...e})),te_=e=>teu(0,{title:"positive",...e}),teE=e=>tey(0,{title:"negative",...e}),teI=e=>teS(0,{title:"nonPositive",...e}),teT=e=>teh(0,{title:"nonNegative",...e}),teO=(e,t)=>r=>e9m(r,e8A(r).pipe(tew(e,t)),{strict:!1,decode:r=>xB(r,{minimum:e,maximum:t}),encode:rw});function teC(e){return e9p(e,e7o,{strict:!1,decode:(e,t,r)=>eZD(xH(e),()=>new eZI(r,e,`Unable to decode ${JSON.stringify(e)} into a number`)),encode:e=>eZM(String(e))})}class teF extends teC(e7s.annotations({description:"a string to be decoded into a number"})).annotations({identifier:"NumberFromString"}){}class teA extends e7o.pipe(teo({identifier:"Finite"})){}class teM extends e7o.pipe(tem({identifier:"Int"})){}class teN extends e7o.pipe(tek({identifier:"NonNaN"})){}class teR extends e7o.pipe(te_({identifier:"Positive"})){}class teD extends e7o.pipe(teE({identifier:"Negative"})){}class tej extends e7o.pipe(teI({identifier:"NonPositive"})){}class teL extends e7o.pipe(teT({identifier:"NonNegative"})){}let teP=xh;class te$ extends e7o.pipe(teo({schemaId:teP,identifier:"JsonNumber"})){}class tez extends e9m(e7l.annotations({description:"a boolean that will be negated"}),e7l,{strict:!0,decode:e=>TA(e),encode:e=>TA(e)}){}let teU=(e,t)=>{let r=Symbol.keyFor(e);return void 0===r?eZN(new eZI(t,e,`Unable to encode a unique symbol ${String(e)} into a string`)):eZM(r)},teB=e=>eZM(Symbol.for(e));class teW extends e9p(e7s.annotations({description:"a string to be decoded into a globally shared symbol"}),e7a,{strict:!1,decode:e=>teB(e),encode:(e,t,r)=>teU(e,r)}).annotations({identifier:"Symbol"}){}let teq=xd,teK=(e,t)=>r=>r.pipe(e9h(t=>t>e,{schemaId:teq,[teq]:{min:e},title:`greaterThanBigInt(${e})`,description:0n===e?"a positive bigint":`a bigint greater than ${e}n`,...t})),teV=xp,teJ=(e,t)=>r=>r.pipe(e9h(t=>t>=e,{schemaId:teV,[teV]:{min:e},title:`greaterThanOrEqualToBigInt(${e})`,description:0n===e?"a non-negative bigint":`a bigint greater than or equal to ${e}n`,...t})),teH=xm,teG=(e,t)=>r=>r.pipe(e9h(t=>t<e,{schemaId:teH,[teH]:{max:e},title:`lessThanBigInt(${e})`,description:0n===e?"a negative bigint":`a bigint less than ${e}n`,...t})),teZ=xg,teQ=(e,t)=>r=>r.pipe(e9h(t=>t<=e,{schemaId:teZ,[teZ]:{max:e},title:`lessThanOrEqualToBigInt(${e})`,description:0n===e?"a non-positive bigint":`a bigint less than or equal to ${e}n`,...t})),teY=xy,teX=(e,t,r)=>n=>n.pipe(e9h(r=>r>=e&&r<=t,{schemaId:teY,[teY]:{min:e,max:t},title:`betweenBigInt(${e}, ${t})`,description:`a bigint between ${e}n and ${t}n`,...r})),te0=e=>teK(0n,{title:"positiveBigInt",...e}),te1=e=>teG(0n,{title:"negativeBigInt",...e}),te2=e=>teJ(0n,{title:"nonNegativeBigInt",...e}),te6=e=>teQ(0n,{title:"nonPositiveBigInt",...e}),te3=(e,t)=>r=>e9m(r,r.pipe(e8A,teX(e,t)),{strict:!1,decode:r=>Td(r,{minimum:e,maximum:t}),encode:rw});class te4 extends e9p(e7s.annotations({description:"a string to be decoded into a bigint"}),e7i,{strict:!0,decode:(e,t,r)=>eZD(TE(e),()=>new eZI(r,e,`Unable to decode ${JSON.stringify(e)} into a bigint`)),encode:e=>eZM(String(e))}).annotations({identifier:"BigInt"}){}let te5=e7i.pipe(te0({identifier:"PositiveBigintFromSelf"})),te8=te4.pipe(te0({identifier:"PositiveBigint"})),te7=e7i.pipe(te1({identifier:"NegativeBigintFromSelf"})),te9=te4.pipe(te1({identifier:"NegativeBigint"})),tte=e7i.pipe(te6({identifier:"NonPositiveBigintFromSelf"})),ttt=te4.pipe(te6({identifier:"NonPositiveBigint"})),ttr=e7i.pipe(te2({identifier:"NonNegativeBigintFromSelf"})),ttn=te4.pipe(te2({identifier:"NonNegativeBigint"}));class tti extends e9p(e7o.annotations({description:"a number to be decoded into a bigint"}),e7i.pipe(teX(BigInt(Number.MIN_SAFE_INTEGER),BigInt(Number.MAX_SAFE_INTEGER))),{strict:!0,decode:(e,t,r)=>eZD(TI(e),()=>new eZI(r,e,`Unable to decode ${e} into a bigint`)),encode:(e,t,r)=>eZD(T_(e),()=>new eZI(r,e,`Unable to encode ${e}n into a number`))}).annotations({identifier:"BigIntFromNumber"}){}let tta=e=>t=>e(t).map(e6P),tts=(e,t,r,n)=>eZz(e,{onFailure:e=>new eZk(r,n,e),onSuccess:t}),tto=e=>(t,r,n)=>e6L(t)?tts(e(e6$(t),r),e6P,n,t):eZN(new eZI(n,t)),ttl=e=>e86([e],{decode:e=>tto(eZQ(e)),encode:e=>tto(eZ2(e))},{description:"Redacted(<redacted>)",pretty:()=>()=>"Redacted(<redacted>)",arbitrary:tta,equivalence:e6U});function ttu(e){return e9m(e,ttl(e8A(e)),{strict:!0,decode:e=>e6P(e),encode:e=>e6$(e)})}class ttc extends e86(C7,{identifier:"DurationFromSelf",pretty:()=>String,arbitrary:()=>e=>e.oneof(e.constant(Fr),e.bigInt({min:0n}).map(e=>Fn(e)),e.maxSafeNat().map(e=>Fa(e))),equivalence:()=>F_}){}class tth extends e9p(ttr.annotations({description:"a bigint to be decoded into a Duration"}),ttc.pipe(e9h(e=>C9(e),{description:"a finite duration"})),{strict:!0,decode:e=>eZM(Fn(e)),encode:(e,t,r)=>sR(Fy(e),{onNone:()=>eZN(new eZI(r,e,`Unable to encode ${e} into a bigint`)),onSome:e=>eZM(e)})}).annotations({identifier:"DurationFromNanos"}){}let ttf=teL.pipe(tem()).annotations({identifier:"NonNegativeInt"});class ttd extends e9m(teL.annotations({description:"a non-negative number to be decoded into a Duration"}),ttc,{strict:!0,decode:e=>Fa(e),encode:e=>Fh(e)}).annotations({identifier:"DurationFromMillis"}){}let ttp=e7Y("Millis",{millis:ttf}),ttm=e7Y("Nanos",{nanos:te4}),ttg=e7Y("Infinity",{}),tty=ttg.make({}),ttb=e7c(ttp,ttm,ttg).annotations({identifier:"DurationValue",description:"an JSON-compatible tagged union to be decoded into a Duration"}),ttS=e7c(e7S(e7m(ttf).annotations({title:"seconds"}),e7m(ttf).annotations({title:"nanos"})).annotations({identifier:"FiniteHRTime"}),e7S(e8H(-1),e8H(0)).annotations({identifier:"InfiniteHRTime"})).annotations({identifier:"HRTime",description:"a tuple of seconds and nanos to be decoded into a Duration"}),ttv=e=>"object"==typeof e;class ttw extends e9m(e7c(ttb,ttS),ttc,{strict:!0,decode:e=>{if(ttv(e))switch(e._tag){case"Millis":return Fa(e.millis);case"Nanos":return Fn(e.nanos);case"Infinity":return Fr}let[t,r]=e;return -1===t?Fr:Fn(BigInt(t)*BigInt(1e9)+BigInt(r))},encode:e=>{switch(e.value._tag){case"Millis":return ttp.make({millis:e.value.millis});case"Nanos":return ttm.make({nanos:e.value.nanos});case"Infinity":return tty}}}).annotations({identifier:"Duration"}){}let ttx=(e,t)=>r=>e9m(r,r.pipe(e8A,ttM(e,t)),{strict:!1,decode:r=>FF(r,{minimum:e,maximum:t}),encode:rw}),ttk=Symbol.for("effect/SchemaId/LessThanDuration"),tt_=(e,t)=>r=>r.pipe(e9h(t=>Fj(t,e),{schemaId:ttk,[ttk]:{max:e},title:`lessThanDuration(${e})`,description:`a Duration less than ${C2(e)}`,...t})),ttE=Symbol.for("effect/schema/LessThanOrEqualToDuration"),ttI=(e,t)=>r=>r.pipe(e9h(t=>FL(t,e),{schemaId:ttk,[ttk]:{max:e},title:`lessThanOrEqualToDuration(${e})`,description:`a Duration less than or equal to ${C2(e)}`,...t})),ttT=Symbol.for("effect/SchemaId/GreaterThanDuration"),ttO=(e,t)=>r=>r.pipe(e9h(t=>FP(t,e),{schemaId:ttT,[ttT]:{min:e},title:`greaterThanDuration(${e})`,description:`a Duration greater than ${C2(e)}`,...t})),ttC=Symbol.for("effect/schema/GreaterThanOrEqualToDuration"),ttF=(e,t)=>r=>r.pipe(e9h(t=>F$(t,e),{schemaId:ttC,[ttC]:{min:e},title:`greaterThanOrEqualToDuration(${e})`,description:`a Duration greater than or equal to ${C2(e)}`,...t})),ttA=Symbol.for("effect/SchemaId/BetweenDuration"),ttM=(e,t,r)=>n=>n.pipe(e9h(r=>Fk(r,{minimum:e,maximum:t}),{schemaId:ttA,[ttA]:{maximum:t,minimum:e},title:`betweenDuration(${e}, ${t})`,description:`a Duration between ${C2(e)} and ${C2(t)}`,...r}));class ttN extends e86(nI,{identifier:"Uint8ArrayFromSelf",pretty:()=>e=>`new Uint8Array(${JSON.stringify(Array.from(e))})`,arbitrary:()=>e=>e.uint8Array(),equivalence:()=>c6(iv)}){}class ttR extends e7o.pipe(tew(0,255,{identifier:"Uint8",description:"a 8-bit unsigned integer"})){}class ttD extends e9m(e7v(ttR).annotations({description:"an array of 8-bit unsigned integers to be decoded into a Uint8Array"}),ttN,{strict:!0,decode:e=>Uint8Array.from(e),encode:e=>Array.from(e)}).annotations({identifier:"Uint8Array"}){}let ttj=(e,t,r)=>e9p(e7s.annotations({description:"a string to be decoded into a Uint8Array"}),ttN,{strict:!0,decode:(e,r,n)=>a$(t(e),t=>new eZI(n,e,t.message)),encode:e=>eZM(r(e))}).annotations({identifier:e}),ttL=ttj("Uint8ArrayFromBase64",eJQ,eJZ),ttP=ttj("Uint8ArrayFromBase64Url",eJ0,eJX),tt$=ttj("Uint8ArrayFromHex",eJ6,eJ2),ttz=(e,t,r)=>e9p(e7s.annotations({description:`A string that is interpreted as being ${e}-encoded and will be decoded into a UTF-8 string`}),e7s,{strict:!0,decode:(e,r,n)=>a$(t(e),t=>new eZI(n,e,t.message)),encode:e=>eZM(r(e))}).annotations({identifier:`StringFrom${e}`}),ttU=ttz("Base64",eJY,eJZ),ttB=ttz("Base64Url",eJ1,eJX),ttW=ttz("Hex",eJ3,eJ2),ttq=e9p(e7s.annotations({description:"A string that is interpreted as being UriComponent-encoded and will be decoded into a UTF-8 string"}),e7s,{strict:!0,decode:(e,t,r)=>a$(eJ5(e),t=>new eZI(r,e,t.message)),encode:(e,t,r)=>a$(eJ4(e),t=>new eZI(r,e,t.message))}).annotations({identifier:"StringFromUriComponent"}),ttK=xw,ttV=(e,t)=>r=>{let n=Math.floor(e);if(n<1)throw Error(w3("Invalid Argument",`Expected an integer greater than or equal to 1, actual ${e}`));return r.pipe(e9h(e=>e.length>=n,{schemaId:ttK,title:`minItems(${n})`,description:`an array of at least ${n} item(s)`,jsonSchema:{minItems:n},[ku]:!0,...t}))},ttJ=xx,ttH=(e,t)=>r=>{let n=Math.floor(e);if(n<1)throw Error(w3("Invalid Argument",`Expected an integer greater than or equal to 1, actual ${e}`));return r.pipe(e9h(e=>e.length<=n,{schemaId:ttJ,title:`maxItems(${n})`,description:`an array of at most ${n} item(s)`,jsonSchema:{maxItems:n},[ku]:!0,...t}))},ttG=xk,ttZ=(e,t)=>r=>{let n=Math.floor(e);if(n<0)throw Error(w3("Invalid Argument",`Expected an integer greater than or equal to 0, actual ${e}`));return r.pipe(e9h(e=>e.length===n,{schemaId:ttG,title:`itemsCount(${n})`,description:`an array of exactly ${n} item(s)`,jsonSchema:{minItems:n,maxItems:n},[ku]:!0,...t}))},ttQ=e=>e8b(Ei(e.ast));function ttY(e){return e9m(e,trM(ttQ(e8A(e))),{strict:!1,decode:e=>uC(e),encode:e=>sR(e,{onNone:()=>[],onSome:cC})})}function ttX(e){return e9m(e,ttQ(e8A(e)),{strict:!1,decode:e=>uF(e),encode:e=>cC(e)})}let tt0=rS(e=>e8J(e[0]),(e,t)=>e9p(e,ttQ(e8A(e)),{strict:!0,decode:(e,r,n)=>e.length>0?eZM(e[0]):t?eZM(t()):eZN(new eZI(n,e,"Unable to retrieve the first element of an empty array")),encode:e=>eZM(cC(e))})),tt1=Symbol.for("effect/SchemaId/ValidDate"),tt2=e=>t=>t.pipe(e9h(e=>!Number.isNaN(e.getTime()),{schemaId:tt1,[tt1]:{noInvalidDate:!0},title:"validDate",description:"a valid Date",...e})),tt6=Symbol.for("effect/SchemaId/LessThanDate"),tt3=(e,t)=>r=>r.pipe(e9h(t=>t<e,{schemaId:tt6,[tt6]:{max:e},title:`lessThanDate(${wY(e)})`,description:`a date before ${wY(e)}`,...t})),tt4=Symbol.for("effect/schema/LessThanOrEqualToDate"),tt5=(e,t)=>r=>r.pipe(e9h(t=>t<=e,{schemaId:tt4,[tt4]:{max:e},title:`lessThanOrEqualToDate(${wY(e)})`,description:`a date before or equal to ${wY(e)}`,...t})),tt8=Symbol.for("effect/SchemaId/GreaterThanDate"),tt7=(e,t)=>r=>r.pipe(e9h(t=>t>e,{schemaId:tt8,[tt8]:{min:e},title:`greaterThanDate(${wY(e)})`,description:`a date after ${wY(e)}`,...t})),tt9=Symbol.for("effect/schema/GreaterThanOrEqualToDate"),tre=(e,t)=>r=>r.pipe(e9h(t=>t>=e,{schemaId:tt9,[tt9]:{min:e},title:`greaterThanOrEqualToDate(${wY(e)})`,description:`a date after or equal to ${wY(e)}`,...t})),trt=Symbol.for("effect/SchemaId/BetweenDate"),trr=(e,t,r)=>n=>n.pipe(e9h(r=>r<=t&&r>=e,{schemaId:trt,[trt]:{max:t,min:e},title:`betweenDate(${wY(e)}, ${wY(t)})`,description:`a date between ${wY(e)} and ${wY(t)}`,...r})),trn=xn;class tri extends e86(nT,{identifier:"DateFromSelf",schemaId:trn,[trn]:{noInvalidDate:!1},description:"a potentially invalid Date instance",pretty:()=>e=>`new Date(${JSON.stringify(e)})`,arbitrary:()=>e=>e.date({noInvalidDate:!1}),equivalence:()=>rY}){}class tra extends tri.pipe(tt2({identifier:"ValidDateFromSelf",description:"a valid Date instance"})){}class trs extends e9m(e7s.annotations({description:"a string to be decoded into a Date"}),tri,{strict:!0,decode:e=>new Date(e),encode:e=>wY(e)}).annotations({identifier:"DateFromString"}){}class tro extends trs.pipe(tt2({identifier:"Date"})){}class trl extends e9m(e7o.annotations({description:"a number to be decoded into a Date"}),tri,{strict:!0,decode:e=>new Date(e),encode:e=>e.getTime()}).annotations({identifier:"DateFromNumber"}){}class tru extends e86(e=>eVl(e)&&eVf(e),{identifier:"DateTimeUtcFromSelf",description:"a DateTime.Utc instance",pretty:()=>e=>e.toString(),arbitrary:()=>e=>e.date({noInvalidDate:!0}).map(e=>eVy(e)),equivalence:()=>eVp}){}let trc=(e,t)=>eZR({try:()=>eVb(e),catch:()=>new eZI(t,e,`Unable to decode ${w0(e)} into a DateTime.Utc`)});class trh extends e9p(e7o.annotations({description:"a number to be decoded into a DateTime.Utc"}),tru,{strict:!0,decode:(e,t,r)=>trc(e,r),encode:e=>eZM(eV2(e))}).annotations({identifier:"DateTimeUtcFromNumber"}){}class trf extends e9p(tri.annotations({description:"a Date to be decoded into a DateTime.Utc"}),tru,{strict:!0,decode:(e,t,r)=>trc(e,r),encode:e=>eZM(eVY(e))}).annotations({identifier:"DateTimeUtcFromDate"}){}class trd extends e9p(e7s.annotations({description:"a string to be decoded into a DateTime.Utc"}),tru,{strict:!0,decode:(e,t,r)=>trc(e,r),encode:e=>eZM(eJ_(e))}).annotations({identifier:"DateTimeUtc"}){}let trp=()=>e=>e.integer({min:-432e5,max:504e5}).map(eVF);class trm extends e86(eVc,{identifier:"TimeZoneOffsetFromSelf",description:"a TimeZone.Offset instance",pretty:()=>e=>e.toString(),arbitrary:trp}){}class trg extends e9m(e7o.annotations({description:"a number to be decoded into a TimeZone.Offset"}),trm,{strict:!0,decode:e=>eVF(e),encode:e=>e.offset}).annotations({identifier:"TimeZoneOffset"}){}let trb=()=>e=>e.constantFrom(...Intl.supportedValuesOf("timeZone")).map(eVC);class trS extends e86(eVh,{identifier:"TimeZoneNamedFromSelf",description:"a TimeZone.Named instance",pretty:()=>e=>e.toString(),arbitrary:trb}){}class trv extends e9p(e7s.annotations({description:"a string to be decoded into a TimeZone.Named"}),trS,{strict:!0,decode:(e,t,r)=>eZR({try:()=>eVC(e),catch:()=>new eZI(r,e,`Unable to decode ${JSON.stringify(e)} into a TimeZone.Named`)}),encode:e=>eZM(e.id)}).annotations({identifier:"TimeZoneNamed"}){}class trw extends e7c(trm,trS){}class trx extends e9p(e7s.annotations({description:"a string to be decoded into a TimeZone"}),trw,{strict:!0,decode:(e,t,r)=>sR(eVR(e),{onNone:()=>eZN(new eZI(r,e,`Unable to decode ${JSON.stringify(e)} into a TimeZone`)),onSome:eZM}),encode:e=>eZM(eVD(e))}).annotations({identifier:"TimeZone"}){}let trk=e=>e.oneof(trp()(e),trb()(e));class tr_ extends e86(e=>eVl(e)&&eVd(e),{identifier:"DateTimeZonedFromSelf",description:"a DateTime.Zoned instance",pretty:()=>e=>e.toString(),arbitrary:()=>e=>e.tuple(e.integer({min:-31536e9,max:31536e9}),trk(e)).map(([e,t])=>eVS(e,{timeZone:t})),equivalence:()=>eVp}){}class trE extends e9p(e7s.annotations({description:"a string to be decoded into a DateTime.Zoned"}),tr_,{strict:!0,decode:(e,t,r)=>sR(eVx(e),{onNone:()=>eZN(new eZI(r,e,`Unable to decode ${JSON.stringify(e)} into a DateTime.Zoned`)),onSome:eZM}),encode:e=>eZM(eJO(e))}).annotations({identifier:"DateTimeZoned"}){}let trI=e7Z({_tag:e8H("None")}).annotations({description:"NoneEncoded"}),trT=e=>"None"===e._tag?sC():sF(e.value),trO=(e,t)=>r=>r.oneof(t,r.record({_tag:r.constant("None")}),r.record({_tag:r.constant("Some"),value:e(r)})).map(trT),trC=e=>sR({onNone:()=>"none()",onSome:t=>`some(${e(t)})`}),trF=e=>(t,r,n)=>sA(t)?sM(t)?eZM(sC()):tts(e(t.value,r),sF,n,t):eZN(new eZI(n,t)),trA=e=>e86([e],{decode:e=>trF(eZQ(e)),encode:e=>trF(eZ2(e))},{pretty:trC,arbitrary:trO,equivalence:ou}),trM=e=>trA(e).annotations({description:`Option<${e8O(e)}>`}),trN={_tag:"None"},trR=e=>({_tag:"Some",value:e});function trD(e){return e9m(e7c(trI,e7Z({_tag:e8H("Some"),value:e}).annotations({description:`SomeEncoded<${e8O(e)}>`})).annotations({description:`OptionEncoded<${e8O(e)}>`}),trM(e8A(e)),{strict:!0,decode:e=>trT(e),encode:e=>sR(e,{onNone:()=>trN,onSome:trR})})}function trj(e){return e9m(e7h(e),trM(e8A(e)),{strict:!0,decode:e=>sq(e),encode:e=>sV(e)})}function trL(e,t){return e9m(e7d(e),trM(e8A(e)),{strict:!0,decode:e=>sq(e),encode:null===t?e=>sV(e):e=>sJ(e)})}function trP(e){return e9m(e7f(e),trM(e8A(e)),{strict:!0,decode:e=>sq(e),encode:e=>sJ(e)})}class tr$ extends e9m(e7s,trM(e92),{strict:!0,decode:e=>ol(sF(e.trim()),ef2),encode:e=>s$(e,()=>"")}){}let trz=e=>e7Z({_tag:e8H("Right"),right:e}).annotations({description:`RightEncoded<${e8O(e)}>`}),trU=e=>e7Z({_tag:e8H("Left"),left:e}).annotations({description:`LeftEncoded<${e8O(e)}>`}),trB=e=>"Left"===e._tag?aO(e.left):aI(e.right),trW=(e,t)=>r=>r.oneof(r.record({_tag:r.constant("Left"),left:t(r)}),r.record({_tag:r.constant("Right"),right:e(r)})).map(trB),trq=(e,t)=>aU({onLeft:e=>`left(${t(e)})`,onRight:t=>`right(${e(t)})`}),trK=(e,t)=>(r,n,i)=>aM(r)?aU(r,{onLeft:e=>tts(t(e,n),aO,i,r),onRight:t=>tts(e(t,n),aI,i,r)}):eZN(new eZI(i,r)),trV=({left:e,right:t})=>e86([t,e],{decode:(e,t)=>trK(eZQ(e),eZQ(t)),encode:(e,t)=>trK(eZ2(e),eZ2(t))},{description:`Either<${e8O(t)}, ${e8O(e)}>`,pretty:trq,arbitrary:trW,equivalence:(e,t)=>aL({left:t,right:e})}),trJ=e=>({_tag:"Left",left:e}),trH=e=>({_tag:"Right",right:e}),trG=({left:e,right:t})=>e9m(e7c(trz(t),trU(e)).annotations({description:`EitherEncoded<${e8O(e)}, ${e8O(t)}>`}),trV({left:e8A(e),right:e8A(t)}),{strict:!0,decode:e=>trB(e),encode:e=>aU(e,{onLeft:trJ,onRight:trH})}),trZ=({left:e,right:t})=>{let r=e8A(t),n=e8A(e),i=e9m(t,trz(r),{strict:!0,decode:e=>trH(e),encode:e=>e.right}),a=e9m(e,trU(n),{strict:!0,decode:e=>trJ(e),encode:e=>e.left});return e9m(e7c(i,a),trV({left:n,right:r}),{strict:!0,decode:e=>"Left"===e._tag?aO(e.left):aI(e.right),encode:e=>aU(e,{onLeft:trJ,onRight:trH})})},trQ=(e,t,r)=>n=>{let i=n.array(n.tuple(e(n),t(n)));return(void 0!==r.depthIdentifier?n.oneof(r,n.constant([]),i):i).map(e=>new Map(e))},trY=(e,t)=>r=>`new Map([${Array.from(r.entries()).map(([r,n])=>`[${e(r)}, ${t(n)}]`).join(", ")}])`,trX=(e,t)=>{let r=c6(r$(([r,n],[i,a])=>e(r,i)&&t(n,a)));return r$((e,t)=>r(Array.from(e.entries()),Array.from(t.entries())))},tr0=e=>(t,r,n)=>na(t)?tts(e(Array.from(t.entries()),r),e=>new Map(e),n,t):eZN(new eZI(n,t)),tr1=(e,t,r)=>e86([e,t],{decode:(e,t)=>tr0(eZQ(e7v(e7S(e,t)))),encode:(e,t)=>tr0(eZ2(e7v(e7S(e,t))))},{description:r,pretty:trY,arbitrary:trQ,equivalence:trX}),tr2=({key:e,value:t})=>tr1(e,t,`ReadonlyMap<${e8O(e)}, ${e8O(t)}>`),tr6=({key:e,value:t})=>tr1(e,t,`Map<${e8O(e)}, ${e8O(t)}>`);function tr3({key:e,value:t}){return e9m(e7v(e7S(e,t)),tr2({key:e8A(e),value:e8A(t)}),{strict:!0,decode:e=>new Map(e),encode:e=>Array.from(e.entries())})}function tr4({key:e,value:t}){return e9m(e7v(e7S(e,t)),tr6({key:e8A(e),value:e8A(t)}),{strict:!0,decode:e=>new Map(e),encode:e=>Array.from(e.entries())})}let tr5=({key:e,value:t})=>e9m(e7X({key:e8F(e),value:t}).annotations({description:"a record to be decoded into a ReadonlyMap"}),tr2({key:e,value:e8A(t)}),{strict:!0,decode:e=>new Map(Object.entries(e)),encode:e=>Object.fromEntries(e)}),tr8=({key:e,value:t})=>e9m(e7X({key:e8F(e),value:t}).annotations({description:"a record to be decoded into a Map"}),tr6({key:e,value:e8A(t)}),{strict:!0,decode:e=>new Map(Object.entries(e)),encode:e=>Object.fromEntries(e)}),tr7=(e,t)=>r=>{let n=r.array(e(r));return(void 0!==t.depthIdentifier?r.oneof(t,r.constant([]),n):n).map(e=>new Set(e))},tr9=e=>t=>`new Set([${Array.from(t.values()).map(t=>e(t)).join(", ")}])`,tne=e=>{let t=c6(e);return r$((e,r)=>t(Array.from(e.values()),Array.from(r.values())))},tnt=e=>(t,r,n)=>ni(t)?tts(e(Array.from(t.values()),r),e=>new Set(e),n,t):eZN(new eZI(n,t)),tnr=(e,t)=>e86([e],{decode:e=>tnt(eZQ(e7v(e))),encode:e=>tnt(eZ2(e7v(e)))},{description:t,pretty:tr9,arbitrary:tr7,equivalence:tne}),tnn=e=>tnr(e,`ReadonlySet<${e8O(e)}>`),tni=e=>tnr(e,`Set<${e8O(e)}>`);function tna(e){return e9m(e7v(e),tnn(e8A(e)),{strict:!0,decode:e=>new Set(e),encode:e=>Array.from(e)})}function tns(e){return e9m(e7v(e),tni(e8A(e)),{strict:!0,decode:e=>new Set(e),encode:e=>Array.from(e)})}let tno=()=>e=>`BigDecimal(${IK(Ip(e))})`,tnl=()=>e=>e.tuple(e.bigInt(),e.integer({min:0,max:18})).map(([e,t])=>Il(e,t));class tnu extends e86(Io,{identifier:"BigDecimalFromSelf",pretty:tno,arbitrary:tnl,equivalence:()=>IL}){}class tnc extends e9p(e7s.annotations({description:"a string to be decoded into a BigDecimal"}),tnu,{strict:!0,decode:(e,t,r)=>IW(e).pipe(sR({onNone:()=>eZN(new eZI(r,e,`Unable to decode ${JSON.stringify(e)} into a BigDecimal`)),onSome:e=>eZM(Ip(e))})),encode:e=>eZM(IK(Ip(e)))}).annotations({identifier:"BigDecimal"}){}class tnh extends e9m(e7o.annotations({description:"a number to be decoded into a BigDecimal"}),tnu,{strict:!0,decode:e=>Iz(e),encode:e=>IJ(e)}).annotations({identifier:"BigDecimalFromNumber"}){}let tnf=Symbol.for("effect/SchemaId/GreaterThanBigDecimal"),tnd=(e,t)=>r=>{let n=IK(e);return r.pipe(e9h(t=>II(t,e),{schemaId:tnf,[tnf]:{min:e},title:`greaterThanBigDecimal(${n})`,description:`a BigDecimal greater than ${n}`,...t}))},tnp=Symbol.for("effect/schema/GreaterThanOrEqualToBigDecimal"),tnm=(e,t)=>r=>{let n=IK(e);return r.pipe(e9h(t=>IT(t,e),{schemaId:tnp,[tnp]:{min:e},title:`greaterThanOrEqualToBigDecimal(${n})`,description:`a BigDecimal greater than or equal to ${n}`,...t}))},tng=Symbol.for("effect/SchemaId/LessThanBigDecimal"),tny=(e,t)=>r=>{let n=IK(e);return r.pipe(e9h(t=>I_(t,e),{schemaId:tng,[tng]:{max:e},title:`lessThanBigDecimal(${n})`,description:`a BigDecimal less than ${n}`,...t}))},tnb=Symbol.for("effect/schema/LessThanOrEqualToBigDecimal"),tnS=(e,t)=>r=>{let n=IK(e);return r.pipe(e9h(t=>IE(t,e),{schemaId:tnb,[tnb]:{max:e},title:`lessThanOrEqualToBigDecimal(${n})`,description:`a BigDecimal less than or equal to ${n}`,...t}))},tnv=Symbol.for("effect/schema/PositiveBigDecimal"),tnw=e=>t=>t.pipe(e9h(e=>IQ(e),{schemaId:tnv,title:"positiveBigDecimal",description:"a positive BigDecimal",...e})),tnx=tnu.pipe(tnw({identifier:"PositiveBigDecimalFromSelf"})),tnk=Symbol.for("effect/schema/NonNegativeBigDecimal"),tn_=e=>t=>t.pipe(e9h(e=>e.value>=0n,{schemaId:tnk,title:"nonNegativeBigDecimal",description:"a non-negative BigDecimal",...e})),tnE=tnu.pipe(tn_({identifier:"NonNegativeBigDecimalFromSelf"})),tnI=Symbol.for("effect/schema/NegativeBigDecimal"),tnT=e=>t=>t.pipe(e9h(e=>IZ(e),{schemaId:tnI,title:"negativeBigDecimal",description:"a negative BigDecimal",...e})),tnO=tnu.pipe(tnT({identifier:"NegativeBigDecimalFromSelf"})),tnC=Symbol.for("effect/schema/NonPositiveBigDecimal"),tnF=e=>t=>t.pipe(e9h(e=>e.value<=0n,{schemaId:tnC,title:"nonPositiveBigDecimal",description:"a non-positive BigDecimal",...e})),tnA=tnu.pipe(tnF({identifier:"NonPositiveBigDecimalFromSelf"})),tnM=Symbol.for("effect/SchemaId/BetweenBigDecimal"),tnN=(e,t,r)=>n=>{let i=IK(e),a=IK(t);return n.pipe(e9h(r=>IO(r,{minimum:e,maximum:t}),{schemaId:tnM,[tnM]:{maximum:t,minimum:e},title:`betweenBigDecimal(${i}, ${a})`,description:`a BigDecimal between ${i} and ${a}`,...r}))},tnR=(e,t)=>r=>e9m(r,r.pipe(e8A,tnN(e,t)),{strict:!1,decode:r=>IC(r,{minimum:e,maximum:t}),encode:rw}),tnD=(e,t)=>r=>{let n=r.array(e(r));return(void 0!==t.depthIdentifier?r.oneof(t,r.constant([]),n):n).map(OD)},tnj=e=>t=>`Chunk(${OP(t).map(e).join(", ")})`,tnL=e=>(t,r,n)=>OF(t)?O8(t)?eZM(OM()):tts(e(OP(t),r),OD,n,t):eZN(new eZI(n,t)),tnP=e=>e86([e],{decode:e=>tnL(eZQ(e7v(e))),encode:e=>tnL(eZ2(e7v(e)))},{description:`Chunk<${e8O(e)}>`,pretty:tnj,arbitrary:tnD,equivalence:OI});function tn$(e){return e9m(e7v(e),tnP(e8A(e)),{strict:!0,decode:e=>0===e.length?OM():OD(e),encode:e=>OP(e)})}let tnz=e=>t=>ml(e(t),{minLength:1}).map(e=>OB(e)),tnU=e=>t=>`NonEmptyChunk(${OP(t).map(e).join(", ")})`,tnB=e=>(t,r,n)=>OF(t)&&O7(t)?tts(e(OP(t),r),OB,n,t):eZN(new eZI(n,t)),tnW=e=>e86([e],{decode:e=>tnB(eZQ(e7w(e))),encode:e=>tnB(eZ2(e7w(e)))},{description:`NonEmptyChunk<${e8O(e)}>`,pretty:tnU,arbitrary:tnz,equivalence:OI});function tnq(e){return e9m(e7w(e),tnW(e8A(e)),{strict:!0,decode:e=>OB(e),encode:e=>OP(e)})}let tnK=e=>Array.isArray(e)?ehn(e):ehe(e),tnV=e=>t=>e(t).map(tnK),tnJ=e=>t=>`Data(${e(t)})`,tnH=e=>(t,r,n)=>ix(t)?tts(e(t,r),tnK,n,t):eZN(new eZI(n,t)),tnG=e=>e86([e],{decode:e=>tnH(eZQ(e)),encode:e=>tnH(eZ2(e))},{description:`Data<${e8O(e)}>`,pretty:tnJ,arbitrary:tnV}),tnZ=e=>e9m(e,tnG(e8A(e)),{strict:!1,decode:e=>tnK(e),encode:e=>Array.isArray(e)?Array.from(e):Object.assign({},e)}),tnQ=e=>Reflect.ownKeys(e).every(t=>{let r;return e8J(r=e[t])||e7A(r)}),tnY=e=>"fields"in e?e.fields:tnY(e[e9l]),tnX=e=>tnQ(e)?e7Z(e):e8J(e)?e:e7Z(tnY(e)),tn0=e=>tnQ(e)?e:tnY(e),tn1=e=>(t,r)=>tn7({kind:"Class",identifier:e,schema:tnX(t),fields:tn0(t),Base:eho,annotations:r}),tn2=e=>e7j(e7D(e8H(e)),()=>e),tn6=e=>(t,r,n)=>{let i=tn0(r),a=tnX(r),s={_tag:tn2(t)},o=tn4(s,i);return class extends tn7({kind:"TaggedClass",identifier:e??t,schema:e9a(a,e7Z(s)),fields:o,Base:eho,annotations:n}){static _tag=t}},tn3=e=>(t,r,n)=>{class i extends ehf{}i.prototype.name=t;let a=tn0(r),s=tnX(r),o={_tag:tn2(t)},l=tn4(o,a),u="message"in l;class c extends tn7({kind:"TaggedError",identifier:e??t,schema:e9a(s,e7Z(o)),fields:l,Base:i,annotations:n,disableToString:!0}){static _tag=t}return u||Object.defineProperty(c.prototype,"message",{get(){return`{ ${Reflect.ownKeys(a).map(e=>`${w1(e)}: ${w0(this[e])}`).join(", ")} }`},enumerable:!1,configurable:!0}),c},tn4=(e,t)=>{let r={...e};for(let n of Reflect.ownKeys(t)){if(n in e)throw Error(xr(n));r[n]=t[n]}return r};function tn5(e){return nl(e)?e:e?.disableValidation??!1}let tn8=r9("effect/Schema/astCache",()=>new WeakMap),tn7=({Base:e,annotations:t,disableToString:r,fields:n,identifier:i,kind:a,schema:s})=>{let o=Symbol.for(`effect/Schema/${a}/${i}`),[l,u,c]=void 0===t?[]:Array.isArray(t)?t:[t],h=e8A(s),f=h.annotations({identifier:i,...l}),d=h.annotations({[x3]:`${i} (Type side)`,...l}),p=s.annotations({[x3]:`${i} (Constructor)`,...l}),m=s.annotations({[x3]:`${i} (Encoded side)`,...c}),g=s.annotations({...c,...l,...u}),y=class extends e{constructor(e={},t=!1){e={...e},"Class"!==a&&delete e._tag,e=e7H(n,e),tn5(t)||(e=eZ7(p)(e)),super(e,!0)}static [e8y]=e8S;static get ast(){let e=tn8.get(this);return e||(e=e9m(m,e86([s],{decode:()=>(e,t,r)=>e instanceof this||nw(e,o)&&eQn(d)(e)?eZM(e):eZN(new eZI(r,e)),encode:()=>(e,t)=>e instanceof this?eZM(e):eZL(eZ2(d)(e,t),e=>new this(e,!0))},{identifier:i,pretty:e=>t=>`${i}(${e(t)})`,arbitrary:e=>t=>e(t).map(e=>new this(e)),equivalence:rw,[kl]:f.ast,...l}),{strict:!0,decode:e=>new this(e,!0),encode:rw}).annotations({[kl]:g.ast,...u}).ast,tn8.set(this,e)),e}static pipe(){return ij(this,arguments)}static annotations(e){return e8b(this.ast).annotations(e)}static toString(){return`(${String(m)} <-> ${i})`}static make(...e){return new this(...e)}static fields={...n};static identifier=i;static extend(e){return(t,r)=>{let i=tn0(t),o=tnX(t),l=tn4(n,i);return tn7({kind:a,identifier:e,schema:e9a(s,o),fields:l,Base:this,annotations:r})}}static transformOrFail(e){return(t,r,i)=>{let o=tn4(n,t);return tn7({kind:a,identifier:e,schema:e9p(s,e8A(e7Z(o)),r),fields:o,Base:this,annotations:i})}}static transformOrFailFrom(e){return(t,r,i)=>{let o=tn4(n,t);return tn7({kind:a,identifier:e,schema:e9p(e8C(s),e7Z(o),r),fields:o,Base:this,annotations:i})}}get[o](){return o}};return!0!==r&&Object.defineProperty(y.prototype,"toString",{value(){return`${i}({ ${Reflect.ownKeys(n).map(e=>`${w1(e)}: ${w0(this[e])}`).join(", ")} })`},configurable:!0,writable:!0}),y},tn9=e7c(e7Z({_tag:e8H("None")}).annotations({identifier:"FiberIdNoneEncoded"}),e7Z({_tag:e8H("Runtime"),id:teM,startTimeMillis:teM}).annotations({identifier:"FiberIdRuntimeEncoded"}),e7Z({_tag:e8H("Composite"),left:e9o(()=>tn9),right:e9o(()=>tn9)}).annotations({identifier:"FiberIdCompositeEncoded"})).annotations({identifier:"FiberIdEncoded"}),tie=e=>e.letrec(t=>({None:e.record({_tag:e.constant("None")}),Runtime:e.record({_tag:e.constant("Runtime"),id:e.integer(),startTimeMillis:e.integer()}),Composite:e.record({_tag:e.constant("Composite"),left:t("FiberId"),right:t("FiberId")}),FiberId:e.oneof(t("None"),t("Runtime"),t("Composite"))})).FiberId.map(tin),tit=e=>{switch(e._tag){case"None":return"FiberId.none";case"Runtime":return`FiberId.runtime(${e.id}, ${e.startTimeMillis})`;case"Composite":return`FiberId.composite(${tit(e.right)}, ${tit(e.left)})`}};class tir extends e86(Ne,{identifier:"FiberIdFromSelf",pretty:()=>tit,arbitrary:()=>tie}){}let tin=e=>{switch(e._tag){case"None":return M8;case"Runtime":return M7(e.id,e.startTimeMillis);case"Composite":return M9(tin(e.left),tin(e.right))}},tii=e=>{switch(e._tag){case"None":return{_tag:"None"};case"Runtime":return{_tag:"Runtime",id:e.id,startTimeMillis:e.startTimeMillis};case"Composite":return{_tag:"Composite",left:tii(e.left),right:tii(e.right)}}};class tia extends e9m(tn9,tir,{strict:!0,decode:e=>tin(e),encode:e=>tii(e)}).annotations({identifier:"FiberId"}){}let tis=e7Z({_tag:e8H("Empty")}),tio=e7Z({_tag:e8H("Interrupt"),fiberId:tn9}),til=0,tiu=(e,t)=>{let r=e9o(()=>n),n=e7c(tis,e7Z({_tag:e8H("Fail"),error:e}),e7Z({_tag:e8H("Die"),defect:t}),tio,e7Z({_tag:e8H("Sequential"),left:r,right:r}),e7Z({_tag:e8H("Parallel"),left:r,right:r})).annotations({title:`CauseEncoded<${e8O(e)}>`,[kA]:`CauseEncoded${til++}`});return n},tic=(e,t)=>r=>r.letrec(n=>({Empty:r.record({_tag:r.constant("Empty")}),Fail:r.record({_tag:r.constant("Fail"),error:e(r)}),Die:r.record({_tag:r.constant("Die"),defect:t(r)}),Interrupt:r.record({_tag:r.constant("Interrupt"),fiberId:tie(r)}),Sequential:r.record({_tag:r.constant("Sequential"),left:n("Cause"),right:n("Cause")}),Parallel:r.record({_tag:r.constant("Parallel"),left:n("Cause"),right:n("Cause")}),Cause:r.oneof(n("Empty"),n("Fail"),n("Die"),n("Interrupt"),n("Sequential"),n("Parallel"))})).Cause.map(tip),tih=e=>t=>{let r=t=>{switch(t._tag){case"Empty":return"Cause.empty";case"Fail":return`Cause.fail(${e(t.error)})`;case"Die":return`Cause.die(${es8(t)})`;case"Interrupt":return`Cause.interrupt(${tit(t.fiberId)})`;case"Sequential":return`Cause.sequential(${r(t.left)}, ${r(t.right)})`;case"Parallel":return`Cause.parallel(${r(t.left)}, ${r(t.right)})`}};return r(t)},tif=e=>(t,r,n)=>esu(t)?tts(e(tim(t),r),tip,n,t):eZN(new eZI(n,t)),tid=({defect:e,error:t})=>e86([t,e],{decode:(e,t)=>tif(eZQ(tiu(e,t))),encode:(e,t)=>tif(eZ2(tiu(e,t)))},{title:`Cause<${t.ast}>`,pretty:tih,arbitrary:tic});function tip(e){switch(e._tag){case"Empty":return esn;case"Fail":return esi(e.error);case"Die":return esa(e.defect);case"Interrupt":return ess(tin(e.fiberId));case"Sequential":return esl(tip(e.left),tip(e.right));case"Parallel":return eso(tip(e.left),tip(e.right))}}function tim(e){switch(e._tag){case"Empty":return{_tag:"Empty"};case"Fail":return{_tag:"Fail",error:e.error};case"Die":return{_tag:"Die",defect:e.defect};case"Interrupt":return{_tag:"Interrupt",fiberId:e.fiberId};case"Sequential":return{_tag:"Sequential",left:tim(e.left),right:tim(e.right)};case"Parallel":return{_tag:"Parallel",left:tim(e.left),right:tim(e.right)}}}let tig=({defect:e,error:t})=>e9m(tiu(t,e),tid({error:e8A(t),defect:e8A(e)}),{strict:!1,decode:e=>tip(e),encode:e=>tim(e)});class tiy extends e9m(e7r,e7r,{strict:!0,decode:e=>{if(nv(e)&&"message"in e&&"string"==typeof e.message){let t=Error(e.message,{cause:e});return"name"in e&&"string"==typeof e.name&&(t.name=e.name),t.stack="stack"in e&&"string"==typeof e.stack?e.stack:"",t}return LO(e)},encode:e=>e instanceof Error?{name:e.name,message:e.message}:LO(e)}).annotations({identifier:"Defect"}){}let tib=e=>{switch(e._tag){case"Failure":return UK(tip(e.cause));case"Success":return U5(e.value)}},tiS=(e,t,r)=>n=>n.oneof(n.record({_tag:n.constant("Failure"),cause:tic(t,r)(n)}),n.record({_tag:n.constant("Success"),value:e(n)})).map(tib),tiv=(e,t)=>r=>"Failure"===r._tag?`Exit.failCause(${tih(t)(r.cause)})`:`Exit.succeed(${e(r.value)})`,tiw=(e,t)=>(r,n,i)=>UR(r)?U3(r,{onFailure:e=>tts(t(e,n),UK,i,r),onSuccess:t=>tts(e(t,n),U5,i,r)}):eZN(new eZI(i,r)),tix=({defect:e,failure:t,success:r})=>e86([r,t,e],{decode:(e,t,r)=>tiw(eZQ(e),eZQ(tid({error:t,defect:r}))),encode:(e,t,r)=>tiw(eZ2(e),eZ2(tid({error:t,defect:r})))},{title:`Exit<${r.ast}, ${t.ast}>`,pretty:tiv,arbitrary:tiS}),tik=({defect:e,failure:t,success:r})=>e9m(e7c(e7Z({_tag:e8H("Failure"),cause:tiu(t,e)}),e7Z({_tag:e8H("Success"),value:r})).annotations({title:`ExitEncoded<${e8O(r)}, ${e8O(t)}, ${e8O(e)}>`}),tix({failure:e8A(t),success:e8A(r),defect:e8A(e)}),{strict:!1,decode:e=>tib(e),encode:e=>"Failure"===e._tag?{_tag:"Failure",cause:e.cause}:{_tag:"Success",value:e.value}}),ti_=(e,t)=>r=>{let n=r.array(e(r));return(void 0!==t.depthIdentifier?r.oneof(t,r.constant([]),n):n).map(Mt)},tiE=e=>t=>`HashSet(${Array.from(t).map(t=>e(t)).join(", ")})`,tiI=e=>{let t=c6(e);return r$((e,r)=>t(Array.from(e),Array.from(r)))},tiT=e=>(t,r,n)=>A9(t)?tts(e(Array.from(t),r),Mt,n,t):eZN(new eZI(n,t)),tiO=e=>e86([e],{decode:e=>tiT(eZQ(e7v(e))),encode:e=>tiT(eZ2(e7v(e)))},{description:`HashSet<${e8O(e)}>`,pretty:tiE,arbitrary:ti_,equivalence:tiI});function tiC(e){return e9m(e7v(e),tiO(e8A(e)),{strict:!0,decode:e=>Mt(e),encode:e=>Array.from(e)})}let tiF=(e,t,r)=>n=>{let i=n.array(n.tuple(e(n),t(n)));return(void 0!==r.depthIdentifier?n.oneof(r,n.constant([]),i):i).map(Ng)},tiA=(e,t)=>r=>`HashMap([${Array.from(r).map(([r,n])=>`[${e(r)}, ${t(n)}]`).join(", ")}])`,tiM=(e,t)=>{let r=c6(r$(([r,n],[i,a])=>e(r,i)&&t(n,a)));return r$((e,t)=>r(Array.from(e),Array.from(t)))},tiN=e=>(t,r,n)=>Nd(t)?tts(e(Array.from(t),r),Ng,n,t):eZN(new eZI(n,t)),tiR=({key:e,value:t})=>e86([e,t],{decode:(e,t)=>tiN(eZQ(e7v(e7S(e,t)))),encode:(e,t)=>tiN(eZ2(e7v(e7S(e,t))))},{description:`HashMap<${e8O(e)}, ${e8O(t)}>`,pretty:tiA,arbitrary:tiF,equivalence:tiM}),tiD=({key:e,value:t})=>e9m(e7v(e7S(e,t)),tiR({key:e8A(e),value:e8A(t)}),{strict:!0,decode:e=>Ng(e),encode:e=>Array.from(e)}),tij=(e,t)=>r=>{let n=r.array(e(r));return(void 0!==t.depthIdentifier?r.oneof(t,r.constant([]),n):n).map(Ri)},tiL=e=>t=>`List(${Array.from(t).map(t=>e(t)).join(", ")})`,tiP=e=>{let t=c6(e);return r$((e,r)=>t(Array.from(e),Array.from(r)))},ti$=e=>(t,r,n)=>N5(t)?tts(e(Array.from(t),r),Ri,n,t):eZN(new eZI(n,t)),tiz=e=>e86([e],{decode:e=>ti$(eZQ(e7v(e))),encode:e=>ti$(eZ2(e7v(e)))},{description:`List<${e8O(e)}>`,pretty:tiL,arbitrary:tij,equivalence:tiP});function tiU(e){return e9m(e7v(e),tiz(e8A(e)),{strict:!0,decode:e=>Ri(e),encode:e=>Array.from(e)})}let tiB=e=>t=>`new SortedSet([${Array.from(enO(t)).map(t=>e(t)).join(", ")}])`,tiW=(e,t)=>(r,n,i)=>enl(r)?tts(e(Array.from(enO(r)),n),e=>enc(e,t),i,r):eZN(new eZI(i,r)),tiq=(e,t,r)=>e86([e],{decode:e=>tiW(eZQ(e7v(e)),t),encode:e=>tiW(eZ2(e7v(e)),r)},{description:`SortedSet<${e8O(e)}>`,pretty:tiB,arbitrary:(e,r)=>n=>{let i=n.array(e(n));return(void 0!==r.depthIdentifier?n.oneof(r,n.constant([]),i):i).map(e=>enc(e,t))},equivalence:()=>enC()});function tiK(e,t){let r=e8A(e);return e9m(e7v(e),tiq(r,t,t),{strict:!0,decode:e=>enc(e,t),encode:e=>Array.from(enO(e))})}class tiV extends e9m(e7r,e7l,{strict:!0,decode:e=>nn(e),encode:rw}).annotations({identifier:"BooleanFromUnknown"}){}class tiJ extends e9m(e8H("true","false").annotations({description:"a string to be decoded into a boolean"}),e7l,{strict:!0,decode:e=>"true"===e,encode:e=>e?"true":"false"}).annotations({identifier:"BooleanFromString"}){}let tiH=(e,t)=>{let r=eZG(t);return eKh(e).pipe(eKe(e=>r(e).pipe(a$(e=>eqe([],eQk.formatIssueSync(e))))))},tiG=Symbol.for("effect/Schema/Serializable/symbol"),tiZ=e=>e,tiQ=e=>e[tiG],tiY=e=>e8M(e[tiG])(e),tiX=rS(2,(e,t)=>e8P(e[tiG])(t)),ti0=Symbol.for("effect/Schema/Serializable/symbolResult"),ti1=e=>e,ti2=e=>e[ti0].failure,ti6=e=>e[ti0].success,ti3=r9("effect/Schema/Serializable/exitSchemaCache",()=>new WeakMap),ti4=e=>{let t=Object.getPrototypeOf(e);if(!(ti0 in t))return tik({failure:ti2(e),success:ti6(e),defect:tiy});let r=ti3.get(t);return void 0===r&&(r=tik({failure:ti2(e),success:ti6(e),defect:tiy}),ti3.set(t,r)),r},ti5=rS(2,(e,t)=>e8D(e[ti0].failure)(t)),ti8=rS(2,(e,t)=>e8P(e[ti0].failure)(t)),ti7=rS(2,(e,t)=>e8D(e[ti0].success)(t)),ti9=rS(2,(e,t)=>e8P(e[ti0].success)(t)),tae=rS(2,(e,t)=>e8D(ti4(e))(t)),tat=rS(2,(e,t)=>e8P(ti4(e))(t)),tar=e=>e,tan=e=>(t,r,n)=>{let i=tn4({_tag:tn2(t)},r.payload);return class extends tn7({kind:"TaggedRequest",identifier:e??t,schema:e7Z(i),fields:i,Base:em7,annotations:n}){static _tag=t;static success=r.success;static failure=r.failure;get[tiG](){return this.constructor}get[ti0](){return{failure:r.failure,success:r.success}}}},tai=e=>tas(e.ast,[]),taa=kc(kt),tas=(e,t)=>{let r=taa(e);if(sN(r))switch(e._tag){case"Declaration":return r.value(...e.typeParameters.map(e=>tas(e,t)));case"Refinement":return r.value(tas(e.from,t));default:return r.value()}switch(e._tag){case"NeverKeyword":throw Error(w3("Unsupported schema","Cannot build an Equivalence",t,e));case"Transformation":return tas(e.to,t);case"Declaration":case"Literal":case"StringKeyword":case"TemplateLiteral":case"UniqueSymbol":case"SymbolKeyword":case"UnknownKeyword":case"AnyKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"UndefinedKeyword":case"VoidKeyword":case"Enums":case"ObjectKeyword":return iv;case"Refinement":return tas(e.from,t);case"Suspend":{let r=wQ(()=>tas(e.f(),t));return(e,t)=>r()(e,t)}case"TupleType":{let r=e.elements.map((e,r)=>tas(e.type,t.concat(r))),n=e.rest.map(e=>tas(e.type,t));return r$((t,i)=>{if(!Array.isArray(t)||!Array.isArray(i))return!1;let a=t.length;if(a!==i.length)return!1;let s=0;for(;s<Math.min(a,e.elements.length);s++)if(!r[s](t[s],i[s]))return!1;if(uw(n)){let[e,...r]=n;for(;s<a-r.length;s++)if(!e(t[s],i[s]))return!1;for(let e=0;e<r.length;e++)if(s+=e,!r[e](t[s],i[s]))return!1}return!0})}case"TypeLiteral":{if(0===e.propertySignatures.length&&0===e.indexSignatures.length)return iv;let r=e.propertySignatures.map(e=>tas(e.type,t.concat(e.name))),n=e.indexSignatures.map(e=>tas(e.type,t));return r$((t,i)=>{let a,s;if(!nC(t)||!nC(i))return!1;let o=Object.keys(t),l=Object.getOwnPropertySymbols(t);for(let n=0;n<r.length;n++){let a=e.propertySignatures[n],s=a.name,o=Object.prototype.hasOwnProperty.call(t,s),l=Object.prototype.hasOwnProperty.call(i,s);if(a.isOptional&&o!==l||o&&l&&!r[n](t[s],i[s]))return!1}for(let r=0;r<n.length;r++){let u=_l(EI(e.indexSignatures[r].parameter));if(u){if(a=a||Object.getOwnPropertySymbols(i),l.length!==a.length)return!1}else if(s=s||Object.keys(i),o.length!==s.length)return!1;let c=u?l:o;for(let e=0;e<c.length;e++){let a=c[e];if(!Object.prototype.hasOwnProperty.call(i,a)||!n[r](t[a],i[a]))return!1}}return!0})}case"Union":{let r=eQg(e.types,!0),n=Reflect.ownKeys(r.keys),i=n.length;return r$((e,a)=>{let s=[];if(i>0&&nS(e))for(let t=0;t<i;t++){let i=n[t],a=r.keys[i].buckets;if(Object.prototype.hasOwnProperty.call(e,i)){let t=String(e[i]);Object.prototype.hasOwnProperty.call(a,t)&&(s=s.concat(a[t]))}}r.otherwise.length>0&&(s=s.concat(r.otherwise));let o=s.map(e=>[tas(e,t),eQn({ast:e})]);for(let t=0;t<o.length;t++){let[r,n]=o[t];if(n(e)&&n(a)&&r(e,a))return!0}return!1})}}},tao=e7Y("symbol",{key:e7s}).annotations({description:"an object to be decoded into a globally shared symbol"}),tal=e9p(tao,e7a,{strict:!0,decode:e=>teB(e.key),encode:(e,t,r)=>eZL(teU(e,r),e=>tao.make({key:e}))});class tau extends e7c(e7s,e7o,tal).annotations({identifier:"PropertyKey"}){}class tac extends e7Z({_tag:e7D(e8H("Pointer","Unexpected","Missing","Composite","Refinement","Transformation","Type","Forbidden")).annotations({description:"The tag identifying the type of parse issue"}),path:e7D(e7v(tau)).annotations({description:"The path to the property where the issue occurred"}),message:e7D(e7s).annotations({description:"A descriptive message explaining the issue"})}).annotations({identifier:"ArrayFormatterIssue",description:"Represents an issue returned by the ArrayFormatter formatter"}){}let tah=(e,t,r,n,i)=>ehe({_tag:"Complete",key:e,exit:t,ownerCount:r,entryStats:n,timeToLive:i}),taf=(e,t)=>ehe({_tag:"Pending",key:e,scoped:t}),tad=e=>U4(e.exit,{onFailure:e=>Pa(e),onSuccess:([t])=>eiC(LZ(PL(()=>ML(e.ownerCount)),t),()=>tap(e))}),tap=e=>U4(e.exit,{onFailure:()=>PW,onSuccess:([,t])=>Pu(PL(()=>MF(e.ownerCount)),e=>J4(t(U8),()=>0===e))}),tam=Symbol.for("effect/ScopedCache"),tag={_Key:e=>e,_Error:e=>e,_Value:e=>e};class tay{capacity;scopedLookup;clock;timeToLive;context;[tam]=tag;cacheState;constructor(e,t,r,n,i){this.capacity=e,this.scopedLookup=t,this.clock=r,this.timeToLive=n,this.context=i,this.cacheState=(()=>{let e,t;return e=Bu(),t=eaU(),{map:e,keys:t,accesses:BH(),updating:MT(!1),hits:0,misses:0}})()}pipe(){return ij(this,arguments)}get cacheStats(){return PL(()=>eaV({hits:this.cacheState.hits,misses:this.cacheState.misses,size:Bk(this.cacheState.map)}))}getOption(e){return Pj(()=>sR(Bf(this.cacheState.map,e),{onNone:()=>J$,onSome:e=>Pf(this.resolveMapValue(e))}))}getOptionComplete(e){return Pj(()=>sR(Bf(this.cacheState.map,e),{onNone:()=>J$,onSome:e=>Pf(this.resolveMapValue(e,!0))}))}contains(e){return PL(()=>Bg(this.cacheState.map,e))}entryStats(e){return PL(()=>{let t=sJ(Bf(this.cacheState.map,e));if(void 0===t)return sC();switch(t._tag){case"Complete":return sF(eaJ(t.entryStats.loadedMillis));case"Pending":return sC();case"Refreshing":return sF(eaJ(t.complete.entryStats.loadedMillis))}})}get(e){return rD(this.lookupValueOf(e),J_,Pu(t=>Pj(()=>{let r,n=sJ(Bf(this.cacheState.map,e));return(void 0===n&&(r=eaP(e),Bg(this.cacheState.map,e)?n=sJ(Bf(this.cacheState.map,e)):By(this.cacheState.map,e,taf(r,t))),void 0===n)?(this.trackMiss(),P3(this.ensureMapSizeNotExceeded(r),t)):PE(this.resolveMapValue(n),Pu(sR({onNone:()=>{let t=n;return iv(sJ(Bf(this.cacheState.map,e)),n)&&Bw(this.cacheState.map,e),rD(this.ensureMapSizeNotExceeded(t.key),P3(tap(t)),P3(this.get(e)))},onSome:PD})))})),Pf)}invalidate(e){return Pj(()=>{if(Bg(this.cacheState.map,e)){let t=sJ(Bf(this.cacheState.map,e));switch(Bw(this.cacheState.map,e),t._tag){case"Complete":return tap(t);case"Pending":break;case"Refreshing":return tap(t.complete)}}return PW})}get invalidateAll(){return eiU(Mt(Array.from(this.cacheState.map).map(([e])=>e)),e=>this.invalidate(e),!1,!1)}refresh(e){return rD(this.lookupValueOf(e),J_,Pu(t=>{let r,n,i=sJ(Bf(this.cacheState.map,e));if(void 0===i&&(r=eaP(e),Bg(this.cacheState.map,e)?i=sJ(Bf(this.cacheState.map,e)):By(this.cacheState.map,e,taf(r,t))),void 0===i)n=P3(this.ensureMapSizeNotExceeded(r),t);else switch(i._tag){case"Complete":if(this.hasExpired(i.timeToLive))n=PD(this.get(e));else if(iv(sJ(Bf(this.cacheState.map,e)),i)){let r=ehe({_tag:"Refreshing",scoped:t,complete:i});By(this.cacheState.map,e,r),n=t}else n=PD(this.get(e));break;case"Pending":case"Refreshing":n=i.scoped}return Pu(n,e=>ei4(LQ(e)))}))}get size(){return PL(()=>Bk(this.cacheState.map))}resolveMapValue(e,t=!1){switch(e._tag){case"Complete":if(this.trackHit(),this.hasExpired(e.timeToLive))return PD(J$);return LZ(this.ensureMapSizeNotExceeded(e.key),Vj(tad(e)));case"Pending":if(this.trackHit(),t)return PD(J$);return P3(this.ensureMapSizeNotExceeded(e.key),PE(e.scoped,Vj));case"Refreshing":if(this.trackHit(),this.hasExpired(e.complete.timeToLive)){if(t)return PD(J$);return P3(this.ensureMapSizeNotExceeded(e.complete.key),PE(e.scoped,Vj))}return LZ(this.ensureMapSizeNotExceeded(e.complete.key),Vj(tad(e.complete)))}}lookupValueOf(e){return rD(PF(Pu(eo4(),t=>rD(this.scopedLookup(e),Us(rD(this.context,Od(eoY,t))),Pr,PE(e=>[e,e=>eo1(t,e)]))),()=>PL(()=>Bw(this.cacheState.map,e))),Pu(([t,r])=>{let n=this.clock.unsafeCurrentTimeMillis(),i=n+Fh(this.timeToLive(t));switch(t._tag){case"Success":{let a,s=U5([t.value,r]),o=tah(eaP(e),s,MT(1),eaJ(n),i);return Bg(this.cacheState.map,e)&&(a=sJ(Bf(this.cacheState.map,e))),By(this.cacheState.map,e,o),PL(()=>Pf(LZ(this.cleanMapValue(a),tad(o))))}case"Failure":{let a,s=tah(eaP(e),t,MT(0),eaJ(n),i);return Bg(this.cacheState.map,e)&&(a=sJ(Bf(this.cacheState.map,e))),By(this.cacheState.map,e,s),P3(r(t),PL(()=>Pf(LZ(this.cleanMapValue(a),tad(s)))))}}}),J_,Pf)}hasExpired(e){return this.clock.unsafeCurrentTimeMillis()>e}trackHit(){this.cacheState.hits=this.cacheState.hits+1}trackMiss(){this.cacheState.misses=this.cacheState.misses+1}trackAccess(e){let t=[];if(BX(this.cacheState.accesses,e),MO(this.cacheState.updating,!1,!0)){let e=!0;for(;e;){let t=B1(this.cacheState.accesses,Bq);t===Bq?e=!1:this.cacheState.keys.add(t)}let r=Bk(this.cacheState.map);for(e=r>this.capacity;e;){let n=this.cacheState.keys.remove();if(void 0===n)e=!1;else if(Bg(this.cacheState.map,n.current)){let i=sJ(Bf(this.cacheState.map,n.current));Bw(this.cacheState.map,n.current),r-=1,t.push(i),e=r>this.capacity}}MP(this.cacheState.updating,!1)}return t}cleanMapValue(e){if(void 0===e)return PW;switch(e._tag){case"Complete":return tap(e);case"Pending":return PW;case"Refreshing":return tap(e.complete)}}ensureMapSizeNotExceeded(e){return eiU(this.trackAccess(e),e=>this.cleanMapValue(e),!1,!1)}}let tab=e=>Pu(Vq,t=>taS(e.capacity,e.lookup,t,t=>C2(e.timeToLive(t)))),taS=(e,t,r,n)=>eiC(Pu(Ui(),i=>PL(()=>new tay(e,t,r,n,i))),e=>e.invalidateAll),tav=tam,taw=e=>{let t=C2(e.timeToLive);return tab({capacity:e.capacity,lookup:e.lookup,timeToLive:()=>t})},tax=tab,tak=e6B,ta_=e6q,taE=e6K,taI=e=>e6q(PL(e)),taT=e6V,taO=eqS,taC=e=>nw(e,eqS),taF=eqw,taA=e=>eqw(ui(e).map(e=>e.charCodeAt(0))),taM=eqx,taN=e=>e.raw.map(e=>String.fromCharCode(e)).join(""),taR=e=>{for(let t=0;t<e.raw.length;t++)e.raw[t]=0;eqp.delete(e)},taD=eTC,taj=eOB,taL=eOV,taP=eOJ,ta$=eOG,taz=e=>eOX(e,{initial:OM(),while:rE,body:(e,t)=>rD(e,Oq(t))}),taU=(e,t)=>eCT(Np(),(r,n)=>rD(n,Cq(r,(r,n)=>{let i=e(n),a=rD(r,Nw(i))?t(rD(r,Nv(i)),n):n;return rD(r,N_(i,a))}))),taB=(e,t,r)=>eCO({initial:Np(),maxCost:e,cost:(e,r)=>+!rD(e,Nw(t(r))),body:(e,n)=>{let i=t(n),a=rD(e,Nw(i))?r(rD(e,Nv(i)),n):n;return rD(e,N_(i,a))}}),taW=()=>eCT(Me(),(e,t)=>rD(t,Cq(e,(e,t)=>rD(e,Md(t))))),taq=e=>eCO({initial:Me(),maxCost:e,cost:(e,t)=>+!Mn(e,t),body:(e,t)=>Md(e,t)}),taK=e=>rD(eCm([OM(),!0],e=>e[1],([t,r],n)=>[rD(t,Oq(n)),!e(n)]),eCJ(e=>e[0])),taV=e=>rD(eCk([OM(),!0],e=>e[1],([t,r],n)=>rD(e(n),eyz(e=>[rD(t,Oq(n)),!e]))),eCJ(e=>e[0])),taJ=e=>eCz(eOQ(e,OM())),taH=e=>eCz(eOY(e,OM())),taG=eOX,taZ=eO1,taQ=eO2,taY=eO6,taX=eO3,ta0=eO4,ta1=eFl,ta2=e=>eCh(esa(e)),ta6=e=>eCh(esa(new esX(e))),ta3=e=>eCf(()=>esa(e())),ta4=eO5,ta5=eO8,ta8=eO7,ta7=eO9,ta9=eCe,tse=eCt,tst=e=>new eOq(rD(eFe(eCi(t=>!e(t))),eOc(eFe(eCt(1))))),tsr=e=>eOK(()=>new eOq(eCn(e))),tsn=eCi,tsi=e=>eOK(()=>new eOq(eCs(e))),tsa=eCo,tss=eCl,tso=eCu,tsl=e=>rD(eCu(),eCJ(e)),tsu=e=>rD(eCu(),eCH(e)),tsc=e=>new eOq(eOO(ebW(t=>eFe(e(t))))),tsh=e=>eCm(!0,rw,(t,r)=>t&&e(r)),tsf=eCc,tsd=e=>new eOq(eIp(e)),tsp=eCh,tsm=eCf,tsg=e=>t=>rD(t,eO3(OX(e))),tsy=eCd,tsb=eCp,tsS=eCm,tsv=eCb,tsw=eCS,tsx=eCw,tsk=eCk,ts_=(e,t)=>eCK(eCm(e,rE,t)),tsE=eCT,tsI=(e,t)=>eCK(eCw(e,rE,t)),tsT=(e,t)=>eCk(e,rE,t),tsO=(e,t,r)=>rD(eCm([e,0],e=>e[1]<t,([e,t],n)=>[r(e,n),t+1]),eCJ(e=>e[0])),tsC=(e,t,r)=>rD(eCk([e,0],e=>e[1]<t,([e,t],n)=>rD(r(e,n),eyz(e=>[e,t+1]))),eCJ(e=>e[0])),tsF=eCO,tsA=eCC,tsM=eCM,tsN=e=>eCM({...e,decompose:e=>eg2(OR(e))}),tsR=eCj,tsD=eCL,tsj=e=>{let t=eIk({onInput:r=>rD(eIS(e(r)),eIy(e=>e?t:eIC)),onFailure:eId,onDone:()=>eIC});return new eOq(t)},tsL=eCP,tsP=eCD,ts$=eCz,tsz=eFe,tsU=eCU,tsB=(e,t)=>eCW(e,t),tsW=e=>new eOq(eOC(rD(e,eyz(eCB)))),tsq=eCW,tsK=eCq,tsV=eCK,tsJ=eCV,tsH=e=>new eOq(eIT(()=>eIF(e))),tsG=eCJ,tsZ=eCH,tsQ=eCG,tsY=eCZ,tsX=eFu,ts0=eCQ,ts1=eCY,ts2=eCX,ts6=eC0,ts3=eC1,ts4=eC2,ts5=eC6,ts8=eC3,ts7=e=>eCm(!1,e=>!e,(t,r)=>t||e(r)),ts9=eC4,toe=e=>new eOq(eIE(e)),tot=eC7,tor=eC9,ton=eOK,toi=e=>new eOq(eIO(e)),toa=e=>rD(eCS(OM(),t=>t.length<e,(e,t)=>rD(e,OQ(t))),eCD(t=>{let[r,n]=rD(t,Cd(e));return new eOq(rD(eIF(n),eOP(eII(r))))})),tos=eFc,too=e=>new eOq(eOO(rD(e,eyz(e=>eFe(e))))),tol=eFt,tou=eFr,toc=eFn,toh=eFi,tof=eFa,tod=eFs,top=eFo,tom=Symbol.for("effect/SortedMap"),tog={[tom]:{_K:e=>e,_V:e=>e},[is](){return rD(io(this.tree),iu(io("effect/SortedMap")),ib(this))},[iS](e){return tob(e)&&iv(this.tree,e.tree)},[Symbol.iterator](){return this.tree[Symbol.iterator]()},toString(){return iI(this.toJSON())},toJSON(){return{_id:"SortedMap",values:Array.from(this).map(iE)}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},toy=e=>{let t=Object.create(tog);return t.tree=e,t},tob=e=>nw(e,tom),toS=e=>toy(erj(e)),tov=rS(2,(e,t)=>toy(erL(e,t))),tow=e=>(...t)=>tov(e)(t),tox=e=>0===toM(e),tok=e=>toM(e)>0,to_=rS(2,(e,t)=>erB(e.tree,t)),toE=e=>erK(e.tree),toI=rS(2,(e,t)=>sN(to_(e,t))),toT=e=>erW(e.tree),toO=rS(2,(e,t)=>toC(e,toS(erK(e.tree)),(e,r,n)=>toA(e,n,t(r,n)))),toC=rS(3,(e,t,r)=>er9(e.tree,t,r)),toF=rS(2,(e,t)=>toy(ene(e.tree,t))),toA=rS(3,(e,t,r)=>erZ(e.tree,t)?toy(erQ(ene(e.tree,t),t,r)):toy(erQ(e.tree,t,r))),toM=e=>enr(e.tree),toN=e=>erY(e.tree),toR=e=>enn(e.tree),toD=e=>{let t=e.tree[Symbol.iterator]();return t[Symbol.iterator]=()=>toD(e),t},toj=e=>er0(e.tree),toL=rS(2,(e,t)=>{let r=erK(e.tree),n=toS(r),i=toS(r);for(let r of e)t(r[0])?n=toA(n,r[0],r[1]):i=toA(i,r[0],r[1]);return[i,n]}),toP=eLR,to$=eLP,toz=e=>ePa(eL$(e)),toU=eL$,toB=eLz,toW=eLU,toq=eLB,toK=eLW,toV=eLq,toJ=(e,t)=>eyJ(eLK(t),e=>eEx(e)).pipe(eSm(t=>evm().pipe(eSm(r=>eg5(()=>{let n=eFA(r);return e(ejZ(e=>eLO(e).pipe(eSm(e=>eEk(t,e)),eyL,n).then(e=>{if(UD(e)&&!esv(e.cause))throw esz(e.cause)})))})),eyz(e=>{let r=eET(t).pipe(eSm(e=>eLE(e)),eSZ({onFailure:e=>eIS(eEx(t)).pipe(eOP(sR(e,{onNone:()=>eIC,onSome:e=>eId(e)}))),onSuccess:e=>eIF(e).pipe(eIy(()=>r))}),eOO);return eP2(r).pipe(ePA(e??eg8))}))),eUR),toH=(e,t)=>rD(eyJ(eLK(t),e=>eEx(e)),eSm(t=>rD(evm(),eSm(r=>rD(e(ejZ(e=>rD(eLO(e),eSm(e=>eEk(t,e)),eyL,eFA(r)).then(e=>{if(UD(e)&&!esv(e.cause))throw esz(e.cause)}))),eyz(()=>{let e=rD(eET(t),eSm(eLE),eSZ({onFailure:e=>rD(eIS(eEx(t)),eOP(sR(e,{onNone:()=>eIC,onSome:eId}))),onSuccess:t=>rD(eIF(t),eIy(()=>e))}),eOO);return e}))))),eOC,eP2),toG=eLV,toZ=(e,t)=>rD(eyJ(eLK(t),e=>eEx(e)),eSm(t=>rD(evm(),eSm(r=>rD(e(ejZ(e=>rD(eLO(e),eSm(e=>eEk(t,e)),eyL,eFA(r)).then(e=>{if(UD(e)&&!esv(e.cause))throw esz(e.cause)}))),evz(Vt(!1)),eSm(e=>rD(Vr(e),eyz(r=>r?egK(sC()):rD(eET(t),eSm(eLE),eyY(()=>rD(Vl(e,!0),evz(eEx(t)))))))))))),ezX,ePJ(ezg)),toQ=eLJ,toY=eLH,toX=eLZ,to0=eLG,to1=eLQ,to2=eLY,to6=eLX,to3=eL0,to4=eL8,to5=eL7,to8=eL9,to7=ePt,to9=ePr,tle=ePe,tlt=e=>rD(e,ePn((e,t)=>iv(t)(e))),tlr=ePn,tln=ePi,tli=ePa,tla=ePs,tls=ePl,tlo=ePu,tll=ePc,tlu=e=>ez9(()=>rD(e,Cq(ePF,(e,t)=>ePc(t)(e)))),tlc=ePh,tlh=ePf,tlf=ePd,tld=ePp,tlp=ePm,tlm=ePg,tlg=e=>eP5(egQ(e)),tly=e=>eP5(egZ(e)),tlb=ePy,tlS=ePv,tlv=ePx,tlw=ePk,tlx=eP_,tlk=ePE,tl_=ePI,tlE=ePT,tlI=ePO,tlT=ePC,tlO=e=>rD(e,e$v(aI),eL8(e=>e$S(aO(e)))),tlC=ePF,tlF=ePA,tlA=ePM,tlM=ePN,tlN=e=>rD(ePN(),e$v(e)),tlR=e=>rD(ePN(),e$F(e)),tlD=ePR,tlj=ePD,tlL=ePj,tlP=ePL,tl$=ePP,tlz=e=>eP5(egH(e)),tlU=eP$,tlB=ePz,tlW=ePU,tlq=ePB,tlK=ePW,tlV=ePq,tlJ=e=>eLz(eg8,()=>e),tlH=ePK,tlG=ePV,tlZ=ePJ,tlQ=ePZ,tlY=ePQ,tlX=ePY,tl0=ePX,tl1=e=>rD(e,e$v(OD),ePQ),tl2=eP0,tl6=eP1,tl3=(e,t)=>rD(eyJ(eg5(()=>e[Symbol.asyncIterator]()),e=>e.return?eg1(async()=>e.return()):eg8),eyz(e=>ezy(rD(eyw({try:async()=>e.next(),catch:e=>sF(t(e))}),eSm(e=>e.done?egK(sC()):eg2(e.value))))),eUR),tl4=eP2,tl5=eP6,tl8=eP3,tl7=(e,t)=>{if(t?.scoped){let r=eyz(eEe(e),eP4);return t.shutdown?eyz(r,ePA(e_4(e))):r}let r=ePJ(ezX(eEe(e)),eP4);return t?.shutdown?ePA(r,e_4(e)):r},tl9=eP4,tue=(...e)=>rD(eP9(e),ePJ(eP3)),tut=eP5,tur=eP8,tun=eP7,tui=e=>eUR(eyz(ejg(e),e=>e$n(e))),tua=eP9,tus=e=>rD(e,eyz(eP9),eUN),tuo=e$e,tul=e$t,tuu=e$r,tuc=e$n,tuh=(...e)=>{let t=1===e.length?e[0].evaluate:e[0],r=1===e.length?e[0].onError:e[1],n=1===e.length&&!0===e[0].releaseLockOnEnd;return eUR(eyz(eyJ(eg5(()=>t().getReader()),e=>n?eg5(()=>e.releaseLock()):eg1(()=>e.cancel())),e=>ezy(eSm(eyw({try:()=>e.read(),catch:e=>sF(r(e))}),({done:e,value:t})=>e?egK(sC()):eg2(t)))))},tuf=(...e)=>{let t=1===e.length?e[0].evaluate:e[0],r=1===e.length?e[0].onError:e[1],n=(1===e.length?e[0].bufferSize:e[2])??4096,i=1===e.length&&!0===e[0].releaseLockOnEnd;return eUR(eyz(eyJ(eg5(()=>t().getReader({mode:"byob"})),e=>i?eg5(()=>e.releaseLock()):eg1(()=>e.cancel())),e=>{var t,i;let a;return eL8(eP1((t=e,i=r,a=new ArrayBuffer(n),e$2(0,e=>eSm(eyw({try:()=>t.read(new Uint8Array(a,e,a.byteLength-e)),catch:e=>i(e)}),({done:t,value:r})=>{if(t)return egK(e$i);let n=e+r.byteLength;return eg2([r,n>=a.byteLength?sC():sF(n)])})))),e=>e===e$i?ePF:ePj(e))}))},tud=e=>rD(eAv(e),eyz(e=>ezy(e.next(void 0))),eUN),tup=e$a,tum=eZl,tug=eZd,tuy=e$s,tub=e$o,tuS=e$u,tuv=e$l,tuw=e$c,tux=e$h,tuk=e$f,tu_=e$d,tuE=e$p,tuI=e$m,tuT=e$g,tuO=e$y,tuC=e$b,tuF=(e,t)=>eUO(e,e=>sF([e,t(e)])),tuA=e$S,tuM=e$v,tuN=e$w,tuR=e$x,tuD=e$k,tuj=e$_,tuL=e$E,tuP=e$I,tu$=e$T,tuz=e$O,tuU=e$C,tuB=eZu,tuW=e$M,tuq=e$N,tuK=e$R,tuV=e$D,tuJ=e$j,tuH=e$z,tuG=e$L,tuZ=e$P,tuQ=e$$,tuY=e=>ezI(e,eFu),tuX=e$U,tu0=e$B,tu1=e$W,tu2=e$q,tu6=e$K,tu3=e=>rD(e,e$V(rw)),tu4=e$V,tu5=e$J,tu8=e$H,tu7=e$G,tu9=e$Z,tce=e$Q,tct=e$Y,tcr=e$X,tcn=(e,t)=>e$0(e,e=>{let r=t(e);return[OR(r[0]),r[1]]}),tci=e$0,tca=e$1,tcs=e$2,tco=e$3,tcl=e$4,tcu=e$6,tcc=e$5,tch=e$8,tcf=e$7,tcd=e$9,tcp=eze,tcm=ezt,tcg=ezr,tcy=ezn,tcb=ezi,tcS=eza,tcv=ezs,tcw=ezo,tcx=ezl,tck=ezu,tc_=(e,t,r=eLP)=>ez9(()=>{if(e>t)return ePF;let n=(e,t,r)=>{let i=t-e+1;return i>r?rD(eIF(CR(e,e+r-1)),eIy(()=>n(e+r,t,r))):eIF(CR(e,e+i-1))};return new eLj(n(e,t,r))}),tcE=ezc,tcI=ezd,tcT=ezp,tcO=ezm,tcC=e=>ezy(rD(e,eyW(sF))),tcF=e=>ezg(rD(e,eyW(sF))),tcA=ezg,tcM=ezy,tcN=ezx,tcR=ezb,tcD=ezS,tcj=ezv,tcL=e=>new eLj(eOm(eIF(OR(e)))),tcP=ezw,tc$=ezk,tcz=ez_,tcU=ezI,tcB=e=>ezI(e,eOJ()),tcW=e=>ezI(e,eFl),tcq=e=>ezI(e,eCe),tcK=ezT,tcV=ezO,tcJ=ezC,tcH=ezF,tcG=ezA,tcZ=ezM,tcQ=ezN,tcY=ezR,tcX=ezD,tc0=ezj,tc1=ezL,tc2=ezP,tc6=ez$,tc3=ezz,tc4=e=>ezI(e,eCq()),tc5=ezU,tc8=ezB,tc7=ezW,tc9=ezq,the=ezK,tht=e=>ezI(e,eCV()),thr=ezV,thn=e=>ezI(e,eC7),thi=ezJ,tha=ezY,ths=ezH,tho=ezG,thl=ezZ,thu=ezQ,thc=ezX,thh=ez0,thf=ez6,thd=ez3,thp=e=>rD(e,e$M(sF),ez2(()=>sC())),thm=ez1,thg=ez2,thy=ez4,thb=ez5,thS=e=>e$8(e,eOw()),thv=ez8,thw=ez7,thx=ez9,thk=eUe,th_=eUt,thE=eUr,thI=eUn,thT=eUi,thO=eUa,thC=eUs,thF=eUo,thA=eUl,thM=eUu,thN=eUc,thR=eUh,thD=e=>{let t,r;return t=void 0,r=eA7(e),ezx(eg2(t),r)},thj=eUp,thL=eUm,thP=eUg,th$=eUy,thz=eUS,thU=eUv,thB=eUw,thW=eUx,thq=eUk,thK=eU_,thV=eUE,thJ=eUT,thH=e=>eyz(evm(),t=>eUT(e,t)),thG=e=>eUT(e,eFM),thZ=eUI,thQ=eUO,thY=eUC,thX=eUF,th0=eUA,th1=eUM,th2=eUN,th6=eUR,th3=eUD,th4=eUj,th5=eUL,th8=(e,t)=>eUP(t)(eg5(e)),th7=eUP,th9=eU$,tfe=function(){let e="string"!=typeof arguments[0],t=e?arguments[1]:arguments[0],r=qx(e?arguments[2]:arguments[1]);if(e){let e=arguments[0];return new eLj(eOM(eP6(e),t,r))}return e=>new eLj(eOM(eP6(e),t,r))},tft=eUz,tfr=eUU,tfn=eUB,tfi=eUW,tfa=eUq,tfs=eUK,tfo=eUV,tfl=eUJ,tfu=eUH,tfc=eUG,tfh=eUZ,tff=eUQ,tfd=eUY,tfp=eUX,tfm=eU0,tfg=eU1,tfy=eU2,tfb=eU3,tfS=eU4,tfv=e=>rD(eU3(eU4(e)),e$v(([[e,t],r])=>[e,t,rD(r,sQ(e=>e[1]))])),tfw=eU6,tfx=eU8,tfk=eU7,tf_=eZc,tfE=eU9,tfI=eBe,tfT=eBt,tfO=e=>ez9(()=>{let t=new TextEncoder;return e$v(e,e=>t.encode(e))}),tfC=(e,t,r)=>eLV(n=>eyJ(eg5(()=>e.addEventListener(t,n.single,r)),()=>eg5(()=>e.removeEventListener(t,n.single,r))),{bufferSize:"object"==typeof r?r.bufferSize:void 0}),tfF={_R:e=>e,_E:e=>e,_A:e=>e};class tfA{[toP]=tfF;pipe(){return ij(this,arguments)}get channel(){return tl5(this.toStream())}}let tfM=Symbol.for("effect/Subscribable"),tfN=e=>nw(e,tfM),tfR={[Kz]:Kz,[tfM]:tfM,pipe(){return ij(this,arguments)}},tfD=e=>Object.assign(Object.create(tfR),e),tfj=rS(2,(e,t)=>tfD({get:eyz(e.get,t),changes:tuM(e.changes,t)})),tfL=rS(2,(e,t)=>tfD({get:eSm(e.get,t),changes:tuB(e.changes,t)})),tfP=e=>tfD({get:eSm(e,e=>e.get),changes:th2(eyz(e,e=>e.changes))}),tf$=elS,tfz=elx,tfU=KY,tfB=K0,tfW=K1,tfq=euJ,tfK=K2,tfV=euH,tfJ=euG,tfH=euZ,tfG=K4,tfZ=euQ,tfQ=KX,tfY=K6,tfX=K5,tf0=euY,tf1=K8,tf2=euX,tf6=K7,tf3=eu0,tf4=K9,tf5=el_,tf8=elk,tf7=Symbol.for("effect/SubscriptionRef"),tf9={_A:e=>e};class tde extends KP{ref;pubsub;semaphore;[Kz]=Kz;[tfM]=tfM;[Ve]=KH;[tf$]=elv;[tf7]=tf9;constructor(e,t,r){super(),this.ref=e,this.pubsub=t,this.semaphore=r,this.get=Vr(this.ref)}commit(){return this.get}get;get changes(){return rD(Vr(this.ref),eSm(e=>eyz(eP7(this.pubsub,{scoped:!0}),t=>ePc(e$S(e),t))),this.semaphore.withPermits(1),eUR)}modify(e){return this.modifyEffect(t=>eg2(e(t)))}modifyEffect(e){return rD(Vr(this.ref),eSm(e),eSm(([e,t])=>rD(Vl(this.ref,t),eyR(e),ev$(e_7(this.pubsub,t)))),this.semaphore.withPermits(1))}}let tdt=rS(2,(e,t)=>e.modify(t)),tdr=rS(2,(e,t)=>e.modifyEffect(t)),tdn=rS(2,(e,t)=>rD(Vl(e.ref,t),ev$(e_7(e.pubsub,t)),e.semaphore.withPermits(1))),tdi=tf7,tda=e=>Vr(e.ref),tds=Vn,tdo=Vi,tdl=tfq,tdu=Va,tdc=tfV,tdh=e=>rD(egy([e_0(),Vt(e),evT(1)]),eyz(([e,t,r])=>new tde(t,e,r))),tdf=tdt,tdd=tdr,tdp=Vo,tdm=tfZ,tdg=tdn,tdy=Vu,tdb=Vc,tdS=tf0,tdv=Vh,tdw=tf2,tdx=Vf,tdk=tf3,td_=Vd,tdE=tf5,tdI=enF,tdT=e=>ecR(eab(eax,t=>new enN(t,e))),tdO=e=>PL(()=>new enL(e)),tdC=enz,tdF=enU,tdA=en$,tdM=enP;class tdN{onStart(e,t,r,n){}onEnd(e,t){}onEffect(e,t){}onSuspend(e){}onResume(e){}map(e){return new enM(this,PE(this.value,e))}zip(e){return new enN(this,e)}onRun(e,t){return e()}[tdI]=enA}let tdR=nc,tdD=rV,tdj=Symbol.for("effect/TArray"),tdL={_A:e=>e};class tdP{chunk;[tdj]=tdL;constructor(e){this.chunk=e}}let td$=rS(2,(e,t)=>tdz(e,e=>rD(t(e),sQ(eN2)))),tdz=rS(2,(e,t)=>eNZ(r=>{let n=0,i=sC();for(;sM(i)&&n<e.chunk.length;){let a=t(rD(e.chunk[n],eDj(r.journal)));sN(a)&&(i=a),n+=1}return rD(i,sR({onNone:()=>eDa,onSome:eNX(sF)}))})),tdU=rS(2,(e,t)=>tpn(e,e=>iv(e)(t))),tdB=rS(2,(e,t)=>td9(e,0,(e,r)=>t(r)?e+1:e)),tdW=rS(2,(e,t)=>tpr(e,0,(e,r)=>eNX(t(r),t=>t?e+1:e))),tdq=rS(2,(e,t)=>eRz(tpn(e,e=>!t(e)))),tdK=rS(2,(e,t)=>eNX(tdW(e,t),t=>t===e.chunk.length)),tdV=rS(2,(e,t)=>td$(e,e=>t(e)?sF(e):sC())),tdJ=rS(2,(e,t)=>tdH(e,t,0)),tdH=rS(3,(e,t,r)=>tdZ(e,e=>iv(e)(t),r)),tdG=rS(2,(e,t)=>tdZ(e,t,0)),tdZ=rS(3,(e,t,r)=>r<0?eDa:eNq(n=>{let i=r,a=!1;for(;!a&&i<e.chunk.length;)a=t(eDj(e.chunk[i],n)),i+=1;return a?sF(i-1):sC()})),tdQ=rS(2,(e,t)=>tdY(e,t,0)),tdY=rS(3,(e,t,r)=>{let n=r=>r<e.chunk.length?rD(eDk(e.chunk[r]),eNH(t),eNH(e=>e?eN2(sF(r)):n(r+1))):eDa;return r<0?eDa:n(r)}),tdX=rS(2,(e,t)=>eNX(eRM([sC(),0],{while:t=>sM(t[0])&&t[1]<e.chunk.length-1,body:r=>{let n=r[1];return rD(eDk(e.chunk[n]),eNH(e=>eNX(t(e),t=>[t?sF(e):sC(),n+1])))}}),e=>e[0])),td0=rS(2,(e,t)=>eNq(r=>{let n=e.chunk.length-1,i=sC();for(;sM(i)&&n>=0;){let a=eDj(e.chunk[n],r);t(a)&&(i=sF(a)),n-=1}return i})),td1=rS(2,(e,t)=>td2(e,t,e.chunk.length-1)),td2=rS(3,(e,t,r)=>r>=e.chunk.length?eDa:eNq(n=>{let i=r,a=!1;for(;!a&&i>=0;)a=iv(eDj(e.chunk[i],n))(t),i-=1;return a?sF(i+1):sC()})),td6=rS(2,(e,t)=>eNX(eRM([sC(),e.chunk.length-1],{while:e=>sM(e[0])&&e[1]>=0,body:r=>{let n=r[1];return rD(eDk(e.chunk[n]),eNH(e=>eNX(t(e),t=>[t?sF(e):sC(),n-1])))}}),e=>e[0])),td3=rS(2,(e,t)=>tpr(e,void 0,(e,r)=>t(r))),td4=e=>eNX(eRC(e,eDx),e=>new tdP(e)),td5=rS(2,(e,t)=>t<0||t>=e.chunk.length?eNB("Index out of bounds"):eDk(e.chunk[t])),td8=rS(2,(e,t)=>{let r=sw(t);return tpe(e,(e,t)=>r(e)(t)?t:e)}),td7=rS(2,(e,t)=>{let r=sv(t);return tpe(e,(e,t)=>r(e)(t)?t:e)}),td9=rS(3,(e,t,r)=>eNq(n=>{let i=0,a=t;for(;i<e.chunk.length;)a=r(a,eDj(e.chunk[i],n)),i+=1;return a})),tpe=rS(2,(e,t)=>eNq(r=>{let n,i=0;for(;i<e.chunk.length;){let a=eDj(e.chunk[i],r);n=void 0===n?a:t(n,a),i+=1}return sq(n)})),tpt=rS(2,(e,t)=>tpr(e,sC(),(e,r)=>sN(e)?eNX(t(e.value,r),sF):eDs(r))),tpr=rS(3,(e,t,r)=>eNH(tpa(e),eRQ(t,r))),tpn=rS(2,(e,t)=>eNX(tdV(e,t),sN)),tpi=rS(2,(e,t)=>eNX(tdW(e,t),e=>e>0)),tpa=e=>eRC(e.chunk,eDk),tps=rS(2,(e,t)=>eNq(r=>{let n=0;for(;n<e.chunk.length;){let i=e.chunk[n];eDL(i,t(eDj(i,r)),r),n+=1}})),tpo=rS(2,(e,t)=>eNH(eRC(e.chunk,e=>eNH(eDk(e),t)),t=>eNq(r=>{let n,i=t[Symbol.iterator](),a=0;for(;(n=i.next())&&!n.done;)eDL(e.chunk[a],n.value,r),a+=1}))),tpl=rS(3,(e,t,r)=>t<0||t>=e.chunk.length?eNB("Index out of bounds"):eDA(e.chunk[t],r)),tpu=rS(3,(e,t,r)=>t<0||t>=e.chunk.length?eNB("Index out of bounds"):rD(eDk(e.chunk[t]),eNH(r),eNH(r=>eD_(e.chunk[t],r)))),tpc=tdj,tph=td$,tpf=tdz,tpd=tdU,tpp=tdB,tpm=tdW,tpg=()=>td4([]),tpy=tdq,tpb=tdK,tpS=tdV,tpv=tdJ,tpw=tdH,tpx=tdG,tpk=tdZ,tp_=tdQ,tpE=tdY,tpI=tdX,tpT=td0,tpO=td1,tpC=td2,tpF=td6,tpA=td3,tpM=td4,tpN=td5,tpR=e=>0===e.chunk.length?eN2(sC()):eNX(eDk(e.chunk[0]),sF),tpD=e=>0===e.chunk.length?eDa:eNX(eDk(e.chunk[e.chunk.length-1]),sF),tpj=(...e)=>td4(e),tpL=td8,tpP=td7,tp$=td9,tpz=tpe,tpU=tpt,tpB=tpr,tpW=e=>e.chunk.length,tpq=tpn,tpK=tpi,tpV=tpa,tpJ=tps,tpH=tpo,tpG=tpl,tpZ=tpu,tpQ=Symbol.for("effect/TDeferred"),tpY={_A:e=>e,_E:e=>e};class tpX{ref;[tpQ]=tpY;constructor(e){this.ref=e}}let tp0=rS(2,(e,t)=>eNH(eDk(e.ref),sR({onNone:()=>eN5(eD_(e.ref,sF(t)),eN2(!0)),onSome:()=>eN2(!1)}))),tp1=rS(2,(e,t)=>tp0(e,aO(t))),tp2=rS(2,(e,t)=>tp0(e,aI(t))),tp6=tpQ,tp3=e=>eRE(eRf(eDk(e.ref),e=>sN(e)?sF(eRF(e.value)):sC())),tp4=tp0,tp5=tp1,tp8=()=>eNX(eDx(sC()),e=>new tpX(e)),tp7=e=>eDk(e.ref),tp9=tp2,tme=Symbol.for("effect/TMap"),tmt={_K:e=>e,_V:e=>e};class tmr{tBuckets;tSize;[tme]=tmt;constructor(e,t){this.tBuckets=e,this.tSize=t}}let tmn=(e,t)=>{let r;return((r=io(e))^r>>>16)&t-1},tmi=rS(2,(e,t)=>tma(e,(e,r)=>{let n=t(e,r);return sN(n)?eN2(n.value):eNV(sC())})),tma=rS(2,(e,t)=>tmy(e,sC(),(e,r,n)=>sM(e)?eNG(t(n,r),{onFailure:sR({onNone:()=>eDa,onSome:eNV}),onSuccess:eDs}):e5V(e))),tms=rS(2,(e,t)=>tmo(e,(e,r)=>{let n=t(e,r);return sN(n)?eN2(n.value):eNV(sC())})),tmo=rS(2,(e,t)=>eNX(tmy(e,OM(),(e,r,n)=>eNG(t(n,r),{onFailure:sR({onNone:()=>eN2(e),onSome:eNV}),onSuccess:t=>eN2(Oq(e,t))})),e=>Array.from(e))),tml=rS(2,(e,t)=>tmy(e,void 0,(e,r,n)=>eRi(t(n,r)))),tmu=e=>eDl(()=>{let t,r=OD(e);var n=r.length<16?16:(t=-1>>>Math.clz32(r.length-1))<0?1:t+1;let i=Array.from({length:n},()=>OM()),a=new Map(r),s=0;for(let e of a){let t=tmn(e[0],n);i[t]=rD(i[t],OK(e)),s+=1}return rD(td4(i),eNH(e=>rD(eDx(e),eNH(e=>rD(eDx(s),eNX(t=>new tmr(e,t)))))))}),tmc=rS(2,(e,t)=>eNq(r=>{let n=eDj(e.tBuckets,r),i=tmn(t,n.chunk.length);return rD(CL(eDj(n.chunk[i],r),e=>iv(e[0])(t)),sQ(e=>e[1]))})),tmh=rS(3,(e,t,r)=>eNX(tmc(e,t),s$(r))),tmf=rS(2,(e,t)=>eNX(tmc(e,t),sN)),tmd=e=>eNX(eDk(e.tSize),e=>0===e),tmp=e=>eNX(tmO(e),cF(e=>e[0])),tmm=rS(4,(e,t,r,n)=>eNH(tmc(e,t),sR({onNone:()=>eRr(tmx(e,t,r),r),onSome:i=>{let a=n(i,r);return eRr(tmx(e,t,a),a)}}))),tmg=rS(3,(e,t,r)=>eNq(n=>{let i=eDj(e.tBuckets,n),a=t,s=0;for(;s<i.chunk.length;)a=Cq(eDj(i.chunk[s],n),a,(e,t)=>r(e,t[1],t[0])),s+=1;return a})),tmy=rS(3,(e,t,r)=>eNH(tmO(e),eRQ(t,(e,t)=>r(e,t[1],t[0])))),tmb=rS(2,(e,t)=>eNq(r=>{let n=eDj(e.tBuckets,r),i=tmn(t,n.chunk.length),[a,s]=Co(eDj(n.chunk[i],r),e=>iv(e[1],t));if(O7(a)){let t=eDj(e.tSize,r);eDL(n.chunk[i],s,r),eDL(e.tSize,t-1,r)}})),tmS=rS(2,(e,t)=>eNq(r=>{let n,i=t[Symbol.iterator]();for(;(n=i.next())&&!n.done;){let t=eDj(e.tBuckets,r),i=tmn(n.value,t.chunk.length),[a,s]=Co(eDj(t.chunk[i],r),e=>iv(n.value)(e[0]));if(O7(a)){let n=eDj(e.tSize,r);eDL(t.chunk[i],s,r),eDL(e.tSize,n-1,r)}}})),tmv=rS(e=>nw(e[0],tme),(e,t,r)=>eNq(n=>{let i=r?.discard===!0,a=eDj(e.tBuckets,n),s=a.chunk.length,o=[],l=0,u=0;for(;l<s;){let e,r=eDj(a.chunk[l],n)[Symbol.iterator](),s=OM();for(;(e=r.next())&&!e.done;){let[r,n]=e.value;t(r,n)?i||o.push([r,n]):(s=OK(s,e.value),u+=1)}eDL(a.chunk[l],s,n),l+=1}if(eDL(e.tSize,u,n),!i)return o})),tmw=rS(e=>nw(e[0],tme),(e,t,r)=>tmv(e,(e,r)=>!t(e,r),r)),tmx=rS(3,(e,t,r)=>eNq(n=>{let i=eDj(e.tBuckets,n),a=i.chunk.length,s=tmn(t,a),o=eDj(i.chunk[s],n);if(CB(o,e=>iv(t)(e[0]))){let e=Ca(o,e=>iv(t)(e[0])?[t,r]:e);eDL(i.chunk[s],e,n)}else{let l=eDj(e.tSize,n)+1;if(eDL(e.tSize,l,n),.75*a<l)((n,i)=>{let a=i.chunk.length,s=a<<1,o=Array.from({length:s},()=>OM()),l=0;for(;l<a;){let e,t=eDj(i.chunk[l],n)[Symbol.iterator]();for(;(e=t.next())&&!e.done;){let t=tmn(e.value[0],s);o[t]=OK(o[t],e.value)}l+=1}let u=tmn(t,s);o[u]=OK(o[u],[t,r]);let c=[];for(l=0;l<s;)c[l]=new eDw(o[l]),l+=1;let h=new tdP(c);eDL(e.tBuckets,h,n)})(n,i);else{let e=OK(o,[t,r]);eDL(i.chunk[s],e,n)}}})),tmk=rS(3,(e,t,r)=>eNH(tmc(e,t),sR({onNone:()=>tmx(e,t,r),onSome:()=>eDf}))),tm_=rS(2,(e,t)=>rD(eNq(r=>{let n=eDj(e.tBuckets,r),i=n.chunk.length,a=eDj(e.tSize,r),s=sC(),o=0;for(;o<i&&sM(s);){let e=eDj(n.chunk[o],r);if(CB(e,e=>sN(t(e[0],e[1])))){let i,a=e[Symbol.iterator](),l=OM();for(;(i=a.next())&&!i.done&&sM(s);){let e=t(i.value[0],i.value[1]);sN(e)&&sM(s)?s=e:l=OK(l,i.value)}eDL(n.chunk[o],l,r)}o+=1}return sN(s)&&eDL(e.tSize,a-1,r),s}),eRf(e=>sN(e)?sF(e.value):sC()))),tmE=rS(2,(e,t)=>rD(tma(e,(e,r)=>eNX(t(e,r),t=>[e,t])),eRf(e=>sN(e)?sF(e.value):sC()),eNH(t=>eRr(tmb(e,t[0]),t[1])))),tmI=rS(2,(e,t)=>rD(eNq(r=>{let n=eDj(e.tBuckets,r),i=n.chunk.length,a=[],s=0,o=0;for(;o<i;){let e=eDj(n.chunk[o],r);if(CB(e,e=>sN(t(e[0],e[1])))){let i,l=e[Symbol.iterator](),u=OM();for(;(i=l.next())&&!i.done;){let e=t(i.value[0],i.value[1]);sN(e)?a.push(e.value):(u=OK(u,i.value),s+=1)}eDL(n.chunk[o],u,r)}else s+=e.length;o+=1}return(eDL(e.tSize,s,r),a.length>0)?sF(a):sC()}),eRf(e=>sN(e)?sF(e.value):sC()))),tmT=rS(2,(e,t)=>rD(tmo(e,(e,r)=>eNX(t(e,r),t=>[e,t])),eNX(e=>uv(e)?sF(e):sC()),eRf(e=>sN(e)?sF(e.value):sC()),eNH(t=>eRr(tmS(e,t.map(e=>e[0])),cF(t,e=>e[1]))))),tmO=e=>eNq(t=>{let r=eDj(e.tBuckets,t),n=r.chunk.length,i=[],a=0;for(;a<n;){for(let e of eDj(r.chunk[a],t))i.push(e);a+=1}return i}),tmC=rS(2,(e,t)=>eNq(r=>{let n=rD(e.tBuckets,eDj(r)),i=n.chunk.length,a=Array.from({length:i},()=>OM()),s=0,o=0;for(;o<i;){let e,l=eDj(n.chunk[o],r)[Symbol.iterator]();for(;(e=l.next())&&!e.done;){let r=t(e.value[0],e.value[1]),n=tmn(r[0],i),o=a[n];CB(o,e=>iv(e[0],r[0]))||(a[n]=OK(o,r),s+=1)}o+=1}for(o=0;o<i;)eDL(n.chunk[o],a[o],r),o+=1;eDL(e.tSize,s,r)})),tmF=rS(2,(e,t)=>rD(eNH(tmO(e),eRC(e=>t(e[0],e[1]))),eNH(t=>eNq(r=>{let n,i=eDj(e.tBuckets,r),a=i.chunk.length,s=Array.from({length:a},()=>OM()),o=t[Symbol.iterator](),l=0;for(;(n=o.next())&&!n.done;){let e=tmn(n.value[0],a),t=s[e];CB(t,e=>iv(e[0])(n.value[0]))||(s[e]=OK(t,n.value),l+=1)}let u=0;for(;u<a;)eDL(i.chunk[u],s[u],r),u+=1;eDL(e.tSize,l,r)})))),tmA=rS(2,(e,t)=>tmC(e,(e,r)=>[e,t(r)])),tmM=rS(2,(e,t)=>tmF(e,(e,r)=>eNX(t(r),t=>[e,t]))),tmN=rS(3,(e,t,r)=>eNH(tmc(e,t),n=>sR(r(n),{onNone:()=>eRr(tmb(e,t),sC()),onSome:r=>eRr(tmx(e,t,r),sF(r))}))),tmR=tme,tmD=()=>tmu([]),tmj=tmi,tmL=tma,tmP=tms,tm$=tmo,tmz=tml,tmU=tmu,tmB=tmc,tmW=tmh,tmq=tmf,tmK=tmd,tmV=tmp,tmJ=(...e)=>tmu(e),tmH=tmm,tmG=tmg,tmZ=tmy,tmQ=tmb,tmY=tmS,tmX=tmv,tm0=tmw,tm1=tmx,tm2=tmk,tm6=e=>eDk(e.tSize),tm3=tm_,tm4=tmE,tm5=tmI,tm8=tmT,tm7=e=>tmg(e,OM(),(e,t,r)=>Oq(e,[r,t])),tm9=e=>tmg(e,Np(),(e,t,r)=>rD(e,N_(r,t))),tge=e=>tmg(e,[],(e,t,r)=>(e.unshift([r,t]),e)),tgt=e=>tmg(e,new Map,(e,t,r)=>e.set(r,t)),tgr=tmC,tgn=tmF,tgi=tmA,tga=tmM,tgs=tmN,tgo=e=>eNX(tmO(e),cF(e=>e[1])),tgl=Symbol.for("effect/TPriorityQueue"),tgu={_A:e=>e};class tgc{ref;[tgl]=tgu;constructor(e){this.ref=e}}let tgh=e=>t=>rD(eDx(ui(t).reduce((e,t)=>rD(e,toA(t,rD(e,to_(t),sR({onNone:()=>cC(t),onSome:uh(t)})))),toS(e))),eNX(e=>new tgc(e))),tgf=rS(2,(e,t)=>eDA(e.ref,e=>toA(e,t,sR(to_(e,t),{onNone:()=>cC(t),onSome:uh(t)})))),tgd=rS(2,(e,t)=>eDA(e.ref,e=>ui(t).reduce((e,t)=>toA(e,t,sR(to_(e,t),{onNone:()=>cC(t),onSome:uh(t)})),e))),tgp=rS(2,(e,t)=>tgm(e,e=>!t(e))),tgm=rS(2,(e,t)=>eDA(e.ref,e=>toC(e,toS(toE(e)),(e,r,n)=>{let i=c$(r,t);return i.length>0?toA(e,n,i):toF(e,n)}))),tgg=rS(2,(e,t)=>eDC(e.ref,e=>{let r,n=[],i=e[Symbol.iterator](),a=e,s=0;for(;(r=i.next())&&!r.done&&s<t;){let[e,i]=r.value,[o,l]=rD(i,ch(t-s));for(let e of o)n.push(e);a=l.length>0?toA(a,e,l):toF(a,e),s+=o.length}return[n,a]})),tgy=tgl,tgb=e=>rD(eDx(toS(e)),eNX(e=>new tgc(e))),tgS=tgh,tgv=e=>eNX(eDk(e.ref),tox),tgw=e=>eNX(eDk(e.ref),tok),tgx=e=>(...t)=>tgh(e)(t),tgk=tgf,tg_=tgd,tgE=e=>eNZ(t=>sR(toT(eDj(e.ref,t.journal)),{onNone:()=>eN1,onSome:e=>eN2(e[0])})),tgI=e=>eDC(e.ref,e=>[sQ(toT(e),e=>e[0]),e]),tgT=tgp,tgO=tgm,tgC=e=>eDC(e.ref,e=>[toC(e,0,(e,t)=>e+t.length),e]),tgF=e=>eNZ(t=>{let r=eDj(e.ref,t.journal);return sR(toT(r),{onNone:()=>eN1,onSome:n=>{let i=n[1][0],a=n[1].slice(1);return eDL(e.ref,a.length>0?toA(r,i,a):toF(r,i),t.journal),eN2(i)}})}),tgA=e=>eDC(e.ref,e=>{let t=[];for(let r of e)for(let e of r[1])t.push(e);return[t,toS(toE(e))]}),tgM=e=>eNq(t=>{let r=rD(e.ref,eDj(t));return sR(toT(r),{onNone:()=>sC(),onSome:([n,i])=>{let a=i.slice(1);return eDL(e.ref,a.length>0?toA(r,n,a):toF(r,n),t),sF(i[0])}})}),tgN=tgg,tgR=e=>eDC(e.ref,e=>{let t=[];for(let r of e)for(let e of r[1])t.push(e);return[OU(t),e]}),tgD=e=>eDC(e.ref,e=>{let t=[];for(let r of e)for(let e of r[1])t.push(e);return[t,e]}),tgj=Symbol.for("effect/TRandom"),tgL=e=>{let t=new n6;return t.setState(e),[t.integer(0),t.getState()]},tgP=e=>{let t=new n6;return t.setState(e),[t.number(),t.getState()]},tg$=Os("effect/TRandom");class tgz{state;[tgj]=tgj;constructor(e){this.state=e,this.next=rD(this.state,eDC(tgP)),this.nextBoolean=eNH(this.next,e=>eN2(e>.5)),this.nextInt=rD(this.state,eDC(tgL))}next;nextBoolean;nextInt;nextRange(e,t){return eNH(this.next,r=>eN2((t-e)*r+e))}nextIntBetween(e,t){let r;return r=this.state,rD(r,eDC(r=>{let n=new n6;return n.setState(r),[n.integer(t-e)+e,n.getState()]}))}shuffle(e){var t;return t=e=>this.nextIntBetween(0,e),rD(td4(e),eNH(e=>{let r=[];for(let e=r.length;e>=2;e-=1)r.push(e);return rD(r,eRC(r=>rD(t(r),eNH(t=>{let n;return rD(e,td5(n=r-1),eNH(r=>rD(e,tpu(n,()=>rD(e,td5(t))),eN5(rD(e,tpl(t,()=>r))))))})),{discard:!0}),eN5(tpa(e)))}))}}let tgU=exP(tg$,rD(eDx(new n6(0x100000000*Math.random()>>>0).getState()),eNX(e=>new tgz(e)),eNF)),tgB=eNH(tg$,e=>e.next),tgW=eNH(tg$,e=>e.nextBoolean),tgq=eNH(tg$,e=>e.nextInt),tgK=tgj,tgV=tg$,tgJ=tgU,tgH=tgB,tgG=tgW,tgZ=tgq,tgQ=(e,t)=>eNH(tg$,r=>r.nextIntBetween(e,t)),tgY=(e,t)=>eNH(tg$,r=>r.nextRange(e,t)),tgX=e=>eNH(tg$,t=>t.shuffle(e)),tg0=Symbol.for("effect/TReentrantLock"),tg1=Symbol.for("effect/TReentrantLock/WriteLock"),tg2=Symbol.for("effect/TReentrantLock/ReadLock");class tg6{state;[tg0]=tg0;constructor(e){this.state=e}}class tg3{readers;[tg2]=tg2;constructor(e){this.readers=e}get readLocks(){return Array.from(this.readers).reduce((e,t)=>e+t[1],0)}get writeLocks(){return 0}readLocksHeld(e){return s$(Nb(this.readers,e),()=>0)}writeLocksHeld(e){return 0}}class tg4{readLocks;writeLocks;fiberId;[tg1]=tg1;constructor(e,t,r){this.readLocks=e,this.writeLocks=t,this.fiberId=r}readLocksHeld(e){return iv(e)(this.fiberId)?this.readLocks:0}writeLocksHeld(e){return iv(e)(this.fiberId)?this.writeLocks:0}}let tg5=new tg3(Np()),tg8=(e,t)=>eNZ(r=>{let n=eDj(e.state,r.journal);if(tg2 in n){let i=((e,t,r)=>{let n=e.readLocksHeld(t)+r;if(n<0)throw Error("BUG - TReentrantLock.ReadLock.adjust - please report an issue at https://github.com/Effect-TS/effect/issues");return new tg3(0===n?Nz(e.readers,t):N_(e.readers,t,n))})(n,r.fiberId,t);return eDL(e.state,i,r.journal),eN2(i.readLocksHeld(r.fiberId))}if(tg1 in n&&iv(r.fiberId)(n.fiberId)){let i=n.readLocks+t;if(i<0)throw Error(`Defect: Fiber ${Nu(r.fiberId)} releasing read locks it does not hold, newTotal: ${i}`);return eDL(e.state,new tg4(i,n.writeLocks,r.fiberId),r.journal),eN2(i)}return eN1}),tg7=e=>tg8(e,1),tg9=e=>eNZ(t=>{let r,n=eDj(e.state,t.journal);return tg2 in n&&(r=t.fiberId,Ny(n.readers)||1===NA(n.readers)&&Nw(n.readers,r))?(eDL(e.state,new tg4(n.readLocksHeld(t.fiberId),1,t.fiberId),t.journal),eN2(1)):tg1 in n&&iv(t.fiberId)(n.fiberId)?(eDL(e.state,new tg4(n.readLocks,n.writeLocks+1,t.fiberId),t.journal),eN2(n.writeLocks+1)):eN1}),tye=eNX(eDx(tg5),e=>new tg6(e)),tyt=e=>eNX(eDk(e.state),e=>e.readLocks>0),tyr=e=>tg8(e,-1),tyn=e=>eNZ(t=>{let r=eDj(e.state,t.journal);if(tg1 in r&&1===r.writeLocks&&iv(t.fiberId)(r.fiberId)){var n,i;let a=(n=r.fiberId,(i=r.readLocks)<=0?tg5:new tg3(Nm([n,i])));return eDL(e.state,a,t.journal),eN2(a.writeLocksHeld(t.fiberId))}if(tg1 in r&&iv(t.fiberId)(r.fiberId)){let n=new tg4(r.readLocks,r.writeLocks-1,t.fiberId);return eDL(e.state,n,t.journal),eN2(n.writeLocksHeld(t.fiberId))}throw Error(`Defect: Fiber ${Nu(t.fiberId)} releasing write lock it does not hold`)}),tyi=rS(2,(e,t)=>tys(e,t)),tya=rS(2,(e,t)=>eyM(r=>evz(r(eNF(tg7(t))),eyQ(e,eNF(tyr(t)))))),tys=rS(2,(e,t)=>eyM(r=>evz(r(eNF(tg9(t))),eyQ(e,eNF(tyn(t)))))),tyo=e=>eyJ(eNF(tg9(e)),()=>eNF(tyn(e))),tyl=e=>eNX(eDk(e.state),e=>e.writeLocks>0),tyu=tg0,tyc=tg7,tyh=tg9,tyf=e=>eNq((t,r)=>eDj(e.state,t).readLocksHeld(r)),tyd=e=>eNq((t,r)=>eDj(e.state,t).writeLocksHeld(r)),typ=e=>tyo(e),tym=e=>eN8(tyt(e),tyl(e),(e,t)=>e||t),tyg=tye,tyy=e=>eyJ(eNF(tg7(e)),()=>eNF(tyr(e))),tyb=e=>eNX(eDk(e.state),e=>e.readLocks),tyS=tyt,tyv=tyr,tyw=tyn,tyx=tyi,tyk=tya,ty_=tys,tyE=tyo,tyI=tyl,tyT=e=>eNX(eDk(e.state),e=>e.writeLocks),tyO=eDS,tyC=eDk,tyF=eDE,tyA=eDI,tyM=eDT,tyN=eDx,tyR=eDC,tyD=eDF,tyj=eD_,tyL=eDO,tyP=eDA,ty$=eDM,tyz=eDN,tyU=eDR,tyB=Symbol.for("effect/TSemaphore");class tyW{permits;[tyB]=tyB;constructor(e){this.permits=e}}let tyq=rS(2,(e,t)=>eNZ(r=>{if(t<0)throw new esG(`Unexpected negative value ${t} passed to Semaphore.acquireN`);let n=eDj(e.permits,r.journal);return n<t?e5B:e5V(eDL(e.permits,n-t,r.journal))})),tyK=rS(2,(e,t)=>eNZ(r=>{if(t<0)throw new esG(`Unexpected negative value ${t} passed to Semaphore.releaseN`);let n=eDj(e.permits,r.journal);return e5V(eDL(e.permits,n+t,r.journal))})),tyV=rS(2,(e,t)=>tyJ(e,t,1)),tyJ=rS(3,(e,t,r)=>eyM(n=>evz(n(eNF(tyq(r)(t))),eyQ(e,eNF(tyK(r)(t)))))),tyH=rS(2,(e,t)=>eyH(eNF(tyq(e,t)),()=>eNF(tyK(e,t)))),tyG=tyB,tyZ=e=>tyq(e,1),tyQ=tyq,tyY=e=>eDk(e.permits),tyX=e=>e5l(eDx(e),e=>new tyW(e)),ty0=e=>tyK(e,1),ty1=tyK,ty2=tyV,ty6=tyJ,ty3=e=>tyH(e,1),ty4=tyH,ty5=e=>new tyW(new eDw(e)),ty8=Symbol.for("effect/TSet"),ty7={_A:e=>e};class ty9{tMap;[ty8]=ty7;constructor(e){this.tMap=e}}let tbe=rS(2,(e,t)=>tmx(e.tMap,t,void 0)),tbt=rS(2,(e,t)=>eNH(tby(t),t=>tbc(e,e=>Mn(t,e),{discard:!0}))),tbr=rS(2,(e,t)=>tbo(e,void 0,(e,r)=>t(r))),tbn=e=>eNX(tmu(Array.from(e).map(e=>[e,void 0])),e=>new ty9(e)),tbi=rS(2,(e,t)=>tmf(e.tMap,t)),tba=rS(2,(e,t)=>eNH(tby(t),t=>rD(e,tbh(e=>rD(t,Mn(e)),{discard:!0})))),tbs=rS(3,(e,t,r)=>tmg(e.tMap,t,(e,t,n)=>r(e,n))),tbo=rS(3,(e,t,r)=>tmy(e.tMap,t,(e,t,n)=>r(e,n))),tbl=rS(2,(e,t)=>tmb(e.tMap,t)),tbu=rS(2,(e,t)=>tmS(e.tMap,t)),tbc=rS(e=>nw(e[0],ty8),(e,t,r)=>r?.discard===!0?tmv(e.tMap,e=>t(e),{discard:!0}):rD(tmv(e.tMap,e=>t(e)),eNX(cF(e=>e[0])))),tbh=rS(e=>nw(e[0],ty8),(e,t,r)=>r?.discard===!0?tmw(e.tMap,e=>t(e),{discard:!0}):rD(tmw(e.tMap,e=>t(e)),eNX(cF(e=>e[0])))),tbf=rS(2,(e,t)=>tm_(e.tMap,e=>t(e))),tbd=rS(2,(e,t)=>tmE(e.tMap,e=>t(e))),tbp=rS(2,(e,t)=>tmI(e.tMap,e=>t(e))),tbm=rS(2,(e,t)=>tmT(e.tMap,e=>t(e))),tbg=e=>tmp(e.tMap).pipe(e5l(OU)),tby=e=>tbs(e,Me(),(e,t)=>rD(e,Md(t))),tbb=e=>tbs(e,[],(e,t)=>[...e,t]),tbS=rS(2,(e,t)=>tmC(e.tMap,(e,r)=>[t(e),r])),tbv=rS(2,(e,t)=>tmF(e.tMap,(e,r)=>eNX(t(e),e=>[e,r]))),tbw=rS(2,(e,t)=>tbr(t,t=>tbe(e,t))),tbx=ty8,tbk=tbe,tb_=tbt,tbE=()=>tbn([]),tbI=tbr,tbT=tbn,tbO=tbi,tbC=tba,tbF=e=>tmd(e.tMap),tbA=(...e)=>tbn(e),tbM=tbs,tbN=tbo,tbR=tbl,tbD=tbu,tbj=tbc,tbL=tbh,tbP=e=>eNX(tbg(e),e=>e.length),tb$=tbf,tbz=tbd,tbU=tbp,tbB=tbm,tbW=tbg,tbq=tby,tbK=tbb,tbV=e=>eNX(tbb(e),e=>new Set(e)),tbJ=tbS,tbH=tbv,tbG=tbw,tbZ=Symbol.for("effect/TSubscriptionRef"),tbQ={_A:e=>e};class tbY{first;second;[ejb]=eDW;constructor(e,t){this.first=e,this.second=t}peek=e47(this,function*(){let e=yield*this.peekOption;return"Some"===e._tag?e.value:yield*e5B});peekOption=e47(this,function*(){let e=yield*this.first.peekOption;if("Some"===e._tag)return e;let t=yield*this.second.peekOption;return"Some"===t._tag?t:sC()});take=e47(this,function*(){return(yield*this.first.isEmpty)?(yield*this.second.isEmpty)?yield*e5B:yield*this.second.take:yield*this.first.take});takeAll=e47(this,function*(){return[...yield*this.first.takeAll,...yield*this.second.takeAll]});takeUpTo(e){return e47(this,function*(){let t=yield*this.first.takeUpTo(e);return t.length>=e?t:[...t,...yield*this.second.takeUpTo(e-t.length)]})}capacity(){return this.first.capacity()+this.second.capacity()}size=e47(this,function*(){return(yield*this.first.size)+(yield*this.second.size)});isFull=e47(this,function*(){return(yield*this.first.isFull)&&(yield*this.second.isFull)});isEmpty=e47(this,function*(){return(yield*this.first.isEmpty)&&(yield*this.second.isEmpty)});shutdown=e47(this,function*(){yield*this.first.shutdown,yield*this.second.shutdown});isShutdown=e47(this,function*(){return(yield*this.first.isShutdown)&&(yield*this.second.isShutdown)});awaitShutdown=e47(this,function*(){yield*this.first.awaitShutdown,yield*this.second.awaitShutdown})}class tbX{ref;pubsub;[tbZ]=tbQ;[tyO]=eDv;constructor(e,t){this.ref=e,this.pubsub=t}get todos(){return this.ref.todos}get versioned(){return this.ref.versioned}pipe(){return ij(this,arguments)}get changes(){return e47(this,function*(){let e=yield*ejq();return yield*ejF(e,(yield*tyC(this.ref))),new tbY(e,(yield*ejm(this.pubsub)))})}modify(e){return rD(tyC(this.ref),e5l(e),e4X(([e,t])=>rD(tyj(this.ref,t),e4y(e),e8t(ejh(this.pubsub,t)))))}}let tb0=rS(2,(e,t)=>e.modify(()=>[void 0,t])),tb1=rS(2,(e,t)=>e.modify(e=>[e,t])),tb2=rS(2,(e,t)=>e.modify(e=>[e,t(e)])),tb6=rS(2,(e,t)=>e.modify(e=>sR(t(e),{onNone:()=>[e,e],onSome:t=>[e,t]}))),tb3=rS(2,(e,t)=>e.modify(()=>[t,t])),tb4=rS(2,(e,t)=>e.modify(t)),tb5=rS(3,(e,t,r)=>e.modify(e=>sR(r(e),{onNone:()=>[t,e],onSome:e=>e}))),tb8=rS(2,(e,t)=>e.modify(e=>[void 0,t(e)])),tb7=rS(2,(e,t)=>e.modify(e=>{let r=t(e);return[r,r]})),tb9=rS(2,(e,t)=>e.modify(e=>[void 0,sR(t(e),{onNone:()=>e,onSome:e=>e})])),tSe=rS(2,(e,t)=>e.modify(e=>sR(t(e),{onNone:()=>[e,e],onSome:e=>[e,e]}))),tSt=tbZ,tSr=e=>tyC(e.ref),tSn=tb1,tSi=tb2,tSa=tb6,tSs=e=>rD(e4g([ejy(),tyN(e)]),e5l(([e,t])=>new tbX(t,e))),tSo=tb4,tSl=tb5,tSu=tb0,tSc=tb3,tSh=tb8,tSf=tb7,tSd=tb9,tSp=tSe,tSm=e=>eyJ(e.changes,ejj),tSg=e=>eUN(eyz(e.changes,e$n)),tSy=e=>e.changes,tSb=eLw,tSS=eL_,tSv=e=>new eLk(UB(e)),tSw=e=>new eLk(UB(new esX(e))),tSx=eLE,tSk=eLI,tS_=e=>new eLk(Uq(sF(e))),tSE=eLT,tSI=e=>eSQ(e,{onFailure:eLT,onSuccess:eLM}),tST=e=>new eLk(rD(e,U1({onFailure:sF,onSuccess:OR}))),tSO=eLO,tSC=e=>U3(e.exit,{onFailure:e=>sM(esT(e)),onSuccess:rI}),tSF=e=>U3(e.exit,{onFailure:e=>sN(esT(e)),onSuccess:rI}),tSA=e=>U3(e.exit,{onFailure:rI,onSuccess:rE}),tSM=e=>new eLk(e),tSN=eLA,tSR=eLC,tSD=eLF,tSj=eLM,tSL=eLN,tSP="effect/TestAnnotation",tS$=Symbol.for(tSP);class tSz{identifier;initial;combine;[tS$]={_A:e=>e};constructor(e,t,r){this.identifier=e,this.initial=t,this.combine=r}[is](){return rD(io(tSP),iu(io(this.identifier)),ib(this))}[iS](e){return tSU(e)&&this.identifier===e.identifier}}let tSU=e=>nw(e,tS$),tSB=(e,t,r)=>new tSz(e,t,r),tSW=(e,t)=>{if(aN(e)&&aN(t))return aO(e.left+t.left);if(aR(e)&&aR(t))return aI(rD(e.right,OQ(t.right)));if(aR(e)&&aN(t)||aN(e)&&aR(t))return t;throw Error(nZ("TestAnnotation.compose"))},tSq=tSB("fibers",aO(0),tSW),tSK=tSB("ignored",0,(e,t)=>e+t),tSV=tSB("repeated",0,(e,t)=>e+t),tSJ=tSB("retried",0,(e,t)=>e+t),tSH=tSB("tagged",Me(),(e,t)=>rD(e,My(t))),tSG=Symbol.for("effect/TestAnnotationMap");class tSZ{map;[tSG]=tSG;constructor(e){this.map=e}}let tSQ=e=>nw(e,tSG),tSY=()=>new tSZ(Np()),tSX=e=>new tSZ(e),tS0=rS(3,(e,t,r)=>tSX(N_(e.map,t,r))),tS1=rS(3,(e,t,r)=>{let n=t.initial;return Nw(e.map,t)&&(n=Nv(e.map,t)),tS0(e,t,r(n))}),tS2=rS(2,(e,t)=>Nw(e.map,t)?Nv(e.map,t):t.initial),tS6=rS(3,(e,t,r)=>tS1(e,t,e=>t.combine(e,r))),tS3=rS(2,(e,t)=>{let r=e.map;for(let e of t.map)if(Nw(r,e[0])){let t=Nb(r,e[0]);r=N_(r,e[0],e[0].combine(t,e[1]))}else r=N_(r,e[0],e[1]);return tSX(r)}),tS4=Symbol.for("effect/TestAnnotations");class tS5{ref;[tS4]=tS4;constructor(e){this.ref=e}get(e){return PE(Vr(this.ref),tS2(e))}annotate(e,t){return Vc(this.ref,tS6(e,t))}get supervisedFibers(){return VV(e=>Pu(this.get(tSq),t=>{switch(t._tag){case"Left":return PD(enu(Y2));case"Right":return rD(t.right,Py(e=>PL(()=>MA(e))),PE(cB(enu(Y2),(e,t)=>enT(e,t))),PE(enm(t=>!iv(t.id(),e.id))))}}))}}let tS8=Os("effect/Annotations"),tS7=e=>nw(e,tS4),tS9=e=>new tS5(e),tve="Start",tvt="Pending",tvr={_tag:tve},tvn={_tag:"Done"},tvi="Start",tva="Pending",tvs={_tag:tvi},tvo={_tag:"Done"},tvl=Symbol.for("effect/TestLive"),tvu=Os("effect/TestLive");class tvc{services;[tvl]=tvl;constructor(e){this.services=e}provide(e){return $O(qE,Ob(this.services))(e)}}let tvh=e=>new tvc(e),tvf=(e,t)=>({instant:e,sleeps:t}),tvd=Os("effect/TestClock");class tvp{clockState;live;annotations;warningState;suspendedWarningState;[B6]=B6;constructor(e,t,r,n,i){this.clockState=e,this.live=t,this.annotations=r,this.warningState=n,this.suspendedWarningState=i,this.currentTimeMillis=PE(KY(this.clockState),e=>e.instant),this.currentTimeNanos=PE(KY(this.clockState),e=>BigInt(1e6*e.instant))}unsafeCurrentTimeMillis(){return MA(this.clockState.ref).instant}unsafeCurrentTimeNanos(){return BigInt(1e6*MA(this.clockState.ref).instant)}currentTimeMillis;currentTimeNanos;get save(){return PE(KY(this.clockState),e=>KX(this.clockState,e))}setTime(e){return P3(this.warningDone(),this.run(()=>e))}sleep(e){let t=C2(e);return Pu(zZ(),e=>rD(K3(this.clockState,r=>{let n=r.instant+Fh(t);return n>r.instant?[!0,tvf(r.instant,rD(r.sleeps,OK([n,e])))]:[!1,r]}),Pu(t=>t?rD(this.warningStart(),P3(zY(e))):rD(z9(e,void 0),LQ))))}get sleeps(){return PE(KY(this.clockState),e=>Ca(e.sleeps,e=>e[0]))}adjust(e){let t=C2(e);return P3(this.warningDone(),this.run(e=>e+Fh(t)))}adjustWith(e){let t=C2(e);return e=>eaa(e,this.adjust(t),{concurrent:!0})}supervisedFibers(){return this.annotations.supervisedFibers}freeze(){return Pu(this.supervisedFibers(),e=>rD(e,JN(Np(),(e,t)=>rD(t.status,Pu(r=>HH(r)||HZ(r)?PD(N_(e,t.id(),r)):Pn(void 0))))))}warningStart(){return eu0(this.warningState,e=>e._tag===tvi?sF(rD(this.live.provide(rD(Jm("Warning: A test is using time, but is not advancing the test clock, which may result in the test hanging. Use TestClock.adjust to manually advance the time."),VK(Fs(5)))),Px,eiW,PE(e=>({_tag:tva,fiber:e})))):sC())}warningDone(){return eu0(this.warningState,e=>e._tag===tvi?sF(PD(tvo)):e._tag===tva?sF(rD(P8(e.fiber),LZ(tvo))):sC())}yieldTimer=L1(e=>{let t=setTimeout(()=>{e(PW)},0);return PL(()=>clearTimeout(t))});suspended(){return rD(this.freeze(),P2(rD(this.yieldTimer,P3(this.freeze()))),Pu(([e,t])=>iv(e,t)?PD(e):Pn(void 0)))}awaitSuspended(){return rD(this.suspendedWarningStart(),P3(rD(this.suspended(),P4(rD(this.yieldTimer,P3(this.suspended())),iv),V7(rw,rC),V2)),P3(this.suspendedWarningDone()))}suspendedWarningStart(){return eu0(this.suspendedWarningState,e=>e._tag===tve?sF(rD(this.live.provide(rD(Jm("Warning: A test is advancing the test clock, but a fiber is not suspending, which may result in the test hanging. Use TestAspect.diagnose to identity the fiber that is not suspending."),P3(KX(this.suspendedWarningState,tvn)),VK(Fs(5)))),Px,eiW,PE(e=>({_tag:tvt,fiber:e})))):sC())}suspendedWarningDone(){return eu0(this.suspendedWarningState,e=>e._tag===tvt?sF(rD(P8(e.fiber),LZ(tvr))):sC())}run(e){return rD(this.awaitSuspended(),P3(rD(K3(this.clockState,t=>{let r=e(t.instant),n=rD(t.sleeps,Ch(rD(xj,sf(e=>e[0]))));if(O7(n)){let[e,t]=Ct(n);if(e<=r)return[sF([r,t]),tvf(e,Cb(n))]}return[sC(),tvf(r,t.sleeps)]}),Pu(e=>{switch(e._tag){case"None":return PW;case"Some":{let[t,r]=e.value;return rD(z9(r,void 0),P3(P1()),P3(this.run(()=>t)))}}}))))}}let tvm=e=>ecN(tvd,PH(function*(t){let r=yield*t(tvu),n=yield*t(tS8),i=new tvp((yield*t(PL(()=>KZ(e)))),r,n,(yield*t(elx(tvs))),(yield*t(elx(tvr))));return yield*t(ear(i)),yield*t(eiA(()=>P3(i.warningDone(),i.suspendedWarningDone()))),i})),tvg=tvm(tvf(new Date(0).getTime(),OM())),tvy=e=>{let t=C2(e);return tv_(e=>e.adjust(t))},tvb=rS(2,(e,t)=>{let r=C2(t);return tv_(t=>t.adjustWith(r)(e))}),tvS=()=>tv_(e=>e.save),tvv=e=>tv_(t=>t.setTime("number"==typeof e?e:eVb(e).epochMillis)),tvw=e=>{let t=C2(e);return tv_(e=>e.sleep(t))},tvx=()=>tv_(e=>e.sleeps),tvk=()=>tv_(PD),tv_=e=>$p(qE,t=>e(rD(t,Op(B3)))),tvE=tv_(e=>e.currentTimeMillis),tvI=Os("effect/TestConfig"),tvT=e=>e,tvO=Symbol.for("effect/TestSized"),tvC=Os("effect/TestSized");class tvF{fiberRef;[tvO]=tvO;constructor(e){this.fiberRef=e}get size(){return $c(this.fiberRef)}withSize(e){return t=>$T(this.fiberRef,e)(t)}}let tvA=e=>new tvF($C(e)),tvM=e=>new tvF(e),tvN=rD(Of(tS8,tS9(KZ(tSY()))),Od(tvu,tvh(q_)),Od(tvC,tvA(100)),Od(tvI,tvT({repeats:100,retries:100,samples:200,shrinks:1e3}))),tvR=$A(tvN),tvD=()=>tvj(PD),tvj=e=>$p(tvR,t=>e(Op(t,tS8))),tvL=rS(2,(e,t)=>$O(tvR,Od(tS8,t))(e)),tvP=e=>eab(tvR,Od(tS8,e)),tv$=()=>ecN(tS8,rD(PL(()=>KZ(tSY())),PE(tS9),PP(tvP))),tvz=e=>tvj(t=>t.get(e)),tvU=(e,t)=>tvj(r=>r.annotate(e,t)),tvB=()=>tvj(e=>e.supervisedFibers),tvW=e=>$p(tvR,t=>e(Op(t,tvu))),tvq=tvW(PD),tvK=rS(2,(e,t)=>$O(tvR,Od(tvu,t))(e)),tvV=e=>eab(tvR,Od(tvu,e)),tvJ=()=>ecN(tvu,rD(Ui(),PE(tvh),PP(tvV))),tvH=e=>tvW(t=>t.provide(e)),tvG=rS(2,(e,t)=>$p(qE,r=>tvH(t($T(qE,r)(e))))),tvZ=e=>$p(tvR,t=>e(Op(t,tvC))),tvQ=tvZ(PD),tvY=rS(2,(e,t)=>$O(tvR,Od(tvC,t))(e)),tvX=e=>eab(tvR,Od(tvC,e)),tv0=e=>ecN(tvC,rD(eaS(e),PE(tvM),PP(tvX))),tv1=tvZ(e=>e.size),tv2=rS(2,(e,t)=>tvZ(r=>r.withSize(t)(e))),tv6=e=>$p(tvR,t=>e(Op(t,tvI))),tv3=tv6(PD),tv4=rS(2,(e,t)=>$O(tvR,Od(tvI,t))(e)),tv5=e=>eab(tvR,Od(tvI,e)),tv8=e=>ecN(tvI,eg4(()=>{let t=tvT(e);return rD(tv5(t),LZ(t))})),tv7=tv6(e=>PD(e.repeats)),tv9=tv6(e=>PD(e.retries)),twe=tv6(e=>PD(e.samples)),twt=tv6(e=>PD(e.shrinks)),twr=rD(tv$(),ecI(tvJ()),ecI(tv0(100)),ecI(rD(tvg,ecH(ecI(tvJ(),tv$())))),ecI(tv8({repeats:100,retries:100,samples:200,shrinks:1e3}))),twn=ecB(()=>q_),twi=ecH(twr,twn),twa="effect/Trie",tws=Symbol.for(twa),two={[tws]:{_Value:e=>e},[Symbol.iterator](){return new twu(this,(e,t)=>[e,t],()=>!0)},[is](){let e=io(twa);for(let t of this)e^=rD(io(t[0]),iu(io(t[1])));return ib(this,e)},[iS](e){if(twc(e)){let t=Array.from(e);return Array.from(this).every((e,r)=>{let n=t[r];return iv(e[0],n[0])&&iv(e[1],n[1])})}return!1},toString(){return iI(this.toJSON())},toJSON(){return{_id:"Trie",values:Array.from(this).map(iE)}},[i_](){return this.toJSON()},pipe(){return ij(this,arguments)}},twl=e=>{let t=Object.create(two);return t._root=e,t._count=e?.count??0,t};class twu{trie;f;filter;stack=[];constructor(e,t,r){this.trie=e,this.f=t,this.filter=r;const n=void 0!==e._root?e._root:void 0;void 0!==n&&this.stack.push([n,"",!1])}next(){for(;this.stack.length>0;){let[e,t,r]=this.stack.pop();if(r){let r=e.value;if(void 0!==r){let n=t+e.key;if(this.filter(n,r))return{done:!1,value:this.f(n,r)}}}else this.addToStack(e,t)}return{done:!0,value:void 0}}addToStack(e,t){void 0!==e.right&&this.stack.push([e.right,t,!1]),void 0!==e.mid&&this.stack.push([e.mid,t+e.key,!1]),this.stack.push([e,t,!0]),void 0!==e.left&&this.stack.push([e.left,t,!1])}[Symbol.iterator](){return new twu(this.trie,this.f,this.filter)}}let twc=e=>nw(e,tws),twh=()=>twl(void 0),twf=e=>{let t=twh();for(let[r,n]of e)t=twd(t,r,n);return t},twd=rS(3,(e,t,r)=>{if(0===t.length)return e;let n=[],i=[],a=e._root??{key:t[0],count:0},s=a.count+1,o=0;for(;o<t.length;){let e=t[o];i.push(a),e>a.key?(n.push(1),a=void 0===a.right?{key:e,count:s}:a.right):e<a.key?(n.push(-1),a=void 0===a.left?{key:e,count:s}:a.left):(o===t.length-1?a.value=r:void 0===a.mid?(n.push(0),a={key:t[o+1],count:s}):(n.push(0),a=a.mid),o+=1)}for(let e=i.length-2;e>=0;--e){let t=i[e],r=n[e];-1===r?i[e]={key:t.key,count:s,value:t.value,left:i[e+1],mid:t.mid,right:t.right}:1===r?i[e]={key:t.key,count:s,value:t.value,left:t.left,mid:t.mid,right:i[e+1]}:i[e]={key:t.key,count:s,value:t.value,left:t.left,mid:i[e+1],right:t.right}}return i[0].count=s,twl(i[0])}),twp=e=>e._root?.count??0,twm=rS(3,(e,t,r)=>{let n=t;for(let t of e)n=r(n,t[1],t[0]);return n}),twg=rS(2,(e,t)=>twm(e,twh(),(e,r,n)=>twd(e,n,t(r,n)))),twy=rS(2,(e,t)=>twm(e,twh(),(e,r,n)=>t(r,n)?twd(e,n,r):e)),twb=rS(2,(e,t)=>twm(e,twh(),(e,r,n)=>{let i=t(r,n);return sN(i)?twd(e,n,i.value):e})),twS=rS(2,(e,t)=>twm(e,void 0,(e,r,n)=>t(r,n))),twv=rS(2,(e,t)=>new twu(e,e=>e,e=>e.startsWith(t))),tww=rS(2,(e,t)=>new twu(e,(e,t)=>t,e=>e.startsWith(t))),twx=rS(2,(e,t)=>new twu(e,(e,t)=>[e,t],e=>e.startsWith(t))),twk=rS(2,(e,t)=>Array.from(twx(e,t))),tw_=rS(2,(e,t)=>{let r=e._root;if(void 0===r||0===t.length)return sC();let n=0;for(;n<t.length;){let e=t[n];if(e>r.key)if(void 0===r.right)break;else r=r.right;else if(e<r.key)if(void 0===r.left)break;else r=r.left;else{if(n===t.length-1)return sq(r.value);if(void 0===r.mid)return sC();r=r.mid,n+=1}}return sC()}),twE=rS(2,(e,t)=>sN(tw_(e,t))),twI=rS(2,(e,t)=>{let r=tw_(e,t);if(sM(r))throw Error("Expected trie to contain key");return r.value}),twT=rS(2,(e,t)=>{let r=e._root;if(void 0===r||0===t.length)return e;let n=r.count-1,i=[],a=[],s=0;for(;s<t.length;){let n=t[s];if(n>r.key)if(void 0===r.right)return e;else a.push(r),i.push(1),r=r.right;else if(n<r.key)if(void 0===r.left)return e;else a.push(r),i.push(-1),r=r.left;else if(s===t.length-1)if(void 0===r.value)return e;else a.push(r),i.push(0),s+=1;else{if(void 0===r.mid)return e;a.push(r),i.push(0),r=r.mid,s+=1}}let o=a[a.length-1];a[a.length-1]={key:o.key,count:n,left:o.left,mid:o.mid,right:o.right};for(let e=a.length-2;e>=0;--e){let t=a[e],r=i[e],s=a[e+1],o=void 0===s.left&&void 0===s.mid&&void 0===s.right?void 0:s;-1===r?a[e]={key:t.key,count:n,value:t.value,left:o,mid:t.mid,right:t.right}:1===r?a[e]={key:t.key,count:n,value:t.value,left:t.left,mid:t.mid,right:o}:a[e]={key:t.key,count:n,value:t.value,left:t.left,mid:o,right:t.right}}return a[0].count=n,twl(a[0])}),twO=rS(2,(e,t)=>{let r=e;for(let e of t)r=twT(e)(r);return r}),twC=rS(2,(e,t)=>{let r=e;for(let[e,n]of t)r=twd(e,n)(r);return r}),twF=rS(3,(e,t,r)=>{let n=e._root;if(void 0===n||0===t.length)return e;let i=[],a=[],s=0;for(;s<t.length;){let r=t[s];if(r>n.key)if(void 0===n.right)return e;else a.push(n),i.push(1),n=n.right;else if(r<n.key)if(void 0===n.left)return e;else a.push(n),i.push(-1),n=n.left;else if(s===t.length-1)if(void 0===n.value)return e;else a.push(n),i.push(0),s+=1;else{if(void 0===n.mid)return e;a.push(n),i.push(0),n=n.mid,s+=1}}let o=a[a.length-1];if(void 0===o.value)return e;a[a.length-1]={key:o.key,count:o.count,value:r(o.value),left:o.left,mid:o.mid,right:o.right};for(let e=a.length-2;e>=0;--e){let t=a[e],r=i[e],n=a[e+1];-1===r?a[e]={key:t.key,count:t.count,value:t.value,left:n,mid:t.mid,right:t.right}:1===r?a[e]={key:t.key,count:t.count,value:t.value,left:t.left,mid:t.mid,right:n}:a[e]={key:t.key,count:t.count,value:t.value,left:t.left,mid:n,right:t.right}}return twl(a[0])}),twA=rS(2,(e,t)=>{let r,n=e._root;if(void 0===n||0===t.length)return sC();let i=0;for(;i<t.length;){let e=t[i];if(void 0!==n.value&&(r=[t.slice(0,i+1),n.value]),e>n.key)if(void 0===n.right)break;else n=n.right;else if(e<n.key)if(void 0===n.left)break;else n=n.left;else if(void 0===n.mid)break;else n=n.mid,i+=1}return sq(r)}),twM=twh,twN=twf,twR=(...e)=>twf(e),twD=twd,twj=e=>new twu(e,e=>e,()=>!0),twL=e=>new twu(e,(e,t)=>t,()=>!0),twP=e=>new twu(e,(e,t)=>[e,t],()=>!0),tw$=e=>Array.from(twP(e)),twz=twv,twU=tww,twB=twx,twW=twk,twq=twA,twK=twp,twV=tw_,twJ=twE,twH=e=>0===twp(e),twG=twI,twZ=twT,twQ=twm,twY=twg,twX=twy,tw0=twb,tw1=e=>twb(e,rw),tw2=twS,tw6=twF,tw3=twO,tw4=twC,tw5=rw,tw8=eIY,tw7=eI0,tw9=eI1,txe=e=>nw(e,eIY),txt=e=>e._tag===eIZ,txr=e=>e._tag===eIQ,txn=eI2,txi=eEV,txa=eEH,txs=e=>{let t=Object.create(eEJ);return t._tag=eEK,t.emitSeparator=e,t},txo=e=>nw(e,eEV),txl=e=>e._tag===eEq,txu=e=>e._tag===eEK,txc=eEG}};
//# sourceMappingURL=553.js.map